
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.constructive_ereal</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.constructive_ereal" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.constructive_ereal</h1>
<div class="coq">
<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">all_algebra</span> <span class="id">finmap</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                        Extended real numbers                              
                                                                           
Given a type R for numbers, \bar R is the type R extended with symbols -oo 
and +oo (notation scope: %E), suitable to represent extended real numbers. 
When R is a numDomainType, \bar R is equipped with a canonical porderType  
and operations for addition/opposite. When R is a realDomainType, \bar R   
is equipped with a Canonical orderType.                                    
                                                                           
Naming convention: in definition/lemma identifiers, "e" stands for an      
extended number and "y" and "Ny" for +oo ad -oo respectively.              
                                                                           
                 \bar R == coproduct of R and {+oo, -oo};                  
                           notation for extended (R:Type)                  
                   r%:E == injects real numbers into \bar R                
          +%E, -%E, *%E == addition/opposite/multiplication for extended   
                           reals                                           
   er_map (f : T -&gt; T') == the \bar T -&gt; \bar T' lifting of f              
                  sqrte == square root for extended reals                  
               `| x |%E == the absolute value of x                         
                 x ^+ n == iterated multiplication                         
                 x *+ n == iterated addition                               
      +%dE, (x *+ n)%dE == dual addition/dual iterated addition for        
                           extended reals (-oo + +oo = +oo instead of -oo) 
                           Import DualAddTheory for related lemmas         
                 x +? y == the addition of the extended real numbers x and 
                           and y is defined, i.e., it is neither +oo - oo  
                           nor -oo + oo                                    
                 x *? y == the multiplication of the extended real numbers 
                           x and y is not of the form 0 * +oo or 0 * -oo   
 (_ &lt;= _)%E, (_ &lt; _)%E, == comparison relations for extended reals         
 (_ &gt;= _)%E, (_ &gt; _)%E                                                     
  (\sum_(i in A) f i)%E == bigop-like notation in scope %E                 
     maxe x y, mine x y == notation for the maximum/minimum of two         
                           extended real numbers                           
                                                                           
Signed extended real numbers:                                              
   {posnum \bar R} == interface type for elements in \bar R that are       
                      positive, c.f., signed.v, notation in scope %E       
   {nonneg \bar R} == interface types for elements in \bar R that are      
                      non-negative, c.f. signed.v, notation in scope %E    
            x%:pos == explicitly casts x to {posnum \bar R}, in scope %E   
            x%:nng == explicitly casts x to {nonneg \bar R}, in scope %E   
                                                                           
Topology of extended real numbers:                                         
                      contract == order-preserving bijective function      
                                  from extended real numbers to [-1; 1]    
                        expand == function from real numbers to extended   
                                  real numbers that cancels contract in    
                                  [-1; 1]                                  
                                                                           
</pre>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">E</span>" (<span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "<span class="id">x</span> %:<span class="id">E</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">x</span> +? <span class="id">y</span>" (<span class="kwd">at</span> <span class="id">level</span> 50, <span class="id">format</span> "<span class="id">x</span>  +?  <span class="id">y</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">x</span> *? <span class="id">y</span>" (<span class="kwd">at</span> <span class="id">level</span> 50, <span class="id">format</span> "<span class="id">x</span>  *?  <span class="id">y</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'\<span class="id">bar</span>' <span class="id">x</span>" (<span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "'\<span class="id">bar</span>'  <span class="id">x</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "{ '<span class="id">posnum</span>' '\<span class="id">bar</span>' <span class="id">R</span> }" (<span class="kwd">at</span> <span class="id">level</span> 0,<br/>
&nbsp;&nbsp;<span class="id">format</span> "{ '<span class="id">posnum</span>'  '\<span class="id">bar</span>'  <span class="id">R</span> }").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "{ '<span class="id">nonneg</span>' '\<span class="id">bar</span>' <span class="id">R</span> }" (<span class="kwd">at</span> <span class="id">level</span> 0,<br/>
&nbsp;&nbsp;<span class="id">format</span> "{ '<span class="id">nonneg</span>'  '\<span class="id">bar</span>'  <span class="id">R</span> }").<br/>
<br/>
<span class="id">Declare</span> <span class="kwd">Scope</span> <span class="id">ereal_dual_scope</span>.<br/>
<span class="id">Declare</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Theory</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Variant</span> <span class="id"><a name="extended">extended</a></span> (<span class="id"><a name="R:1">R</a></span> : <span class="kwd">Type</span>) := <span class="id"><a name="EFin">EFin</a></span> <span class="id">of</span> <span class="id">R</span> | <span class="id"><a name="EPInf">EPInf</a></span> | <span class="id"><a name="ENInf">ENInf</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> {<span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFin_inj">EFin_inj</a></span> <span class="id"><a name="T:4">T</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">T</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a</span> <span class="id">b</span>; <span class="id">case</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="dual_extended">dual_extended</a></span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "+<span class="id">oo</span>" := (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EPInf">EPInf</a></span> <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "+<span class="id">oo</span>" := (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EPInf">EPInf</a></span> <span class="id">_</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "-<span class="id">oo</span>" := (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ENInf">ENInf</a></span> <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "-<span class="id">oo</span>" := (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ENInf">ENInf</a></span> <span class="id">_</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">r</span> %:<span class="id">E</span>" := (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">_</span> <span class="id">r</span>%<span class="id">R</span>).<br/>
<span class="kwd">Notation</span> "'\<span class="id">bar</span>' <span class="id">R</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id">R</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "0" := (0%<span class="id">R</span>%:<span class="id">E</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "0" := (0%<span class="id">R</span>%:<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "1" := (1%<span class="id">R</span>%:<span class="id">E</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "1" := (1%<span class="id">R</span>%:<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="id">Bind</span>    <span class="kwd">Scope</span> <span class="id">ereal_dual_scope</span> <span class="kwd">with</span> <span class="id">dual_extended</span>.<br/>
<span class="id">Bind</span>    <span class="kwd">Scope</span> <span class="id">ereal_scope</span> <span class="kwd">with</span> <span class="id">extended</span>.<br/>
<span class="id">Delimit</span> <span class="kwd">Scope</span> <span class="id">ereal_dual_scope</span> <span class="kwd">with</span> <span class="id">dE</span>.<br/>
<span class="id">Delimit</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span> <span class="kwd">with</span> <span class="id">E</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="er_map">er_map</a></span> <span class="id"><a name="T:5">T</a></span> <span class="id"><a name="T':6">T</a></span>' (<span class="id"><a name="f:7">f</a></span> : <span class="id">T</span> -&gt; <span class="id">T</span>') (<span class="id"><a name="x:8">x</a></span> : \<span class="id">bar</span> <span class="id">T</span>) : \<span class="id">bar</span> <span class="id">T</span>' :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">r</span>%:<span class="id">E</span> =&gt; (<span class="id">f</span> <span class="id">r</span>)%:<span class="id">E</span><br/>
&nbsp;&nbsp;| +<span class="id">oo</span> =&gt; +<span class="id">oo</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span> =&gt; -<span class="id">oo</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="er_map_idfun">er_map_idfun</a></span> <span class="id"><a name="T:10">T</a></span> (<span class="id"><a name="x:11">x</a></span> : \<span class="id">bar</span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#er_map">er_map</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id">x</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fine">fine</a></span> {<span class="id"><a name="R:12">R</a></span> : <span class="id">zmodType</span>} <span class="id"><a name="x:13">x</a></span> : <span class="id">R</span> := <span class="kwd">if</span> <span class="id">x</span> <span class="id">is</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">v</span> <span class="kwd">then</span> <span class="id">v</span> <span class="kwd">else</span> 0.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EqEReal">EqEReal</a></span>.<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="EqEReal.R">R</a></span> : <span class="id">eqType</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eq_ereal">eq_ereal</a></span> (<span class="id"><a name="x:16">x</a></span> <span class="id"><a name="y:17">y</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EqEReal.R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span>, <span class="id">y</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">x</span>%:<span class="id">E</span>, <span class="id">y</span>%:<span class="id">E</span> =&gt; <span class="id">x</span> == <span class="id">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| +<span class="id">oo</span>, +<span class="id">oo</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| -<span class="id">oo</span>, -<span class="id">oo</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ereal_eqP">ereal_eqP</a></span> : <span class="id">Equality.axiom</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eq_ereal">eq_ereal</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; [?||][?||]; <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) =&gt; //= [/<span class="id">eqP</span>|[]] -&gt;. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ereal_eqMixin">ereal_eqMixin</a></span> := <span class="id">Equality.Mixin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_eqP">ereal_eqP</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_eqType">ereal_eqType</a></span> := <span class="id">Equality.Pack</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_eqMixin">ereal_eqMixin</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eqe">eqe</a></span> (<span class="id"><a name="r1:20">r1</a></span> <span class="id"><a name="r2:21">r2</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EqEReal.R">R</a></span>) : (<span class="id">r1</span>%:<span class="id">E</span> == <span class="id">r2</span>%:<span class="id">E</span>) = (<span class="id">r1</span> == <span class="id">r2</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EqEReal">EqEReal</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealChoice">ERealChoice</a></span>.<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="ERealChoice.R">R</a></span> : <span class="id">choiceType</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="code">code</a></span> (<span class="id"><a name="x:23">x</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealChoice.R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">r</span>%:<span class="id">E</span> =&gt; <span class="id">GenTree.Node</span> 0 [:: <span class="id">GenTree.Leaf</span> <span class="id">r</span>]<br/>
&nbsp;&nbsp;| +<span class="id">oo</span> =&gt; <span class="id">GenTree.Node</span> 1 [::]<br/>
&nbsp;&nbsp;| -<span class="id">oo</span> =&gt; <span class="id">GenTree.Node</span> 2 [::]<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="decode">decode</a></span> (<span class="id"><a name="x:25">x</a></span> : <span class="id">GenTree.tree</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealChoice.R">R</a></span>) : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealChoice.R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">GenTree.Node</span> 0 [:: <span class="id">GenTree.Leaf</span> <span class="id">r</span>] =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">r</span>%:<span class="id">E</span><br/>
&nbsp;&nbsp;| <span class="id">GenTree.Node</span> 1 [::] =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> +<span class="id">oo</span><br/>
&nbsp;&nbsp;| <span class="id">GenTree.Node</span> 2 [::] =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> -<span class="id">oo</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="codeK">codeK</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#code">code</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#decode">decode</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="kwd">by</span> <span class="id">case</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ereal_choiceMixin">ereal_choiceMixin</a></span> := <span class="id">PcanChoiceMixin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#codeK">codeK</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_choiceType">ereal_choiceType</a></span>  := <span class="id">ChoiceType</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealChoice.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_choiceMixin">ereal_choiceMixin</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealChoice">ERealChoice</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealCount">ERealCount</a></span>.<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="ERealCount.R">R</a></span> : <span class="id">countType</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ereal_countMixin">ereal_countMixin</a></span> := <span class="id">PcanCountMixin</span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#codeK">codeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealCount.R">R</a></span>).<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_countType">ereal_countType</a></span> := <span class="id">CountType</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealCount.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_countMixin">ereal_countMixin</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealCount">ERealCount</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealOrder">ERealOrder</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:28">R</a></span> : <span class="id">numDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="le_ereal">le_ereal</a></span> <span class="id"><a name="x1:29">x1</a></span> <span class="id"><a name="x2:30">x2</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x1</span>, <span class="id">x2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, <span class="id">r</span>%:<span class="id">E</span> | <span class="id">r</span>%:<span class="id">E</span>, +<span class="id">oo</span> =&gt; <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span><br/>
&nbsp;&nbsp;| <span class="id">r1</span>%:<span class="id">E</span>, <span class="id">r2</span>%:<span class="id">E</span> =&gt; <span class="id">r1</span> &lt;= <span class="id">r2</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, <span class="id">_</span>    | <span class="id">_</span>, +<span class="id">oo</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| +<span class="id">oo</span>, <span class="id">_</span>    | <span class="id">_</span>, -<span class="id">oo</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="lt_ereal">lt_ereal</a></span> <span class="id"><a name="x1:33">x1</a></span> <span class="id"><a name="x2:34">x2</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x1</span>, <span class="id">x2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, <span class="id">r</span>%:<span class="id">E</span> | <span class="id">r</span>%:<span class="id">E</span>, +<span class="id">oo</span> =&gt; <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span><br/>
&nbsp;&nbsp;| <span class="id">r1</span>%:<span class="id">E</span>, <span class="id">r2</span>%:<span class="id">E</span> =&gt; <span class="id">r1</span> &lt; <span class="id">r2</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, -<span class="id">oo</span>  | +<span class="id">oo</span>, +<span class="id">oo</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| +<span class="id">oo</span>, <span class="id">_</span>    | <span class="id">_</span>  , -<span class="id">oo</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, <span class="id">_</span>  =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lt_def_ereal">lt_def_ereal</a></span> <span class="id"><a name="x:37">x</a></span> <span class="id"><a name="y:38">y</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_ereal">lt_ereal</a></span> <span class="id">x</span> <span class="id">y</span> = (<span class="id">y</span> != <span class="id">x</span>) &amp;&amp; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_ereal">le_ereal</a></span> <span class="id">x</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [?||][?||] //=; <span class="id">rewrite</span> <span class="id">lt_def</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_refl_ereal">le_refl_ereal</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflexive">reflexive</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_ereal">le_ereal</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> <span class="id">case</span> =&gt; /=. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_anti_ereal">le_anti_ereal</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#antisymmetric">ssrbool.antisymmetric</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_ereal">le_ereal</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; [?||][?||]/=; <span class="id">rewrite</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span> =&gt; // /<span class="id">le_anti</span> -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_trans_ereal">le_trans_ereal</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#transitive">ssrbool.transitive</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_ereal">le_ereal</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">case</span>=&gt; [?||][?||][?||] //=; <span class="id">rewrite</span> -?<span class="id">comparabler0</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">le_comparable</span> <span class="id">cmp</span> /(<span class="id">comparabler_trans</span> <span class="id">cmp</span>).<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">cmp</span> /<span class="id">ge_comparable</span> /<span class="id">comparabler_trans</span>; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="ereal_display">ereal_display</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ereal_porderMixin">ereal_porderMixin</a></span> :=<br/>
&nbsp;&nbsp;<span class="id">LePOrderMixin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_def_ereal">lt_def_ereal</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_refl_ereal">le_refl_ereal</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_anti_ereal">le_anti_ereal</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_trans_ereal">le_trans_ereal</a></span>.<br/>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_porderType">ereal_porderType</a></span> :=<br/>
&nbsp;&nbsp;<span class="id">POrderType</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_porderMixin">ereal_porderMixin</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leEereal">leEereal</a></span> <span class="id"><a name="x:39">x</a></span> <span class="id"><a name="y:40">y</a></span> : (<span class="id">x</span> &lt;= <span class="id">y</span>)%<span class="id">O</span> = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_ereal">le_ereal</a></span> <span class="id">x</span> <span class="id">y</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="ltEereal">ltEereal</a></span> <span class="id"><a name="x:41">x</a></span> <span class="id"><a name="y:42">y</a></span> : (<span class="id">x</span> &lt; <span class="id">y</span>)%<span class="id">O</span> = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_ereal">lt_ereal</a></span> <span class="id">x</span> <span class="id">y</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder">ERealOrder</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="lee">lee</a></span> := (@<span class="id">Order.le</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">_</span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="kwd">Notation</span> "@ '<span class="id">lee</span>' <span class="id">R</span>" :=<br/>
&nbsp;&nbsp;(@<span class="id">Order.le</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">R</span>) (<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">R</span> <span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="lte">lte</a></span> := (@<span class="id">Order.lt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">_</span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="kwd">Notation</span> "@ '<span class="id">lte</span>' <span class="id">R</span>" :=<br/>
&nbsp;&nbsp;(@<span class="id">Order.lt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">R</span>) (<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">R</span> <span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="gee">gee</a></span> := (@<span class="id">Order.ge</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">_</span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="kwd">Notation</span> "@ '<span class="id">gee</span>' <span class="id">R</span>" :=<br/>
&nbsp;&nbsp;(@<span class="id">Order.ge</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">R</span>) (<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">R</span> <span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="gte">gte</a></span> := (@<span class="id">Order.gt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">_</span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<span class="kwd">Notation</span> "@ '<span class="id">gte</span>' <span class="id">R</span>" :=<br/>
&nbsp;&nbsp;(@<span class="id">Order.gt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_display">ereal_display</a></span> <span class="id">R</span>) (<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">R</span> <span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">x</span> <span class="id">y</span>) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">x</span> <span class="id">y</span>) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span>"  := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">x</span> <span class="id">y</span>) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span>"  := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">x</span> <span class="id">y</span>) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt;= <span class="id">z</span>" := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt;= <span class="id">z</span>" := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt;= <span class="id">z</span>"  := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt;= <span class="id">z</span>"  := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt; <span class="id">z</span>"  := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt; <span class="id">z</span>"  := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt; <span class="id">z</span>"   := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt; <span class="id">z</span>"   := ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">x</span> <span class="id">y</span>) &amp;&amp; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> <span class="id">y</span> <span class="id">z</span>)) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> (<span class="id">x</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>) (<span class="id">y</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id">_</span>) (<span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id">_</span>)) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span>"  := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> (<span class="id">x</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>) (<span class="id">y</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span>"  := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte">lte</a></span> (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id">_</span>) (<span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id">_</span>)) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &gt;= <span class="id">y</span>" := (<span class="id">y</span> &lt;= <span class="id">x</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &gt;= <span class="id">y</span>" := (<span class="id">y</span> &lt;= <span class="id">x</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &gt; <span class="id">y</span>"  := (<span class="id">y</span> &lt; <span class="id">x</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &gt; <span class="id">y</span>"  := (<span class="id">y</span> &lt; <span class="id">x</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt;= <span class="id">z</span>" := ((<span class="id">x</span> &lt;= <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt;= <span class="id">z</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt;= <span class="id">z</span>" := ((<span class="id">x</span> &lt;= <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt;= <span class="id">z</span>)) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt;= <span class="id">z</span>"  := ((<span class="id">x</span> &lt; <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt;= <span class="id">z</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt;= <span class="id">z</span>"  := ((<span class="id">x</span> &lt; <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt;= <span class="id">z</span>)) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt; <span class="id">z</span>"  := ((<span class="id">x</span> &lt;= <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt; <span class="id">z</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> &lt; <span class="id">z</span>"  := ((<span class="id">x</span> &lt;= <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt; <span class="id">z</span>)) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt; <span class="id">z</span>"   := ((<span class="id">x</span> &lt; <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt; <span class="id">z</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> &lt; <span class="id">z</span>"   := ((<span class="id">x</span> &lt; <span class="id">y</span>) &amp;&amp; (<span class="id">y</span> &lt; <span class="id">z</span>)) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt;= <span class="id">y</span> :&gt; <span class="id">T</span>" := ((<span class="id">x</span> : <span class="id">T</span>) &lt;= (<span class="id">y</span> : <span class="id">T</span>)) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> &lt; <span class="id">y</span> :&gt; <span class="id">T</span>" := ((<span class="id">x</span> : <span class="id">T</span>) &lt; (<span class="id">y</span> : <span class="id">T</span>)) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealOrder_numDomainType">ERealOrder_numDomainType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:43">R</a></span> : <span class="id">numDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>) (<span class="id">r</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee_fin">lee_fin</a></span> (<span class="id"><a name="r:44">r</a></span> <span class="id"><a name="s:45">s</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>) : (<span class="id">r</span>%:<span class="id">E</span> &lt;= <span class="id">s</span>%:<span class="id">E</span>) = (<span class="id">r</span> &lt;= <span class="id">s</span>)%<span class="id">R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lte_fin">lte_fin</a></span> (<span class="id"><a name="r:46">r</a></span> <span class="id"><a name="s:47">s</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>) : (<span class="id">r</span>%:<span class="id">E</span> &lt; <span class="id">s</span>%:<span class="id">E</span>) = (<span class="id">r</span> &lt; <span class="id">s</span>)%<span class="id">R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee01">lee01</a></span> : 0 &lt;= 1 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lte01">lte01</a></span> : 0 &lt; 1 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leeNy_eq">leeNy_eq</a></span> <span class="id"><a name="x:48">x</a></span> : (<span class="id">x</span> &lt;= -<span class="id">oo</span>) = (<span class="id">x</span> == -<span class="id">oo</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leye_eq">leye_eq</a></span> <span class="id"><a name="x:49">x</a></span> : (+<span class="id">oo</span> &lt;= <span class="id">x</span>) = (<span class="id">x</span> == +<span class="id">oo</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lt0y">lt0y</a></span> : (0 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>) &lt; +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="id">exact</span>: <span class="id">real0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltNy0">ltNy0</a></span> : -<span class="id">oo</span> &lt; (0 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="id">exact</span>: <span class="id">real0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le0y">le0y</a></span> : (0 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>) &lt;= +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="id">exact</span>: <span class="id">real0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leNy0">leNy0</a></span> : -<span class="id">oo</span> &lt;= (0 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="id">exact</span>: <span class="id">real0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lt0e">lt0e</a></span> <span class="id"><a name="x:50">x</a></span> : (0 &lt; <span class="id">x</span>) = (<span class="id">x</span> != 0) &amp;&amp; (0 &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">r</span>| |]//; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">lt0r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ereal_comparable">ereal_comparable</a></span> <span class="id"><a name="x:51">x</a></span> <span class="id"><a name="y:52">y</a></span> : (0%<span class="id">E</span> &gt;=&lt; <span class="id">x</span>)%<span class="id">O</span> -&gt; (0%<span class="id">E</span> &gt;=&lt; <span class="id">y</span>)%<span class="id">O</span> -&gt; (<span class="id">x</span> &gt;=&lt; <span class="id">y</span>)%<span class="id">O</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] //; <span class="id">rewrite</span> /<span class="id">Order.comparable</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> -!<span class="id">realE</span>.<br/>
- <span class="id">exact</span>: <span class="id">real_comparable</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span>/= =&gt; -&gt;.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee">lee</a></span>/= =&gt; <span class="id">_</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="real_ltry">real_ltry</a></span> <span class="id"><a name="r:53">r</a></span> : <span class="id">r</span>%:<span class="id">E</span> &lt; +<span class="id">oo</span> = (<span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="real_ltNyr">real_ltNyr</a></span> <span class="id"><a name="r:54">r</a></span> : -<span class="id">oo</span> &lt; <span class="id">r</span>%:<span class="id">E</span> = (<span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="real_leey">real_leey</a></span> <span class="id"><a name="x:55">x</a></span> : (<span class="id">x</span> &lt;= +<span class="id">oo</span>) = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">Num.real</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">real0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="real_leNye">real_leNye</a></span> <span class="id"><a name="x:56">x</a></span> : (-<span class="id">oo</span> &lt;= <span class="id">x</span>) = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">Num.real</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">real0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="gee0P">gee0P</a></span> <span class="id"><a name="x:57">x</a></span> : 0 &lt;= <span class="id">x</span> &lt;-&gt; <span class="id">x</span> = +<span class="id">oo</span> \/ <span class="kwd">exists2</span> <span class="id"><a name="r:58">r</a></span>, (<span class="id">r</span> &gt;= 0)%<span class="id">R</span> &amp; <span class="id">x</span> = <span class="id">r</span>%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">split</span>=&gt; [|[-&gt;|[<span class="id">r</span> <span class="id">r0</span> -&gt;//]]]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#real_leey">real_leey</a></span>/=.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">r</span> <span class="id">r0</span> | <span class="id">_</span> |//]; [<span class="id">right</span>; <span class="kwd">exists</span> <span class="id">r</span>|<span class="id">left</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine0">fine0</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> 0 = 0%<span class="id">R</span> :&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fine1">fine1</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> 1 = 1%<span class="id">R</span> :&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_numDomainType">ERealOrder_numDomainType</a></span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">lee01</span> <span class="id">lte01</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealOrder_realDomainType">ERealOrder_realDomainType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:60">R</a></span> : <span class="id">realDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>) (<span class="id">r</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltry">ltry</a></span> <span class="id"><a name="r:61">r</a></span> : <span class="id">r</span>%:<span class="id">E</span> &lt; +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="id">exact</span>: <span class="id">num_real</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltey">ltey</a></span> <span class="id"><a name="x:62">x</a></span> : (<span class="id">x</span> &lt; +<span class="id">oo</span>) = (<span class="id">x</span> != +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; // <span class="id">r</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltNyr">ltNyr</a></span> <span class="id"><a name="r:63">r</a></span> : -<span class="id">oo</span> &lt; <span class="id">r</span>%:<span class="id">E</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="id">exact</span>: <span class="id">num_real</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltNye">ltNye</a></span> <span class="id"><a name="x:64">x</a></span> : (-<span class="id">oo</span> &lt; <span class="id">x</span>) = (<span class="id">x</span> != -<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; // <span class="id">r</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leey">leey</a></span> <span class="id"><a name="x:65">x</a></span> : <span class="id">x</span> &lt;= +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; //= <span class="id">r</span>; <span class="id">exact</span>: <span class="id">num_real</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leNye">leNye</a></span> <span class="id"><a name="x:66">x</a></span> : -<span class="id">oo</span> &lt;= <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; //= <span class="id">r</span>; <span class="id">exact</span>: <span class="id">num_real</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="lteey">lteey</a></span> := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="lteNye">lteNye</a></span> := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNye">ltNye</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_er_map">le_er_map</a></span> (<span class="id"><a name="f:67">f</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>) : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:68">x</a></span> <span class="id"><a name="y:69">y</a></span> / (<span class="id">x</span> &lt;= <span class="id">y</span>)%<span class="id">R</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#er_map">er_map</a></span> <span class="id">f</span> : <span class="id"><a name="x:72">x</a></span> <span class="id"><a name="y:73">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move</span>=&gt; <span class="id">ndf</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">r</span>| |] [<span class="id">l</span>| |]//=; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>// !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id">ndf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_total_ereal">le_total_ereal</a></span> : <span class="id">totalPOrderMixin</span> [<span class="id">porderType</span> <span class="id">of</span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="kwd">by</span> <span class="id">move</span>=&gt; [?||][?||]//=; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltEereal">ltEereal</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leEereal">leEereal</a></span>)/= ?<span class="id">num_real</span> ?<span class="id">le_total</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_latticeType">ereal_latticeType</a></span> := <span class="id">LatticeType</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_total_ereal">le_total_ereal</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_distrLatticeType">ereal_distrLatticeType</a></span> :=  <span class="id">DistrLatticeType</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_total_ereal">le_total_ereal</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_orderType">ereal_orderType</a></span> := <span class="id">OrderType</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_total_ereal">le_total_ereal</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ereal_blatticeMixin">ereal_blatticeMixin</a></span> :<br/>
&nbsp;&nbsp;<span class="id">Order.BLattice.mixin_of</span> (<span class="id">Order.POrder.class</span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_porderType">ereal_porderType</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> <span class="kwd">exists</span> -<span class="id">oo</span>; <span class="id">exact</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_blatticeType">ereal_blatticeType</a></span> := <span class="id">BLatticeType</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_blatticeMixin">ereal_blatticeMixin</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ereal_tblatticeMixin">ereal_tblatticeMixin</a></span> :<br/>
&nbsp;&nbsp;<span class="id">Order.TBLattice.mixin_of</span> (<span class="id">Order.POrder.class</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_blatticeType">ereal_blatticeType</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="kwd">by</span> <span class="kwd">exists</span> +<span class="id">oo</span>; <span class="id">exact</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="ereal_tblatticeType">ereal_tblatticeType</a></span> := <span class="id">TBLatticeType</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_tblatticeMixin">ereal_tblatticeMixin</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrder_realDomainType">ERealOrder_realDomainType</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealArith">ERealArith</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:76">R</a></span> : <span class="id">numDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArith.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="adde_subdef">adde_subdef</a></span> <span class="id"><a name="x:77">x</a></span> <span class="id"><a name="y:78">y</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span>, <span class="id">y</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">x</span>%:<span class="id">E</span> , <span class="id">y</span>%:<span class="id">E</span>  =&gt; (<span class="id">x</span> + <span class="id">y</span>)%:<span class="id">E</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, <span class="id">_</span>     =&gt; -<span class="id">oo</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>    , -<span class="id">oo</span> =&gt; -<span class="id">oo</span><br/>
&nbsp;&nbsp;| +<span class="id">oo</span>, <span class="id">_</span>     =&gt; +<span class="id">oo</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>    , +<span class="id">oo</span> =&gt; +<span class="id">oo</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="adde">adde</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#nosimpl">nosimpl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_subdef">adde_subdef</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="dual_adde_subdef">dual_adde_subdef</a></span> <span class="id"><a name="x:81">x</a></span> <span class="id"><a name="y:82">y</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span>, <span class="id">y</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">x</span>%:<span class="id">E</span> , <span class="id">y</span>%:<span class="id">E</span>  =&gt; (<span class="id">x</span> + <span class="id">y</span>)%<span class="id">R</span>%:<span class="id">E</span><br/>
&nbsp;&nbsp;| +<span class="id">oo</span>, <span class="id">_</span>     =&gt; +<span class="id">oo</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>    , +<span class="id">oo</span> =&gt; +<span class="id">oo</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, <span class="id">_</span>     =&gt; -<span class="id">oo</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>    , -<span class="id">oo</span> =&gt; -<span class="id">oo</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="dual_adde">dual_adde</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#nosimpl">nosimpl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_adde_subdef">dual_adde_subdef</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="oppe">oppe</a></span> <span class="id"><a name="x:85">x</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">r</span>%:<span class="id">E</span>  =&gt; (- <span class="id">r</span>)%:<span class="id">E</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span> =&gt; +<span class="id">oo</span><br/>
&nbsp;&nbsp;| +<span class="id">oo</span> =&gt; -<span class="id">oo</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mule_subdef">mule_subdef</a></span> <span class="id"><a name="x:87">x</a></span> <span class="id"><a name="y:88">y</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span>, <span class="id">y</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">x</span>%:<span class="id">E</span> , <span class="id">y</span>%:<span class="id">E</span> =&gt; (<span class="id">x</span> * <span class="id">y</span>)%:<span class="id">E</span><br/>
&nbsp;&nbsp;| -<span class="id">oo</span>, <span class="id">y</span> | <span class="id">y</span>, -<span class="id">oo</span> =&gt; <span class="kwd">if</span> <span class="id">y</span> == 0 <span class="kwd">then</span> 0 <span class="kwd">else</span> <span class="kwd">if</span> 0 &lt; <span class="id">y</span> <span class="kwd">then</span> -<span class="id">oo</span> <span class="kwd">else</span> +<span class="id">oo</span><br/>
&nbsp;&nbsp;| +<span class="id">oo</span>, <span class="id">y</span> | <span class="id">y</span>, +<span class="id">oo</span> =&gt; <span class="kwd">if</span> <span class="id">y</span> == 0 <span class="kwd">then</span> 0 <span class="kwd">else</span> <span class="kwd">if</span> 0 &lt; <span class="id">y</span> <span class="kwd">then</span> +<span class="id">oo</span> <span class="kwd">else</span> -<span class="id">oo</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mule">mule</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#nosimpl">nosimpl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_subdef">mule_subdef</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="abse">abse</a></span> <span class="id"><a name="x:91">x</a></span> := <span class="kwd">if</span> <span class="id">x</span> <span class="id">is</span> <span class="id">r</span>%:<span class="id">E</span> <span class="kwd">then</span> `|<span class="id">r</span>|%:<span class="id">E</span> <span class="kwd">else</span> +<span class="id">oo</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="expe">expe</a></span> <span class="id"><a name="x:93">x</a></span> <span class="id"><a name="n:94">n</a></span> := <span class="id">iterop</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span> <span class="id">x</span> 1.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="enatmul">enatmul</a></span> <span class="id"><a name="x:95">x</a></span> <span class="id"><a name="n:96">n</a></span> := <span class="id">iterop</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span> <span class="id">x</span> 0.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ednatmul">ednatmul</a></span> <span class="id"><a name="x:97">x</a></span> <span class="id"><a name="n:98">n</a></span> := <span class="id">iterop</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_adde">dual_adde</a></span> <span class="id">x</span> 0.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArith">ERealArith</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "+%<span class="id">dE</span>"   := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_adde">dual_adde</a></span>.<br/>
<span class="kwd">Notation</span> "+%<span class="id">E</span>"   := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span>.<br/>
<span class="kwd">Notation</span> "-%<span class="id">E</span>"   := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> + <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_adde">dual_adde</a></span> <span class="id">x</span>%<span class="id">dE</span> <span class="id">y</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> + <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span> <span class="id">x</span> <span class="id">y</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> - <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_adde">dual_adde</a></span> <span class="id">x</span>%<span class="id">dE</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span> <span class="id">y</span>%<span class="id">dE</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> - <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span> <span class="id">x</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span> <span class="id">y</span>)) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "- <span class="id">x</span>"   := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span> (<span class="id">x</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "- <span class="id">x</span>"   := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe">oppe</a></span> <span class="id">x</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "*%<span class="id">E</span>"   := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> * <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span> (<span class="id">x</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>) (<span class="id">y</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> * <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span> <span class="id">x</span> <span class="id">y</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "`| <span class="id">x</span> |" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> (<span class="id">x</span>%<span class="id">dE</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dual_extended">dual_extended</a></span> <span class="id">_</span>)) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "`| <span class="id">x</span> |" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id">x</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> {<span class="id">R</span>}.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> ^+ <span class="id">n</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expe">expe</a></span> <span class="id">x</span>%<span class="id">dE</span> <span class="id">n</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> ^+ <span class="id">n</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expe">expe</a></span> <span class="id">x</span> <span class="id">n</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> *+ <span class="id">n</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ednatmul">ednatmul</a></span> <span class="id">x</span>%<span class="id">dE</span> <span class="id">n</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> *+ <span class="id">n</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#enatmul">enatmul</a></span> <span class="id">x</span> <span class="id">n</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "\- <span class="id">f</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:99">x</a></span> =&gt; - <span class="id">f</span> <span class="id">x</span>)%<span class="id">dE</span> : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\- <span class="id">f</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:100">x</a></span> =&gt; - <span class="id">f</span> <span class="id">x</span>)%<span class="id">E</span> : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> \+ <span class="id">g</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:101">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span>)%<span class="id">dE</span> : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> \+ <span class="id">g</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:102">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span>)%<span class="id">E</span> : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> \* <span class="id">g</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:103">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span>)%<span class="id">dE</span> : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> \* <span class="id">g</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:104">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span>)%<span class="id">E</span> : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> \- <span class="id">g</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:105">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> - <span class="id">g</span> <span class="id">x</span>)%<span class="id">dE</span> : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> \- <span class="id">g</span>" := (<span class="kwd">fun</span> <span class="id"><a name="x:106">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> - <span class="id">g</span> <span class="id">x</span>)%<span class="id">E</span> : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:107">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:110">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt;- <span class="id">r</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:113">i</a></span> &lt;- <span class="id">r</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt;- <span class="id">r</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:116">i</a></span> &lt;- <span class="id">r</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id">m</span> &lt;= <span class="id"><a name="i:119">i</a></span> &lt; <span class="id">n</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id">m</span> &lt;= <span class="id"><a name="i:122">i</a></span> &lt; <span class="id">n</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id">m</span> &lt;= <span class="id"><a name="i:125">i</a></span> &lt; <span class="id">n</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id">m</span> &lt;= <span class="id"><a name="i:128">i</a></span> &lt; <span class="id">n</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:131">i</a></span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:134">i</a></span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> <span class="id">i</span> <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_i</span> <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> <span class="id">i</span> <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_i</span> <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> : <span class="id">t</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:143">i</a></span> : <span class="id">t</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">dE</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> : <span class="id">t</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:146">i</a></span> : <span class="id">t</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">E</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> : <span class="id">t</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:149">i</a></span> : <span class="id">t</span>) <span class="id">F</span>%<span class="id">dE</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> : <span class="id">t</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:152">i</a></span> : <span class="id">t</span>) <span class="id">F</span>%<span class="id">E</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:155">i</a></span> &lt; <span class="id">n</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:158">i</a></span> &lt; <span class="id">n</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt; <span class="id">n</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:161">i</a></span> &lt; <span class="id">n</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> &lt; <span class="id">n</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:164">i</a></span> &lt; <span class="id">n</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">A</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:167">i</a></span> <span class="kwd">in</span> <span class="id">A</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">A</span> | <span class="id">P</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:172">i</a></span> <span class="kwd">in</span> <span class="id">A</span> | <span class="id">P</span>%<span class="id">B</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">A</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">dE</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:177">i</a></span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">sum_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">A</span> ) <span class="id">F</span>" :=<br/>
&nbsp;&nbsp;(\<span class="id">big</span>[+%<span class="id">E</span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:182">i</a></span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span>%<span class="id">E</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealOrderTheory">ERealOrderTheory</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:187">R</a></span> : <span class="id">numDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">elift</span>" <span class="id">constr</span>(<span class="id">lm</span>) ":" <span class="id">ident</span>(<span class="id">x</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [||?]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span>; <span class="id">apply</span>: <span class="id">lm</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">elift</span>" <span class="id">constr</span>(<span class="id">lm</span>) ":" <span class="id">ident</span>(<span class="id">x</span>) <span class="id">ident</span>(<span class="id">y</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [?||] [?||]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span>; <span class="id">apply</span>: <span class="id">lm</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Tactic</span> <span class="kwd">Notation</span> "<span class="id">elift</span>" <span class="id">constr</span>(<span class="id">lm</span>) ":" <span class="id">ident</span>(<span class="id">x</span>) <span class="id">ident</span>(<span class="id">y</span>) <span class="id">ident</span>(<span class="id">z</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [?||] [?||] [?||]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span>; <span class="id">apply</span>: <span class="id">lm</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee0N1">lee0N1</a></span> : 0 &lt;= (-1)%:<span class="id">E</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span> = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler0N1</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lte0N1">lte0N1</a></span> : 0 &lt; (-1)%:<span class="id">E</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span> = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr0N1</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lteN10">lteN10</a></span> : - 1%<span class="id">E</span> &lt; 0 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltrN10</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leeN10">leeN10</a></span> : - 1%<span class="id">E</span> &lt;= 0 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">lerN10</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lte0n">lte0n</a></span> <span class="id"><a name="n:188">n</a></span> : (0 &lt; <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>) = (0 &lt; <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr0n</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee0n">lee0n</a></span> <span class="id"><a name="n:189">n</a></span> : (0 &lt;= <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>) = (0 &lt;= <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler0n</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lte1n">lte1n</a></span> <span class="id"><a name="n:190">n</a></span> : (1 &lt; <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>) = (1 &lt; <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr1n</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee1n">lee1n</a></span> <span class="id"><a name="n:191">n</a></span> : (1 &lt;= <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>) = (1 &lt;= <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler1n</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_ge0">fine_ge0</a></span> <span class="id"><a name="x:192">x</a></span> : 0 &lt;= <span class="id">x</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_gt0">fine_gt0</a></span> <span class="id"><a name="x:193">x</a></span> : 0 &lt; <span class="id">x</span> &lt; +<span class="id">oo</span> -&gt; (0 &lt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] //=; <span class="id">rewrite</span> ?<span class="id">ltxx</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_lt0">fine_lt0</a></span> <span class="id"><a name="x:194">x</a></span> : -<span class="id">oo</span> &lt; <span class="id">x</span> &lt; 0 -&gt; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span> &lt; 0)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] //= /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_le0">fine_le0</a></span> <span class="id"><a name="x:195">x</a></span> : <span class="id">x</span> &lt;= 0 -&gt; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span> &lt;= 0)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee_tofin">lee_tofin</a></span> (<span class="id"><a name="r0:196">r0</a></span> <span class="id"><a name="r1:197">r1</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>) : (<span class="id">r0</span> &lt;= <span class="id">r1</span>)%<span class="id">R</span> -&gt; <span class="id">r0</span>%:<span class="id">E</span> &lt;= <span class="id">r1</span>%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lte_tofin">lte_tofin</a></span> (<span class="id"><a name="r0:198">r0</a></span> <span class="id"><a name="r1:199">r1</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>) : (<span class="id">r0</span> &lt; <span class="id">r1</span>)%<span class="id">R</span> -&gt; <span class="id">r0</span>%:<span class="id">E</span> &lt; <span class="id">r1</span>%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="enatmul_pinfty">enatmul_pinfty</a></span> <span class="id"><a name="n:200">n</a></span> : +<span class="id">oo</span> *+ <span class="id">n</span>.+1 = +<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; //= <span class="id">n</span> -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="enatmul_ninfty">enatmul_ninfty</a></span> <span class="id"><a name="n:201">n</a></span> : -<span class="id">oo</span> *+ <span class="id">n</span>.+1 = -<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; //= <span class="id">n</span> -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFin_natmul">EFin_natmul</a></span> (<span class="id"><a name="r:202">r</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory.R">R</a></span>) <span class="id"><a name="n:203">n</a></span> : (<span class="id">r</span> *+ <span class="id">n</span>.+1)%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> *+ <span class="id">n</span>.+1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; //= <span class="id">n</span> &lt;-. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mule2n">mule2n</a></span> <span class="id"><a name="x:204">x</a></span> : <span class="id">x</span> *+ 2 = <span class="id">x</span> + <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="expe2">expe2</a></span> <span class="id"><a name="x:205">x</a></span> : <span class="id">x</span> ^+ 2 = <span class="id">x</span> * <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealOrderTheory">ERealOrderTheory</a></span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">leeN10</span> <span class="id">lteN10</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="finNumPred">finNumPred</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:206">R</a></span> : <span class="id">numDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> (<span class="id">x</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#finNumPred.R">R</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fin_num">fin_num</a></span> := [<span class="id">qualify</span> <span class="id">a</span> <span class="id"><a name="x:207">x</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#finNumPred.R">R</a></span> | (<span class="id">x</span> != -<span class="id">oo</span>) &amp;&amp; (<span class="id">x</span> != +<span class="id">oo</span>)].<br/>
<span class="kwd">Fact</span> <span class="id"><a name="fin_num_key">fin_num_key</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred_key">pred_key</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>. <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="fin_num_keyd">fin_num_keyd</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#KeyedQualifier">KeyedQualifier</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_key">fin_num_key</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numE">fin_numE</a></span> <span class="id"><a name="x:208">x</a></span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) = (<span class="id">x</span> != -<span class="id">oo</span>) &amp;&amp; (<span class="id">x</span> != +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numP">fin_numP</a></span> <span class="id"><a name="x:209">x</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> ((<span class="id">x</span> != -<span class="id">oo</span>) /\ (<span class="id">x</span> != +<span class="id">oo</span>)) (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) =&gt; [/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>//|/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numEn">fin_numEn</a></span> <span class="id"><a name="x:210">x</a></span> : (<span class="id">x</span> \<span class="id">isn</span>'<span class="id">t</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) = (<span class="id">x</span> == -<span class="id">oo</span>) || (<span class="id">x</span> == +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numPn">fin_numPn</a></span> <span class="id"><a name="x:211">x</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="id">x</span> = -<span class="id">oo</span> \/ <span class="id">x</span> = +<span class="id">oo</span>) (<span class="id">x</span> \<span class="id">isn</span>'<span class="id">t</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numEn">fin_numEn</a></span>; <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>) =&gt; -[]/<span class="id">eqP</span>; <span class="kwd">by</span> [<span class="id">left</span>|<span class="id">right</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_real">fin_real</a></span> <span class="id"><a name="x:212">x</a></span> : -<span class="id">oo</span> &lt; <span class="id">x</span> &lt; +<span class="id">oo</span> -&gt; <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">oox</span> <span class="id">xoo</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">gt_eqF</span> ?<span class="id">lt_eqF</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_num_abs">fin_num_abs</a></span> <span class="id"><a name="x:213">x</a></span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) = (`| <span class="id">x</span> | &lt; +<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span>; <span class="id">case</span>: <span class="id">x</span> =&gt; // <span class="id">r</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#real_ltry">real_ltry</a></span> <span class="id">normr_real</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#finNumPred">finNumPred</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ERealArithTh_numDomainType">ERealArithTh_numDomainType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:214">R</a></span> : <span class="id">numDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) (<span class="id">r</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_le">fine_le</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> &amp;, {<span class="id">homo</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span> : <span class="id"><a name="x:215">x</a></span> <span class="id"><a name="y:216">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span> &gt;-&gt; (<span class="id">x</span> &lt;= <span class="id">y</span>)%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [? [?| |]| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_lt">fine_lt</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> &amp;, {<span class="id">homo</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span> : <span class="id"><a name="x:219">x</a></span> <span class="id"><a name="y:220">y</a></span> / <span class="id">x</span> &lt; <span class="id">y</span> &gt;-&gt; (<span class="id">x</span> &lt; <span class="id">y</span>)%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [? [?| |]| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_abse">fine_abse</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>, {<span class="id">morph</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span> : <span class="id"><a name="x:223">x</a></span> / `|<span class="id">x</span>| &gt;-&gt; `|<span class="id">x</span>|%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
 <span class="kwd">by</span> <span class="id">case</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="abse_fin_num">abse_fin_num</a></span> <span class="id"><a name="x:225">x</a></span> : (`|<span class="id">x</span>| \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) = (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fine_eq0">fine_eq0</a></span> <span class="id"><a name="x:226">x</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span> == 0%<span class="id">R</span>) = (<span class="id">x</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [//| |] /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFinN">EFinN</a></span> <span class="id"><a name="r:227">r</a></span> : (- <span class="id">r</span>)%:<span class="id">E</span> = (- <span class="id">r</span>%:<span class="id">E</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fineN">fineN</a></span> <span class="id"><a name="x:228">x</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (- <span class="id">x</span>) = (- <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">oppr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFinD">EFinD</a></span> <span class="id"><a name="r:229">r</a></span> <span class="id"><a name="r':230">r</a></span>' : (<span class="id">r</span> + <span class="id">r</span>')%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> + <span class="id">r</span>'%:<span class="id">E</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFinB">EFinB</a></span> <span class="id"><a name="r:231">r</a></span> <span class="id"><a name="r':232">r</a></span>' : (<span class="id">r</span> - <span class="id">r</span>')%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> - <span class="id">r</span>'%:<span class="id">E</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFinM">EFinM</a></span> <span class="id"><a name="r:233">r</a></span> <span class="id"><a name="r':234">r</a></span>' : (<span class="id">r</span> * <span class="id">r</span>')%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> * <span class="id">r</span>'%:<span class="id">E</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sumEFin">sumEFin</a></span> <span class="id"><a name="I:235">I</a></span> <span class="id"><a name="s:236">s</a></span> <span class="id"><a name="P:237">P</a></span> (<span class="id"><a name="F:238">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:239">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">F</span> <span class="id">i</span>)%:<span class="id">E</span> = (\<span class="id">sum_</span>(<span class="id"><a name="i:242">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">big_morph</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>). Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="adde_def">adde_def</a></span> <span class="id"><a name="x:245">x</a></span> <span class="id"><a name="y:246">y</a></span> :=<br/>
&nbsp;&nbsp;~~ ((<span class="id">x</span> == +<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> == -<span class="id">oo</span>)) &amp;&amp; ~~ ((<span class="id">x</span> == -<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> == +<span class="id">oo</span>)).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "<span class="id">x</span> +? <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_def">adde_def</a></span> <span class="id">x</span> <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_defC">adde_defC</a></span> <span class="id"><a name="x:247">x</a></span> <span class="id"><a name="y:248">y</a></span> : <span class="id">x</span> +? <span class="id">y</span> = <span class="id">y</span> +? <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_def">adde_def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span> (<span class="id">x</span> == -<span class="id">oo</span>)) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span> (<span class="id">x</span> == +<span class="id">oo</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_num_adde_defr">fin_num_adde_defr</a></span> <span class="id"><a name="x:249">x</a></span> <span class="id"><a name="y:250">y</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">x</span> +? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span> | |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_num_adde_defl">fin_num_adde_defl</a></span> <span class="id"><a name="x:251">x</a></span> <span class="id"><a name="y:252">y</a></span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">x</span> +? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defC">adde_defC</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defr">fin_num_adde_defr</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_defN">adde_defN</a></span> <span class="id"><a name="x:253">x</a></span> <span class="id"><a name="y:254">y</a></span> : <span class="id">x</span> +? - <span class="id">y</span> = - <span class="id">x</span> +? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_defDr">adde_defDr</a></span> <span class="id"><a name="x:255">x</a></span> <span class="id"><a name="y:256">y</a></span> <span class="id"><a name="z:257">z</a></span> : <span class="id">x</span> +? <span class="id">y</span> -&gt; <span class="id">x</span> +? <span class="id">z</span> -&gt; <span class="id">x</span> +? (<span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] [<span class="id">z</span>||]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_defEninfty">adde_defEninfty</a></span> <span class="id"><a name="x:258">x</a></span> : (<span class="id">x</span> +? -<span class="id">oo</span>) = (<span class="id">x</span> != +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_adde_def">ge0_adde_def</a></span> : {<span class="kwd">in</span> [<span class="id">pred</span> <span class="id"><a name="x:259">x</a></span> | <span class="id">x</span> &gt;= 0] &amp;, <span class="kwd">forall</span> <span class="id"><a name="x:260">x</a></span> <span class="id"><a name="y:261">y</a></span>, <span class="id">x</span> +? <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addeC">addeC</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#commutative">commutative</a></span> (<span class="id">S</span> := \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) +%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] //; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span> /= <span class="id">addrC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde0">adde0</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_id">right_id</a></span> (0 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) +%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; // <span class="id">r</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span> /= <span class="id">addr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add0e">add0e</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_id">left_id</a></span> (0 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) +%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addeA">addeA</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">associative</a></span> (<span class="id">S</span> := \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) +%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] [<span class="id">z</span>||] //; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span> /= <span class="id">addrA</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="adde_monoid">adde_monoid</a></span> := <span class="id">Monoid.Law</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="adde_comoid">adde_comoid</a></span> := <span class="id">Monoid.ComLaw</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_def_sum">adde_def_sum</a></span> <span class="id"><a name="I:262">I</a></span> <span class="id"><a name="h:263">h</a></span> <span class="id"><a name="t:264">t</a></span> (<span class="id"><a name="P:265">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">I</span>) (<span class="id"><a name="f:266">f</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">P</span>, <span class="kwd">forall</span> <span class="id"><a name="i:267">i</a></span> : <span class="id">I</span>, <span class="id">f</span> <span class="id">h</span> +? <span class="id">f</span> <span class="id">i</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">h</span> +? \<span class="id">sum_</span>(<span class="id"><a name="j:268">j</a></span> &lt;- <span class="id">t</span> | <span class="id">P</span> <span class="id">j</span>) <span class="id">f</span> <span class="id">j</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
<span class="id">move</span>=&gt; <span class="id">fhi</span>; <span class="id">elim</span>/<span class="id">big_rec</span> : <span class="id">_</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">x</span> <span class="id">Pi</span> <span class="id">fhx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defDr">adde_defDr</a></span>// <span class="id">fhi</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addeAC">addeAC</a></span> : @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_commutative">right_commutative</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) <span class="id">_</span> +%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="id">exact</span>: <span class="id">Monoid.mulmAC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addeCA">addeCA</a></span> : @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_commutative">left_commutative</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) <span class="id">_</span> +%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
 <span class="id">exact</span>: <span class="id">Monoid.mulmCA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addeACA">addeACA</a></span> : @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#interchange">interchange</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) +%<span class="id">E</span> +%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="id">exact</span>: <span class="id">Monoid.mulmACA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_gt0">adde_gt0</a></span> <span class="id"><a name="x:271">x</a></span> <span class="id"><a name="y:272">y</a></span> : 0 &lt; <span class="id">x</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; 0 &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>; <span class="id">exact</span>: <span class="id">addr_gt0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="padde_eq0">padde_eq0</a></span> <span class="id"><a name="x:273">x</a></span> <span class="id"><a name="y:274">y</a></span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; (<span class="id">x</span> + <span class="id">y</span> == 0) = (<span class="id">x</span> == 0) &amp;&amp; (<span class="id">y</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]//; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">paddr_eq0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nadde_eq0">nadde_eq0</a></span> <span class="id"><a name="x:275">x</a></span> <span class="id"><a name="y:276">y</a></span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id">y</span> &lt;= 0 -&gt; (<span class="id">x</span> + <span class="id">y</span> == 0) = (<span class="id">x</span> == 0) &amp;&amp; (<span class="id">y</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]//; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">naddr_eq0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="realDe">realDe</a></span> <span class="id"><a name="x:277">x</a></span> <span class="id"><a name="y:278">y</a></span> : (0%<span class="id">E</span> &gt;=&lt; <span class="id">x</span>)%<span class="id">O</span> -&gt; (0%<span class="id">E</span> &gt;=&lt; <span class="id">y</span>)%<span class="id">O</span> -&gt; (0%<span class="id">E</span> &gt;=&lt; <span class="id">x</span> + <span class="id">y</span>)%<span class="id">O</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
 <span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] //; <span class="id">exact</span>: <span class="id">realD</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oppe0">oppe0</a></span> : - 0 = 0 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
 <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">oppr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oppeK">oppeK</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#involutive">involutive</a></span> (<span class="id">A</span> := \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) -%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; [<span class="id">x</span>||] //=; <span class="id">rewrite</span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oppe_inj">oppe_inj</a></span> : @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) <span class="id">_</span> -%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
 <span class="id">exact</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#inv_inj">inv_inj</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_defNN">adde_defNN</a></span> <span class="id"><a name="x:279">x</a></span> <span class="id"><a name="y:280">y</a></span> : - <span class="id">x</span> +? - <span class="id">y</span> = <span class="id">x</span> +? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defN">adde_defN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oppe_eq0">oppe_eq0</a></span> <span class="id"><a name="x:281">x</a></span> : (- <span class="id">x</span> == 0)%<span class="id">E</span> = (<span class="id">x</span> == 0)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
 <span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">can_eq</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oppeD">oppeD</a></span> <span class="id"><a name="x:282">x</a></span> <span class="id"><a name="y:283">y</a></span> : <span class="id">x</span> +? <span class="id">y</span> -&gt; - (<span class="id">x</span> + <span class="id">y</span>) = - <span class="id">x</span> - <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //= <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">opprD</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_num_oppeD">fin_num_oppeD</a></span> <span class="id"><a name="x:284">x</a></span> <span class="id"><a name="y:285">y</a></span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; - (<span class="id">x</span> + <span class="id">y</span>) = - <span class="id">x</span> - <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">finy</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeD">oppeD</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sube0">sube0</a></span> <span class="id"><a name="x:286">x</a></span> : <span class="id">x</span> - 0 = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] //; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id">subr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sub0e">sub0e</a></span> <span class="id"><a name="x:287">x</a></span> : 0 - <span class="id">x</span> = - <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] //; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id">sub0r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="muleC">muleC</a></span> <span class="id"><a name="x:288">x</a></span> <span class="id"><a name="y:289">y</a></span> : <span class="id">x</span> * <span class="id">y</span> = <span class="id">y</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r</span>||] [<span class="id">s</span>||]//=; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id">mulrC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="onee_neq0">onee_neq0</a></span> : 1 != 0 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
 <span class="id">exact</span>: <span class="id">oner_neq0</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="onee_eq0">onee_eq0</a></span> : 1 == 0 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span> = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
 <span class="id">exact</span>: <span class="id">oner_eq0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mule1">mule1</a></span> <span class="id"><a name="x:290">x</a></span> : <span class="id">x</span> * 1 = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span>=&gt; [<span class="id">r</span>||]/=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span>/= ?<span class="id">mulr1</span> ?(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#onee_neq0">onee_neq0</a></span>) ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_tofin">lte_tofin</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mul1e">mul1e</a></span> <span class="id"><a name="x:291">x</a></span> : 1 * <span class="id">x</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mule0">mule0</a></span> <span class="id"><a name="x:292">x</a></span> : <span class="id">x</span> * 0 = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">r</span>| |] //=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span>/= ?<span class="id">mulr0</span>// <span class="id">eqxx</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mul0e">mul0e</a></span> <span class="id"><a name="x:293">x</a></span> : 0 * <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">r</span>| |]/=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span>/= ?<span class="id">mul0r</span>// <span class="id">eqxx</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mule_mulmonoid">mule_mulmonoid</a></span> := @<span class="id">Monoid.MulLaw</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">mule</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="expeS">expeS</a></span> <span class="id"><a name="x:294">x</a></span> <span class="id"><a name="n:295">n</a></span> : <span class="id">x</span> ^+ <span class="id">n</span>.+1 = <span class="id">x</span> * <span class="id">x</span> ^+ <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">n</span> =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFin_expe">EFin_expe</a></span> <span class="id"><a name="r:296">r</a></span> <span class="id"><a name="n:297">n</a></span> : (<span class="id">r</span> ^+ <span class="id">n</span>)%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> ^+ <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; [//|<span class="id">n</span> <span class="id">IHn</span>]; <span class="id">rewrite</span> <span class="id">exprS</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id">IHn</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expeS">expeS</a></span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mule_def">mule_def</a></span> <span class="id"><a name="x:298">x</a></span> <span class="id"><a name="y:299">y</a></span> :=<br/>
&nbsp;&nbsp;~~ (((<span class="id">x</span> == 0) &amp;&amp; (`| <span class="id">y</span> | == +<span class="id">oo</span>)) || ((<span class="id">y</span> == 0) &amp;&amp; (`| <span class="id">x</span> | == +<span class="id">oo</span>))).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "<span class="id">x</span> *? <span class="id">y</span>" := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def">mule_def</a></span> <span class="id">x</span> <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mule_defC">mule_defC</a></span> <span class="id"><a name="x:300">x</a></span> <span class="id"><a name="y:301">y</a></span> : <span class="id">x</span> *? <span class="id">y</span> = <span class="id">y</span> *? <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
 <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def">mule_def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbC">orbC</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mule_def_fin">mule_def_fin</a></span> <span class="id"><a name="x:302">x</a></span> <span class="id"><a name="y:303">y</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">x</span> *? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] <span class="id">finx</span> <span class="id">finy</span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def">mule_def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> 2!<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span>/= 2!<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mule_def_neq0_infty">mule_def_neq0_infty</a></span> <span class="id"><a name="x:304">x</a></span> <span class="id"><a name="y:305">y</a></span> : <span class="id">x</span> != 0 -&gt; <span class="id">y</span> \<span class="id">isn</span>'<span class="id">t</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">x</span> *? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]// <span class="id">x0</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def">mule_def</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">x0</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mule_def_infty_neq0">mule_def_infty_neq0</a></span> <span class="id"><a name="x:306">x</a></span> <span class="id"><a name="y:307">y</a></span> : <span class="id">x</span> \<span class="id">isn</span>'<span class="id">t</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">y</span>!= 0 -&gt; <span class="id">x</span> *? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]// <span class="id">_</span> <span class="id">y0</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def">mule_def</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">y0</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="neq0_mule_def">neq0_mule_def</a></span> <span class="id"><a name="x:308">x</a></span> <span class="id"><a name="y:309">y</a></span> :  <span class="id">x</span> * <span class="id">y</span> != 0 -&gt; <span class="id">x</span> *? <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def_fin">mule_def_fin</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> [-&gt;|?] := <span class="id">eqVneq</span> <span class="id">x</span> 0%<span class="id">R</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> ?<span class="id">eqxx</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def_neq0_infty">mule_def_neq0_infty</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> [-&gt;|?] := <span class="id">eqVneq</span> <span class="id">x</span> 0%<span class="id">R</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> ?<span class="id">eqxx</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def_neq0_infty">mule_def_neq0_infty</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> [-&gt;|?] := <span class="id">eqVneq</span> <span class="id">y</span> 0%<span class="id">R</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> ?<span class="id">eqxx</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def_infty_neq0">mule_def_infty_neq0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> [-&gt;|?] := <span class="id">eqVneq</span> <span class="id">y</span> 0%<span class="id">R</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> ?<span class="id">eqxx</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def_infty_neq0">mule_def_infty_neq0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltpinfty_adde_def">ltpinfty_adde_def</a></span> : {<span class="kwd">in</span> [<span class="id">pred</span> <span class="id"><a name="x:310">x</a></span> | <span class="id">x</span> &lt; +<span class="id">oo</span>] &amp;, <span class="kwd">forall</span> <span class="id"><a name="x:311">x</a></span> <span class="id"><a name="y:312">y</a></span>, <span class="id">x</span> +? <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ltninfty_adde_def">ltninfty_adde_def</a></span> : {<span class="kwd">in</span> [<span class="id">pred</span> <span class="id"><a name="x:313">x</a></span> | -<span class="id">oo</span> &lt; <span class="id">x</span>] &amp;, <span class="kwd">forall</span> <span class="id"><a name="x:314">x</a></span> <span class="id"><a name="y:315">y</a></span>, <span class="id">x</span> +? <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="abse_eq0">abse_eq0</a></span> <span class="id"><a name="x:316">x</a></span> : (`|<span class="id">x</span>| == 0) = (<span class="id">x</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [| |] //= <span class="id">r</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span> <span class="id">normr_eq0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="abse0">abse0</a></span> : `|0| = 0 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id">normr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="abse1">abse1</a></span> : `|1| = 1 :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id">normr1</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="abseN">abseN</a></span> <span class="id"><a name="x:317">x</a></span> : `|- <span class="id">x</span>| = `|<span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">r</span>||]; <span class="id">rewrite</span> //= <span class="id">normrN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eqe_opp">eqe_opp</a></span> <span class="id"><a name="x:318">x</a></span> <span class="id"><a name="y:319">y</a></span> : (- <span class="id">x</span> == - <span class="id">y</span>) = (<span class="id">x</span> == <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r</span>| |] [<span class="id">r</span>'| |] //=; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span> =&gt; [|/<span class="id">eqP</span>[-&gt;]//].<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">eqP</span> =&gt; -[] /<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eqr_opp</span> =&gt; /<span class="id">eqP</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eqe_oppP">eqe_oppP</a></span> <span class="id"><a name="x:320">x</a></span> <span class="id"><a name="y:321">y</a></span> : (- <span class="id">x</span> = - <span class="id">y</span>) &lt;-&gt; (<span class="id">x</span> = <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [/<span class="id">eqP</span> | -&gt; //]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_opp">eqe_opp</a></span> =&gt; /<span class="id">eqP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eqe_oppLR">eqe_oppLR</a></span> <span class="id"><a name="x:322">x</a></span> <span class="id"><a name="y:323">y</a></span> : (- <span class="id">x</span> == <span class="id">y</span>) = (<span class="id">x</span> == - <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r0</span>| |] [<span class="id">r1</span>| |] //=; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span> <span class="id">eqr_oppLR</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eqe_oppLRP">eqe_oppLRP</a></span> <span class="id"><a name="x:324">x</a></span> <span class="id"><a name="y:325">y</a></span> : (- <span class="id">x</span> = <span class="id">y</span>) &lt;-&gt; (<span class="id">x</span> = - <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">split</span>=&gt; /<span class="id">eqP</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppLR">eqe_oppLR</a></span> =&gt; /<span class="id">eqP</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppLR">eqe_oppLR</a></span> =&gt; /<span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numN">fin_numN</a></span> <span class="id"><a name="x:326">x</a></span> : (- <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) = (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oppeB">oppeB</a></span> <span class="id"><a name="x:327">x</a></span> <span class="id"><a name="y:328">y</a></span> : <span class="id">x</span> +? - <span class="id">y</span> -&gt; - (<span class="id">x</span> - <span class="id">y</span>) = - <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xy</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeD">oppeD</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_num_oppeB">fin_num_oppeB</a></span> <span class="id"><a name="x:329">x</a></span> <span class="id"><a name="y:330">y</a></span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; - (<span class="id">x</span> - <span class="id">y</span>) = - <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeB">oppeB</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defN">adde_defN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numD">fin_numD</a></span> <span class="id"><a name="x:331">x</a></span> <span class="id"><a name="y:332">y</a></span> :<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) = (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) &amp;&amp; (<span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sum_fin_num">sum_fin_num</a></span> (<span class="id"><a name="T:333">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="s:334">s</a></span> : <span class="id">seq</span> <span class="id">T</span>) (<span class="id"><a name="P:335">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">T</span>) (<span class="id"><a name="f:336">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:337">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> =<br/>
&nbsp;&nbsp;<span class="id">all</span> [<span class="id">pred</span> <span class="id"><a name="x:344">x</a></span> | <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>] [<span class="id">seq</span> <span class="id">f</span> <span class="id">i</span> | <span class="id"><a name="i:340">i</a></span> &lt;- <span class="id">s</span> &amp; <span class="id">P</span> <span class="id">i</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">big_all</span> <span class="id">big_map</span> <span class="id">big_filter</span>; <span class="id">exact</span>: (<span class="id">big_morph</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numD">fin_numD</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sum_fin_numP">sum_fin_numP</a></span> (<span class="id"><a name="T:345">T</a></span> : <span class="id">eqType</span>) (<span class="id"><a name="s:346">s</a></span> : <span class="id">seq</span> <span class="id">T</span>) (<span class="id"><a name="P:347">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">T</span>) (<span class="id"><a name="f:348">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">forall</span> <span class="id"><a name="i:349">i</a></span>, <span class="id">i</span> \<span class="kwd">in</span> <span class="id">s</span> -&gt; <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:350">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sum_fin_num">sum_fin_num</a></span>; <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id">allP</span>) =&gt; /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; + <span class="id">x</span> <span class="id">xs</span> <span class="id">Px</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">map_f</span>// <span class="id">mem_filter</span> <span class="id">Px</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; + <span class="id">_</span> /<span class="id">mapP</span>[<span class="id">x</span> /[!<span class="id">mem_filter</span>]/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">Px</span> <span class="id">xs</span>] -&gt;]; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numB">fin_numB</a></span> <span class="id"><a name="x:353">x</a></span> <span class="id"><a name="y:354">y</a></span> :<br/>
&nbsp;&nbsp;(<span class="id">x</span> - <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) = (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) &amp;&amp; (<span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numM">fin_numM</a></span> <span class="id"><a name="x:355">x</a></span> <span class="id"><a name="y:356">y</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> * <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numX">fin_numX</a></span> <span class="id"><a name="x:357">x</a></span> <span class="id"><a name="n:358">n</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">x</span> ^+ <span class="id">n</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> <span class="id">x</span> =&gt; // <span class="id">n</span> <span class="id">ih</span> <span class="id">x</span> <span class="id">finx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expeS">expeS</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numM">fin_numM</a></span>// <span class="id">ih</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fineD">fineD</a></span> : {<span class="kwd">in</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span> &amp;, {<span class="id">morph</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> : <span class="id"><a name="x:359">x</a></span> <span class="id"><a name="y:360">y</a></span> / <span class="id">x</span> + <span class="id">y</span> &gt;-&gt; (<span class="id">x</span> + <span class="id">y</span>)%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">r</span>| |] [<span class="id">s</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fineB">fineB</a></span> : {<span class="kwd">in</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span> &amp;, {<span class="id">morph</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> : <span class="id"><a name="x:363">x</a></span> <span class="id"><a name="y:364">y</a></span> / <span class="id">x</span> - <span class="id">y</span> &gt;-&gt; (<span class="id">x</span> - <span class="id">y</span>)%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">r</span>| |] [<span class="id">s</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fineM">fineM</a></span> : {<span class="kwd">in</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span> &amp;, {<span class="id">morph</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> : <span class="id"><a name="x:367">x</a></span> <span class="id"><a name="y:368">y</a></span> / <span class="id">x</span> * <span class="id">y</span> &gt;-&gt; (<span class="id">x</span> * <span class="id">y</span>)%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fineK">fineK</a></span> <span class="id"><a name="x:371">x</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span>)%:<span class="id">E</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFin_sum_fine">EFin_sum_fine</a></span> (<span class="id"><a name="I:372">I</a></span> : <span class="kwd">Type</span>) <span class="id"><a name="s:373">s</a></span> (<span class="id"><a name="P:374">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">I</span>) (<span class="id"><a name="f:375">f</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:376">i</a></span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:377">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">i</span>))%:<span class="id">E</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:380">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sumEFin">sumEFin</a></span>; <span class="id">apply</span>: <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">Pi</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// <span class="id">h</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sum_fine">sum_fine</a></span> (<span class="id"><a name="I:383">I</a></span> : <span class="kwd">Type</span>) <span class="id"><a name="s:384">s</a></span> (<span class="id"><a name="P:385">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">I</span>) (<span class="id"><a name="F:386">F</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:387">i</a></span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">F</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:388">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">F</span> <span class="id">i</span>) = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">sum_</span>(<span class="id"><a name="i:391">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>))%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_sum_fine">EFin_sum_fine</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sumeN">sumeN</a></span> <span class="id"><a name="I:394">I</a></span> <span class="id"><a name="s:395">s</a></span> (<span class="id"><a name="P:396">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">I</span>) (<span class="id"><a name="f:397">f</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">P</span> &amp;, <span class="kwd">forall</span> <span class="id"><a name="i:398">i</a></span> <span class="id"><a name="j:399">j</a></span>, <span class="id">f</span> <span class="id">i</span> +? <span class="id">f</span> <span class="id">j</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:400">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) - <span class="id">f</span> <span class="id">i</span> = - \<span class="id">sum_</span>(<span class="id"><a name="i:403">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">elim</span>: <span class="id">s</span> =&gt; [|<span class="id">a</span> <span class="id">b</span> <span class="id">ih</span> <span class="id">h</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">big_nil</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>.<br/>
<span class="id">rewrite</span> !<span class="id">big_cons</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">Pa</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ih</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeD">oppeD</a></span> ?<span class="id">ih</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_def_sum">adde_def_sum</a></span>// =&gt; <span class="id">i</span> <span class="id">Pi</span>; <span class="id">rewrite</span> <span class="id">h</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_num_sumeN">fin_num_sumeN</a></span> <span class="id"><a name="I:406">I</a></span> <span class="id"><a name="s:407">s</a></span> (<span class="id"><a name="P:408">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">I</span>) (<span class="id"><a name="f:409">f</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:410">i</a></span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:411">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) - <span class="id">f</span> <span class="id">i</span> = - \<span class="id">sum_</span>(<span class="id"><a name="i:414">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sumeN">sumeN</a></span>// =&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">Pi</span> <span class="id">Pj</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>// <span class="id">h</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="telescope_sume">telescope_sume</a></span> <span class="id"><a name="n:417">n</a></span> <span class="id"><a name="m:418">m</a></span> (<span class="id"><a name="f:419">f</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:420">i</a></span>, (<span class="id">n</span> &lt;= <span class="id">i</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> -&gt; <span class="id">f</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) -&gt; (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">n</span> &lt;= <span class="id"><a name="k:421">k</a></span> &lt; <span class="id">m</span>) (<span class="id">f</span> <span class="id">k</span>.+1 - <span class="id">f</span> <span class="id">k</span>) = <span class="id">f</span> <span class="id">m</span> - <span class="id">f</span> <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="id">move</span>=&gt; <span class="id">nmf</span> <span class="id">nm</span>; <span class="id">under</span> <span class="id">eq_big_nat</span> =&gt; <span class="id">i</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ni</span> <span class="id">im</span>] <span class="id">do</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">f</span> <span class="id">i</span>.+1]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> -1?[<span class="id">f</span> <span class="id">i</span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> ?(<span class="id">nmf</span>, <span class="id">ni</span>, <span class="id">im</span>) 1?<span class="id">ltnW</span>//= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sumEFin">sumEFin</a></span> <span class="id">telescope_sumr</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> ?<span class="id">nmf</span> ?<span class="id">nm</span> ?<span class="id">leqnn</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addeK">addeK</a></span> <span class="id"><a name="x:424">x</a></span> <span class="id"><a name="y:425">y</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">y</span> + <span class="id">x</span> - <span class="id">x</span> = <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id">addrK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subeK">subeK</a></span> <span class="id"><a name="x:426">x</a></span> <span class="id"><a name="y:427">y</a></span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">x</span> - <span class="id">y</span> + <span class="id">y</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id">subrK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subee">subee</a></span> <span class="id"><a name="x:428">x</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">x</span> - <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">r</span> <span class="id">_</span>| |] //; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id">subrr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sube_eq">sube_eq</a></span> <span class="id"><a name="x:429">x</a></span> <span class="id"><a name="y:430">y</a></span> <span class="id"><a name="z:431">z</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; (<span class="id">y</span> +? <span class="id">z</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> - <span class="id">z</span> == <span class="id">y</span>) = (<span class="id">x</span> == <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] // <span class="id">_</span> <span class="id">_</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span> <span class="id">subr_eq</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_eq_ninfty">adde_eq_ninfty</a></span> <span class="id"><a name="x:432">x</a></span> <span class="id"><a name="y:433">y</a></span> : (<span class="id">x</span> + <span class="id">y</span> == -<span class="id">oo</span>) = ((<span class="id">x</span> == -<span class="id">oo</span>) || (<span class="id">y</span> == -<span class="id">oo</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [?| |] [?| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addye">addye</a></span> <span class="id"><a name="x:434">x</a></span> : <span class="id">x</span> != -<span class="id">oo</span> -&gt; +<span class="id">oo</span> + <span class="id">x</span> = +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addey">addey</a></span> <span class="id"><a name="x:435">x</a></span> : <span class="id">x</span> != -<span class="id">oo</span> -&gt; <span class="id">x</span> + +<span class="id">oo</span> = +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addNye">addNye</a></span> <span class="id"><a name="x:436">x</a></span> : -<span class="id">oo</span> + <span class="id">x</span> = -<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addeNy">addeNy</a></span> <span class="id"><a name="x:437">x</a></span> : <span class="id">x</span> + -<span class="id">oo</span> = -<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_Neq_pinfty">adde_Neq_pinfty</a></span> <span class="id"><a name="x:438">x</a></span> <span class="id"><a name="y:439">y</a></span> : <span class="id">x</span> != -<span class="id">oo</span> -&gt; <span class="id">y</span> != -<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span> != +<span class="id">oo</span>) = (<span class="id">x</span> != +<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> != +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_Neq_ninfty">adde_Neq_ninfty</a></span> <span class="id"><a name="x:440">x</a></span> <span class="id"><a name="y:441">y</a></span> : <span class="id">x</span> != +<span class="id">oo</span> -&gt; <span class="id">y</span> != +<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span> != -<span class="id">oo</span>) = (<span class="id">x</span> != -<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> != -<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adde_ss_eq0">adde_ss_eq0</a></span> <span class="id"><a name="x:442">x</a></span> <span class="id"><a name="y:443">y</a></span> : (0 &lt;= <span class="id">x</span>) &amp;&amp; (0 &lt;= <span class="id">y</span>) || (<span class="id">x</span> &lt;= 0) &amp;&amp; (<span class="id">y</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> + <span class="id">y</span> == 0 = (<span class="id">x</span> == 0) &amp;&amp; (<span class="id">y</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#padde_eq0">padde_eq0</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#nadde_eq0">nadde_eq0</a></span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_eqNyP">esum_eqNyP</a></span> (<span class="id"><a name="T:444">T</a></span> : <span class="id">eqType</span>) (<span class="id"><a name="s:445">s</a></span> : <span class="id">seq</span> <span class="id">T</span>) (<span class="id"><a name="P:446">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">T</span>) (<span class="id"><a name="f:447">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:448">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> = -<span class="id">oo</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="i:451">i</a></span>, [/\ <span class="id">i</span> \<span class="kwd">in</span> <span class="id">s</span>, <span class="id">P</span> <span class="id">i</span> &amp; <span class="id">f</span> <span class="id">i</span> = -<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
<span class="id">split</span>=&gt; [|[<span class="id">i</span> [<span class="id">si</span> <span class="id">Pi</span> <span class="id">fi</span>]]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">big_seq_cond</span>; <span class="id">elim</span>/<span class="id">big_ind</span>: <span class="id">_</span> =&gt; // [[?| |] [?| |]//|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">si</span> <span class="id">Pi</span>] <span class="id">fioo</span>; <span class="kwd">exists</span> <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">si</span> <span class="id">Pi</span> <span class="id">fioo</span>.<br/>
<span class="id">rewrite</span> <span class="id">big_mkcond</span> (<span class="id">bigID</span> (<span class="id">xpred1</span> <span class="id">i</span>))/= (<span class="id">eq_bigr</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; -<span class="id">oo</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span> /<span class="id">eqP</span> -&gt;; <span class="id">rewrite</span> <span class="id">Pi</span>.<br/>
<span class="id">rewrite</span> <span class="id">big_const_seq</span>/= [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> + <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = -<span class="id">oo</span>)//.<br/>
<span class="id">elim</span>: <span class="id">s</span> <span class="id">i</span> <span class="id">Pi</span> <span class="id">fi</span> <span class="id">si</span> =&gt; // <span class="id">h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">i</span> <span class="id">Pi</span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> <span class="id">inE</span> =&gt; /<span class="id">predU1P</span>[&lt;-/=|<span class="id">it</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">iterD</span> <span class="id">ih</span>//=; <span class="id">case</span>: (<span class="id">_</span> == <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_eqNy">esum_eqNy</a></span> (<span class="id"><a name="I:453">I</a></span> : <span class="id">finType</span>) (<span class="id"><a name="f:454">f</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) (<span class="id"><a name="P:455">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:456">i</a></span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> == -<span class="id">oo</span>) = [<span class="kwd">exists</span> <span class="id"><a name="i:459">i</a></span> <span class="kwd">in</span> <span class="id">P</span>, <span class="id">f</span> <span class="id">i</span> == -<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span> =&gt; [/<span class="id">eqP</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#esum_eqNyP">esum_eqNyP</a></span>|/<span class="id">existsP</span>[<span class="id">i</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">Pi</span> /<span class="id">eqP</span> <span class="id">fi</span>]]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; -[<span class="id">i</span> [<span class="id">_</span> <span class="id">Pi</span> <span class="id">fi</span>]]; <span class="id">apply</span>/<span class="id">existsP</span>; <span class="kwd">exists</span> <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">fi</span> <span class="id">eqxx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#esum_eqNyP">esum_eqNyP</a></span>; <span class="kwd">exists</span> <span class="id">i</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_eqyP">esum_eqyP</a></span> (<span class="id"><a name="T:464">T</a></span> : <span class="id">eqType</span>) (<span class="id"><a name="s:465">s</a></span> : <span class="id">seq</span> <span class="id">T</span>) (<span class="id"><a name="P:466">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">T</span>) (<span class="id"><a name="f:467">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:468">i</a></span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> != -<span class="id">oo</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:469">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> = +<span class="id">oo</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="i:472">i</a></span>, [/\ <span class="id">i</span> \<span class="kwd">in</span> <span class="id">s</span>, <span class="id">P</span> <span class="id">i</span> &amp; <span class="id">f</span> <span class="id">i</span> = +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
<span class="id">move</span>=&gt; <span class="id">finoo</span>; <span class="id">split</span>=&gt; [|[<span class="id">i</span> [<span class="id">si</span> <span class="id">Pi</span> <span class="id">fi</span>]]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">big_seq_cond</span>; <span class="id">elim</span>/<span class="id">big_ind</span>: <span class="id">_</span> =&gt; // [[?| |] [?| |]//|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">si</span> <span class="id">Pi</span>] <span class="id">fioo</span>; <span class="kwd">exists</span> <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">si</span> <span class="id">Pi</span> <span class="id">fioo</span>.<br/>
<span class="id">elim</span>: <span class="id">s</span> <span class="id">i</span> <span class="id">Pi</span> <span class="id">fi</span> <span class="id">si</span> =&gt; // <span class="id">h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">i</span> <span class="id">Pi</span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> <span class="id">inE</span> =&gt; /<span class="id">predU1P</span>[&lt;-/=|<span class="id">it</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">big_cons</span> <span class="id">Pi</span> <span class="id">fi</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addye">addye</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span> =&gt; /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#esum_eqNyP">esum_eqNyP</a></span>[<span class="id">j</span> [<span class="id">jt</span> /<span class="id">finoo</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span>/<span class="id">eqP</span>]].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_cons</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">Ph</span>; <span class="id">rewrite</span> (<span class="id">ih</span> <span class="id">i</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addey">addey</a></span>// <span class="id">finoo</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="esum_eqy">esum_eqy</a></span> (<span class="id"><a name="I:473">I</a></span> : <span class="id">finType</span>) (<span class="id"><a name="P:474">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="f:475">f</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:476">i</a></span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> != -<span class="id">oo</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:477">i</a></span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> == +<span class="id">oo</span>) = [<span class="kwd">exists</span> <span class="id"><a name="i:480">i</a></span> <span class="kwd">in</span> <span class="id">P</span>, <span class="id">f</span> <span class="id">i</span> == +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
<span class="id">move</span>=&gt; <span class="id">fio</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id">existsP</span> =&gt; [/<span class="id">eqP</span> /=|[/= <span class="id">i</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">Pi</span> /<span class="id">eqP</span> <span class="id">fi</span>]]].<br/>
&nbsp;&nbsp;<span class="id">have</span> {}<span class="id">fio</span> : (<span class="kwd">forall</span> <span class="id"><a name="i:485">i</a></span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> != -<span class="id">oo</span>) <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">Pi</span>; <span class="id">exact</span>: <span class="id">fio</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#esum_eqyP">esum_eqyP</a></span> <span class="id">_</span> <span class="id">fio</span>)[<span class="id">i</span> [<span class="id">_</span> <span class="id">Pi</span> <span class="id">fi</span>]]; <span class="kwd">exists</span> <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">fi</span> <span class="id">eqxx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#esum_eqyP">esum_eqyP</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id">i</span>.<br/>
Qed.</div>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">esum_eqNyP</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="esum_ninftyP">esum_ninftyP</a></span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#esum_eqNyP">esum_eqNyP</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">esum_eqNy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#esum_eqNy">esum_ninfty</a></span> := <span class="id">esum_eqNy</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">esum_eqyP</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">esum_pinftyP</span> := <span class="id">esum_eqyP</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">esum_eqy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">esum_pinfty</span> := <span class="id">esum_eqy</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">adde_ge0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; 0 &lt;= <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r0</span>| |] [<span class="id">r1</span>| |] // ? ?; <span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">addr_ge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">adde_le0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id">y</span> &lt;= 0 -&gt; <span class="id">x</span> + <span class="id">y</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r0</span>||] [<span class="id">r1</span>||]// ? ?; <span class="id">rewrite</span> !<span class="id">lee_fin</span> -(<span class="id">addr0</span> 0%<span class="id">R</span>); <span class="id">exact</span>: <span class="id">ler_add</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">oppe_gt0</span> <span class="id">x</span> : (0 &lt; - <span class="id">x</span>) = (<span class="id">x</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
 <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||] //; <span class="id">exact</span>: <span class="id">oppr_gt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">oppe_lt0</span> <span class="id">x</span> : (- <span class="id">x</span> &lt; 0) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
 <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||] //; <span class="id">exact</span>: <span class="id">oppr_lt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">oppe_ge0</span> <span class="id">x</span> : (0 &lt;= - <span class="id">x</span>) = (<span class="id">x</span> &lt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
 <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||] //; <span class="id">exact</span>: <span class="id">oppr_ge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">oppe_le0</span> <span class="id">x</span> : (- <span class="id">x</span> &lt;= 0) = (0 &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
 <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||] //; <span class="id">exact</span>: <span class="id">oppr_le0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sume_ge0</span> <span class="id">T</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span>, <span class="id">P</span> <span class="id">t</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">t</span>) -&gt; <span class="kwd">forall</span> <span class="id">l</span>, 0 &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">l</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">l</span>; <span class="id">elim</span>/<span class="id">big_rec</span> : <span class="id">_</span> =&gt; // <span class="id">t</span> <span class="id">x</span> <span class="id">Pt</span>; <span class="id">apply</span>/<span class="id">adde_ge0</span>/<span class="id">f0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sume_le0</span> <span class="id">T</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span>, <span class="id">P</span> <span class="id">t</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt;= 0) -&gt; <span class="kwd">forall</span> <span class="id">l</span>, \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">l</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">l</span>; <span class="id">elim</span>/<span class="id">big_rec</span> : <span class="id">_</span> =&gt; // <span class="id">t</span> <span class="id">x</span> <span class="id">Pt</span>; <span class="id">apply</span>/<span class="id">adde_le0</span>/<span class="id">f0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulNyy</span> : -<span class="id">oo</span> * +<span class="id">oo</span> = -<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id">R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">mule</span> /= <span class="id">lt0y</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNyy">mulyNy</a></span> : +<span class="id">oo</span> * -<span class="id">oo</span> = -<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id">R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulNyy</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulyy</span> : +<span class="id">oo</span> * +<span class="id">oo</span> = +<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id">R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_numDomainType.R">mule</a></span> /= <span class="id">lt0y</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulNyNy</span> : -<span class="id">oo</span> * -<span class="id">oo</span> = +<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id">R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_mulry</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id">r</span>%:<span class="id">E</span> * +<span class="id">oo</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id">E</span> * +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
<span class="id">move</span>=&gt; <span class="id">rreal</span>; <span class="id">rewrite</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">mule</a></span>/= !<span class="id">eqe</span> <span class="id">sgr_eq0</span>; <span class="id">case</span>: <span class="id">ifP</span> =&gt; [//|<span class="id">rn0</span>].<br/>
<span class="id">move</span>: <span class="id">rreal</span> =&gt; /<span class="id">orP</span>[|]; <span class="id">rewrite</span> <span class="id">le_eqVlt</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_sym</span> <span class="id">rn0</span>/= =&gt; <span class="id">rgt0</span>; <span class="id">rewrite</span> <span class="id">lte_fin</span> <span class="id">rgt0</span> <span class="id">gtr0_sg</span>// <span class="id">lte01</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">rn0</span>/= =&gt; <span class="id">rlt0</span>; <span class="id"><a name="real_mulyr">rewrite</a></span> <span class="id">lt_def</span> <span class="id">lt_geF</span>// <span class="id">andbF</span> <span class="id">ltr0_sg</span>// <span class="id">lte0N1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_mulyr</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; +<span class="id">oo</span> * <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">r</a></span>%:<span class="id">E</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id">E</span> * +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">rreal</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">real_mulry</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_mulrNy</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id">r</span>%:<span class="id">E</span> * -<span class="id">oo</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id">E</span> * -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
<span class="id">move</span>=&gt; <span class="id">rreal</span>; <span class="id">rewrite</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">mule</a></span>/= !<span class="id">eqe</span> <span class="id">sgr_eq0</span>; <span class="id">case</span>: <span class="id">ifP</span> =&gt; [//|<span class="id">rn0</span>].<br/>
<span class="id">move</span>: <span class="id">rreal</span> =&gt; /<span class="id">orP</span>[|]; <span class="id">rewrite</span> <span class="id">le_eqVlt</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_sym</span> <span class="id">rn0</span>/= =&gt; <span class="id">rgt0</span>; <span class="id">rewrite</span> <span class="id">lte_fin</span> <span class="id">rgt0</span> <span class="id">gtr0_sg</span>// <span class="id">lte01</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">rn0</span>/= =&gt; <span class="id">rlt0</span>; <span class="id"><a name="real_mulNyr">rewrite</a></span> <span class="id">lt_def</span> <span class="id">lt_geF</span>// <span class="id">andbF</span> <span class="id">ltr0_sg</span>// <span class="id">lte0N1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_mulNyr</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; -<span class="id">oo</span> * <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">r</a></span>%:<span class="id">E</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id">E</span> * -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">rreal</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">real_mulrNy</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">real_mulr_infty</span> := (<span class="id">real_mulry</span>, <span class="id">real_mulyr</span>, <span class="id">real_mulrNy</span>, <span class="id">real_mulNyr</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulN1e</span> <span class="id">x</span> : - 1%<span class="id">E</span> * <span class="id">x</span> = - <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
<span class="id">rewrite</span> -<span class="id">EFinN</span> /<span class="id">mule</span>/=; <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||];<br/>
&nbsp;&nbsp;<span class="id">do</span> ?[<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulN1r</span>|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqe</span> <span class="id">oppr_eq0</span> <span class="id">oner_eq0</span> <span class="id">lte_fin</span> <span class="id">ltr0N1</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleN1</span> <span class="id">x</span> : <span class="id">x</span> * - 1%<span class="id">E</span> = - <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulN1e</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_neq0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> != 0 -&gt; <span class="id">y</span> != 0 -&gt; <span class="id">x</span> * <span class="id">y</span> != 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] <span class="id">x0</span> <span class="id">y0</span> //; <span class="id">rewrite</span> /<span class="id">mule</span>/= ?(<span class="id">lt0y</span>,<span class="id">mulf_neq0</span>)//;<br/>
&nbsp;&nbsp;<span class="id">try</span> <span class="kwd">by</span> (<span class="id">rewrite</span> (<span class="id">negbTE</span> <span class="id">x0</span>); <span class="id">case</span>: <span class="id">ifPn</span>) ||<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> (<span class="id">rewrite</span> (<span class="id">negbTE</span> <span class="id">y0</span>); <span class="id">case</span>: <span class="id">ifPn</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_eq0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">x</a></span> <span class="id">y</span> : (<span class="id">x</span> * <span class="id">y</span> == 0) = (<span class="id">x</span> == 0) || (<span class="id">y</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
<span class="id">apply</span>/<span class="id">idP</span>/<span class="id">idP</span> =&gt; [|/<span class="id">orP</span>[] /<span class="id">eqP</span>-&gt;]; <span class="id">rewrite</span> ?(<span class="id">mule0</span>, <span class="id">mul0e</span>)//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a name="x:520">contraTT</a></span> =&gt; /<span class="id">norP</span>[]; <span class="id">apply</span>: <span class="id">mule_neq0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_ge0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; 0 &lt;= <span class="id">x</span> * <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||]//=; <span class="id">rewrite</span> /<span class="id">mule</span>/= ?(<span class="id">lee_fin</span>, <span class="id">eqe</span>, <span class="id">lte_fin</span>, <span class="id">lt0y</span>)//.<br/>
- <span class="id">exact</span>: <span class="id">mulr_ge0</span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">_</span>|<span class="id">x0</span> <span class="id">_</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gt_eqF</span> // <span class="id">x0</span> <span class="id">le0y</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">y0</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gt_eqF</span> // <span class="id">y0</span> <span class="id">le0y</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_gt0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; 0 &lt; <span class="id">x</span> * <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lt_def</span> =&gt; /<span class="id">andP</span>[? ?] /<span class="id">andP</span>[? ?]; <span class="id">rewrite</span> <span class="id">mule_neq0</span> ?<span class="id">mule_ge0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_le0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id">y</span> &lt;= 0 -&gt; 0 &lt;= <span class="id">x</span> * <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||]//=; <span class="id">rewrite</span> /<span class="id">mule</span>/= ?(<span class="id">lee_fin</span>, <span class="id">eqe</span>, <span class="id">lte_fin</span>)//.<br/>
- <span class="id">exact</span>: <span class="id">mulr_le0</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le0y">rewrite</a></span> <span class="id">lt_leAnge</span> =&gt; -&gt; <span class="id">_</span>; <span class="id">case</span>: <span class="id">ifP</span> =&gt; <span class="id">_</span> //; <span class="id">rewrite</span> <span class="id">andbF</span> <span class="id">le0y</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le0y">rewrite</a></span> <span class="id">lt_leAnge</span> =&gt; <span class="id">_</span> -&gt;; <span class="id">case</span>: <span class="id"><a name="y:527">ifP</a></span> =&gt; <span class="id">_</span> //; <span class="id">rewrite</span> <span class="id">andbF</span> <span class="id">le0y</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_le0_ge0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt;= 0 -&gt; 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> * <span class="id">y</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> /<span class="id">mule</span>/= ?(<span class="id">lee_fin</span>, <span class="id">lte_fin</span>).<br/>
- <span class="id">exact</span>: <span class="id">mulr_le0_ge0</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> <span class="id">_</span>; <span class="id">case</span>: <span class="id">ifP</span> =&gt; <span class="id">_</span> //; <span class="id">rewrite</span> <span class="id">lt_leAnge</span> /= <span class="id">x0</span> <span class="id">andbF</span> <span class="id">leNy0</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|-&gt;]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ifP</span> =&gt; <span class="id">_</span> //; <span class="id">rewrite</span> <span class="id">leNy0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt0y</span> <span class="id">leNy0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_ge0_le0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_le0_ge0">y</a></span> &lt;= 0 -&gt; <span class="id">x</span> * <span class="id">y</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id"><a name="x:530">x0</a></span> <span class="id">y0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mule_le0_ge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_lt0_lt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; <span class="id">y</span> &lt; 0 -&gt; 0 &lt; <span class="id">x</span> * <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lt_neqAle</span> =&gt; /<span class="id">andP</span>[? ?]/<span class="id">andP</span>[*]; <span class="id">rewrite</span> <span class="id">eq_sym</span> <span class="id">mule_neq0</span> ?<span class="id">mule_le0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_gt0_lt0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; <span class="id">y</span> &lt; 0 -&gt; <span class="id">x</span> * <span class="id">y</span> &lt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
<span class="id">rewrite</span> <span class="id">lt_def</span> !<span class="id">lt_neqAle</span> =&gt; /<span class="id">andP</span>[? ?]/<span class="id">andP</span>[? ?].<br/>
<span class="kwd">by</span> <span class="id"><a name="y:535">rewrite</a></span> <span class="id">mule_neq0</span> ?<span class="id">mule_ge0_le0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_lt0_gt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; 0 &lt; <span class="id">y</span> -&gt; <span class="id">x</span> * <span class="id">y</span> &lt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> <span class="id">y0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mule_gt0_lt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_opp</span> <span class="id">x</span> : 0 &lt; <span class="id">x</span> -&gt; - <span class="id">x</span> &lt; <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; //= <span class="id">r</span>; <span class="id">rewrite</span> !<span class="id">lte_fin</span>; <span class="id">apply</span>: <span class="id">gtr_opp</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">realMe</span> <span class="id">x</span> <span class="id">y</span> : (0%<span class="id">E</span> &gt;=&lt; <span class="id">x</span>)%<span class="id">O</span> -&gt; (0%<span class="id">E</span> &gt;=&lt; <span class="id">y</span>)%<span class="id">O</span> -&gt; (0%<span class="id">E</span> &gt;=&lt; <span class="id">x</span> * <span class="id">y</span>)%<span class="id">O</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
<span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0y">y</a></span>||]// <span class="id">rx</span> <span class="id">ry</span>;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?[<span class="id">exact</span>: <span class="id">realM</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">mule</span>/= <span class="id">lt0y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">real_mulr_infty</a></span> ?<span class="id">realE</span> -?<span class="id">lee_fin</span>// /<span class="id">Num.sg</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">ifP</span>; [|<span class="id">case</span>: <span class="id">ifP</span>]; <span class="id">rewrite</span> ?<span class="id">mul0e</span> /<span class="id">Order.comparable</span> ?<span class="id">lexx</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> ?<span class="id">mulN1e</span> ?<span class="id">leNy0</span> ?<span class="id">mul1e</span> ?<span class="id">le0y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulNyNy</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">Order.comparable</a></span> <span class="id">le0y</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqreD</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> + <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span>) ^+ 2 = <span class="id">x</span> ^+ 2 + <span class="id">x</span> * <span class="id">y</span> *+ 2 + <span class="id">y</span> ^+ 2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
<span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] // <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFinM</span> -<span class="id"><a name="x:541">EFin_natmul</a></span> -!<span class="id">EFin_expe</span> -!<span class="id">EFinD</span> <span class="id">sqrrD</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">abse_ge0</span> <span class="id">x</span> : 0 &lt;= `|<span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] /=; <span class="id">rewrite</span> ?<span class="id">le0y</span> ?<span class="id">lee_fin</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gee0_abs</span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> -&gt; `|<span class="id">x</span>| = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |]//; <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; <span class="id">x0</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eqe</span> <span class="id">ger0_norm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte0_abs</span> <span class="id">x</span> : 0 &lt; <span class="id">x</span> -&gt; `|<span class="id">x</span>| = <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">ltW</span>/<span class="id">gee0_abs</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee0_abs</span> <span class="id">x</span> : <span class="id">x</span> &lt;= 0 -&gt; `|<span class="id">x</span>| = - <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |]//; <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; <span class="id">x0</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eqe</span> <span class="id">ler0_norm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte0_abs</span> <span class="id">x</span> : <span class="id">x</span> &lt; 0 -&gt; `|<span class="id">x</span>| = - <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">ltW</span>/<span class="id">lee0_abs</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ERealArithTh_numDomainType</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> +? <span class="id">y</span>" := (<span class="id">adde_def</span> <span class="id">x</span>%<span class="id">dE</span> <span class="id">y</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> +? <span class="id">y</span>" := (<span class="id">adde_def</span> <span class="id">x</span> <span class="id">y</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> *? <span class="id">y</span>" := (<span class="id">mule_def</span> <span class="id">x</span>%<span class="id">dE</span> <span class="id">y</span>%<span class="id">dE</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> *? <span class="id">y</span>" := (<span class="id">mule_def</span> <span class="id">x</span> <span class="id">y</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id">maxe</span> := (@<span class="id">Order.max</span> <span class="id">ereal_display</span> <span class="id">_</span>).<br/>
<span class="kwd">Notation</span> "@ '<span class="id">maxe</span>' <span class="id">R</span>" := (@<span class="id">Order.max</span> <span class="id">ereal_display</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">R</span> <span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">only</span> <span class="id">parsing</span>) : <span class="id">fun_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id">mine</span> := (@<span class="id">Order.min</span> <span class="id">ereal_display</span> <span class="id">_</span>).<br/>
<span class="kwd">Notation</span> "@ '<span class="id">mine</span>' <span class="id">R</span>" := (@<span class="id">Order.min</span> <span class="id">ereal_display</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">R</span> <span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">only</span> <span class="id">parsing</span>) : <span class="id">fun_scope</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">DualAddTheoryNumDomain</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">DualERealArithTh_numDomainType</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_dual_scope</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numDomainType</span>}.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : \<span class="id">bar</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">dual_addeE</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> + <span class="id">y</span>)%<span class="id">dE</span> = - ((- <span class="id">x</span>) + (- <span class="id">y</span>))%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |]; <span class="id">case</span>: <span class="id">y</span> =&gt; [<span class="id">y</span>| |] //=; <span class="id"><a name="P:551">rewrite</a></span> <span class="id">opprD</span> !<span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dual_sumeE</span> <span class="id">I</span> (<span class="id">r</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>)%<span class="id">dE</span> = - (\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) (- <span class="id">F</span> <span class="id">i</span>)%<span class="id">E</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
<span class="id">apply</span>: (<span class="id">big_ind2</span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id">x</span> = - <span class="id">y</span>)%<span class="id">E</span>) =&gt; [|<span class="id">_</span> <span class="id">x</span> <span class="id">_</span> <span class="id">y</span> -&gt; -&gt;|<span class="id">i</span> <span class="id">_</span>].<br/>
- <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">rewrite</a></span> <span class="id">oppe0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">dual_addeE</span> !<span class="id">oppeK</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oppeK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dual_addeE_def</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> +? <span class="id">y</span> -&gt; (<span class="id">x</span> + <span class="id">y</span>)%<span class="id">dE</span> = (<span class="id"><a name="DualAddTheoryNumDomain.dEFinD">x</a></span> + <span class="id">y</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |]; <span class="id">case</span>: <span class="id">y</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dEFinD</span> (<span class="id">r</span> <span class="id">r</span>' : <span class="id">R</span>) : (<span class="id">r</span> + <span class="id">r</span>')%<span class="id">R</span>%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> + <span class="id">r</span>'%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dEFinB</span> (<span class="id">r</span> <span class="id">r</span>' : <span class="id">R</span>) : (<span class="id">r</span> - <span class="id"><a name="I:569">r</a></span>')%<span class="id"><a name="P:571">R</a></span>%:<span class="id"><a name="F:572">E</a></span> = <span class="id">r</span>%:<span class="id">E</span> - <span class="id">r</span>'%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsumEFin</span> <span class="id">I</span> <span class="id">r</span> <span class="id">P</span> (<span class="id">F</span> : <span class="id">I</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.dual_sumeE">F</a></span> <span class="id">i</span>)%:<span class="id">E</span> = (\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sumEFin">i</a></span>)%<span class="id">R</span>%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">dual_sumeE</span> <span class="id">fin_num_sumeN</span>// <span class="id">oppeK</span> <span class="id">sumEFin</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddeC</span> : <span class="id">commutative</span> (<span class="id">S</span> := \<span class="id">bar</span> <span class="id">R</span>) +%<span class="id">dE</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
 <span class="kwd">by</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_id">move</a></span>=&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde0</span> : <span class="id">right_id</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) +%<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">dE</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">eqe_oppLRP</span> <span class="id">oppe0</span> <span class="id">adde0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadd0e</span> : <span class="id">left_id</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) +%<span class="id">dE</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>;<span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">eqe_oppLRP</span> <span class="id">oppe0</span> <span class="id">add0e</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddeA</span> : <span class="id">associative</span> (<span class="id">S</span> := \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">R</a></span>) +%<span class="id">dE</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> !<span class="id">oppeK</span> <span class="id">addeA</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">dadde_monoid</span> := <span class="id">Monoid.Law</span> <span class="id">daddeA</span> <span class="id">dadd0e</span> <span class="id">dadde0</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">dadde_comoid</span> := <span class="id">Monoid.ComLaw</span> <span class="id">daddeC</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddeAC</span> : <span class="id">right_commutative</span> (<span class="id"><a name="DualAddTheoryNumDomain.daddeCA">S</a></span> := \<span class="id">bar</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_commutative">R</a></span>) +%<span class="id">dE</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
 <span class="id">exact</span>: <span class="id">Monoid.mulmAC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddeCA</span> : <span class="id">left_commutative</span> (<span class="id"><a name="DualAddTheoryNumDomain.daddeACA">S</a></span> := \<span class="id">bar</span> <span class="id">R</span>) +%<span class="id">dE</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
 <span class="id">exact</span>: <span class="id">Monoid.mulmCA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddeACA</span> : @<span class="id">interchange</span> (\<span class="id"><a name="DualAddTheoryNumDomain.realDed">bar</a></span> <span class="id">R</span>) +%<span class="id">dE</span> +%<span class="id">dE</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
 <span class="id">exact</span>: <span class="id">Monoid.mulmACA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">realDed</span> <span class="id">x</span> <span class="id">y</span> : (0%<span class="id">E</span> &gt;=&lt; <span class="id">x</span>)%<span class="id">O</span> -&gt; (0%<span class="id">E</span> &gt;=&lt; <span class="id">y</span>)%<span class="id">O</span> -&gt; (0%<span class="id">E</span> &gt;=&lt; <span class="id">x</span> + <span class="id">y</span>)%<span class="id">O</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
 <span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] //; <span class="id">exact</span>: <span class="id">realD</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">doppeD</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> +? <span class="id">y</span> -&gt; - (<span class="id">x</span> + <span class="id">y</span>) = - <span class="id">x</span> - <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //= <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">opprD</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fin_num_doppeD</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; - (<span class="id">x</span> + <span class="id">y</span>) = - <span class="id">x</span> - <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">finy</span>; <span class="id">rewrite</span> <span class="id">doppeD</span>// <span class="id">fin_num_adde_defl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsube0</span> <span class="id">x</span> : <span class="id">x</span> - 0 = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] //; <span class="id">rewrite</span> -<span class="id">dEFinB</span> <span class="id">subr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsub0e</span> <span class="id">x</span> : 0 - <span class="id">x</span> = - <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id"><a name="y:588">x</a></span> =&gt; [<span class="id">x</span>| |] //; <span class="id">rewrite</span> -<span class="id">dEFinB</span> <span class="id">sub0r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">doppeB</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> +? - <span class="id">y</span> -&gt; - (<span class="id">x</span> - <span class="id">y</span>) = - <span class="id">x</span> + <span class="id"><a name="DualAddTheoryNumDomain.fin_num_doppeB">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xy</span>; <span class="id">rewrite</span> <span class="id">doppeD</span>// <span class="id">oppeK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fin_num_doppeB</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.doppeB">fin_num</a></span> -&gt; - (<span class="id">x</span> - <span class="id">y</span>) = - <span class="id">x</span> + <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">doppeB</span>// <span class="id">fin_num_adde_defl</span>// <span class="id">fin_numN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dfin_numD</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span> :<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) = (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) &amp;&amp; (<span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a name="DualAddTheoryNumDomain.dfineD">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dfineD</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> (@<span class="id">fin_num</span> <span class="id">R</span>) &amp;, {<span class="id">morph</span> <span class="id">fine</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> + <span class="id">y</span> &gt;-&gt; (<span class="id">x</span> + <span class="id">y</span>)%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">r</a></span>| |] [<span class="id"><a name="x:597">s</a></span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dfineB</span> : {<span class="kwd">in</span> @<span class="id">fin_num</span> <span class="id">R</span> &amp;, {<span class="id">morph</span> <span class="id">fine</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> - <span class="id">y</span> &gt;-&gt; (<span class="id">x</span> - <span class="id">y</span>)%<span class="id">R</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">r</span>| |] [<span class="id">s</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddeK</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> + <span class="id">x</span> - <span class="id">x</span> = <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fx</span>; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">oppeK</span> <span class="id">addeK</span> ?<span class="id">oppeK</span>; <span class="id">case</span>: <span class="id">x</span> <span class="id">fx</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsubeK</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">x</span> - <span class="id">y</span> + <span class="id">y</span> = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fy</span>; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">oppeK</span> <span class="id">subeK</span> ?<span class="id">oppeK</span>; <span class="id">case</span>: <span class="id">y</span> <span class="id">fy</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsubee</span> <span class="id">x</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">x</span> - <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fx</span>; <span class="id">rewrite</span> <span class="id"><a name="y:607">dual_addeE</a></span> <span class="id">subee</span> ?<span class="id">oppe0</span>; <span class="id">case</span>: <span class="id">x</span> <span class="id">fx</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsube_eq</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> +? <span class="id">z</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> - <span class="id">z</span> == <span class="id">y</span>) = (<span class="id">x</span> == <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] // <span class="id">_</span> <span class="id">_</span>; <span class="id">rewrite</span> !<span class="id">eqe</span> <span class="id">subr_eq</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_eq_pinfty</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> + <span class="id">y</span> == +<span class="id">oo</span>) = ((<span class="id">x</span> == +<span class="id">oo</span>) || (<span class="id">y</span> == +<span class="id">oo</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [?| |] [?| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddye</span> <span class="id">x</span> : +<span class="id">oo</span> + <span class="id">x</span> = +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddey</span> <span class="id">x</span> : <span class="id">x</span> + +<span class="id">oo</span> = +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddNye</span> <span class="id">x</span> : <span class="id">x</span> != +<span class="id"><a name="x:614">oo</a></span> -&gt; -<span class="id">oo</span> + <span class="id">x</span> = -<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">daddeNy</span> <span class="id">x</span> : <span class="id">x</span> != +<span class="id">oo</span> -&gt; <span class="id">x</span> + -<span class="id">oo</span> = -<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>. Qed.</div>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> `<span class="id">daddye</span>` <span class="id">and</span> <span class="id">generalized</span>")]<br/>
<span class="kwd">Lemma</span> <span class="id">daddooe</span> <span class="id">x</span> : <span class="id">x</span> != -<span class="id">oo</span> -&gt; +<span class="id">oo</span> + <span class="id">x</span> = +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">daddye</span>. Qed.</div>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> `<span class="id">daddey</span>` <span class="id">and</span> <span class="id">generalized</span>")]<br/>
<span class="kwd">Lemma</span> <span class="id">daddeoo</span> <span class="id">x</span> : <span class="id">x</span> != -<span class="id">oo</span> -&gt; <span class="id">x</span> + +<span class="id">oo</span> = +<span class="id">oo</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">daddey</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_Neq_pinfty</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> != -<span class="id">oo</span> -&gt; <span class="id">y</span> != -<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span> != +<span class="id">oo</span>) = (<span class="id">x</span> != +<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> != +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_Neq_ninfty</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> != +<span class="id">oo</span> -&gt; <span class="id">y</span> != +<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span> != -<span class="id">oo</span>) = (<span class="id">x</span> != -<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> != -<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ndadde_eq0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id">y</span> &lt;= 0 -&gt; <span class="id">x</span> + <span class="id">y</span> == 0 = (<span class="id">x</span> == 0) &amp;&amp; (<span class="id">y</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">move</a></span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] //.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> -<span class="id">dEFinD</span> !<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">eqe</a></span>; <span class="id">exact</span>: <span class="id">naddr_eq0</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a name="DualAddTheoryNumDomain.pdadde_eq0">rewrite</a></span> /<span class="id">adde</span>/= (<span class="id">_</span> : -<span class="id">oo</span> == 0 = <span class="id">false</span>)// <span class="id">andbF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pdadde_eq0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> + <span class="id">y</span> == 0 = (<span class="id">x</span> == 0) &amp;&amp; (<span class="id">y</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">move</a></span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] //.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> -<span class="id">dEFinD</span> !<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">eqe</a></span>; <span class="id">exact</span>: <span class="id">paddr_eq0</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a name="DualAddTheoryNumDomain.dadde_ss_eq0">rewrite</a></span> /<span class="id">adde</span>/= (<span class="id">_</span> : +<span class="id">oo</span> == 0 = <span class="id">false</span>)// <span class="id">andbF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_ss_eq0</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt;= <span class="id">x</span>) &amp;&amp; (0 &lt;= <span class="id">y</span>) || (<span class="id">x</span> &lt;= 0) &amp;&amp; (<span class="id">y</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> + <span class="id">y</span> == 0 = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.pdadde_eq0">x</a></span> == 0) &amp;&amp; (<span class="id">y</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
 <span class="id">move</span>=&gt; /<span class="id">orP</span>[|] /<span class="id">andP</span>[]; [<span class="id">exact</span>: <span class="id">pdadde_eq0</span>|<span class="id">exact</span>: <span class="id">ndadde_eq0</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">desum_eqyP</span> (<span class="id">T</span> : <span class="id">eqType</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">T</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>) (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> = +<span class="id">oo</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppLRP">i</a></span>, [/\ <span class="id">i</span> \<span class="kwd">in</span> <span class="id">s</span>, <span class="id">P</span> <span class="id">i</span> &amp; <span class="id">f</span> <span class="id">i</span> = +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
<span class="id">rewrite</span> <span class="id">dual_sumeE</span> <span class="id">eqe_oppLRP</span> /= <span class="id">esum_eqNyP</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>=&gt; -[<span class="id">i</span> + /<span class="id">ltac</span>:(<span class="kwd">exists</span> <span class="id"><a name="DualAddTheoryNumDomain.desum_eqy">i</a></span>)] =&gt; [|] []; [|<span class="id">split</span>]; <span class="id"><a name="f:636">rewrite</a></span> // <span class="id">eqe_oppLRP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">desum_eqy</span> (<span class="id">I</span> : <span class="id">finType</span>) (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a name="i:641">R</a></span>) (<span class="id">P</span> : {<span class="id">pred</span> <span class="id">I</span>}) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> == +<span class="id">oo</span>) = [<span class="kwd">exists</span> <span class="id">i</span> <span class="kwd">in</span> <span class="id">P</span>, <span class="id">f</span> <span class="id">i</span> == +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
<span class="id">rewrite</span> <span class="id">dual_sumeE</span> <span class="id">eqe_oppLR</span> <span class="id">esum_eqNy</span>.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_existsb</span> =&gt; <span class="id">i</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">eqe_oppLR</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">desum_eqNyP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">T</span> : <span class="id">eqType</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">T</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>) (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> != +<span class="id">oo</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> = -<span class="id">oo</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id">i</span>, [/\ <span class="id">i</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppLRP">s</a></span>, <span class="id">P</span> <span class="id">i</span> &amp; <span class="id">f</span> <span class="id">i</span> = -<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
<span class="id">move</span>=&gt; <span class="id">fioo</span>.<br/>
<span class="id">rewrite</span> <span class="id">dual_sumeE</span> <span class="id">eqe_oppLRP</span> /= <span class="id">esum_eqyP</span> =&gt; [|<span class="id">i</span> <span class="id">Pi</span>]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqe_oppLR</span> <span class="id">fioo</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>=&gt; -[<span class="id">i</span> + /<span class="id">ltac</span>:(<span class="kwd">exists</span> <span class="id"><a name="DualAddTheoryNumDomain.desum_eqNy">i</a></span>)] =&gt; [|] []; [|<span class="id">split</span>]; <span class="id">rewrite</span> // <span class="id">eqe_oppLRP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">desum_eqNy</span> (<span class="id">I</span> : <span class="id">finType</span>) (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : {<span class="id">pred</span> <span class="id">I</span>}) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">f</span> <span class="id">i</span> != +<span class="id">oo</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> == -<span class="id">oo</span>) = [<span class="kwd">exists</span> <span class="id">i</span> <span class="kwd">in</span> <span class="id">P</span>, <span class="id">f</span> <span class="id">i</span> == -<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
<span class="id">move</span>=&gt; <span class="id">finoo</span>.<br/>
<span class="id">rewrite</span> <span class="id">dual_sumeE</span> <span class="id">eqe_oppLR</span> /= <span class="id">esum_eqy</span> =&gt; [|<span class="id">i</span>]; <span class="id">rewrite</span> ?<span class="id">eqe_oppLR</span> //.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_existsb</span> =&gt; <span class="id">i</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">eqe_oppLR</span>.<br/>
Qed.</div>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">desum_eqNyP</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">desum_ninftyP</span> := <span class="id">desum_eqNyP</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">desum_eqNy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">desum_ninfty</span> := <span class="id">desum_eqNy</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">desum_eqyP</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">desum_pinftyP</span> := <span class="id">desum_eqyP</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id"><a name="DualAddTheoryNumDomain.dadde_ge0">since</a></span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">desum_eqy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">desum_pinfty</span> := <span class="id">desum_eqy</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_ge0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; 0 &lt;= <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Proof.</span></div>
<div class="proofscript" id="proof243">
 <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">oppe_ge0</span> -!<span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">adde_le0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_le0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt;= 0 -&gt; <span class="id">y</span> &lt;= 0 -&gt; <span class="id">x</span> + <span class="id">y</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof244')">Proof.</span></div>
<div class="proofscript" id="proof244">
 <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">oppe_le0</span> -!<span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">adde_ge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsume_ge0</span> <span class="id">T</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id">n</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">n</span>) -&gt; <span class="kwd">forall</span> <span class="id">l</span>, 0 &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">l</span> | <span class="id"><a name="DualAddTheoryNumDomain.dsume_le0">P</a></span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof245')">Proof.</span></div>
<div class="proofscript" id="proof245">
<span class="id">move</span>=&gt; <span class="id">u0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.DualERealArithTh_numDomainType.R">l</a></span>; <span class="id">rewrite</span> <span class="id">dual_sumeE</span> <span class="id">oppe_ge0</span> <span class="id">sume_le0</span> // =&gt; <span class="id">t</span> <span class="id">Pt</span>.<br/>
<span class="id">rewrite</span> <span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">u0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsume_le0</span> <span class="id">T</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id">n</span> -&gt; <span class="id">f</span> <span class="id">n</span> &lt;= 0) -&gt; <span class="kwd">forall</span> <span class="id">l</span>, \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">l</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id"><a name="DualAddTheoryNumDomain.gte_dopp">f</a></span> <span class="id">i</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof246')">Proof.</span></div>
<div class="proofscript" id="proof246">
<span class="id">move</span>=&gt; <span class="id">u0</span> <span class="id">l</span>; <span class="id">rewrite</span> <span class="id">dual_sumeE</span> <span class="id">oppe_le0</span> <span class="id">sume_ge0</span> // =&gt; <span class="id">t</span> <span class="id">Pt</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">oppe_ge0</a></span>; <span class="id">exact</span>: <span class="id">u0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_dopp</span> (<span class="id">r</span> : \<span class="id">bar</span> <span class="id">R</span>) : (0 &lt; <span class="id">r</span>)%<span class="id">E</span> -&gt; (- <span class="id">r</span> &lt; <span class="id">r</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof247')">Proof.</span></div>
<div class="proofscript" id="proof247">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">r</span> =&gt; //= <span class="id">r</span>; <span class="id">rewrite</span> !<span class="id">lte_fin</span>; <span class="id"><a name="DualAddTheoryNumDomain.ednatmul_ninfty">apply</a></span>: <span class="id">gtr_opp</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ednatmul_pinfty</span> <span class="id">n</span> : +<span class="id">oo</span> *+ <span class="id">n</span>.+1 = +<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof248')">Proof.</span></div>
<div class="proofscript" id="proof248">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; //= <span class="id">n</span> -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ednatmul_ninfty</span> <span class="id">n</span> : -<span class="id">oo</span> *+ <span class="id">n</span>.+1 = -<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Proof.</span></div>
<div class="proofscript" id="proof249">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; //= <span class="id">n</span> -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">EFin_dnatmul</span> (<span class="id">r</span> : <span class="id">R</span>) <span class="id">n</span> : (<span class="id">r</span> *+ <span class="id">n</span>.+1)%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> *+ <span class="id">n</span>.+1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Proof.</span></div>
<div class="proofscript" id="proof250">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; //= <span class="id">n</span> &lt;-. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ednatmulE</span> <span class="id">x</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#enatmul_pinfty">x</a></span> *+ <span class="id">n</span> = (<span class="id">x</span> *+ <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.ednatmul_pinfty">n</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Proof.</span></div>
<div class="proofscript" id="proof251">
<span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |]; <span class="id">case</span>: <span class="id">n</span> =&gt; [//|<span class="id">n</span>].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFin_natmul</span> -<span class="id">EFin_dnatmul</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">enatmul_pinfty</span> <span class="id">ednatmul_pinfty</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">enatmul_ninfty</span> <span class="id">ednatmul_ninfty</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dmule2n</span> <span class="id">x</span> : <span class="id">x</span> *+ 2 = <span class="id">x</span> + <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Proof.</span></div>
<div class="proofscript" id="proof252">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqredD</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">x</a></span> + <span class="id">y</span> \<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.EFin_dnatmul">is</a></span> <span class="id">a</span> <span class="id">fin_num</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> + <span class="id">y</span>) ^+ 2 = <span class="id">x</span> ^+ 2 + <span class="id">x</span> * <span class="id">y</span> *+ 2 + <span class="id">y</span> ^+ 2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Proof.</span></div>
<div class="proofscript" id="proof253">
<span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] // <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFinM</span> -<span class="id">EFin_dnatmul</span> -!<span class="id">EFin_expe</span> -!<span class="id">dEFinD</span> <span class="id">sqrrD</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">DualERealArithTh_numDomainType</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">DualAddTheoryNumDomain</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">ERealArithTh_realDomainType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">u</span> <span class="id">a</span> <span class="id">b</span> : \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">r</span> : <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fin_numPlt">fin_numElt</a></span> <span class="id"><a name="x:699">x</a></span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) = (-<span class="id">oo</span> &lt; <span class="id">x</span> &lt; +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Proof.</span></div>
<div class="proofscript" id="proof254">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_numE</span> -<span class="id">leye_eq</span> -<span class="id">leeNy_eq</span> -2!<span class="id">ltNge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="x:700">fin_numPlt</a></span> <span class="id">x</span> : <span class="id">reflect</span> (-<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">oo</a></span> &lt; <span class="id">x</span> &lt; +<span class="id">oo</span>) (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof255')">Proof.</span></div>
<div class="proofscript" id="proof255">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_numElt</span>; <span class="id">exact</span>: <span class="id">idP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ltey_eq</span> <span class="id">x</span> : (<span class="id">x</span> &lt; +<span class="id">oo</span>) = (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) || (<span class="id">x</span> == -<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof256')">Proof.</span></div>
<div class="proofscript" id="proof256">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; // <span class="id">x</span> //=; <span class="id">exact</span>: <span class="id">ltry</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ltNye_eq</span> <span class="id">x</span> : (-<span class="id">oo</span> &lt; <span class="id">x</span>) = (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) || (<span class="id">x</span> == +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof257')">Proof.</span></div>
<div class="proofscript" id="proof257">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; // <span class="id">x</span> //=; <span class="id">exact</span>: <span class="id">ltNyr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ge0_fin_numE</span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> -&gt; (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) = (<span class="id">x</span> &lt; +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] =&gt; // <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id">fin_numElt</span> <span class="id">ltNyr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gt0_fin_numE</span> <span class="id">x</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) = (<span class="id">x</span> &lt; +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id">ltW</span>; <span class="id">exact</span>: <span class="id">ge0_fin_numE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le0_fin_numE</span> <span class="id">x</span> : <span class="id">x</span> &lt;= 0 -&gt; (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) = (-<span class="id">oo</span> &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |]//=; <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id">ltNyr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt0_fin_numE</span> <span class="id">x</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) = (-<span class="id">oo</span> &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id">ltW</span>; <span class="id">exact</span>: <span class="id">le0_fin_numE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eqyP</span> <span class="id">x</span> : <span class="id">x</span> = +<span class="id">oo</span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">A</span>, (0 &lt; <span class="id">A</span>)%<span class="id">R</span> -&gt; <span class="id">A</span>%:<span class="id">E</span> &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
<span class="id">split</span>=&gt; [-&gt; // <span class="id">A</span> <span class="id">A0</span>|<span class="id">Ax</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">leey</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id">leey</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">leNgt</a></span>; <span class="id">apply</span>/<span class="id">negP</span>.<br/>
<span class="id">case</span>: <span class="id">x</span> <span class="id">Ax</span> =&gt; [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">x</a></span> <span class="id">Ax</span> <span class="id">_</span>|//|/(<span class="id">_</span> <span class="id">_</span> <span class="id">ltr01</span>)//].<br/>
<span class="id">suff</span>: ~ <span class="id">x</span>%:<span class="id">E</span> &lt; (<span class="id">Order.max</span> 0 <span class="id">x</span> + 1)%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">lte_fin</span> <span class="id">ltr_spaddr</span>// <span class="id">le_maxr</span> <span class="id">lexx</span> <span class="id">orbT</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id">Ax</span>/<span class="id">ltr_spaddr</span>; <span class="id">rewrite</span> // <span class="id">le_maxr</span> <span class="id">lexx</span>.<br/>
Qed.</div>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">eqyP</a></span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">eq_pinftyP</span> := <span class="id">eqyP</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">seq_psume_eq0</span> (<span class="id">I</span> : <span class="id">choiceType</span>) (<span class="id">r</span> : <span class="id">seq</span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) : (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">F</span> <span class="id">i</span>)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span> == 0)%<span class="id">E</span> = <span class="id">all</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="id">P</span> <span class="id">i</span> ==&gt; (<span class="id">F</span> <span class="id">i</span> == 0%<span class="id">E</span>)) <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
<span class="id">move</span>=&gt; <span class="id">F0</span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id">allP</span> =&gt; <span class="id">PF0</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">big_seq_cond</span> <span class="id">big1</span>// =&gt; <span class="id">i</span> /<span class="id">andP</span>[<span class="id">ir</span> <span class="id">Pi</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">PF0</span> <span class="id">_</span> <span class="id">ir</span>; <span class="id">rewrite</span> <span class="id">Pi</span> <span class="id">implyTb</span> =&gt; /<span class="id">eqP</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">ir</span>; <span class="id">apply</span>/<span class="id">implyP</span> =&gt; <span class="id">Pi</span>; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
<span class="id">have</span> <span class="id">rPF</span> : {<span class="kwd">in</span> <span class="id">r</span>, <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> ==&gt; (<span class="id">F</span> <span class="id">i</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>)}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">j</span> <span class="id">jr</span>; <span class="id">apply</span>/<span class="id">implyP</span> =&gt; <span class="id">Pj</span>; <span class="id">rewrite</span> <span class="id">fin_numElt</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id">F0</span> <span class="id">_</span> <span class="id">Pj</span>))// <span class="id">ltNyr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltNge</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">leye_eq</span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id">negP</span> =&gt; /<span class="id">eqP</span> <span class="id">Fjoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">PFninfty</span> <span class="id">k</span> : <span class="id">P</span> <span class="id">k</span> -&gt; <span class="id">F</span> <span class="id">k</span> != -<span class="id">oo</span>%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Pk</span>; <span class="id">rewrite</span> <span class="id">gt_eqF</span>// (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id">F0</span> <span class="id">_</span> <span class="id">Pk</span>))// <span class="id">ltNyr</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">esum_eqyP</span> : <span class="kwd">exists</span> <span class="id">i</span>, [/\ <span class="id">i</span> \<span class="kwd">in</span> <span class="id">r</span>, <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_inj">i</a></span> &amp; <span class="id">F</span> <span class="id">i</span> = +<span class="id">oo</span>%<span class="id">E</span>] <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">PFninfty</span>); <span class="id">rewrite</span> <span class="id"><a name="i0:723">PF0</a></span>.<br/>
<span class="id">have</span> ? : (\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">fine</span> \<span class="id">o</span> <span class="id">F</span>) <span class="id">i</span> == 0)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>/<span class="id">EFin_inj</span>; <span class="id">rewrite</span> <span class="id">big_seq_cond</span> -<span class="id">sumEFin</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">eq_bigr</span> (<span class="kwd">fun</span> <span class="id">i0</span> =&gt; <span class="id">F</span> <span class="id">i0</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">j</span> /<span class="id">andP</span>[<span class="id">jr</span> <span class="id">Pj</span>] /=; <span class="id">rewrite</span> <span class="id">fineK</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">rPF</span> <span class="id">_</span> <span class="id">jr</span>; <span class="id">rewrite</span> <span class="id">Pj</span> <span class="id">implyTb</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">big_seq_cond</span> <span class="id">PF0</span>.<br/>
<span class="id">have</span> /<span class="id">allP</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">ir</span>) : <span class="id">all</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="id">P</span> <span class="id">i</span> ==&gt; ((<span class="id">fine</span> \<span class="id">o</span> <span class="id">F</span>) <span class="id">i</span> == 0))%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">psumr_eq0</span>// =&gt; <span class="id">j</span> <span class="id">Pj</span>/=; <span class="id">apply</span>/<span class="id">fine_ge0</span>/<span class="id">F0</span>.<br/>
<span class="id">rewrite</span> <span class="id">Pi</span> <span class="id">implyTb</span> =&gt; /= =&gt; /<span class="id">eqP</span> <span class="id">Fi0</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id">fineK</span> <span class="id">_</span> (<span class="id">F</span> <span class="id">i</span>))//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">have</span> := <span class="id">rPF</span> <span class="id">_</span> <span class="id">ir</span>; <span class="id">rewrite</span> <span class="id">Pi</span> <span class="id">implyTb</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">Fi0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_add_pinfty</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; +<span class="id">oo</span> -&gt; <span class="id">y</span> &lt; +<span class="id">oo</span> -&gt; <span class="id">x</span> + <span class="id">y</span> &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof264')">Proof.</span></div>
<div class="proofscript" id="proof264">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; -[<span class="id">r</span> [<span class="id">r</span>'| |]| |] // ? ?; <span class="id"><a name="i:734">rewrite</a></span> -<span class="id">EFinD</span> <span class="id">ltry</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_sum_pinfty</span> <span class="id">I</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">i</a></span> -&gt; <span class="id">f</span> <span class="id">i</span> &lt; +<span class="id">oo</span>) -&gt; \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof265')">Proof.</span></div>
<div class="proofscript" id="proof265">
<span class="id">elim</span>/<span class="id">big_ind</span> : <span class="id">_</span> =&gt; [<span class="id">_</span>|<span class="id">x</span> <span class="id">y</span> <span class="id">xoo</span> <span class="id">yoo</span> <span class="id">foo</span>|<span class="id">i</span> ?]; [<span class="id">exact</span>: <span class="id">ltry</span>| |<span class="id">exact</span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">lte_add_pinfty</span>; [<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">exact</a></span>: <span class="id">xoo</span>| <span class="id">exact</span>: <span class="id">yoo</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sube_gt0</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt; <span class="id">y</span> - <span class="id">x</span>) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof266')">Proof.</span></div>
<div class="proofscript" id="proof266">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r</span> | |] [<span class="id">r</span>'| |] //=; <span class="id">rewrite</span> ?(<span class="id">ltry</span>, <span class="id">ltNyr</span>)// !<span class="id">lte_fin</span> <span class="id">subr_gt0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sube_le0</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">y</span> - <span class="id">x</span> &lt;= 0) = (<span class="id">y</span> &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof267')">Proof.</span></div>
<div class="proofscript" id="proof267">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">leNgt</span> <span class="id">sube_gt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">suber_ge0</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">x</a></span> - <span class="id">y</span>) = (<span class="id">y</span> &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof268')">Proof.</span></div>
<div class="proofscript" id="proof268">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //= <span class="id">_</span>; <span class="id">rewrite</span> ?(<span class="id">leey</span>, <span class="id">lee_fin</span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">subr_ge0</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">subre_ge0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (0 &lt;= <span class="id">y</span> - <span class="id">x</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof269')">Proof.</span></div>
<div class="proofscript" id="proof269">
<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">move</a></span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=; <span class="id">rewrite</span> ?(<span class="id">leey</span>, <span class="id">leNye</span>, <span class="id">lee_fin</span>) //= <span class="id">subr_ge0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sube_ge0</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) || (<span class="id"><a name="x:747">y</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) -&gt;<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id">y</span> - <span class="id">x</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof270')">Proof.</span></div>
<div class="proofscript" id="proof270">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">orP</span>[?|?]; [<span class="id">rewrite</span> <span class="id">suber_ge0</span>|<span class="id">rewrite</span> <span class="id">subre_ge0</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_oppl</span> <span class="id">x</span> <span class="id"><a name="x:749">y</a></span> : (- <span class="id">x</span> &lt; <span class="id">y</span>) = (- <span class="id">y</span> &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof271')">Proof.</span></div>
<div class="proofscript" id="proof271">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r</span>| |] [<span class="id">r</span>'| |] //=; <span class="id">rewrite</span> ?(<span class="id">ltry</span>, <span class="id">ltNyr</span>)// !<span class="id">lte_fin</span> <span class="id">ltr_oppl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_oppr</span> <span class="id">x</span> <span class="id"><a name="x:751">y</a></span> : (<span class="id">x</span> &lt; - <span class="id">y</span>) = (<span class="id">y</span> &lt; - <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof272')">Proof.</span></div>
<div class="proofscript" id="proof272">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r</span>| |] [<span class="id">r</span>'| |] //=; <span class="id">rewrite</span> ?(<span class="id">ltry</span>, <span class="id">ltNyr</span>)// !<span class="id">lte_fin</span> <span class="id">ltr_oppr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_oppr</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id"><a name="y:754">x</a></span> &lt;= - <span class="id">y</span>) = (<span class="id">y</span> &lt;= - <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof273')">Proof.</span></div>
<div class="proofscript" id="proof273">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r0</span>| |] [<span class="id">r1</span>| |] //=; <span class="id">rewrite</span> ?(<span class="id">leey</span>, <span class="id">leNye</span>)// !<span class="id">lee_fin</span> <span class="id">ler_oppr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_oppl</span> <span class="id">x</span> <span class="id"><a name="x:755">y</a></span> : (- <span class="id">x</span> &lt;= <span class="id">y</span>) = (- <span class="id">y</span> &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof274')">Proof.</span></div>
<div class="proofscript" id="proof274">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r0</span>| |] [<span class="id">r1</span>| |] //=; <span class="id">rewrite</span> ?(<span class="id">leey</span>, <span class="id">leNye</span>)// !<span class="id">lee_fin</span> <span class="id">ler_oppl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleN</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> * - <span class="id">y</span> = - (<span class="id">x</span> * <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof275')">Proof.</span></div>
<div class="proofscript" id="proof275">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">rewrite</a></span> /<span class="id">mule</span>/=; <span class="id">try</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrN</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">eqe</span> !<span class="id">lte_fin</span>; <span class="id">case</span>: <span class="id">ltrgtP</span> =&gt; //; <span class="id">rewrite</span> <span class="id">oppe0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">eqe</span> !<span class="id">lte_fin</span>; <span class="id">case</span>: <span class="id">ltrgtP</span> =&gt; //; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">rewrite</a></span> <span class="id">oppe0</span>.<br/>
- <span class="id">rewrite</span> !<span class="id">eqe</span> <span class="id">oppr_eq0</span> <span class="id">eq_sym</span>; <span class="id">case</span>: <span class="id">ifP</span>; <span class="id">rewrite</span> ?<span class="id">oppe0</span>// =&gt; <span class="id">y0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">RHS</span>]<span class="id">fun_if</span> <span class="id">ltNge</span> <span class="id">if_neg</span> <span class="id">EFinN</span> <span class="id">lee_oppl</span> <span class="id">oppe0</span> <span class="id">le_eqVlt</span> <span class="id">eqe</span> <span class="id">y0</span>.<br/>
- <span class="id">rewrite</span> !<span class="id">eqe</span> <span class="id">oppr_eq0</span> <span class="id">eq_sym</span>; <span class="id">case</span>: <span class="id">ifP</span>; <span class="id">rewrite</span> ?<span class="id">oppe0</span>// =&gt; <span class="id">y0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">RHS</span>]<span class="id">fun_if</span> <span class="id">ltNge</span> <span class="id">if_neg</span> <span class="id">EFinN</span> <span class="id"><a name="y:760">lee_oppl</a></span> <span class="id">oppe0</span> <span class="id">le_eqVlt</span> <span class="id">eqe</span> <span class="id">y0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulNe</span> <span class="id">x</span> <span class="id">y</span> : - <span class="id">x</span> * <span class="id">y</span> = - (<span class="id">x</span> * <span class="id">y</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof276')">Proof.</span></div>
<div class="proofscript" id="proof276">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">muleN</span> <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleNN</span> <span class="id">x</span> <span class="id">y</span> : - <span class="id">x</span> * - <span class="id">y</span> = <span class="id">x</span> * <span class="id">y</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof277')">Proof.</span></div>
<div class="proofscript" id="proof277">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulNe</span> <span class="id">muleN</span> <span class="id">oppeK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulry</span> <span class="id">r</span> : <span class="id">r</span>%:<span class="id">E</span> * +<span class="id">oo</span>%<span class="id">E</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">E</a></span> * +<span class="id">oo</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof278')">Proof.</span></div>
<div class="proofscript" id="proof278">
 <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">LHS</span>]<span class="id">real_mulry</span>// <span class="id">num_real</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulyr</span> <span class="id">r</span> : +<span class="id">oo</span>%<span class="id">E</span> * <span class="id">r</span>%:<span class="id">E</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id">E</span> * +<span class="id">oo</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof279')">Proof.</span></div>
<div class="proofscript" id="proof279">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulry</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulrNy</span> <span class="id">r</span> : <span class="id">r</span>%:<span class="id">E</span> * -<span class="id">oo</span>%<span class="id">E</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id">E</span> * -<span class="id">oo</span>%<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulrNy">E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof280')">Proof.</span></div>
<div class="proofscript" id="proof280">
 <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">LHS</span>]<span class="id">real_mulrNy</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">num_real</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNyr">mulNyr</a></span> <span class="id">r</span> : -<span class="id">oo</span>%<span class="id">E</span> * <span class="id">r</span>%:<span class="id">E</span> = (<span class="id">Num.sg</span> <span class="id">r</span>)%:<span class="id">E</span> * -<span class="id">oo</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof281')">Proof.</span></div>
<div class="proofscript" id="proof281">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulrNy</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">mulr_infty</span> := (<span class="id">mulry</span>, <span class="id">mulyr</span>, <span class="id">mulrNy</span>, <span class="id">mulNyr</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_mul_pinfty</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> &lt; +<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">oo</a></span> -&gt; <span class="id">x</span> * <span class="id">y</span> &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof282')">Proof.</span></div>
<div class="proofscript" id="proof282">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] // <span class="id">x0</span> <span class="id">xfin</span> <span class="id">_</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFinM</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">ltry</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">mulr_infty</span>; <span class="id">move</span>: <span class="id"><a name="x:767">x0</a></span>; <span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">x0</span>].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sgr0</span> <span class="id">mul0e</span> <span class="id">ltry</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_sg</span> // <span class="id">mul1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_ge0_gt0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; (0 &lt; <span class="id">x</span> * <span class="id">y</span>) = (0 &lt; <span class="id">x</span>) &amp;&amp; (0 &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof283')">Proof.</span></div>
<div class="proofscript" id="proof283">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> ?<span class="id">lee_fin</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> <span class="id">y0</span>; <span class="id">rewrite</span> !<span class="id">lte_fin</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">mulr_ge0_gt0</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">x0</span>] <span class="id">_</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0e</span> <span class="id">ltxx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span> <span class="id">andbT</span> <span class="id">mulr_infty</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulr_infty">gtr0_sg</a></span>// <span class="id">mul1e</span> <span class="id">lte_fin</span> <span class="id">x0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">ltry</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">x0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule0</span> <span class="id"><a name="x:769">ltxx</a></span> <span class="id">andbC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>/= <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">lte_fin</span> <span class="id">x0</span> <span class="id">ltry</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">ltry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gt0_mulye</span> <span class="id">x</span> : (0 &lt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">x</a></span> -&gt; +<span class="id">oo</span> * <span class="id">x</span> = +<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof284')">Proof.</span></div>
<div class="proofscript" id="proof284">
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|<span class="id">_</span>|//]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_fin</span> =&gt; <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt0_mulye</span> <span class="id">x</span> : (<span class="id">x</span> &lt; 0 -&gt; +<span class="id">oo</span> * <span class="id">x</span> = -<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof285')">Proof.</span></div>
<div class="proofscript" id="proof285">
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|//|<span class="id">_</span>]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyNy</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_fin</span> =&gt; <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulr_infty</span> <span class="id">ltr0_sg</span>// <span class="id">mulN1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulr_infty">gt0_mulNye</a></span> <span class="id">x</span> : (0 &lt; <span class="id">x</span> -&gt; -<span class="id">oo</span> * <span class="id">x</span> = -<span class="id">oo</span>)%<span class="id"><a name="lt0_mulNye">E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof286')">Proof.</span></div>
<div class="proofscript" id="proof286">
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|<span class="id">_</span>|//]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulNyy</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_fin</span> =&gt; <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt0_mulNye</span> <span class="id">x</span> : (<span class="id">x</span> &lt; 0 -&gt; -<span class="id">oo</span> * <span class="id">x</span> = +<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof287')">Proof.</span></div>
<div class="proofscript" id="proof287">
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|//|<span class="id">_</span>]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulNyNy</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_fin</span> =&gt; <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mulr_infty</span> <span class="id"><a name="lt0_muley">ltr0_sg</a></span>// <span class="id"><a name="x:774">mulN1e</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gt0_muley</span> <span class="id">x</span> : (0 &lt; <span class="id">x</span> -&gt; <span class="id">x</span> * +<span class="id">oo</span> = +<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof288')">Proof.</span></div>
<div class="proofscript" id="proof288">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">gt0_mulye</span>; <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id"><a name="x:775">apply</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt0_muley</span> <span class="id">x</span> : (<span class="id">x</span> &lt; 0 -&gt; <span class="id">x</span> * +<span class="id">oo</span> = -<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof289')">Proof.</span></div>
<div class="proofscript" id="proof289">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">lt0_mulye</span>; <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gt0_muleNy</span> <span class="id">x</span> : (0 &lt; <span class="id">x</span> -&gt; <span class="id">x</span> * -<span class="id">oo</span> = -<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof290')">Proof.</span></div>
<div class="proofscript" id="proof290">
 <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">move</a></span>=&gt; /<span class="id">gt0_mulNye</span>; <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt0_muleNy</span> <span class="id">x</span> : (<span class="id">x</span> &lt; 0 -&gt; <span class="id">x</span> * -<span class="id">oo</span> = +<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof291')">Proof.</span></div>
<div class="proofscript" id="proof291">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">lt0_mulNye</span>; <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_eq_pinfty</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> * <span class="id">y</span> == +<span class="id">oo</span>) =<br/>
&nbsp;&nbsp;[|| (<span class="id">x</span> &gt; 0) &amp;&amp; (<span class="id">y</span> == +<span class="id">oo</span>), (<span class="id">x</span> &lt; 0) &amp;&amp; (<span class="id">y</span> == -<span class="id">oo</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> == +<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> &gt; 0) | (<span class="id">x</span> == -<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> &lt; 0)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof292')">Proof.</span></div>
<div class="proofscript" id="proof292">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]; <span class="id">rewrite</span> ?(<span class="id">lte_fin</span>,<span class="id">andbF</span>,<span class="id">andbT</span>,<span class="id">orbF</span>,<span class="id">eqxx</span>,<span class="id">andbT</span>)//=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span>; <span class="id">have</span> [/<span class="id">ltr0_sg</span>|/<span class="id">gtr0_sg</span>|] := <span class="id">ltgtP</span> <span class="id">x</span> 0%<span class="id">R</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -&gt;; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">rewrite</a></span> ?(<span class="id">mulN1e</span>,<span class="id">mul1e</span>,<span class="id">sgr0</span>,<span class="id">mul0e</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span>; <span class="id">have</span> [/<span class="id">ltr0_sg</span>|/<span class="id">gtr0_sg</span>|] := <span class="id">ltgtP</span> <span class="id">x</span> 0%<span class="id">R</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -&gt;; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">rewrite</a></span> ?(<span class="id">mulN1e</span>,<span class="id">mul1e</span>,<span class="id">sgr0</span>,<span class="id">mul0e</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span>; <span class="id">have</span> [/<span class="id">ltr0_sg</span>|/<span class="id">gtr0_sg</span>|] := <span class="id">ltgtP</span> <span class="id">y</span> 0%<span class="id">R</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> ?(<span class="id">mulN1e</span>,<span class="id">mul1e</span>,<span class="id">sgr0</span>,<span class="id">mul0e</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">ltry</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyNy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span>; <span class="id">have</span> [/<span class="id">ltr0_sg</span>|/<span class="id">gtr0_sg</span>|] := <span class="id">ltgtP</span> <span class="id">y</span> 0%<span class="id">R</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> ?(<span class="id">mulN1e</span>,<span class="id">mul1e</span>,<span class="id">sgr0</span>,<span class="id">mul0e</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulNyy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNyr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_eq_ninfty</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> * <span class="id">y</span> == -<span class="id">oo</span>) =<br/>
&nbsp;&nbsp;[|| (<span class="id">x</span> &gt; 0) &amp;&amp; (<span class="id">y</span> == -<span class="id">oo</span>), (<span class="id">x</span> &lt; 0) &amp;&amp; (<span class="id">y</span> == +<span class="id">oo</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> == -<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> &gt; 0) | (<span class="id">x</span> == +<span class="id">oo</span>) &amp;&amp; (<span class="id">y</span> &lt; 0)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof293')">Proof.</span></div>
<div class="proofscript" id="proof293">
<span class="id">have</span> := <span class="id">mule_eq_pinfty</span> <span class="id">x</span> (- <span class="id">y</span>); <span class="id">rewrite</span> <span class="id">muleN</span> <span class="id">eqe_oppLR</span> =&gt; -&gt;.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">eqe_oppLR</span> <span class="id">lte_oppr</span> <span class="id">lte_oppl</span> <span class="id"><a name="a:783">oppe0</a></span> (<span class="id">orbC</span> <span class="id">_</span> ((<span class="id">x</span> == -<span class="id">oo</span>) &amp;&amp; <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lteN2</span> <span class="id">x</span> <span class="id">y</span> : (- <span class="id">x</span> &lt; - <span class="id">y</span>) = (<span class="id">y</span> &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof294')">Proof.</span></div>
<div class="proofscript" id="proof294">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_oppl</span> <span class="id">oppeK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_add</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">a</span> &lt; <span class="id">b</span> -&gt; <span class="id">x</span> &lt; <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">x</span> &lt; <span class="id">b</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof295')">Proof.</span></div>
<div class="proofscript" id="proof295">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span>=&gt; [<span class="id">a</span>| |] [<span class="id">b</span>| |] [<span class="id">x</span>| |] [<span class="id">y</span>| |]; <span class="id">rewrite</span> ?(<span class="id">ltry</span>,<span class="id">ltNyr</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span>; <span class="id">exact</span>: <span class="id">ltr_add</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_addl</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">y</a></span> : 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> &lt;= <span class="id"><a name="lee_addr">x</a></span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof296')">Proof.</span></div>
<div class="proofscript" id="proof296">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; -[ <span class="id">x</span> [<span class="id">y</span>| |]//= | [| |]// | [| | ]//];<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">ler_addl</span> | <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">exact</span>: <span class="id">leey</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_addr</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof297')">Proof.</span></div>
<div class="proofscript" id="proof297">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addeC</span>; <span class="id">exact</span>: <span class="id">lee_addl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gee_addl</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">y</a></span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">x</span> + <span class="id">y</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof298')">Proof.</span></div>
<div class="proofscript" id="proof298">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; -[ <span class="id">x</span> [<span class="id">y</span>| |]//= | [| |]// | [| | ]//];<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">ger_addl</span> | <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">exact</span>: <span class="id">leNye</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gee_addr</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">y</span> + <span class="id">x</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof299')">Proof.</span></div>
<div class="proofscript" id="proof299">
 <span class="id">rewrite</span> <span class="id">addeC</span>; <span class="id">exact</span>: <span class="id">gee_addl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_addl</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> &lt; <span class="id">y</span> + <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">x</a></span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof300')">Proof.</span></div>
<div class="proofscript" id="proof300">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] <span class="id">_</span> //; <span class="id">rewrite</span> ?<span class="id">ltry</span> ?<span class="id">ltNyr</span> // !<span class="id">lte_fin</span> <span class="id">ltr_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_addr</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> &lt; <span class="id">x</span> + <span class="id">y</span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof301')">Proof.</span></div>
<div class="proofscript" id="proof301">
 <span class="id">rewrite</span> <span class="id">addeC</span>; <span class="id">exact</span>: <span class="id">lte_addl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_subl</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> - <span class="id">x</span> &lt; <span class="id">y</span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof302')">Proof.</span></div>
<div class="proofscript" id="proof302">
<span class="id">move</span>: <span class="id">y</span> <span class="id">x</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] <span class="id">_</span> //; <span class="id">rewrite</span> <span class="id">addeC</span> /= ?<span class="id">ltNyr</span> ?<span class="id">ltry</span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> <span class="id">gtr_addr</span> <span class="id">ltr_oppl</span> <span class="id">oppr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_subr</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (- <span class="id">x</span> + <span class="id">y</span> &lt; <span class="id">y</span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof303')">Proof.</span></div>
<div class="proofscript" id="proof303">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addeC</span>; <span class="id">exact</span>: <span class="id">gte_subl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">gte_addl</a></span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> + <span class="id">y</span> &lt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">x</a></span>) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof304')">Proof.</span></div>
<div class="proofscript" id="proof304">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">r</span>| |] [<span class="id">s</span>| |]// <span class="id">_</span>; [<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gte_addl">lte_fin</a></span> <span class="id">gtr_addl</span>|<span class="id">rewrite</span> !<span class="id">ltNyr</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_addr</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> + <span class="id">x</span> &lt; <span class="id">x</span>) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof305')">Proof.</span></div>
<div class="proofscript" id="proof305">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addeC</span>; <span class="id">exact</span>: <span class="id">gte_addl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_add2lE</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> + <span class="id">a</span> &lt; <span class="id">x</span> + <span class="id">b</span>) = (<span class="id">a</span> &lt; <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof306')">Proof.</span></div>
<div class="proofscript" id="proof306">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> =&gt; [<span class="id">a</span>| |] [<span class="id">b</span>| |] [<span class="id">x</span>| |] <span class="id">_</span> //; <span class="id">rewrite</span> ?(<span class="id">ltry</span>, <span class="id">ltNyr</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> <span class="id">ltr_add2l</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_add2l</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">x</span> + <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">a</a></span> &lt;= <span class="id">x</span> + <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof307')">Proof.</span></div>
<div class="proofscript" id="proof307">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> =&gt; -[<span class="id">a</span> [<span class="id">b</span> [<span class="id">x</span> /=|//|//] | []// |//] | []// | ].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a name="b:815">lee_fin</a></span> <span class="id">ler_add2l</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">leey</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; -[<span class="id">b</span> [|  |]// | []// | //] <span class="id">r</span> <span class="id">oob</span>; <span class="id">exact</span>: <span class="id">leNye</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_add2lE</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">x</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> + <span class="id">a</span> &lt;= <span class="id">x</span> + <span class="id">b</span>) = (<span class="id">a</span> &lt;= <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof308')">Proof.</span></div>
<div class="proofscript" id="proof308">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> =&gt; [<span class="id">a</span>| |] [<span class="id">b</span>| |] [<span class="id">x</span>| |] <span class="id">_</span> //; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">rewrite</a></span> ?(<span class="id">leey</span>, <span class="id">leNye</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">ler_add2l</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_add2r</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">a</span> + <span class="id">x</span> &lt;= <span class="id">b</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof309')">Proof.</span></div>
<div class="proofscript" id="proof309">
 <span class="id">rewrite</span> <span class="id">addeC</span> (<span class="id">addeC</span> <span class="id">b</span>); <span class="id">exact</span>: <span class="id">lee_add2l</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_add</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">b</a></span> <span class="id">x</span> <span class="id">y</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">x</span> &lt;= <span class="id"><a name="lte_le_add">b</a></span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof310')">Proof.</span></div>
<div class="proofscript" id="proof310">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">a</span>| |] [<span class="id">b</span>| |] [<span class="id">x</span>| |] [<span class="id">y</span>| |]; <span class="id">rewrite</span> ?(<span class="id">leey</span>, <span class="id">leNye</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span>; <span class="id">exact</span>: <span class="id">ler_add</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_le_add</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">b</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">a</span> &lt; <span class="id">x</span> -&gt; <span class="id">b</span> &lt;= <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">b</span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof311')">Proof.</span></div>
<div class="proofscript" id="proof311">
<span class="id">move</span>: <span class="id"><a name="a:827">x</a></span> <span class="id"><a name="b:828">y</a></span> <span class="id"><a name="x:829">a</a></span> <span class="id"><a name="y:830">b</a></span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">a</span>| |] [<span class="id">b</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?(<span class="id">ltry</span>, <span class="id">ltNyr</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span>; <span class="id">exact</span>: <span class="id">ltr_le_add</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_lt_add</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">a</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">a</span> &lt;= <span class="id">x</span> -&gt; <span class="id">b</span> &lt; <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">b</span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof312')">Proof.</span></div>
<div class="proofscript" id="proof312">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">afin</span> <span class="id">xa</span> <span class="id">yb</span>; <span class="id">rewrite</span> (<span class="id">addeC</span> <span class="id">a</span>) (<span class="id">addeC</span> <span class="id">x</span>) <span class="id">lte_le_add</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sub</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">u</span> : <span class="id">x</span> &lt;= <span class="id">y</span> -&gt; <span class="id">u</span> &lt;= <span class="id">z</span> -&gt; <span class="id">x</span> - <span class="id">z</span> &lt;= <span class="id">y</span> - <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof313')">Proof.</span></div>
<div class="proofscript" id="proof313">
<span class="id">move</span>: <span class="id"><a name="u:836">x</a></span> <span class="id"><a name="x:837">y</a></span> <span class="id"><a name="y:838">z</a></span> <span class="id">u</span> =&gt; -[<span class="id">x</span>| |] -[<span class="id">y</span>| |] -[<span class="id">z</span>| |] -[<span class="id">u</span>| |] //=; <span class="id">rewrite</span> ?(<span class="id">leey</span>,<span class="id">leNye</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span>; <span class="id">exact</span>: <span class="id">ler_sub</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_le_sub</span> <span class="id">z</span> <span class="id">u</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">u</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> &lt; <span class="id">z</span> -&gt; <span class="id">u</span> &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span> - <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof314')">Proof.</span></div>
<div class="proofscript" id="proof314">
<span class="id">move</span>: <span class="id">z</span> <span class="id">u</span> <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">z</span>| |] [<span class="id">u</span>| |] [<span class="id">x</span>| |] [<span class="id">y</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?(<span class="id">ltry</span>, <span class="id">ltNyr</span>)//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> =&gt; <span class="id">xltr</span> <span class="id">tley</span>; <span class="id">apply</span>: <span class="id">ltr_le_add</span>; <span class="id">rewrite</span> // <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pmul2r</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">z</span> -&gt; {<span class="id">mono</span> *%<span class="id">E</span>^~ <span class="id">z</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">x</a></span> &lt; <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof315')">Proof.</span></div>
<div class="proofscript" id="proof315">
<span class="id">move</span>: <span class="id">z</span> =&gt; [<span class="id">z</span>| |] <span class="id">_</span> // <span class="id">z0</span> [<span class="id">x</span>| |] [<span class="id">y</span>| |] //.<br/>
- <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">rewrite</a></span> !<span class="id">lte_fin</span> <span class="id">ltr_pmul2r</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">gtr0_sg</a></span>// <span class="id">mul1e</span> 2!<span class="id">ltry</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">ltNge</span> <span class="id">leNye</span> <span class="id">ltNge</span> <span class="id">leNye</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">ltNge</span> <span class="id">leey</span> <span class="id">ltNge</span> <span class="id">leey</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a name="z:844">rewrite</a></span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">ltNyr</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pmul2l</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id"><a name="z:849">a</a></span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">z</span> -&gt; {<span class="id">mono</span> *%<span class="id">E</span> <span class="id">z</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt; <span class="id"><a name="x:851">y</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof316')">Proof.</span></div>
<div class="proofscript" id="proof316">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zfin</span> <span class="id">z0</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">y</a></span>; <span class="id">rewrite</span> 2!(<span class="id">muleC</span> <span class="id">z</span>) <span class="id">lte_pmul2r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_nmul2l</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">z</span> &lt; 0 -&gt; {<span class="id">mono</span> *%<span class="id">E</span> <span class="id">z</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt; <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof317')">Proof.</span></div>
<div class="proofscript" id="proof317">
<span class="id">rewrite</span> -<span class="id">oppe0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">lte_oppr</a></span> =&gt; <span class="id">zfin</span> <span class="id">z0</span> <span class="id">x</span> <span class="id">y</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a name="y:855">oppeK</a></span> <span class="id">z</span>) !<span class="id">mulNe</span> <span class="id">lte_oppl</span> <span class="id">oppeK</span> -2!<span class="id">mulNe</span> <span class="id">lte_pmul2l</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_nmul2r</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a name="x:859">fin_num</a></span> -&gt; <span class="id">z</span> &lt; 0 -&gt; {<span class="id">mono</span> *%<span class="id">E</span>^~ <span class="id">z</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt; <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof318')">Proof.</span></div>
<div class="proofscript" id="proof318">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zfin</span> <span class="id">z0</span> <span class="id">x</span> <span class="id">y</span>; <span class="id">rewrite</span> -!(<span class="id">muleC</span> <span class="id">z</span>) <span class="id">lte_nmul2l</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pmulr</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; (<span class="id">y</span> &lt; <span class="id">y</span> * <span class="id">x</span>) = (1 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof319')">Proof.</span></div>
<div class="proofscript" id="proof319">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">yfin</span> <span class="id">y0</span>; <span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt; <span class="id">_</span> = <span class="id">_</span>]<span class="id">mule1</span> <span class="id">lte_pmul2l</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pmull</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">is</a></span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; (<span class="id">y</span> &lt; <span class="id">x</span> * <span class="id">y</span>) = (1 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof320')">Proof.</span></div>
<div class="proofscript" id="proof320">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">yfin</span> <span class="id">y0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lte_pmulr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_nmulr</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> &lt; 0 -&gt; (<span class="id">y</span> &lt; <span class="id">y</span> * <span class="id">x</span>) = (<span class="id">x</span> &lt; 1).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof321')">Proof.</span></div>
<div class="proofscript" id="proof321">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">yfin</span> <span class="id">y0</span>; <span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt; <span class="id">_</span> = <span class="id">_</span>]<span class="id">mule1</span> <span class="id">lte_nmul2l</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_nmull</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">a</a></span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> &lt; 0 -&gt; (<span class="id">y</span> &lt; <span class="id">x</span> * <span class="id">y</span>) = (<span class="id">x</span> &lt; 1).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof322')">Proof.</span></div>
<div class="proofscript" id="proof322">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">yfin</span> <span class="id">y0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lte_nmulr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum</span> <span class="id">I</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) <span class="id">s</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> &lt;= <span class="id">g</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id"><a name="P:883">sum_</a></span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">g</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof323')">Proof.</span></div>
<div class="proofscript" id="proof323">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Pfg</span>; <span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; // *; <span class="id">apply</span> <span class="id">lee_add</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_nneg_subset</span> <span class="id">I</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;{<span class="id">subset</span> <span class="id">Q</span> &lt;= <span class="id">P</span>} -&gt; {<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">P</span> &amp; <span class="id">Q</span>], <span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id">f</span> <span class="id">i</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">Q</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof324')">Proof.</span></div>
<div class="proofscript" id="proof324">
<span class="id">move</span>=&gt; <span class="id">QP</span> <span class="id">PQf</span>; <span class="id">rewrite</span> <span class="id">big_mkcond</span> [<span class="id">leRHS</span>]<span class="id">big_mkcond</span> <span class="id">lee_sum</span>// =&gt; <span class="id">i</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">implyP</span>: (<span class="id">QP</span> <span class="id">i</span>); <span class="id">move</span>: (<span class="id">PQf</span> <span class="id">i</span>); <span class="id">rewrite</span> !<span class="id">inE</span> -!<span class="id">topredE</span>/=; <span class="id">do</span> !<span class="id">case</span>: <span class="id"><a name="i:898">ifP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_npos_subset</span> <span class="id">I</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;{<span class="id">subset</span> <span class="id">Q</span> &lt;= <span class="id">P</span>} -&gt; {<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">P</span> &amp; <span class="id">Q</span>], <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">f</span> <span class="id">i</span> &lt;= 0} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">Q</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof325')">Proof.</span></div>
<div class="proofscript" id="proof325">
<span class="id">move</span>=&gt; <span class="id">QP</span> <span class="id">PQf</span>; <span class="id">rewrite</span> <span class="id">big_mkcond</span> [<span class="id">leRHS</span>]<span class="id">big_mkcond</span> <span class="id"><a name="s:906">lee_sum</a></span>// =&gt; <span class="id">i</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">implyP</span>: (<span class="id">QP</span> <span class="id">i</span>); <span class="id">move</span>: (<span class="id">PQf</span> <span class="id">i</span>); <span class="id">rewrite</span> !<span class="id">inE</span> -!<span class="id">topredE</span>/=; <span class="id">do</span> !<span class="id">case</span>: <span class="id">ifP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_nneg</span> (<span class="id">I</span> : <span class="id">eqType</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : <span class="id">pred</span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">R</a></span>) : (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; ~~ <span class="id">Q</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span> &amp;&amp; <span class="id">Q</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof326')">Proof.</span></div>
<div class="proofscript" id="proof326">
<span class="id">move</span>=&gt; <span class="id">PQf</span>; <span class="id">rewrite</span> [<span class="id">leRHS</span>](<span class="id">bigID</span> <span class="id">Q</span>) /= -[<span class="id">leLHS</span>]<span class="id">adde0</span> <span class="id">lee_add</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sume_ge0</span>// =&gt; <span class="id">i</span> /<span class="id">andP</span>[]; <span class="id">exact</span>: <span class="id">PQf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_npos</span> (<span class="id">I</span> : <span class="id">eqType</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : <span class="id">pred</span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leLHS">R</a></span>) : (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; ~~ <span class="id">Q</span> <span class="id">i</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">f</a></span> <span class="id">i</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span> &amp;&amp; <span class="id">Q</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof327')">Proof.</span></div>
<div class="proofscript" id="proof327">
<span class="id">move</span>=&gt; <span class="id">PQf</span>; <span class="id">rewrite</span> [<span class="id">leLHS</span>](<span class="id">bigID</span> <span class="id">Q</span>) /= -[<span class="id">leRHS</span>]<span class="id">adde0</span> <span class="id">lee_add</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sume_le0</span>// =&gt; <span class="id"><a name="n:932">i</a></span> /<span class="id">andP</span>[]; <span class="id"><a name="i:933">exact</a></span>: <span class="id">PQf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="j:937">lee_sum_nneg_ord</a></span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id">n</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">n</span>) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">i</span> &lt;= <span class="id">j</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof328')">Proof.</span></div>
<div class="proofscript" id="proof328">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">big_ord_widen_cond</a></span> <span class="id">j</span>) // <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">big_mkcondr</a></span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_sum</span> // =&gt; <span class="id">k</span> ?; <span class="id">case</span>: <span class="id">ifP</span> =&gt; // <span class="id">_</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="j:948">lee_sum_npos_ord</a></span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id">n</span> -&gt; <span class="id">f</span> <span class="id">n</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">j</a></span>)%<span class="id">N</span> &gt;-&gt; <span class="id">j</span> &lt;= <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof329')">Proof.</span></div>
<div class="proofscript" id="proof329">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">m</span> <span class="id">n</span> ?; <span class="id">rewrite</span> [<span class="id">leRHS</span>](<span class="id">big_ord_widen_cond</span> <span class="id">n</span>) // <span class="id">big_mkcondr</span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_sum</span> // =&gt; <span class="id">i</span> ?; <span class="id">case</span>: <span class="id">ifP</span> =&gt; // <span class="id">_</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_nneg_natr</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id">m</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">n</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">n</span>) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id"><a name="k:963">i</a></span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">i</span> &lt;= <span class="id">j</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof330')">Proof.</span></div>
<div class="proofscript" id="proof330">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> -[<span class="id">m</span>]<span class="id">add0n</span> !<span class="id">big_addn</span> !<span class="id">big_mkord</span>.<br/>
<span class="id">apply</span>: (@<span class="id">lee_sum_nneg_ord</span> (<span class="kwd">fun</span> <span class="id">k</span> =&gt; <span class="id"><a name="f:967">f</a></span> (<span class="id">k</span> + <span class="id">m</span>)%<span class="id">N</span>) (<span class="kwd">fun</span> <span class="id">k</span> =&gt; <span class="id">P</span> (<span class="id">k</span> + <span class="id">m</span>)%<span class="id">N</span>));<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">move</span>=&gt; <span class="id">n</span> /<span class="id">f0</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">leq_addl</span> | <span class="id">rewrite</span> <span class="id">leq_sub2r</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_npos_natr</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id">m</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">n</span> -&gt; <span class="id">f</span> <span class="id">n</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id"><a name="k:979">i</a></span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">j</span> &lt;= <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof331')">Proof.</span></div>
<div class="proofscript" id="proof331">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> -[<span class="id">m</span>]<span class="id">add0n</span> !<span class="id">big_addn</span> !<span class="id">big_mkord</span>.<br/>
<span class="id">apply</span>: (@<span class="id">lee_sum_npos_ord</span> (<span class="kwd">fun</span> <span class="id">k</span> =&gt; <span class="id"><a name="f:983">f</a></span> (<span class="id">k</span> + <span class="id">m</span>)%<span class="id">N</span>) (<span class="kwd">fun</span> <span class="id">k</span> =&gt; <span class="id">P</span> (<span class="id">k</span> + <span class="id">m</span>)%<span class="id">N</span>));<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">move</span>=&gt; <span class="id">n</span> /<span class="id">f0</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">leq_addl</span> | <span class="id">rewrite</span> <span class="id">leq_sub2r</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_nneg_natl</span> (<span class="id"><a name="i:991">f</a></span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span>, (<span class="id">m</span> &lt; <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">m</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">m</span>) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">m</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">j</span> &lt;= <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof332')">Proof.</span></div>
<div class="proofscript" id="proof332">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> !<span class="id">big_geq_mkord</span>/=.<br/>
<span class="id"><a name="lee_sum_npos_natl">rewrite</a></span> <span class="id">lee_sum_nneg_subset</span>// =&gt; [<span class="id">k</span> | <span class="id">k</span> /<span class="id">and3P</span>[<span class="id">_</span> /<span class="id">f0</span>-&gt;//]].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">inE</span> -!<span class="id">topredE</span>/= =&gt; /<span class="id">andP</span>[-&gt; /(<span class="id">leq_trans</span> <span class="id">le_ij</span>)-&gt;].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_npos_natl</span> (<span class="id"><a name="i:1003">f</a></span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span>, (<span class="id">m</span> &lt; <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">m</span> -&gt; <span class="id">f</span> <span class="id">m</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">m</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">i</span> &lt;= <span class="id">j</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof333')">Proof.</span></div>
<div class="proofscript" id="proof333">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> !<span class="id">big_geq_mkord</span>/=.<br/>
<span class="id"><a name="lee_sum_nneg_subfset">rewrite</a></span> <span class="id">lee_sum_npos_subset</span>// =&gt; [<span class="id">k</span> | <span class="id">k</span> /<span class="id"><a name="B:1009">and3P</a></span>[<span class="id">_</span> /<span class="id">f0</span>-&gt;//]].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">inE</span> -!<span class="id">topredE</span>/= =&gt; /<span class="id">andP</span>[-&gt; /(<span class="id">leq_trans</span> <span class="id">le_ij</span>)-&gt;].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_nneg_subfset</span> (<span class="id">T</span> : <span class="id">choiceType</span>) (<span class="id">A</span> <span class="id">B</span> : {<span class="id">fset</span> <span class="id">T</span>}%<span class="id">fset</span>) (<span class="id">P</span> : <span class="id"><a name="t:1016">pred</a></span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) : {<span class="id">subset</span> <span class="id">A</span> &lt;= <span class="id">B</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">B</span> &amp; <span class="id">A</span>], <span class="kwd">forall</span> <span class="id">t</span>, <span class="id">P</span> <span class="id">t</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">t</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">A</span> | <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">P</a></span> <span class="id">t</span>) <span class="id">f</span> <span class="id">t</span> &lt;= \<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">B</span> | <span class="id">P</span> <span class="id">t</span>) <span class="id">f</span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof334')">Proof.</span></div>
<div class="proofscript" id="proof334">
<span class="id">move</span>=&gt; <span class="id">AB</span> <span class="id">f0</span>; <span class="id">rewrite</span> [<span class="id">leRHS</span>]<span class="id">big_mkcond</span> (<span class="id">big_fsetID</span> <span class="id">_</span> (<span class="id">mem</span> <span class="id">A</span>) <span class="id">B</span>) /=.<br/>
<span class="id">rewrite</span> -[<span class="id">leLHS</span>]<span class="id">adde0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">lee_add</a></span> //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">big_mkcond</span> /= {1}(<span class="id">_</span> : <span class="id">A</span> = [<span class="id">fset</span> <span class="id">x</span> <span class="kwd">in</span> <span class="id">B</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span>]%<span class="id">fset</span>) //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">t</span>; <span class="id">rewrite</span> !<span class="id">inE</span> /= <span class="id">andbC</span>; <span class="id">case</span>: (<span class="id">boolP</span> (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>)) =&gt; // /<span class="id">AB</span>.<br/>
<span class="id">rewrite</span> <span class="id">big_fset</span> /= <span class="id">big_seq_cond</span> <span class="id">sume_ge0</span> // =&gt; <span class="id">t</span> /<span class="id">andP</span>[<span class="id">tB</span> <span class="id">tA</span>].<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ifPn</span> =&gt; // <span class="id">Pt</span>; <span class="id">rewrite</span> <span class="id">f0</span> // !<span class="id">inE</span> <span class="id">tA</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sum_npos_subfset</span> (<span class="id">T</span> : <span class="id">choiceType</span>) (<span class="id">A</span> <span class="id">B</span> : {<span class="id">fset</span> <span class="id">T</span>}%<span class="id">fset</span>) (<span class="id">P</span> : <span class="id"><a name="t:1046">pred</a></span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) : {<span class="id">subset</span> <span class="id">A</span> &lt;= <span class="id">B</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">B</span> &amp; <span class="id">A</span>], <span class="kwd">forall</span> <span class="id">t</span>, <span class="id">P</span> <span class="id">t</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt;= 0} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">B</span> | <span class="id">P</span> <span class="id">t</span>) <span class="id">f</span> <span class="id">t</span> &lt;= \<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">A</span> | <span class="id">P</span> <span class="id">t</span>) <span class="id">f</span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof335')">Proof.</span></div>
<div class="proofscript" id="proof335">
<span class="id">move</span>=&gt; <span class="id">AB</span> <span class="id">f0</span>; <span class="id">rewrite</span> <span class="id">big_mkcond</span> (<span class="id">big_fsetID</span> <span class="id">_</span> (<span class="id">mem</span> <span class="id">A</span>) <span class="id">B</span>) /=.<br/>
<span class="id">rewrite</span> -[<span class="id">leRHS</span>]<span class="id">adde0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">lee_add</a></span> //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">big_mkcond</span> /= {3}(<span class="id">_</span> : <span class="id">A</span> = [<span class="id">fset</span> <span class="id">x</span> <span class="kwd">in</span> <span class="id">B</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span>]%<span class="id">fset</span>) //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">t</span>; <span class="id">rewrite</span> !<span class="id">inE</span> /= <span class="id">andbC</span>; <span class="id">case</span>: (<span class="id">boolP</span> (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>)) =&gt; // /<span class="id">AB</span>.<br/>
<span class="id">rewrite</span> <span class="id">big_fset</span> /= <span class="id">big_seq_cond</span> <span class="id">sume_le0</span> // =&gt; <span class="id">t</span> /<span class="id">andP</span>[<span class="id">tB</span> <span class="id">tA</span>].<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ifPn</span> =&gt; // <span class="id">Pt</span>; <span class="id">rewrite</span> <span class="id">f0</span> // !<span class="id">inE</span> <span class="id">tA</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_subl_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof336')">Proof.</span></div>
<div class="proofscript" id="proof336">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">z</a></span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">ltry</span> ?<span class="id">ltNyr</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> <span class="id">ltr_subl_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_subl_addl</span> <span class="id"><a name="z:1075">x</a></span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof337')">Proof.</span></div>
<div class="proofscript" id="proof337">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lte_subl_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_subr_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">x</span> + <span class="id">z</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof338')">Proof.</span></div>
<div class="proofscript" id="proof338">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">z</a></span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">ltNyr</span> ?<span class="id">ltry</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> <span class="id">ltr_subr_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_subr_addl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof339')">Proof.</span></div>
<div class="proofscript" id="proof339">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lte_subr_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">lte_subel_addr</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof340')">Proof.</span></div>
<div class="proofscript" id="proof340">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">ltNyr</span> ?<span class="id">ltry</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> <span class="id">ltr_subl_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_subel_addl</span> <span class="id"><a name="y:1086">x</a></span> <span class="id"><a name="z:1087">y</a></span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">a</a></span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof341')">Proof.</span></div>
<div class="proofscript" id="proof341">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lte_subel_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">lte_suber_addr</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">x</span> + <span class="id">z</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof342')">Proof.</span></div>
<div class="proofscript" id="proof342">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">ltNyr</span> ?<span class="id">ltry</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> <span class="id">ltr_subr_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_suber_addl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof343')">Proof.</span></div>
<div class="proofscript" id="proof343">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lte_suber_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">lee_subl_addr</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">y</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id"><a name="lee_subl_addl">x</a></span> &lt;= <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof344')">Proof.</span></div>
<div class="proofscript" id="proof344">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">z</a></span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">leey</span> ?<span class="id">leNye</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">ler_subl_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_subl_addl</span> <span class="id"><a name="y:1098">x</a></span> <span class="id"><a name="z:1099">y</a></span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">a</a></span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof345')">Proof.</span></div>
<div class="proofscript" id="proof345">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lee_subl_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_subr_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">z</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id"><a name="lee_subr_addl">x</a></span> + <span class="id">z</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof346')">Proof.</span></div>
<div class="proofscript" id="proof346">
<span class="id">move</span>: <span class="id">y</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">z</a></span> =&gt; [<span class="id">y</span>| |] [<span class="id">x</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">leNye</span> ?<span class="id">leey</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">ler_subr_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_subr_addl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof347')">Proof.</span></div>
<div class="proofscript" id="proof347">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lee_subr_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_subel_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">z</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id"><a name="lee_subel_addl">x</a></span> &lt;= <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof348')">Proof.</span></div>
<div class="proofscript" id="proof348">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">leey</span> ?<span class="id">leNye</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">ler_subl_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee_suber_addr">lee_subel_addl</a></span> <span class="id"><a name="x:1109">x</a></span> <span class="id"><a name="y:1110">y</a></span> <span class="id"><a name="z:1111">z</a></span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof349')">Proof.</span></div>
<div class="proofscript" id="proof349">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lee_subel_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_suber_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">y</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id"><a name="lee_suber_addl">x</a></span> + <span class="id">z</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof350')">Proof.</span></div>
<div class="proofscript" id="proof350">
<span class="id">move</span>: <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> =&gt; [<span class="id">y</span>| |] [<span class="id">x</span>| |] [<span class="id">z</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?<span class="id">leNye</span> ?<span class="id">leey</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> <span class="id">ler_subr_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subre_lt0">lee_suber_addl</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof351')">Proof.</span></div>
<div class="proofscript" id="proof351">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lee_suber_addr</span>// <span class="id">addeC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">subre_lt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; 0) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof352')">Proof.</span></div>
<div class="proofscript" id="proof352">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lte_subel_addr</span>// <span class="id">add0e</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">suber_lt0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">x</a></span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; 0) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof353')">Proof.</span></div>
<div class="proofscript" id="proof353">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">lte_subl_addl</a></span>// <span class="id">adde0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sube_lt0</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) || (<span class="id"><a name="x:1121">y</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id">x</span> - <span class="id">y</span> &lt; 0) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof354')">Proof.</span></div>
<div class="proofscript" id="proof354">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">orP</span>[?|?]; [<span class="id">rewrite</span> <span class="id">subre_lt0</span>|<span class="id">rewrite</span> <span class="id">suber_lt0</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_rge0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">x</span> * <span class="id"><a name="pmule_lge0">y</a></span> &gt;= 0) = (<span class="id"><a name="x:1123">y</a></span> &gt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof355')">Proof.</span></div>
<div class="proofscript" id="proof355">
<span class="id">move</span>=&gt; <span class="id">x_gt0</span>; <span class="id">apply</span>/<span class="id">idP</span>/<span class="id">idP</span>; <span class="id">last</span> <span class="id">exact</span>/<span class="id">mule_ge0</span>/<span class="id">ltW</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contra_le</span>; <span class="id">apply</span>: <span class="id">mule_gt0_lt0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_lge0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">y</span> * <span class="id">x</span> &gt;= 0) = (<span class="id">y</span> &gt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof356')">Proof.</span></div>
<div class="proofscript" id="proof356">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>: <span class="id">pmule_rge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_rlt0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">x</span> * <span class="id">y</span> &lt; 0) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof357')">Proof.</span></div>
<div class="proofscript" id="proof357">
 <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#pmule_rlt0">move</a></span>=&gt; /<span class="id">pmule_rge0</span>; <span class="id">rewrite</span> !<span class="id">ltNge</span> =&gt; -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_llt0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">y</span> * <span class="id">x</span> &lt; 0) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof358')">Proof.</span></div>
<div class="proofscript" id="proof358">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_ge0">pmule_rlt0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_rle0</span> <span class="id"><a name="y:1132">x</a></span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">x</span> * <span class="id">y</span> &lt;= 0) = (<span class="id">y</span> &lt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof359')">Proof.</span></div>
<div class="proofscript" id="proof359">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xgt0</span>; <span class="id">rewrite</span> -<span class="id">oppe_ge0</span> -<span class="id">muleN</span> <span class="id">pmule_rge0</span> ?<span class="id">oppe_ge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_lle0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">y</span> * <span class="id">x</span> &lt;= 0) = (<span class="id">y</span> &lt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof360')">Proof.</span></div>
<div class="proofscript" id="proof360">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#pmule_rlt0">muleC</a></span>; <span class="id">apply</span>: <span class="id">pmule_rle0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_rgt0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">x</span> * <span class="id">y</span> &gt; 0) = (<span class="id">y</span> &gt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof361')">Proof.</span></div>
<div class="proofscript" id="proof361">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xgt0</span>; <span class="id">rewrite</span> -<span class="id">oppe_lt0</span> -<span class="id">muleN</span> <span class="id">pmule_rlt0</span> ?<span class="id">oppe_lt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pmule_lgt0</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt; <span class="id">x</span> -&gt; (<span class="id">y</span> * <span class="id">x</span> &gt; 0) = (<span class="id">y</span> &gt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof362')">Proof.</span></div>
<div class="proofscript" id="proof362">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_le0">pmule_rgt0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_rge0</span> <span class="id"><a name="y:1140">x</a></span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">x</span> * <span class="id">y</span> &gt;= 0) = (<span class="id">y</span> &lt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof363')">Proof.</span></div>
<div class="proofscript" id="proof363">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">oppe_gt0</span> =&gt; /<span class="id">pmule_rle0</span>&lt;-; <span class="id">rewrite</span> <span class="id"><a name="nmule_rle0">mulNe</a></span> <span class="id">oppe_le0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_lge0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">y</span> * <span class="id">x</span> &gt;= 0) = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_gt0">y</a></span> &lt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof364')">Proof.</span></div>
<div class="proofscript" id="proof364">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_ge0">nmule_rge0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_rle0</span> <span class="id"><a name="y:1144">x</a></span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">x</span> * <span class="id">y</span> &lt;= 0) = (<span class="id">y</span> &gt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof365')">Proof.</span></div>
<div class="proofscript" id="proof365">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">oppe_gt0</span> =&gt; /<span class="id">pmule_rge0</span>&lt;-; <span class="id">rewrite</span> <span class="id"><a name="nmule_rgt0">mulNe</a></span> <span class="id">oppe_ge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_lle0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">y</span> * <span class="id">x</span> &lt;= 0) = (<span class="id">y</span> &gt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof366')">Proof.</span></div>
<div class="proofscript" id="proof366">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>: <span class="id">nmule_rle0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_rgt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">x</span> * <span class="id">y</span> &gt; 0) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof367')">Proof.</span></div>
<div class="proofscript" id="proof367">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">oppe_gt0</span> =&gt; /<span class="id">pmule_rlt0</span>&lt;-; <span class="id">rewrite</span> <span class="id">mulNe</span> <span class="id">oppe_lt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_lgt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">y</span> * <span class="id">x</span> &gt; 0) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof368')">Proof.</span></div>
<div class="proofscript" id="proof368">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>: <span class="id">nmule_rgt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_rlt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">x</span> * <span class="id">y</span> &lt; 0) = (<span class="id">y</span> &gt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof369')">Proof.</span></div>
<div class="proofscript" id="proof369">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">oppe_gt0</span> =&gt; /<span class="id">pmule_rgt0</span>&lt;-; <span class="id">rewrite</span> <span class="id">mulNe</span> <span class="id">oppe_gt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nmule_llt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; 0 -&gt; (<span class="id">y</span> * <span class="id">x</span> &lt; 0) = (<span class="id">y</span> &gt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof370')">Proof.</span></div>
<div class="proofscript" id="proof370">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">apply</span>: <span class="id">nmule_rlt0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_lt0</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> * <span class="id">y</span> &lt; 0) = [&amp;&amp; <span class="id">x</span> != 0, <span class="id">y</span> != 0 &amp; (<span class="id">x</span> &lt; 0) (+) (<span class="id">y</span> &lt; 0)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof371')">Proof.</span></div>
<div class="proofscript" id="proof371">
<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbA">have</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbb">xlt0</a></span>|<span class="id">xgt0</span>|-&gt;] := <span class="id">ltgtP</span> <span class="id">x</span> 0; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0e</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">nmule_rlt0</span>//= -<span class="id">leNgt</span> <span class="id">lt_def</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">pmule_rlt0</span>//= !<span class="id">lt_neqAle</span> <span class="id">andbA</span> <span class="id">andbb</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleA</span> : <span class="id">associative</span> ( *%<span class="id">E</span> : \<span class="id">bar</span> <span class="id">R</span> -&gt; \<span class="id">bar</span> <span class="id">R</span> -&gt; \<span class="id">bar</span> <span class="id">R</span> ).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof372')">Proof.</span></div>
<div class="proofscript" id="proof372">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>.<br/>
<span class="id">wlog</span> <span class="id">x0</span> : <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_gt0">z</a></span> / 0 &lt; <span class="id">x</span> =&gt; [<span class="id">hwlog</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">x0</span>| |-&gt;] := <span class="id">ltgtP</span> <span class="id">x</span> 0; [ |<span class="id">exact</span>: <span class="id">hwlog</span>|<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">mul0e</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">oppe_inj</span>; <span class="id">rewrite</span> -!<span class="id">mulNe</span> <span class="id">hwlog</span> ?<span class="id">oppe_gt0</span>.<br/>
<span class="id">wlog</span> <span class="id">y0</span> : <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleN">y</a></span> <span class="id">z</span> <span class="id">x0</span> / 0 &lt; <span class="id">y</span> =&gt; [<span class="id">hwlog</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">y0</span>| |-&gt;] := <span class="id">ltgtP</span> <span class="id">y</span> 0; [ |<span class="id">exact</span>: <span class="id">hwlog</span>|<span class="kwd">by</span> <span class="id">rewrite</span> !(<span class="id">mul0e</span>, <span class="id">mule0</span>)].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">oppe_inj</span>; <span class="id">rewrite</span> -<span class="id">muleN</span> -2!<span class="id">mulNe</span> -<span class="id">muleN</span> <span class="id">hwlog</span> ?<span class="id">oppe_gt0</span>.<br/>
<span class="id">wlog</span> <span class="id">z0</span> : <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">x0</span> <span class="id">y0</span> / 0 &lt; <span class="id">z</span> =&gt; [<span class="id">hwlog</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">z0</span>| |-&gt;] := <span class="id">ltgtP</span> <span class="id">z</span> 0; [ |<span class="id">exact</span>: <span class="id">hwlog</span>|<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">mule0</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">oppe_inj</span>; <span class="id">rewrite</span> -!<span class="id">muleN</span> <span class="id">hwlog</span> ?<span class="id">oppe_gt0</span>.<br/>
<span class="id">case</span>: <span class="id">x</span> <span class="id">x0</span> =&gt; [<span class="id">x</span> <span class="id">x0</span>| |//]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">gt0_mulye</span> ?<span class="id">mule_gt0</span>.<br/>
<span class="id">case</span>: <span class="id">y</span> <span class="id">y0</span> =&gt; [<span class="id">y</span> <span class="id">y0</span>| |//]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gt0_mulye</span> // <span class="id">muleC</span> !<span class="id">gt0_mulye</span>.<br/>
<span class="id">case</span>: <span class="id">z</span> <span class="id">z0</span> =&gt; [<span class="id">z</span> <span class="id">z0</span>| |//]; <span class="id">last</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">rewrite</a></span> !<span class="id">gt0_muley</span> ?<span class="id">mule_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">mule</span>/= <span class="id">mulrA</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Canonical</span> <span class="id">mule_monoid</span> := <span class="id">Monoid.Law</span> <span class="id">muleA</span> <span class="id">mul1e</span> <span class="id">mule1</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">mule_comoid</span> := <span class="id">Monoid.ComLaw</span> <span class="id">muleC</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleCA</span> : <span class="id">left_commutative</span> ( *%<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">E</a></span> : \<span class="id">bar</span> <span class="id">R</span> -&gt; \<span class="id">bar</span> <span class="id">R</span> -&gt; \<span class="id">bar</span> <span class="id">R</span> ).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof373')">Proof.</span></div>
<div class="proofscript" id="proof373">
 <span class="id">exact</span>: <span class="id">Monoid.mulmCA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">muleAC</a></span> : <span class="id">right_commutative</span> ( *%<span class="id">E</span> : \<span class="id">bar</span> <span class="id">R</span> -&gt; \<span class="id">bar</span> <span class="id">R</span> -&gt; \<span class="id"><a name="muleDr">bar</a></span> <span class="id">R</span> ).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof374')">Proof.</span></div>
<div class="proofscript" id="proof374">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">Monoid.mulmAC</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleACA</span> : <span class="id">interchange</span> (@<span class="id">mule</span> <span class="id">R</span>) (@<span class="id">mule</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof375')">Proof.</span></div>
<div class="proofscript" id="proof375">
 <span class="id">exact</span>: <span class="id">Monoid.mulmACA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleDr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> +? <span class="id">z</span> -&gt; <span class="id">x</span> * (<span class="id">y</span> + <span class="id">z</span>) = <span class="id">x</span> * <span class="id">y</span> + <span class="id">x</span> * <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof376')">Proof.</span></div>
<div class="proofscript" id="proof376">
<span class="id">rewrite</span> /<span class="id">mule</span>/=; <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">z</a></span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] [<span class="id">z</span>| |] //= <span class="id">_</span>; <span class="id">try</span><br/>
&nbsp;&nbsp;(<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; // -[] &lt;-; <span class="id">rewrite</span> ?(<span class="id">mul0r</span>,<span class="id">add0r</span>,<span class="id">adde0</span>))<br/>
&nbsp;&nbsp;|| (<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; //; <span class="id">rewrite</span> <span class="id">adde0</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleDr">mulrDr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="muleBr">muleDl</a></span> <span class="id"><a name="x:1161">x</a></span> <span class="id"><a name="y:1162">y</a></span> <span class="id"><a name="z:1163">z</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> -&gt; <span class="id">y</span> +? <span class="id">z</span> -&gt; (<span class="id">y</span> + <span class="id">z</span>) * <span class="id">x</span> = <span class="id">y</span> * <span class="id">x</span> + <span class="id">z</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof377')">Proof.</span></div>
<div class="proofscript" id="proof377">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> -!(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleDr">muleC</a></span> <span class="id">x</span>) <span class="id">muleDr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleBr</span> <span class="id"><a name="y:1165">x</a></span> <span class="id"><a name="z:1166">y</a></span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">a</a></span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> +? - <span class="id">z</span> -&gt; <span class="id">x</span> * (<span class="id">y</span> - <span class="id">z</span>) = <span class="id">x</span> * <span class="id">y</span> - <span class="id">x</span> * <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof378')">Proof.</span></div>
<div class="proofscript" id="proof378">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">yz</span>; <span class="id">rewrite</span> <span class="id">muleDr</span> ?<span class="id">muleN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">muleBl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> +? - <span class="id">z</span> -&gt; (<span class="id">y</span> - <span class="id">z</span>) * <span class="id">x</span> = <span class="id">y</span> * <span class="id">x</span> - <span class="id">z</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof379')">Proof.</span></div>
<div class="proofscript" id="proof379">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">yz</span>; <span class="id">rewrite</span> <span class="id">muleDl</span>// <span class="id">mulNe</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ge0_muleDl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : 0 &lt;= <span class="id">y</span> -&gt; 0 &lt;= <span class="id">z</span> -&gt; (<span class="id">y</span> + <span class="id">z</span>) * <span class="id">x</span> = <span class="id">y</span> * <span class="id">x</span> + <span class="id">z</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof380')">Proof.</span></div>
<div class="proofscript" id="proof380">
<span class="id">rewrite</span> /<span class="id">mule</span>/=; <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">r</span>| |] [<span class="id">s</span>| |] [<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">t</a></span>| |] //= <span class="id">s0</span> <span class="id">t0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrDl</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; // -[] &lt;-; <span class="id">rewrite</span> <span class="id">mulr0</span> <span class="id">adde0</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; // -[] &lt;-; <span class="id">rewrite</span> <span class="id">mulr0</span> <span class="id">adde0</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; //; <span class="id">rewrite</span> <span class="id">adde0</span>.<br/>
- <span class="id">rewrite</span> !<span class="id">eqe</span> <span class="id">paddr_eq0</span> //; <span class="id">move</span>: <span class="id">s0</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">s</span>) =&gt; //= [<span class="id">s0</span>|-&gt;{<span class="id">s</span>}] <span class="id">_</span>; <span class="id">rewrite</span> ?<span class="id">add0e</span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">lte_fin</span> -[<span class="kwd">in</span> <span class="id">LHS</span>](<span class="id">addr0</span> 0%<span class="id">R</span>) <span class="id">ltr_le_add</span> // <span class="id">lte_fin</span> <span class="id">s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">t0</span> =&gt; // [<span class="id">t0</span>|[&lt;-{<span class="id">t</span>}]] <span class="id">_</span>; [<span class="id">rewrite</span> <span class="id">gt_eqF</span>|<span class="id">rewrite</span> <span class="id">eqxx</span>].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>: <span class="id">t0</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>; <span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">t</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">s0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">t0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>.<br/>
- <span class="id">rewrite</span> !<span class="id">eqe</span> <span class="id">paddr_eq0</span> //; <span class="id">move</span>: <span class="id">s0</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">s</span>) =&gt; //= [<span class="id">s0</span>|-&gt;{<span class="id">s</span>}] <span class="id">_</span>; <span class="id">rewrite</span> ?<span class="id">add0e</span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">lte_fin</span> -[<span class="kwd">in</span> <span class="id">LHS</span>](<span class="id">addr0</span> 0%<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">R</a></span>) <span class="id">ltr_le_add</span> // <span class="id">lte_fin</span> <span class="id">s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">t0</span> =&gt; // [<span class="id">t0</span>|[&lt;-{<span class="id">t</span>}]].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>: <span class="id">t0</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>; <span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">t</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">s0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">s0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">s0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le0_muleDl">ge0_muleDr</a></span> <span class="id"><a name="x:1173">x</a></span> <span class="id"><a name="y:1174">y</a></span> <span class="id"><a name="z:1175">z</a></span> : 0 &lt;= <span class="id">y</span> -&gt; 0 &lt;= <span class="id">z</span> -&gt; <span class="id">x</span> * (<span class="id">y</span> + <span class="id">z</span>) = <span class="id">x</span> * <span class="id">y</span> + <span class="id">x</span> * <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof381')">Proof.</span></div>
<div class="proofscript" id="proof381">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y0</span> <span class="id">z0</span>; <span class="id">rewrite</span> !(<span class="id">muleC</span> <span class="id">x</span>) <span class="id">ge0_muleDl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le0_muleDl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">z</span> &lt;= 0 -&gt; (<span class="id">y</span> + <span class="id">z</span>) * <span class="id">x</span> = <span class="id">y</span> * <span class="id">x</span> + <span class="id">z</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof382')">Proof.</span></div>
<div class="proofscript" id="proof382">
<span class="id">rewrite</span> /<span class="id">mule</span>/=; <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> =&gt; [<span class="id">r</span>| |] [<span class="id">s</span>| |] [<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">t</a></span>| |] //= <span class="id">s0</span> <span class="id">t0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrDl</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; // -[] &lt;-; <span class="id">rewrite</span> <span class="id">mulr0</span> <span class="id">adde0</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; // -[] &lt;-; <span class="id">rewrite</span> <span class="id">mulr0</span> <span class="id">adde0</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; //; <span class="id">rewrite</span> <span class="id">adde0</span>.<br/>
- <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">rewrite</a></span> !<span class="id">eqe</span> <span class="id">naddr_eq0</span> //; <span class="id">move</span>: <span class="id">s0</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">s</span>) =&gt; //= [<span class="id">s0</span>|-&gt;{<span class="id">s</span>}] <span class="id">_</span>; <span class="id">rewrite</span> ?<span class="id">add0e</span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> !<span class="id">lte_fin</span> -[<span class="kwd">in</span> <span class="id">LHS</span>](<span class="id">addr0</span> 0%<span class="id">R</span>) <span class="id">ltNge</span> <span class="id">ler_add</span> // ?<span class="id">ltW</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">ltNge</span> <span class="id">ltW</span> //.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">t</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">s0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">t0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltry</span>.<br/>
- <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">rewrite</a></span> !<span class="id">eqe</span> <span class="id">naddr_eq0</span> //; <span class="id">move</span>: <span class="id">s0</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">s</span>) =&gt; //= [<span class="id">s0</span>|-&gt;{<span class="id">s</span>}] <span class="id">_</span>; <span class="id">rewrite</span> ?<span class="id">add0e</span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> !<span class="id">lte_fin</span> -[<span class="kwd">in</span> <span class="id">LHS</span>](<span class="id">addr0</span> 0%<span class="id">R</span>) <span class="id">ltNge</span> <span class="id">ler_add</span> // ?<span class="id">ltW</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">ltNge</span> <span class="id">ltW</span> // -<span class="id">lee_fin</span> <span class="id">t0</span>; <span class="id">case</span>: <span class="id">eqP</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">t</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">s0</span> /=; <span class="id">case</span>: <span class="id">eqP</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">t0</span> /=; <span class="id">case</span>: <span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="gee_pmull">le0_muleDr</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">z</span> &lt;= 0 -&gt; <span class="id">x</span> * (<span class="id">y</span> + <span class="id">z</span>) = <span class="id">x</span> * <span class="id">y</span> + <span class="id">x</span> * <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof383')">Proof.</span></div>
<div class="proofscript" id="proof383">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y0</span> <span class="id">z0</span>; <span class="id">rewrite</span> !(<span class="id">muleC</span> <span class="id">x</span>) <span class="id">le0_muleDl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gee_pmull</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule">x</a></span> : <span class="id">y</span> \<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">is</a></span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">x</span> -&gt; <span class="id">y</span> &lt;= 1 -&gt; <span class="id">y</span> * <span class="id">x</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof384')">Proof.</span></div>
<div class="proofscript" id="proof384">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] <span class="id">_</span> //=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_fin</span> =&gt; <span class="id">x0</span> <span class="id">r0</span>; <span class="id">rewrite</span> /<span class="id">mule</span>/= <span class="id">lee_fin</span> <span class="id">ger_pmull</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id">mule</span>/= <span class="id">eqe</span> =&gt; <span class="id">r1</span>; <span class="id">rewrite</span> <span class="id">leey</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_wpmul2r</span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> -&gt; {<span class="id">homo</span> *%<span class="id">E</span>^~ <span class="id">x</span> : <span class="id">y</span> <span class="id">z</span> / <span class="id">y</span> &lt;= <span class="id">z</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof385')">Proof.</span></div>
<div class="proofscript" id="proof385">
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|<span class="id">_</span>|//].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">y</span> <span class="id">z</span>|<span class="id">x0</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">rewrite</a></span> 2!<span class="id">mule0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">y</span>| |] [<span class="id">z</span>| |]//; <span class="id">first</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">rewrite</a></span> !<span class="id">lee_fin</span>// <span class="id">ler_pmul2r</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">leey</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">leNye</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> 2!<span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// 2!<span class="id">mul1e</span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">y</span>| |] [<span class="id">z</span>| |]//.<br/>
- <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; <span class="id">yz</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">z0</span>|<span class="id">z0</span>|] := <span class="id">ltgtP</span> 0%<span class="id">R</span> <span class="id">z</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">leRHS</span>]<span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">leey</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">ltr0_sg</span>// ?(<span class="id">le_lt_trans</span> <span class="id">yz</span>)// [<span class="id">leRHS</span>]<span class="id">mulr_infty</span> <span class="id">ltr0_sg</span>.<br/>
&nbsp;&nbsp;+ <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">move</a></span>=&gt; <span class="id">z0</span>; <span class="id">move</span>: <span class="id">yz</span>; <span class="id">rewrite</span> -<span class="id">z0</span> <span class="id">mul0e</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;|<span class="id">y0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">ltr0_sg</span>// <span class="id">mulN1e</span> <span class="id">leNye</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">leey</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulNyy</span> <span class="id">leNye</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulNyy</span> <span class="id">leNye</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_wpmul2l</span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> -&gt; {<span class="id">homo</span> *%<span class="id"><a name="P:1194">E</a></span> <span class="id">x</span> : <span class="id">y</span> <span class="id">z</span> / <span class="id">y</span> &lt;= <span class="id">z</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof386')">Proof.</span></div>
<div class="proofscript" id="proof386">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> <span class="id">y</span> <span class="id">z</span> <span class="id">yz</span>; <span class="id">rewrite</span> !(<span class="id">muleC</span> <span class="id">x</span>) <span class="id">lee_wpmul2r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ge0_sume_distrl</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">F</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) * <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">F</span> <span class="id">i</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof387')">Proof.</span></div>
<div class="proofscript" id="proof387">
<span class="id">elim</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">s</a></span> <span class="id">x</span> <span class="id">P</span> <span class="id">F</span> =&gt; [<span class="id">x</span> <span class="id">P</span> <span class="id">F</span> <span class="id">F0</span>|<span class="id">h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">x</span> <span class="id">P</span> <span class="id">F</span> <span class="id">F0</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">big_nil</span> <span class="id">mul0e</span>.<br/>
<span class="id">rewrite</span> <span class="id">big_cons</span>; <span class="id">case</span>: <span class="id">ifPn</span> =&gt; <span class="id">Ph</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_cons</span> (<span class="id">negbTE</span> <span class="id">Ph</span>) <span class="id">ih</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_muleDl</span> ?<span class="id">sume_ge0</span>// ?<span class="id">F0</span>// <span class="id">ih</span>// <span class="id">big_cons</span> <span class="id">Ph</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ge0_sume_distrr</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">F</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> * (\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) = \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id"><a name="I:1215">s</a></span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">x</span> * <span class="id">F</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof388')">Proof.</span></div>
<div class="proofscript" id="proof388">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">F0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">ge0_sume_distrl</span>//; <span class="id">under</span> <span class="id">eq_bigr</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a name="i:1221">muleC</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le0_sume_distrl</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">F</span> <span class="id">i</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) * <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">F</span> <span class="id">i</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof389')">Proof.</span></div>
<div class="proofscript" id="proof389">
<span class="id">elim</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">s</a></span> <span class="id">x</span> <span class="id">P</span> <span class="id">F</span> =&gt; [<span class="id">x</span> <span class="id">P</span> <span class="id">F</span> <span class="id">F0</span>|<span class="id">h</span> <span class="id">t</span> <span class="id">ih</span> <span class="id">x</span> <span class="id">P</span> <span class="id">F</span> <span class="id">F0</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">big_nil</span> <span class="id">mul0e</span>.<br/>
<span class="id">rewrite</span> <span class="id">big_cons</span>; <span class="id">case</span>: <span class="id">ifPn</span> =&gt; <span class="id">Ph</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_cons</span> (<span class="id">negbTE</span> <span class="id">Ph</span>) <span class="id">ih</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le0_muleDl</span> ?<span class="id">sume_le0</span>// ?<span class="id">F0</span>// <span class="id">ih</span>// <span class="id">big_cons</span> <span class="id">Ph</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le0_sume_distrr</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">F</span> <span class="id">i</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> * (\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) = \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id"><a name="I:1239">P</a></span> <span class="id">i</span>) (<span class="id">x</span> * <span class="id">F</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof390')">Proof.</span></div>
<div class="proofscript" id="proof390">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">F0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">le0_sume_distrl</span>//; <span class="id">under</span> <span class="id">eq_bigr</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fin_num_sume_distrr</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id"><a name="i:1249">P</a></span> : <span class="id">pred</span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; {<span class="kwd">in</span> <span class="id">P</span> &amp;, <span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span>, <span class="id">F</span> <span class="id">i</span> +? <span class="id">F</span> <span class="id">j</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span> * (\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) = \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">x</span> * <span class="id">F</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof391')">Proof.</span></div>
<div class="proofscript" id="proof391">
<span class="id">move</span>=&gt; <span class="id">xfin</span> <span class="id">PF</span>; <span class="id">elim</span>: <span class="id">s</span> =&gt; [|<span class="id">h</span> <span class="id">t</span> <span class="id">ih</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">big_nil</span> <span class="id">mule0</span>.<br/>
<span class="id"><a name="r:1253">rewrite</a></span> !<span class="id">big_cons</span>; <span class="id">case</span>: <span class="id">ifPn</span> =&gt; <span class="id">Ph</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleDr</span>// ?<span class="id">ih</span>// <span class="id">adde_def_sum</span>// =&gt; <span class="id">i</span> <span class="id">Pi</span>; <span class="id">rewrite</span> <span class="id">PF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eq_infty</span> <span class="id">x</span> : (<span class="kwd">forall</span> <span class="id">r</span>, <span class="id">r</span>%:<span class="id">E</span> &lt;= <span class="id">x</span>) -&gt; <span class="id">x</span> = +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof392')">Proof.</span></div>
<div class="proofscript" id="proof392">
<span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span> /(<span class="id">_</span> (<span class="id">x</span> + 1)%<span class="id">R</span>)|//|/(<span class="id">_</span> 0%<span class="id">R</span>)//].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFinD</span> <span class="id">addeC</span> -<span class="id">lee_subr_addr</span>// <span class="id">subee</span>// <span class="id">lee_fin</span> <span class="id">ler10</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eq_ninfty</span> <span class="id">x</span> : (<span class="kwd">forall</span> <span class="id"><a name="x:1256">r</a></span>, <span class="id">x</span> &lt;= <span class="id">r</span>%:<span class="id">E</span>) -&gt; <span class="id">x</span> = -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof393')">Proof.</span></div>
<div class="proofscript" id="proof393">
<span class="id">move</span>=&gt; *; <span class="id">apply</span>: (<span class="id">can_inj</span> <span class="id">oppeK</span>); <span class="id">apply</span>: <span class="id">eq_infty</span> =&gt; <span class="id">r</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_oppr</span> -<span class="id">EFinN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">leeN2</span> <span class="id">x</span> <span class="id">y</span> : (- <span class="id">x</span> &lt;= - <span class="id">y</span>) = (<span class="id">y</span> &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof394')">Proof.</span></div>
<div class="proofscript" id="proof394">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_oppl</span> <span class="id">oppeK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_abs</span> <span class="id">x</span> : <span class="id">x</span> &lt;= `|<span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof395')">Proof.</span></div>
<div class="proofscript" id="proof395">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |]//=; <span class="id">rewrite</span> <span class="id"><a name="y:1261">lee_fin</a></span> <span class="id">ler_norm</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">abse_id</span> <span class="id">x</span> : `| `|<span class="id">x</span>| | = `|<span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof396')">Proof.</span></div>
<div class="proofscript" id="proof396">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] //=; <span class="id">rewrite</span> <span class="id">normr_id</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_absl</span> (<span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id">R</span>) : (`|<span class="id"><a name="x:1262">x</a></span>| &lt; <span class="id">y</span>)%<span class="id">E</span> = (- <span class="id">y</span> &lt; <span class="id">x</span> &lt; <span class="id">y</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof397')">Proof.</span></div>
<div class="proofscript" id="proof397">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=; <span class="id">rewrite</span> ?<span class="id">lte_fin</span> ?<span class="id">ltry</span> ?<span class="id">ltNyr</span>// <span class="id">ltr_norml</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eqe_absl</span> <span class="id">x</span> <span class="id">y</span> : (`|<span class="id">x</span>| == <span class="id">y</span>) = ((<span class="id">x</span> == <span class="id">y</span>) || (<span class="id">x</span> == - <span class="id">y</span>)) &amp;&amp; (0 &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof398')">Proof.</span></div>
<div class="proofscript" id="proof398">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=; <span class="id">rewrite</span>? <span class="id">leey</span>// !<span class="id">eqe</span> <span class="id">eqr_norml</span> <span class="id">lee_fin</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_abs_add</span> <span class="id">x</span> <span class="id">y</span> : `|<span class="id">x</span> + <span class="id">y</span>| &lt;= `|<span class="id">x</span>| + `|<span class="id">y</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof399')">Proof.</span></div>
<div class="proofscript" id="proof399">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> /<span class="id">abse</span> -<span class="id">EFinD</span> <span class="id">lee_fin</span> <span class="id">ler_norm_add</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_abs_sum</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) :<br/>
&nbsp;&nbsp;`|\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>| &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) `|<span class="id">F</span> <span class="id"><a name="lee_abs_sub">i</a></span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof400')">Proof.</span></div>
<div class="proofscript" id="proof400">
<span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">abse0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>/(<span class="id">le_trans</span> (<span class="id">lee_abs_add</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">lee_add</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_abs_sub</span> <span class="id">x</span> <span class="id">y</span> : `|<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">x</a></span> - <span class="id">y</span>| &lt;= `|<span class="id">x</span>| + `|<span class="id">y</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof401')">Proof.</span></div>
<div class="proofscript" id="proof401">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> /<span class="id">abse</span> -<span class="id">EFinD</span> <span class="id">lee_fin</span> <span class="id">ler_norm_sub</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">abseM</span> : {<span class="id">morph</span> @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">abse</a></span> <span class="id">R</span> : <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">y</a></span> / <span class="id">x</span> * <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof402')">Proof.</span></div>
<div class="proofscript" id="proof402">
<span class="id">have</span> <span class="id">xoo</span> <span class="id">r</span> : `|<span class="id">r</span>%:<span class="id">E</span> * +<span class="id">oo</span>| = `|<span class="id">r</span>|%:<span class="id">E</span> * +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">ger0_norm</span> <span class="id">r0</span>)// <span class="id">gee0_abs</span>// <span class="id">mule_ge0</span>// <span class="id">leey</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">ltr0_norm</span> <span class="id">r0</span>)// <span class="id">lte0_abs</span>// ?<span class="id">EFinN</span> ?<span class="id">mulNe</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule_lt0</span> /= <span class="id">eqe</span> <span class="id">lt_eqF</span>//= <span class="id">lte_fin</span> <span class="id">r0</span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normrM</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">abseN</span> -<span class="id">muleNN</span> <span class="id">abseN</span> -<span class="id">EFinN</span> <span class="id">xoo</span> <span class="id">normrN</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">xoo</span> <span class="id">muleC</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulyy">rewrite</a></span> <span class="id">mulyy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">mulyNy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">abseN</span> -<span class="id"><a name="x:1283">muleNN</a></span> <span class="id">abseN</span> -<span class="id">EFinN</span> <span class="id">xoo</span> <span class="id">normrN</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">mulNyy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fine_max</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">fin_num</span> &amp;, {<span class="id">mono</span> @<span class="id">fine</span> <span class="id">R</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">maxe</span> <span class="id">x</span> <span class="id">y</span> &gt;-&gt; (<span class="id">Num.max</span> <span class="id">x</span> <span class="id">y</span>)%:<span class="id">E</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof403')">Proof.</span></div>
<div class="proofscript" id="proof403">
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]//= <span class="id">_</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id">esym</span>; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">have</a></span> [<span class="id">ab</span>|<span class="id">ba</span>] := <span class="id">leP</span> <span class="id">x</span> <span class="id">y</span>;<br/>
&nbsp;&nbsp;[<span class="id">apply</span>/<span class="id">max_idPr</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>|<span class="id">apply</span>/<span class="id">max_idPl</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">ltW</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">EFin_max</span> : {<span class="id">morph</span> (@<span class="id">EFin</span> <span class="id">R</span>) : <span class="id"><a name="y:1292">r</a></span> <span class="id">s</span> / <span class="id">Num.max</span> <span class="id">r</span> <span class="id">s</span> &gt;-&gt; <span class="id">maxe</span> <span class="id">r</span> <span class="id">s</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof404')">Proof.</span></div>
<div class="proofscript" id="proof404">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a</span> <span class="id">b</span> /=; <span class="id">rewrite</span> -<span class="id">fine_max</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fine_min</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">fin_num</span> &amp;, {<span class="id">mono</span> @<span class="id">fine</span> <span class="id">R</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">mine</span> <span class="id">x</span> <span class="id">y</span> &gt;-&gt; (<span class="id">Num.min</span> <span class="id">x</span> <span class="id">y</span>)%:<span class="id">E</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof405')">Proof.</span></div>
<div class="proofscript" id="proof405">
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]//= <span class="id">_</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id">esym</span>; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">have</a></span> [<span class="id">ab</span>|<span class="id">ba</span>] := <span class="id">leP</span> <span class="id">x</span> <span class="id">y</span>;<br/>
&nbsp;&nbsp;[<span class="id">apply</span>/<span class="id">min_idPl</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span>|<span class="id">apply</span>/<span class="id">min_idPr</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">ltW</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">EFin_min</span> : {<span class="id">morph</span> (@<span class="id">EFin</span> <span class="id">R</span>) : <span class="id">r</span> <span class="id">s</span> / <span class="id">Num.min</span> <span class="id">r</span> <span class="id">s</span> &gt;-&gt; <span class="id">mine</span> <span class="id">r</span> <span class="id">s</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof406')">Proof.</span></div>
<div class="proofscript" id="proof406">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a</span> <span class="id">b</span> /=; <span class="id">rewrite</span> -<span class="id">fine_min</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">adde_maxl</span> : <span class="id">left_distributive</span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add2r">adde</a></span> <span class="id">R</span>) <span class="id">maxe</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof407')">Proof.</span></div>
<div class="proofscript" id="proof407">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>; <span class="id">have</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_distributive">xy</a></span>|<span class="id">yx</span>] := <span class="id">leP</span> <span class="id">x</span> <span class="id">y</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">esym</span>/<span class="id">max_idPr</span>; <span class="id">rewrite</span> <span class="id">lee_add2r</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">esym</span>/<span class="id">max_idPl</span>; <span class="id">rewrite</span> <span class="id">lee_add2r</span>// <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">adde_maxr</span> : <span class="id">right_distributive</span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add2l">adde</a></span> <span class="id">R</span>) <span class="id">maxe</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof408')">Proof.</span></div>
<div class="proofscript" id="proof408">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>; <span class="id">have</span> [<span class="id">yz</span>|<span class="id">zy</span>] := <span class="id">leP</span> <span class="id">y</span> <span class="id">z</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">esym</span>/<span class="id">max_idPr</span>; <span class="id">rewrite</span> <span class="id">lee_add2l</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">esym</span>/<span class="id">max_idPl</span>; <span class="id">rewrite</span> <span class="id">lee_add2l</span>// <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">maxye</span> : <span class="id">left_zero</span> (+<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">oo</a></span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">maxe</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof409')">Proof.</span></div>
<div class="proofscript" id="proof409">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxye">have</a></span> [|//] := <span class="id">leP</span> +<span class="id"><a name="maxNye">oo</a></span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">leye_eq</span> =&gt; /<span class="id">eqP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">maxey</span> : <span class="id">right_zero</span> (+<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">maxe</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof410')">Proof.</span></div>
<div class="proofscript" id="proof410">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">maxC</span> <span class="id"><a name="maxeNy">maxye</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">maxNye</span> : <span class="id">left_id</span> (-<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">maxe</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof411')">Proof.</span></div>
<div class="proofscript" id="proof411">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">have</span> [//|] := <span class="id">leP</span> -<span class="id"><a name="maxe_monoid">oo</a></span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">leNye</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">maxeNy</span> : <span class="id">right_id</span> (-<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">maxe</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof412')">Proof.</span></div>
<div class="proofscript" id="proof412">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id"><a name="minNye">rewrite</a></span> <span class="id">maxC</span> <span class="id">maxNye</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">maxe_monoid</span> := <span class="id">Monoid.Law</span> <span class="id">maxA</span> <span class="id">maxNye</span> <span class="id">maxeNy</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNy_eq">maxe_comoid</a></span> := <span class="id">Monoid.ComLaw</span> <span class="id">maxC</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">minNye</span> : <span class="id">left_zero</span> (-<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">mine</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof413')">Proof.</span></div>
<div class="proofscript" id="proof413">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">have</span> [|//] := <span class="id">leP</span> <span class="id">x</span> -<span class="id">oo</span>; <span class="id">rewrite</span> <span class="id">leeNy_eq</span> =&gt; /<span class="id">eqP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mineNy</span> : <span class="id">right_zero</span> (-<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">mine</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof414')">Proof.</span></div>
<div class="proofscript" id="proof414">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">minC</span> <span class="id">minNye</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">minye</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">left_id</a></span> (+<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">mine</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof415')">Proof.</span></div>
<div class="proofscript" id="proof415">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">have</span> [//|] := <span class="id">leP</span> <span class="id">x</span> +<span class="id">oo</span>; <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">leey</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">miney</span> : <span class="id">right_id</span> (+<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>) <span class="id">mine</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof416')">Proof.</span></div>
<div class="proofscript" id="proof416">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id"><a name="oppe_max">x</a></span>; <span class="id">rewrite</span> <span class="id">minC</span> <span class="id">minye</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">mine_monoid</span> := <span class="id">Monoid.Law</span> <span class="id">minA</span> <span class="id">minye</span> <span class="id">miney</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">mine_comoid</span> := <span class="id">Monoid.ComLaw</span> <span class="id">minC</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">oppe_max</span> : {<span class="id">morph</span> -%<span class="id">E</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">maxe</span> <span class="id">x</span> <span class="id">y</span> &gt;-&gt; <span class="id">mine</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#miney">y</a></span> : \<span class="id">bar</span> <span class="id">R</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof417')">Proof.</span></div>
<div class="proofscript" id="proof417">
<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#minNye">move</a></span>=&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fine_max</span>//= -<span class="id">fine_min</span>//= <span class="id">oppr_max</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">maxey</span> <span class="id">mineNy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">miney</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">minNye</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">maxNye</span> <span class="id">minye</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">oppe_min</span> : {<span class="id">morph</span> -%<span class="id">E</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">mine</span> <span class="id">x</span> <span class="id">y</span> &gt;-&gt; <span class="id">maxe</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">x</a></span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">R</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof418')">Proof.</span></div>
<div class="proofscript" id="proof418">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">rewrite</span> -[<span class="id">RHS</span>]<span class="id">oppeK</span> <span class="id">oppe_max</span> !<span class="id">oppeK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">maxeMr</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">z</span> * <span class="id">maxe</span> <span class="id">x</span> <span class="id">y</span> = <span class="id">maxe</span> (<span class="id">z</span> * <span class="id">x</span>) (<span class="id">z</span> * <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof419')">Proof.</span></div>
<div class="proofscript" id="proof419">
<span class="id">move</span>=&gt; + <span class="id">r0</span>; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">have</a></span> [<span class="id">xy</span>|<span class="id">yx</span>|-&gt;] := <span class="id">ltgtP</span> <span class="id">x</span> <span class="id">y</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">maxxx</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zfin</span>; <span class="id">rewrite</span> /<span class="id">maxe</span> <span class="id">lte_pmul2l</span> // <span class="id">xy</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zfin</span>; <span class="id">rewrite</span> <span class="id">maxC</span> /<span class="id">maxe</span> <span class="id">lte_pmul2l</span>// <span class="id">yx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">maxeMl</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">maxe</span> <span class="id">x</span> <span class="id">y</span> * <span class="id">z</span> = <span class="id">maxe</span> (<span class="id">x</span> * <span class="id">z</span>) (<span class="id">y</span> * <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof420')">Proof.</span></div>
<div class="proofscript" id="proof420">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zfin</span> <span class="id">z0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">maxeMr</span>// !(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppP">muleC</a></span> <span class="id">z</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mineMr</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">z</span> * <span class="id"><a name="z:1316">mine</a></span> <span class="id">x</span> <span class="id">y</span> = <span class="id">mine</span> (<span class="id">z</span> * <span class="id">x</span>) (<span class="id">z</span> * <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof421')">Proof.</span></div>
<div class="proofscript" id="proof421">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> -<span class="id">eqe_oppP</span> -<span class="id">muleN</span> <span class="id">oppe_min</span> <span class="id">maxeMr</span>// !<span class="id">muleN</span> -<span class="id">oppe_min</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mineMl</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ERealArithTh_realDomainType.R">mine</a></span> <span class="id">x</span> <span class="id">y</span> * <span class="id">z</span> = <span class="id">mine</span> (<span class="id">x</span> * <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">z</a></span>) (<span class="id">y</span> * <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof422')">Proof.</span></div>
<div class="proofscript" id="proof422">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">zfin</span> <span class="id">z0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">mineMr</span>// !(<span class="id">muleC</span> <span class="id">z</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigmaxe_fin_num</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">R</span>) <span class="id">r</span> : <span class="id">r</span> \<span class="kwd">in</span> <span class="id">s</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">big</span>[<span class="id">maxe</span>/-<span class="id">oo</span>%<span class="id">E</span>]<span class="id">_</span>(<span class="id">i</span> &lt;- <span class="id">s</span>) <span class="id">i</span>%:<span class="id">E</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof423')">Proof.</span></div>
<div class="proofscript" id="proof423">
<span class="id">move</span>=&gt; <span class="id">rs</span>; <span class="id">have</span> {<span class="id">rs</span>} : <span class="id">s</span> != [::].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">size_eq0</span> -<span class="id">lt0n</span> -<span class="id">has_predT</span>; <span class="id">apply</span>/<span class="id">hasP</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
<span class="id">elim</span>: <span class="id">s</span> =&gt; [//|<span class="id">a</span> <span class="id"><a name="lee_pemull">l</a></span>]; <span class="id">have</span> [-&gt; <span class="id"><a name="y:1325">_</a></span> <span class="id">_</span>|<span class="id">_</span> /(<span class="id">_</span> <span class="id">isT</span>) <span class="id">ih</span> <span class="id">_</span>] := <span class="id">eqVneq</span> <span class="id">l</span> [::].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_seq1</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_cons</span> {1}/<span class="id">maxe</span>;  <span class="id">case</span>: (<span class="id">_</span> &lt; <span class="id">_</span>)%<span class="id">E</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pemull</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; 1 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt;= <span class="id">x</span> * <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof424')">Proof.</span></div>
<div class="proofscript" id="proof424">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFinM</span> 3!<span class="id">lee_fin</span>; <span class="id">exact</span>: <span class="id">ler_pemull</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span>// (<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">x1</span>).<br/>
- <span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">_</span>|<span class="id">y0</span> <span class="id">_</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">leey</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_nemull</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> &lt;= 0 -&gt; 1 &lt;= <span class="id">x</span> -&gt; <span class="id">x</span> * <span class="id">y</span> &lt;= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof425')">Proof.</span></div>
<div class="proofscript" id="proof425">
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyNy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFinM</span> 3!<span class="id">lee_fin</span>; <span class="id">exact</span>: <span class="id">ler_nemull</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span>// (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">lt_le_trans</a></span> <span class="id">_</span> <span class="id">x1</span>).<br/>
- <span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt; <span class="id">_</span>|<span class="id">y0</span> <span class="id">_</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">ltr0_sg</span>// <span class="id">mulN1e</span> <span class="id">leNye</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pemulr</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; 1 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt;= <span class="id">y</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof426')">Proof.</span></div>
<div class="proofscript" id="proof426">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y0</span> <span class="id">x1</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id"><a name="mule_natl">lee_pemull</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_nemulr</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> &lt;= 0 -&gt; 1 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> * <span class="id">x</span> &lt;= <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof427')">Proof.</span></div>
<div class="proofscript" id="proof427">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y0</span> <span class="id">x1</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lee_nemull</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_natl</span> <span class="id">x</span> <span class="id">n</span> : <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> * <span class="id">x</span> = <span class="id">x</span> *+ <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof428')">Proof.</span></div>
<div class="proofscript" id="proof428">
<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">elim</a></span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#enatmul_pinfty">n</a></span> =&gt; [|<span class="id">n</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0e</span>.<br/>
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] <span class="id">ih</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFinM</span> <span class="id">mulr_natl</span> <span class="id">EFin_natmul</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulry</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">enatmul_pinfty</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrNy</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">enatmul_ninfty</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pmul</span> <span class="id">x1</span> <span class="id">y1</span> <span class="id">x2</span> <span class="id">y2</span> :<br/>
&nbsp;&nbsp;0 &lt;= <span class="id">x1</span> -&gt; 0 &lt;= <span class="id">x2</span> -&gt; <span class="id">x1</span> &lt; <span class="id">y1</span> -&gt; <span class="id">x2</span> &lt; <span class="id">y2</span> -&gt; <span class="id">x1</span> * <span class="id">x2</span> &lt; <span class="id">y1</span> * <span class="id">y2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof429')">Proof.</span></div>
<div class="proofscript" id="proof429">
<span class="id">move</span>: <span class="id">x1</span> <span class="id">y1</span> <span class="id">x2</span> <span class="id">y2</span> =&gt; [<span class="id">x1</span>| |] [<span class="id">y1</span>| |] [<span class="id">x2</span>| |] [<span class="id">y2</span>| |] //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !(<span class="id">lte_fin</span>,<span class="id">lee_fin</span>).<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">ltr_pmul</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x10</span> <span class="id">x20</span> <span class="id">xy1</span> <span class="id">xy2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">rewrite</a></span> <span class="id">mulry</span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span> -?<span class="id">EFinM</span> ?<span class="id">ltry</span>// (<span class="id">le_lt_trans</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">_</a></span> <span class="id">xy1</span>).<br/>
- <span class="id">move</span>=&gt; <span class="id">x10</span> <span class="id">x20</span> <span class="id">xy1</span> <span class="id">xy2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a name="x2:1340">rewrite</a></span> <span class="id">mulyr</span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span> -?<span class="id">EFinM</span> ?<span class="id">ltry</span>// (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">xy2</span>).<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">mulyy</span> -<span class="id">EFinM</span> <span class="id">ltry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pmul</span> <span class="id">x1</span> <span class="id">y1</span> <span class="id">x2</span> <span class="id">y2</span> : 0 &lt;= <span class="id">x1</span> -&gt; 0 &lt;= <span class="id">x2</span> -&gt; <span class="id">x1</span> &lt;= <span class="id">y1</span> -&gt; <span class="id">x2</span> &lt;= <span class="id">y2</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">x1</span> * <span class="id">x2</span> &lt;= <span class="id">y1</span> * <span class="id">y2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof430')">Proof.</span></div>
<div class="proofscript" id="proof430">
<span class="id">move</span>: <span class="id">x1</span> <span class="id">y1</span> <span class="id">x2</span> <span class="id">y2</span> =&gt; [<span class="id">x1</span>| |] [<span class="id">y1</span>| |] [<span class="id">x2</span>| |] [<span class="id">y2</span>| |] //; <span class="id">rewrite</span> !<span class="id">lee_fin</span>.<br/>
- <span class="id">exact</span>: <span class="id">ler_pmul</span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">x20</span> <span class="id">y10</span> <span class="id">_</span>|<span class="id">x10</span> <span class="id">x20</span> <span class="id">xy1</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0e</span> <span class="id">mule_ge0</span>// <span class="id">leey</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// ?<span class="id">mul1e</span> ?<span class="id">leey</span>// (<span class="id">lt_le_trans</span> <span class="id">x10</span>).<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">_</span> <span class="id">y10</span> <span class="id">_</span>|<span class="id">x10</span> <span class="id">_</span> <span class="id">xy1</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0e</span> <span class="id">mule_ge0</span>// <span class="id">leey</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// ?<span class="id">mul1e</span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">lt_le_trans</span> <span class="id">x10</span>).<br/>
- <span class="id">move</span>=&gt; <span class="id">x10</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">_</span> <span class="id">y20</span>|<span class="id">x20</span> <span class="id">_</span> <span class="id">xy2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule0</span> <span class="id">mulr_infty</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulyy">mule_ge0</a></span>// ?<span class="id">leey</span>// <span class="id">lee_fin</span> <span class="id">sgr_ge0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span> ?<span class="id">leey</span>// (<span class="id">lt_le_trans</span> <span class="id">x20</span>).<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x10</span> <span class="id">x20</span> <span class="id">_</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">leey</span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>|<span class="id">x10</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">mul0e</span> <span class="id">leey</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">_</span> <span class="id">y20</span>|<span class="id">x20</span> <span class="id">_</span> <span class="id">xy2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule0</span> <span class="id">mulr_infty</span> <span class="id">mule_ge0</span>// ?<span class="id">leey</span>// <span class="id">lee_fin</span> <span class="id">sgr_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">lt_le_trans</span> <span class="id">x20</span>).<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;- <span class="id">_</span> <span class="id">_</span>|<span class="id">x20</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule0</span> <span class="id">mulyy</span> <span class="id">leey</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>// <span class="id">mulyy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pmul2l</span> <span class="id">x</span> : <span class="id">x</span> \<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">is</a></span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">x</span> -&gt; {<span class="id">mono</span> *%<span class="id">E</span> <span class="id">x</span> : <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof431')">Proof.</span></div>
<div class="proofscript" id="proof431">
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span> <span class="id">_</span>|//|//] /[!(@<span class="id">lte_fin</span> <span class="id">R</span>)] <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">x0</a></span> [<span class="id">y</span>| |] [<span class="id">z</span>| |].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -2!<span class="id">EFinM</span> 2!<span class="id">lee_fin</span> <span class="id">ler_pmul2l</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulry</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">leey</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrNy</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">leeNy_eq</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulry</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">leye_eq</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulry</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulry</span> <span class="id">mulrNy</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrNy</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">leNye</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrNy</span> <span class="id"><a name="y:1349">mulry</a></span> <span class="id">gtr0_sg</span>// 2!<span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrNy</span> <span class="id">gtr0_sg</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">mul1e</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pmul2r</span> <span class="id">x</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">x</span> -&gt; {<span class="id">mono</span> *%<span class="id">E</span>^~ <span class="id">x</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof432')">Proof.</span></div>
<div class="proofscript" id="proof432">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xfin</span> <span class="id">x0</span> <span class="id">y</span> <span class="id">z</span>; <span class="id">rewrite</span> -2!(<span class="id">muleC</span> <span class="id">x</span>) <span class="id">lee_pmul2l</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sqr</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; (<span class="id">x</span> ^+ 2 &lt;= <span class="id">y</span> ^+ 2) = (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof433')">Proof.</span></div>
<div class="proofscript" id="proof433">
<span class="id">move</span>=&gt; <span class="id"><a name="lte_sqr">xge0</a></span> <span class="id">yge0</span>; <span class="id">apply</span>/<span class="id">idP</span>/<span class="id">idP</span>; <span class="id">rewrite</span> !<span class="id">expe2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contra_le</span> =&gt; <span class="id">yltx</span>; <span class="id">apply</span>: <span class="id">lte_pmul</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xley</span>; <span class="id">apply</span>: <span class="id">lee_pmul</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_sqr</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt; 0 &lt;= <span class="id">y</span> -&gt; (<span class="id">x</span> ^+ 2 &lt; <span class="id">y</span> ^+ 2) = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_pmul">x</a></span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof434')">Proof.</span></div>
<div class="proofscript" id="proof434">
<span class="id">move</span>=&gt; <span class="id"><a name="lee_sqrE">xge0</a></span> <span class="id">yge0</span>; <span class="id"><a name="y:1357">apply</a></span>/<span class="id">idP</span>/<span class="id">idP</span>; <span class="id">rewrite</span> !<span class="id">expe2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contra_lt</span> =&gt; <span class="id">yltx</span>; <span class="id">apply</span>: <span class="id">lee_pmul</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xley</span>; <span class="id">apply</span>: <span class="id">lte_pmul</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sqrE</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> ^+ 2 &lt;= <span class="id">y</span> ^+ 2 -&gt; <span class="id">x</span> &lt;= <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof435')">Proof.</span></div>
<div class="proofscript" id="proof435">
<span class="id">move</span>=&gt; <span class="id">yge0</span>; <span class="id">have</span> [<span class="id">xge0</span>|<span class="id">xlt0</span> <span class="id">x2ley2</span>] := <span class="id">leP</span> 0 <span class="id">x</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_sqr</span>.<br/>
<span class="id">exact</span>: <span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">xlt0</span>) <span class="id">_</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_sqrE</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> ^+ 2 &lt; <span class="id">y</span> ^+ 2 -&gt; <span class="id">x</span> &lt; <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof436')">Proof.</span></div>
<div class="proofscript" id="proof436">
<span class="id">move</span>=&gt; <span class="id">yge0</span>; <span class="id">have</span> [<span class="id">xge0</span>|<span class="id">xlt0</span> <span class="id">x2ley2</span>] := <span class="id">leP</span> 0 <span class="id">x</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_sqr</span>.<br/>
<span class="id">exact</span>: <span class="id">lt_le_trans</span> <span class="id">xlt0</span> <span class="id">_</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqre_ge0</span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> ^+ 2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof437')">Proof.</span></div>
<div class="proofscript" id="proof437">
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||]; <span class="id">rewrite</span> /= ?<span class="id">mulyy</span> ?<span class="id">mulNyNy</span> ?<span class="id">le0y</span>//; <span class="id">apply</span>: <span class="id">sqr_ge0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_paddl</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt;= <span class="id">z</span> -&gt; <span class="id">y</span> &lt;= <span class="id">x</span> + <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof438')">Proof.</span></div>
<div class="proofscript" id="proof438">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> -[<span class="id">y</span>]<span class="id">add0e</span> <span class="id">lee_add</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_paddl</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt; <span class="id">z</span> -&gt; <span class="id">y</span> &lt; <span class="id">x</span> + <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof439')">Proof.</span></div>
<div class="proofscript" id="proof439">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_paddl">lt_le_trans</a></span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">lee_paddl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_paddr</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt;= <span class="id">z</span> -&gt; <span class="id">y</span> &lt;= <span class="id">z</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof440')">Proof.</span></div>
<div class="proofscript" id="proof440">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">addeC</span> <span class="id">lee_paddl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_paddr</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt; <span class="id">z</span> -&gt; <span class="id">y</span> &lt; <span class="id">z</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof441')">Proof.</span></div>
<div class="proofscript" id="proof441">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">addeC</span> <span class="id">lte_paddl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_spaddre</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; <span class="id">z</span> &lt;= <span class="id">x</span> -&gt; <span class="id"><a name="y:1378">z</a></span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof442')">Proof.</span></div>
<div class="proofscript" id="proof442">
<span class="id">move</span>: <span class="id">z</span> <span class="id">y</span> <span class="id">x</span> =&gt; [<span class="id">z</span>| |] [<span class="id">y</span>| |] [<span class="id">x</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?(<span class="id">lte_fin</span>,<span class="id">ltry</span>)//.<br/>
<span class="id">exact</span>: <span class="id">ltr_spaddr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_spadder</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; <span class="id">z</span> &lt;= <span class="id">x</span> -&gt; <span class="id">z</span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof443')">Proof.</span></div>
<div class="proofscript" id="proof443">
<span class="id">move</span>: <span class="id">z</span> <span class="id">y</span> <span class="id">x</span> =&gt; [<span class="id">z</span>| |] [<span class="id">y</span>| |] [<span class="id">x</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?(<span class="id">lte_fin</span>,<span class="id">ltry</span>,<span class="id">ltNyr</span>)//.<br/>
<span class="id">exact</span>: <span class="id">ltr_spaddr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ERealArithTh_realDomainType</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_sum_nneg_ord</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_sum_npos_ord</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_sum_nneg_natr</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_sum_npos_natr</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_sum_nneg_natl</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_sum_npos_natl</span> {<span class="id">R</span>}.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (0 &lt;= `| <span class="id">_</span> |)%<span class="id">E</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">abse_ge0</span>] : <span class="id">core</span>.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6", <span class="id">note</span>="<span class="id">Use</span> <span class="id">lte_spaddre</span> <span class="id">instead</span>.")]<br/>
<span class="kwd">Notation</span> <span class="id">lte_spaddr</span> := <span class="id">lte_spaddre</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.5", <span class="id">note</span>="<span class="id">Use</span> <span class="id">leeN2</span> <span class="id">instead</span>.")]<br/>
<span class="kwd">Notation</span> <span class="id">lee_opp</span> := <span class="id"><a name="DualAddTheoryRealDomain.DualERealArithTh_realDomainType">leeN2</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.5", <span class="id">note</span>="<span class="id">Use</span> <span class="id">lteN2</span> <span class="id">instead</span>.")]<br/>
<span class="kwd">Notation</span> <span class="id">lte_opp</span> := <span class="id">lteN2</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Module</span> <span class="id">DualAddTheoryRealDomain</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">DualERealArithTh_realDomainType</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">DualAddTheoryNumDomain</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_dual_scope</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id"><a name="y:1383">R</a></span> : <span class="id">realDomainType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">a</span> <span class="id">b</span> : \<span class="id">bar</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsube_lt0</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> - <span class="id">y</span> &lt; 0) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof444')">Proof.</span></div>
<div class="proofscript" id="proof444">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">dual_addeE</a></span> <span class="id">oppe_lt0</span> <span class="id">sube_gt0</span> <span class="id">lteN2</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsube_ge0</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt;= <span class="id">y</span> - <span class="id">x</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof445')">Proof.</span></div>
<div class="proofscript" id="proof445">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">oppe_ge0</span> <span class="id">sube_le0</span> <span class="id"><a name="y:1386">leeN2</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsuber_le0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= 0) = (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof446')">Proof.</span></div>
<div class="proofscript" id="proof446">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">oppe_le0</span> <span class="id">suber_ge0</span> ?<span class="id"><a name="DualAddTheoryRealDomain.dsube_le0">fin_numN</a></span>// <span class="id">leeN2</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsubre_le0</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> - <span class="id">x</span> &lt;= 0) = (<span class="id">y</span> &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof447')">Proof.</span></div>
<div class="proofscript" id="proof447">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">oppe_le0</span> <span class="id">subre_ge0</span> ?<span class="id">fin_numN</span>// <span class="id">leeN2</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsube_le0</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) || (<span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id">y</span> - <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteN2">x</a></span> &lt;= 0) = (<span class="id">y</span> &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof448')">Proof.</span></div>
<div class="proofscript" id="proof448">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">orP</span>[?|?]; [<span class="id">rewrite</span> <span class="id">dsuber_le0</span>|<span class="id">rewrite</span> <span class="id">dsubre_le0</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dadd</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">a</span> &lt; <span class="id">b</span> -&gt; <span class="id">x</span> &lt; <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">x</span> &lt; <span class="id">b</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof449')">Proof.</span></div>
<div class="proofscript" id="proof449">
 <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lteN2</span> -<span class="id">lteN2</span> -(<span class="id">lteN2</span> <span class="id">y</span>); <span class="id">exact</span>: <span class="id">lte_add</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_daddl</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> &lt;= <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof450')">Proof.</span></div>
<div class="proofscript" id="proof450">
 <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">lee_oppr</span> -<span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">gee_addl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_daddr</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof451')">Proof.</span></div>
<div class="proofscript" id="proof451">
 <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">lee_oppr</span> -<span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">gee_addr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gee_daddl</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">x</span> + <span class="id">y</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof452')">Proof.</span></div>
<div class="proofscript" id="proof452">
 <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">lee_oppl</span> -<span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">lee_addl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gee_daddr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">x</a></span> <span class="id">y</span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">y</span> + <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppr">x</a></span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof453')">Proof.</span></div>
<div class="proofscript" id="proof453">
 <span class="id">rewrite</span> <span class="id">dual_addeE</span> <span class="id">lee_oppl</span> -<span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">lee_addr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_daddl</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> &lt; <span class="id">y</span> + <span class="id">x</span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof454')">Proof.</span></div>
<div class="proofscript" id="proof454">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fin_numN</span> <span class="id">dual_addeE</span> <span class="id">lte_oppr</span>; <span class="id">exact</span>: <span class="id">gte_subl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_daddr</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> &lt; <span class="id">x</span> + <span class="id">y</span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof455')">Proof.</span></div>
<div class="proofscript" id="proof455">
 <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">rewrite</a></span> -<span class="id">fin_numN</span> <span class="id">dual_addeE</span> <span class="id">lte_oppr</span> <span class="id">addeC</span>; <span class="id">exact</span>: <span class="id">gte_subl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_dsubl</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> - <span class="id">x</span> &lt; <span class="id">y</span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof456')">Proof.</span></div>
<div class="proofscript" id="proof456">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fin_numN</span> <span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id"><a name="DualAddTheoryRealDomain.gte_daddl">oppeK</a></span>; <span class="id">exact</span>: <span class="id">lte_addl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_dsubr</span> <span class="id">y</span> <span class="id">x</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (- <span class="id">x</span> + <span class="id">y</span> &lt; <span class="id">y</span>) = (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof457')">Proof.</span></div>
<div class="proofscript" id="proof457">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fin_numN</span> <span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">oppeK</span>; <span class="id">exact</span>: <span class="id">lte_addr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_daddl</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> + <span class="id">y</span> &lt; <span class="id">x</span>) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof458')">Proof.</span></div>
<div class="proofscript" id="proof458">
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fin_numN</span> <span class="id"><a name="DualAddTheoryRealDomain.lte_dadd2lE">dual_addeE</a></span> <span class="id">lte_oppl</span> -<span class="id">oppe0</span> <span class="id">lte_oppr</span>; <span class="id">exact</span>: <span class="id">lte_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">gte_daddr</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">y</span> + <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteN2">x</a></span> &lt; <span class="id">x</span>) = (<span class="id">y</span> &lt; 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof459')">Proof.</span></div>
<div class="proofscript" id="proof459">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">daddeC</span>; <span class="id">exact</span>: <span class="id">gte_daddl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dadd2lE</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> + <span class="id">a</span> &lt; <span class="id">x</span> + <span class="id">b</span>) = (<span class="id">a</span> &lt; <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof460')">Proof.</span></div>
<div class="proofscript" id="proof460">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id"><a name="b:1422">lteN2</a></span> <span class="id">lte_add2lE</span> ?<span class="id">fin_numN</span>// <span class="id">lteN2</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dadd2l</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">x</span> + <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.dual_addeE">a</a></span> &lt;= <span class="id">x</span> + <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof461')">Proof.</span></div>
<div class="proofscript" id="proof461">
 <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">leeN2</span> -<span class="id">leeN2</span>; <span class="id">exact</span>: <span class="id">lee_add2l</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dadd2lE</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> + <span class="id">a</span> &lt;= <span class="id">x</span> + <span class="id">b</span>) = (<span class="id">a</span> &lt;= <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof462')">Proof.</span></div>
<div class="proofscript" id="proof462">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">leeN2</span> <span class="id">lee_add2lE</span> ?<span class="id">fin_numN</span>// <span class="id">leeN2</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dadd2r</span> <span class="id">x</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">a</span> + <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">x</a></span> &lt;= <span class="id">b</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof463')">Proof.</span></div>
<div class="proofscript" id="proof463">
 <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">leeN2</span> -<span class="id">leeN2</span>; <span class="id">exact</span>: <span class="id">lee_add2r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dadd</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">x</span> &lt;= <span class="id">b</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof464')">Proof.</span></div>
<div class="proofscript" id="proof464">
 <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">leeN2</span> -<span class="id">leeN2</span> -(<span class="id">leeN2</span> <span class="id">y</span>); <span class="id">exact</span>: <span class="id"><a name="a:1434">lee_add</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_le_dadd</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">b</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">a</span> &lt; <span class="id">x</span> -&gt; <span class="id">b</span> &lt;= <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">b</span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof465')">Proof.</span></div>
<div class="proofscript" id="proof465">
 <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.daddeC">dual_addeE</a></span> <span class="id">lteN2</span> -<span class="id">lteN2</span>; <span class="id">exact</span>: <span class="id">lte_le_sub</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_lt_dadd</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">a</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">a</span> &lt;= <span class="id">x</span> -&gt; <span class="id">b</span> &lt; <span class="id">y</span> -&gt; <span class="id">a</span> + <span class="id">b</span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof466')">Proof.</span></div>
<div class="proofscript" id="proof466">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">afin</span> <span class="id">xa</span> <span class="id">yb</span>; <span class="id">rewrite</span> (<span class="id">daddeC</span> <span class="id">a</span>) (<span class="id">daddeC</span> <span class="id"><a name="z:1442">x</a></span>) <span class="id">lte_le_dadd</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsub</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">t</span> : <span class="id">x</span> &lt;= <span class="id">y</span> -&gt; <span class="id">t</span> &lt;= <span class="id">z</span> -&gt; <span class="id">x</span> - <span class="id">z</span> &lt;= <span class="id">y</span> - <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof467')">Proof.</span></div>
<div class="proofscript" id="proof467">
 <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">oppeK</span> -<span class="id">leeN2</span> !<span class="id">oppeK</span>; <span class="id">exact</span>: <span class="id">lee_add</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_le_dsub</span> <span class="id">z</span> <span class="id">u</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">u</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">x</span> &lt; <span class="id">z</span> -&gt; <span class="id">u</span> &lt;= <span class="id">y</span> -&gt; <span class="id">x</span> - <span class="id">y</span> &lt; <span class="id"><a name="i:1452">z</a></span> - <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof468')">Proof.</span></div>
<div class="proofscript" id="proof468">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lteN2</span> !<span class="id">oppeK</span> -<span class="id">lteN2</span>; <span class="id">exact</span>: <span class="id">lte_le_add</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum</span> <span class="id">I</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) <span class="id">s</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> &lt;= <span class="id">g</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id"><a name="P:1460">i</a></span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">g</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof469')">Proof.</span></div>
<div class="proofscript" id="proof469">
<span class="id">move</span>=&gt; <span class="id">Pfg</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum</span> =&gt; <span class="id">i</span> <span class="id">Pi</span>; <span class="id">rewrite</span> <span class="id">leeN2</span>; <span class="id">exact</span>: <span class="id">Pfg</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_nneg_subset</span> <span class="id">I</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;{<span class="id">subset</span> <span class="id">Q</span> &lt;= <span class="id">P</span>} -&gt; {<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">P</span> &amp; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_le0">Q</a></span>], <span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id">f</span> <span class="id">i</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">Q</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof470')">Proof.</span></div>
<div class="proofscript" id="proof470">
<span class="id">move</span>=&gt; <span class="id">QP</span> <span class="id">PQf</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_npos_subset</span> =&gt; [//|<span class="id">i</span> <span class="id">iPQ</span>]; <span class="id">rewrite</span> <span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">PQf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_npos_subset</span> <span class="id">I</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;{<span class="id">subset</span> <span class="id">Q</span> &lt;= <span class="id">P</span>} -&gt; {<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">P</span> &amp; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_ge0">Q</a></span>], <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">f</span> <span class="id">i</span> &lt;= 0} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id"><a name="I:1482">f</a></span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id"><a name="s:1483">i</a></span> &lt;- <span class="id">s</span> | <span class="id">Q</span> <span class="id">i</span>) <span class="id"><a name="Q:1485">f</a></span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof471')">Proof.</span></div>
<div class="proofscript" id="proof471">
<span class="id">move</span>=&gt; <span class="id">QP</span> <span class="id">PQf</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_nneg_subset</span> =&gt; [//|<span class="id">i</span> <span class="id">iPQ</span>]; <span class="id">rewrite</span> <span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">PQf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_nneg</span> (<span class="id">I</span> : <span class="id">eqType</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : <span class="id">pred</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_npos">I</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) : (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; ~~ <span class="id">Q</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id"><a name="I:1494">P</a></span> <span class="id">i</span> &amp;&amp; <span class="id">Q</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id"><a name="P:1496">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof472')">Proof.</span></div>
<div class="proofscript" id="proof472">
<span class="id">move</span>=&gt; <span class="id">PQf</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_npos</span> =&gt; <span class="id">i</span> <span class="id">Pi</span> <span class="id">nQi</span>; <span class="id">rewrite</span> <span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">PQf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_npos</span> (<span class="id">I</span> : <span class="id">eqType</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">P</span> <span class="id">Q</span> : <span class="id">pred</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_nneg">I</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) : (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; ~~ <span class="id">Q</span> <span class="id">i</span> -&gt; <span class="id">f</span> <span class="id">i</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span> &amp;&amp; <span class="id">Q</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof473')">Proof.</span></div>
<div class="proofscript" id="proof473">
<span class="id">move</span>=&gt; <span class="id">PQf</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_nneg</span> =&gt; <span class="id">i</span> <span class="id">Pi</span> <span class="id">nQi</span>; <span class="id"><a name="j:1514">rewrite</a></span> <span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">PQf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_nneg_ord</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_npos_ord">nat</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id"><a name="i:1517">n</a></span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">n</span>)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">i</span> &lt;= <span class="id">j</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof474')">Proof.</span></div>
<div class="proofscript" id="proof474">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">m</a></span> <span class="id">n</span> <span class="id">mlen</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: (<span class="id">lee_sum_npos_ord</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; - <span class="id">f</span> <span class="id">i</span>)%<span class="id">E</span>) =&gt; [<span class="id">i</span> <span class="id">Pi</span>|//].<br/>
<span class="id">rewrite</span> <span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_npos_ord</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_nneg_ord">nat</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">P</span> <span class="id"><a name="i:1530">n</a></span> -&gt; <span class="id">f</span> <span class="id">n</span> &lt;= 0)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">i</span> &lt; <span class="id">n</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">j</span> &lt;= <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof475')">Proof.</span></div>
<div class="proofscript" id="proof475">
<span class="id">move</span>=&gt; <span class="id"><a name="P:1533">f0</a></span> <span class="id">m</span> <span class="id">n</span> <span class="id">mlen</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: (<span class="id">lee_sum_nneg_ord</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; - <span class="id">f</span> <span class="id">i</span>)%<span class="id">E</span>) =&gt; [<span class="id">i</span> <span class="id">Pi</span>|//].<br/>
<span class="id">rewrite</span> <span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_nneg_natr</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">m</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_npos_natr">n</a></span>, (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">n</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">n</span>) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id"><a name="DualAddTheoryRealDomain.lee_dsum_npos_natr">P</a></span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">i</span> &lt;= <span class="id"><a name="P:1545">j</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof476')">Proof.</span></div>
<div class="proofscript" id="proof476">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_npos_natr</span> =&gt; [<span class="id">n</span> ? ?|//]; <span class="id">rewrite</span> <span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_npos_natr</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">m</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_nneg_natr">n</a></span>, (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">n</span> -&gt; <span class="id">f</span> <span class="id">n</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">n</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id"><a name="DualAddTheoryRealDomain.lee_dsum_nneg_natl">P</a></span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">j</span> &lt;= <span class="id"><a name="P:1557">i</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof477')">Proof.</span></div>
<div class="proofscript" id="proof477">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_nneg_natr</span> =&gt; [<span class="id">n</span> ? ?|//]; <span class="id">rewrite</span> <span class="id">oppe_ge0</span>; <span class="id"><a name="j:1565">exact</a></span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_nneg_natl</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span>, (<span class="id">m</span> &lt; <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">m</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">m</span>) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">m</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id"><a name="DualAddTheoryRealDomain.lee_dsum_npos_natl">P</a></span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">j</span> &lt;= <span class="id"><a name="P:1569">i</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof478')">Proof.</span></div>
<div class="proofscript" id="proof478">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_npos_natl</span> =&gt; [<span class="id">m</span> ? ?|//]; <span class="id">rewrite</span> <span class="id">oppe_le0</span>; <span class="id"><a name="j:1577">exact</a></span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_npos_natl</span> (<span class="id">f</span> : <span class="id">nat</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">nat</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span>, (<span class="id">m</span> &lt; <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">P</span> <span class="id">m</span> -&gt; <span class="id">f</span> <span class="id">m</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id">m</span> =&gt; \<span class="id">sum_</span>(<span class="id">m</span> &lt;= <span class="id">i</span> &lt; <span class="id">n</span> | <span class="id"><a name="DualAddTheoryRealDomain.lee_dsum_nneg_subfset">P</a></span> <span class="id">i</span>) (<span class="id">f</span> <span class="id">i</span>)) : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">i</span> &lt;= <span class="id"><a name="A:1581">j</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof479')">Proof.</span></div>
<div class="proofscript" id="proof479">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">i</span> <span class="id">j</span> <span class="id">le_ij</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_nneg_natl</span> =&gt; [<span class="id">m</span> ? ?|//]; <span class="id">rewrite</span> <span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_nneg_subfset</span> (<span class="id">T</span> : <span class="id">choiceType</span>) (<span class="id">A</span> <span class="id">B</span> : {<span class="id">fset</span> <span class="id">T</span>}%<span class="id">fset</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">T</a></span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) : {<span class="id">subset</span> <span class="id">A</span> &lt;= <span class="id">B</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">B</span> &amp; <span class="id">A</span>], <span class="kwd">forall</span> <span class="id">t</span>, <span class="id">P</span> <span class="id">t</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">t</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">A</span> | <span class="id">P</span> <span class="id">t</span>) <span class="id">f</span> <span class="id">t</span> &lt;= \<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">B</span> | <span class="id">P</span> <span class="id"><a name="A:1593">t</a></span>) <span class="id">f</span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof480')">Proof.</span></div>
<div class="proofscript" id="proof480">
<span class="id">move</span>=&gt; <span class="id"><a name="P:1595">AB</a></span> <span class="id">f0</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_npos_subfset</span> =&gt; [//|? ? ?]; <span class="id">rewrite</span> <span class="id">oppe_le0</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsum_npos_subfset</span> (<span class="id">T</span> : <span class="id">choiceType</span>) (<span class="id">A</span> <span class="id">B</span> : {<span class="id">fset</span> <span class="id">T</span>}%<span class="id">fset</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">T</a></span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) : {<span class="id">subset</span> <span class="id">A</span> &lt;= <span class="id">B</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> [<span class="id">predD</span> <span class="id">B</span> &amp; <span class="id">A</span>], <span class="kwd">forall</span> <span class="id">t</span>, <span class="id">P</span> <span class="id">t</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt;= 0} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">B</span> | <span class="id">P</span> <span class="id">t</span>) <span class="id">f</span> <span class="id">t</span> &lt;= \<span class="id">sum_</span>(<span class="id">t</span> &lt;- <span class="id">A</span> | <span class="id">P</span> <span class="id">t</span>) <span class="id">f</span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof481')">Proof.</span></div>
<div class="proofscript" id="proof481">
<span class="id">move</span>=&gt; <span class="id">AB</span> <span class="id">f0</span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">leeN2</span>.<br/>
<span class="id">apply</span>: <span class="id">lee_sum_nneg_subfset</span> =&gt; [//|? ? ?]; <span class="id">rewrite</span> <span class="id">oppe_ge0</span>; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dsubl_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof482')">Proof.</span></div>
<div class="proofscript" id="proof482">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppl">rewrite</a></span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppr">dual_addeE</a></span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">oppeK</span> <span class="id">lte_subl_addr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dsubl_addl</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">x</a></span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof483')">Proof.</span></div>
<div class="proofscript" id="proof483">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">lte_subr_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dsubr_addr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">x</a></span> <span class="id">y</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">x</span> + <span class="id">z</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof484')">Proof.</span></div>
<div class="proofscript" id="proof484">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">lte_subl_addr</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="x:1616">lte_dsubr_addl</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof485')">Proof.</span></div>
<div class="proofscript" id="proof485">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">lte_subl_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dsuber_addr</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">x</span> + <span class="id">z</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof486')">Proof.</span></div>
<div class="proofscript" id="proof486">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">lte_subel_addr</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dsuber_addl</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof487')">Proof.</span></div>
<div class="proofscript" id="proof487">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">lte_subel_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dsubel_addr</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof488')">Proof.</span></div>
<div class="proofscript" id="proof488">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">lte_suber_addr</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_dsubel_addl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt; <span class="id">z</span>) = (<span class="id">x</span> &lt; <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof489')">Proof.</span></div>
<div class="proofscript" id="proof489">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lte_oppl</span> <span class="id">lte_oppr</span> <span class="id">lte_suber_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsubl_addr</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id">x</span> &lt;= <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof490')">Proof.</span></div>
<div class="proofscript" id="proof490">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">lee_oppr</span> <span class="id">lee_subr_addr</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsubl_addl</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span> <span class="id">z</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof491')">Proof.</span></div>
<div class="proofscript" id="proof491">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">lee_oppr</span> <span class="id">lee_subr_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsubr_addr</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">x</span> + <span class="id">z</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof492')">Proof.</span></div>
<div class="proofscript" id="proof492">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">lee_oppr</span> <span class="id">lee_subl_addr</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsubr_addl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">z</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof493')">Proof.</span></div>
<div class="proofscript" id="proof493">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">lee_oppr</span> <span class="id">lee_subl_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsubel_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">z</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id">x</span> &lt;= <span class="id">z</span> + <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof494')">Proof.</span></div>
<div class="proofscript" id="proof494">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">lee_oppr</span> <span class="id">lee_suber_addr</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsubel_addl</span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">z</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> - <span class="id">y</span> &lt;= <span class="id">z</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof495')">Proof.</span></div>
<div class="proofscript" id="proof495">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">lee_oppr</span> <span class="id">lee_suber_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsuber_addr</span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">z</a></span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">x</span> + <span class="id">z</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof496')">Proof.</span></div>
<div class="proofscript" id="proof496">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">lee_oppl</span> <span class="id">lee_oppr</span> <span class="id">lee_subel_addr</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_dsuber_addl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> - <span class="id">z</span>) = (<span class="id">z</span> + <span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof497')">Proof.</span></div>
<div class="proofscript" id="proof497">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.dadde0">rewrite</a></span> !<span class="id">dual_addeE</span> <span class="id"><a name="DualAddTheoryRealDomain.dsubre_gt0">lee_oppl</a></span> <span class="id">lee_oppr</span> <span class="id">lee_subel_addl</span> ?<span class="id">fin_numN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsuber_gt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (0 &lt; <span class="id">y</span> - <span class="id">x</span>) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof498')">Proof.</span></div>
<div class="proofscript" id="proof498">
 <span class="kwd">by</span> <span class="id"><a name="DualAddTheoryRealDomain.dsube_gt0">move</a></span>=&gt; ?; <span class="id"><a name="x:1656">rewrite</a></span> <span class="id">lte_dsubr_addl</span>// <span class="id">dadde0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsubre_gt0</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (0 &lt; <span class="id">y</span> - <span class="id">x</span>) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof499')">Proof.</span></div>
<div class="proofscript" id="proof499">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">lte_dsuber_addl</span>// <span class="id">dadde0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dsube_gt0</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) || (<span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) -&gt;<br/>
&nbsp;&nbsp;(0 &lt; <span class="id">y</span> - <span class="id">x</span>) = (<span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof500')">Proof.</span></div>
<div class="proofscript" id="proof500">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">orP</span>[?|?]; [<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defNN">rewrite</a></span> <span class="id">dsuber_gt0</span>|<span class="id">rewrite</span> <span class="id">dsubre_gt0</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dmuleDr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> +? <span class="id">z</span> -&gt; <span class="id">x</span> * (<span class="id">y</span> + <span class="id">z</span>) = <span class="id">x</span> * <span class="id">y</span> + <span class="id">x</span> * <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof501')">Proof.</span></div>
<div class="proofscript" id="proof501">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">muleN</span> <span class="id">muleDr</span> ?<span class="id"><a name="x:1664">adde_defNN</a></span>// !<span class="id">muleN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dmuleDl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id">y</span> +? <span class="id">z</span> -&gt; (<span class="id">y</span> + <span class="id">z</span>) * <span class="id">x</span> = <span class="id">y</span> * <span class="id">x</span> + <span class="id">z</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof502')">Proof.</span></div>
<div class="proofscript" id="proof502">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> -!(<span class="id">muleC</span> <span class="id"><a name="DualAddTheoryRealDomain.dge0_muleDr">x</a></span>) <span class="id">dmuleDr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dge0_muleDl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : 0 &lt;= <span class="id">y</span> -&gt; 0 &lt;= <span class="id">z</span> -&gt; (<span class="id">y</span> + <span class="id">z</span>) * <span class="id">x</span> = <span class="id">y</span> * <span class="id">x</span> + <span class="id">z</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof503')">Proof.</span></div>
<div class="proofscript" id="proof503">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">mulNe</span> <span class="id">le0_muleDl</span> ?<span class="id">oppe_le0</span> ?<span class="id">mulNe</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dge0_muleDr</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : 0 &lt;= <span class="id">y</span> -&gt; 0 &lt;= <span class="id">z</span> -&gt; <span class="id">x</span> * (<span class="id">y</span> + <span class="id">z</span>) = <span class="id">x</span> * <span class="id">y</span> + <span class="id">x</span> * <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof504')">Proof.</span></div>
<div class="proofscript" id="proof504">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">muleN</span> <span class="id">le0_muleDr</span> ?<span class="id">oppe_le0</span> ?<span class="id">muleN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dle0_muleDl</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">z</span> &lt;= 0 -&gt; (<span class="id">y</span> + <span class="id">z</span>) * <span class="id">x</span> = <span class="id">y</span> * <span class="id">x</span> + <span class="id">z</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof505')">Proof.</span></div>
<div class="proofscript" id="proof505">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">mulNe</span> <span class="id">ge0_muleDl</span> ?<span class="id">oppe_ge0</span> ?<span class="id">mulNe</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dle0_muleDr</span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a name="x:1678">z</a></span> : <span class="id">y</span> &lt;= 0 -&gt; <span class="id">z</span> &lt;= 0 -&gt; <span class="id">x</span> * (<span class="id">y</span> + <span class="id">z</span>) = <span class="id">x</span> * <span class="id">y</span> + <span class="id">x</span> * <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof506')">Proof.</span></div>
<div class="proofscript" id="proof506">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">muleN</span> <span class="id">ge0_muleDr</span> ?<span class="id">oppe_ge0</span> ?<span class="id">muleN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ge0_dsume_distrl</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">F</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) * <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="DualAddTheoryRealDomain.ge0_dsume_distrr">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">F</span> <span class="id">i</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof507')">Proof.</span></div>
<div class="proofscript" id="proof507">
<span class="id">move</span>=&gt; <span class="id">F0</span>; <span class="id"><a name="P:1691">rewrite</a></span> !<span class="id">dual_sumeE</span> !<span class="id">mulNe</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryRealDomain.DualERealArithTh_realDomainType.R">le0_sume_distrl</a></span> =&gt; [|<span class="id">i</span> <span class="id">Pi</span>].<br/>
- <span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">_</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">mulNe</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oppe_le0</span> <span class="id">F0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ge0_dsume_distrr</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; 0 &lt;= <span class="id">F</span> <span class="id">i</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a name="I:1700">x</a></span> * (\<span class="id">sum_</span>(<span class="id"><a name="s:1701">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id"><a name="x:1702">i</a></span>) <span class="id"><a name="P:1703">F</a></span> <span class="id">i</span>) = \<span class="id">sum_</span>(<span class="id"><a name="F:1704">i</a></span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">x</span> * <span class="id">F</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof508')">Proof.</span></div>
<div class="proofscript" id="proof508">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">F0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">ge0_dsume_distrl</span>//; <span class="id">under</span> <span class="id">eq_bigr</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le0_dsume_distrl</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_sume_distrl">I</a></span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">F</span> <span class="id">i</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_ge0">s</a></span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) * <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">F</span> <span class="id"><a name="I:1712">i</a></span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof509')">Proof.</span></div>
<div class="proofscript" id="proof509">
<span class="id">move</span>=&gt; <span class="id"><a name="x:1714">F0</a></span>; <span class="id">rewrite</span> !<span class="id">dual_sumeE</span> <span class="id">mulNe</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryRealDomain.DualERealArithTh_realDomainType.R">ge0_sume_distrl</a></span> =&gt; [|<span class="id">i</span> <span class="id">Pi</span>].<br/>
- <span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">_</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">mulNe</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oppe_ge0</span> <span class="id">F0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le0_dsume_distrr</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) <span class="id">x</span> (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">P</span> <span class="id">i</span> -&gt; <span class="id">F</span> <span class="id">i</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;<span class="id">x</span> * (\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>) = \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) (<span class="id">x</span> * <span class="id">F</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof510')">Proof.</span></div>
<div class="proofscript" id="proof510">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">F0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">le0_dsume_distrl</span>//; <span class="id">under</span> <span class="id">eq_bigr</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_abs_dadd</span> <span class="id">x</span> <span class="id">y</span> : `|<span class="id">x</span> + <span class="id">y</span>| &lt;= `|<span class="id">x</span>| + `|<span class="id"><a name="i:1730">y</a></span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof511')">Proof.</span></div>
<div class="proofscript" id="proof511">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id"><a name="i:1733">x</a></span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> /<span class="id">abse</span> -<span class="id">dEFinD</span> <span class="id">lee_fin</span> <span class="id">ler_norm_add</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_abs_dsum</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) :<br/>
&nbsp;&nbsp;`|\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id"><a name="x:1736">i</a></span>| &lt;= \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">s</span> | <span class="id">P</span> <span class="id">i</span>) `|<span class="id">F</span> <span class="id">i</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof512')">Proof.</span></div>
<div class="proofscript" id="proof512">
<span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">abse0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>/(<span class="id">le_trans</span> (<span class="id">lee_abs_dadd</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">lee_dadd</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_abs_dsub</span> <span class="id">x</span> <span class="id">y</span> : `|<span class="id">x</span> - <span class="id">y</span>| &lt;= `|<span class="id">x</span>| + `|<span class="id">y</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof513')">Proof.</span></div>
<div class="proofscript" id="proof513">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //; <span class="id">rewrite</span> /<span class="id">abse</span> -<span class="id">dEFinD</span> <span class="id">lee_fin</span> <span class="id">ler_norm_sub</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_minl</span> : <span class="id">left_distributive</span> (@<span class="id">dual_adde</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.dual_addeE">R</a></span>) <span class="id">mine</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof514')">Proof.</span></div>
<div class="proofscript" id="proof514">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_max">z</a></span>; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">oppe_min</span> <span class="id">adde_maxl</span> <span class="id">oppe_max</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_minr</span> : <span class="id">right_distributive</span> (@<span class="id">dual_adde</span> <span class="id">R</span>) <span class="id">mine</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof515')">Proof.</span></div>
<div class="proofscript" id="proof515">
 <span class="kwd">by</span> <span class="id"><a name="z:1742">move</a></span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>; <span class="id">rewrite</span> !<span class="id">dual_addeE</span> <span class="id">oppe_min</span> <span class="id">adde_maxr</span> <span class="id">oppe_max</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryRealDomain.lee_dadd">dmule_natl</a></span> <span class="id">x</span> <span class="id">n</span> : <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> * <span class="id">x</span> = <span class="id">x</span> *+ <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof516')">Proof.</span></div>
<div class="proofscript" id="proof516">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule_natl</span> <span class="id">ednatmulE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pdaddl</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt;= <span class="id">z</span> -&gt; <span class="id">y</span> &lt;= <span class="id">x</span> + <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof517')">Proof.</span></div>
<div class="proofscript" id="proof517">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> -[<span class="id">y</span>]<span class="id">dadd0e</span> <span class="id">lee_dadd</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pdaddl</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt; <span class="id">z</span> -&gt; <span class="id">y</span> &lt; <span class="id">x</span> + <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof518')">Proof.</span></div>
<div class="proofscript" id="proof518">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x0</span> /<span class="id">lt_le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">lee_pdaddl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pdaddr</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt;= <span class="id">z</span> -&gt; <span class="id">y</span> &lt;= <span class="id">z</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof519')">Proof.</span></div>
<div class="proofscript" id="proof519">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">daddeC</span> <span class="id">lee_pdaddl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pdaddr</span> <span class="id">y</span> <span class="id">x</span> <span class="id">z</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">y</span> &lt; <span class="id">z</span> -&gt; <span class="id">y</span> &lt; <span class="id">z</span> + <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof520')">Proof.</span></div>
<div class="proofscript" id="proof520">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">daddeC</span> <span class="id">lte_pdaddl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_spdaddre</span> <span class="id">z</span> <span class="id">x</span> <span class="id"><a name="z:1755">y</a></span> : <span class="id"><a name="y:1757">z</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; <span class="id">z</span> &lt;= <span class="id">x</span> -&gt; <span class="id">z</span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof521')">Proof.</span></div>
<div class="proofscript" id="proof521">
<span class="id">move</span>: <span class="id">z</span> <span class="id">y</span> <span class="id">x</span> =&gt; [<span class="id">z</span>| |] [<span class="id">y</span>| |] [<span class="id">x</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?(<span class="id">lte_fin</span>,<span class="id">ltry</span>,<span class="id">ltNyr</span>)//.<br/>
<span class="id">exact</span>: <span class="id">ltr_spaddr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_spdadder</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; 0 &lt; <span class="id">y</span> -&gt; <span class="id">z</span> &lt;= <span class="id">x</span> -&gt; <span class="id">z</span> &lt; <span class="id">x</span> + <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof522')">Proof.</span></div>
<div class="proofscript" id="proof522">
<span class="id">move</span>: <span class="id">z</span> <span class="id">y</span> <span class="id">x</span> =&gt; [<span class="id">z</span>| |] [<span class="id">y</span>| |] [<span class="id">x</span>| |] <span class="id">_</span> //=; <span class="id">rewrite</span> ?(<span class="id">lte_fin</span>,<span class="id">ltry</span>,<span class="id">ltNyr</span>)//.<br/>
<span class="id">exact</span>: <span class="id">ltr_spaddr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">DualERealArithTh_realDomainType</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_dsum_nneg_ord</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_dsum_npos_ord</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_dsum_nneg_natr</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_dsum_npos_natr</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_dsum_nneg_natl</span> {<span class="id">R</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">lee_dsum_npos_natl</span> {<span class="id">R</span>}.<br/>
<br/>
<span class="kwd">End</span> <span class="id">DualAddTheoryRealDomain</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_opp2</span> {<span class="id">R</span> : <span class="id">numDomainType</span>} : {<span class="id">mono</span> @<span class="id">oppe</span> <span class="id"><a name="lte_opp2">R</a></span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof523')">Proof.</span></div>
<div class="proofscript" id="proof523">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">case</span>: <span class="id">x</span> <span class="id"><a name="x:1765">y</a></span> =&gt; [?||] [?||] //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lee_fin</span> !<span class="id">ler_opp2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span>  /<span class="id">Order.le</span>/= <span class="id">realN</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">Order.le</span>/= <span class="id">realN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_opp2</span> {<span class="id">R</span> : <span class="id">numDomainType</span>} : {<span class="id">mono</span> @<span class="id">oppe</span> <span class="id">R</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt; <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof524')">Proof.</span></div>
<div class="proofscript" id="proof524">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">case</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [?||] [?||] //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">lte_fin</span> !<span class="id">ltr_opp2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a name="lee_addgt0Pr">rewrite</a></span>  /<span class="id">Order.lt</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">realN</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">Order.lt</span>/= <span class="id">realN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">realFieldType_lemmas</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realFieldType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id">R</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">r</span> : <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_addgt0Pr</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="kwd">forall</span> <span class="id">e</span>, (0 &lt; <span class="id">e</span>)%<span class="id">R</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">e</span>%:<span class="id">E</span>) (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof525')">Proof.</span></div>
<div class="proofscript" id="proof525">
<span class="id">apply</span>/(<span class="id">iffP</span> <span class="id">idP</span>) =&gt; [|].<br/>
- <span class="id">move</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">x</a></span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]//.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; <span class="id">xy</span> <span class="id">e</span> <span class="id">e0</span>; <span class="id">rewrite</span> -<span class="id">EFinD</span> <span class="id">lee_fin</span> <span class="id">ler_paddr</span>// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">e</span> <span class="id">e0</span>; <span class="id">rewrite</span> <span class="id">leNye</span>.<br/>
- <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |]// <span class="id">xy</span>; <span class="id">rewrite</span> ?<span class="id">leey</span> ?<span class="id">leNye</span>//;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[|<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xy</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">lte01</span>)..].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_fin</span>; <span class="id">apply</span>/<span class="id">ler_addgt0Pr</span> =&gt; <span class="id">e</span> <span class="id">e0</span>; <span class="id">rewrite</span> -<span class="id">lee_fin</span> <span class="id">EFinD</span> <span class="id">xy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_mul01Pr</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="kwd">forall</span> <span class="id">r</span>, (0 &lt; <span class="id">r</span> &lt; 1)%<span class="id">R</span> -&gt; <span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span> &lt;= <span class="id">y</span>) (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof526')">Proof.</span></div>
<div class="proofscript" id="proof526">
<span class="id">move</span>=&gt; <span class="id">x0</span>; <span class="id">apply</span>/(<span class="id">iffP</span> <span class="id">idP</span>) =&gt; [<span class="id">xy</span> <span class="id">r</span> /<span class="id">andP</span>[<span class="id">r0</span> <span class="id">r1</span>]|<span class="id">h</span>].<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">x0</span> <span class="id">xy</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">x0</span> <span class="id">xy</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">xy</span>) // <span class="id">gee_pmull</span> // <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">h01</span> : (0 &lt; (2^-1 : <span class="id">R</span>) &lt; 1)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invr_gt0</span> ?<span class="id">invf_lt1</span> ?<span class="id">ltr0n</span> ?<span class="id">ltr1n</span>.<br/>
<span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] // <span class="kwd">in</span> <span class="id">x0</span> <span class="id">h</span> *.<br/>
- <span class="id">move</span>: (<span class="id">x0</span>); <span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|{}<span class="id">x0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">h</span> <span class="id">_</span> <span class="id">h01</span>))// <span class="id">mule_ge0</span>// <span class="id">lee_fin</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">y0</span> : (0 &lt; <span class="id">y</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lte_fin</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id">h</span> <span class="id">_</span> <span class="id">h01</span>))// <span class="id">mule_gt0</span>// <span class="id">lte_fin</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lee_fin</span> <span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id">negP</span> =&gt; <span class="id">yx</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">h</span> : (0 &lt; (<span class="id">y</span> + <span class="id">x</span>) / (2 * <span class="id">x</span>) &lt; 1)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span> // ?<span class="id">addr_gt0</span>// ?<span class="id">mulr_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> ?<span class="id">mulr_gt0</span>// <span class="id">mul1r</span> <span class="id">mulr_natl</span> <span class="id">mulr2n</span> <span class="id">ltr_add2r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">EFinM</span> <span class="id">_</span> <span class="id">x</span>) <span class="id">lee_fin</span> <span class="id">invrM</span> ?<span class="id">unitfE</span>// ?<span class="id">gt_eqF</span>// -<span class="id">mulrA</span> <span class="id">mulrAC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulVr</span> ?<span class="id">unitfE</span> ?<span class="id">gt_eqF</span>// <span class="id">mul1r</span>; <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">ltNge</span> <span class="id">midf_lt</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">leey</span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> := <span class="id">h</span> <span class="id">_</span> <span class="id">h01</span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> := <span class="id">h</span> <span class="id">_</span> <span class="id">h01</span>; <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span> // <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> := <span class="id">h</span> <span class="id">_</span> <span class="id">h01</span>; <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span> // <span class="id">mul1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pdivr_mull</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; (<span class="id">r</span>^-1%:<span class="id">E</span> * <span class="id">y</span> &lt; <span class="id">x</span>) = (<span class="id">y</span> &lt; <span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof527')">Proof.</span></div>
<div class="proofscript" id="proof527">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">move</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">x</a></span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">lte_fin</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltr_pdivr_mull</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">ltNge</span> 2!<span class="id">leey</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> -<span class="id">EFinM</span> 2!<span class="id">ltNyr</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">ltry</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> <span class="id">ltxx</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// 2!<span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a name="lte_pdivr_mulr">rewrite</a></span> <span class="id">mulr_infty</span> <span class="id"><a name="y:1780">gtr0_sg</a></span>// <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// 2!<span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pdivr_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; (<span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id">E</span> &lt; <span class="id">x</span>) = (<span class="id">y</span> &lt; <span class="id">x</span> * <span class="id">r</span>%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof528')">Proof.</span></div>
<div class="proofscript" id="proof528">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lte_pdivr_mull</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pdivl_mull</span> <span class="id">r</span> <span class="id">y</span> <span class="id">x</span> : (0 &lt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">r</a></span>)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt; <span class="id">r</span>^-1%:<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulr_infty">E</a></span> * <span class="id">y</span>) = (<span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof529')">Proof.</span></div>
<div class="proofscript" id="proof529">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [<span class="id">x</span>| |] [<span class="id">y</span>| |] //=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">lte_fin</span> <span class="id">ltr_pdivl_mull</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">ltry</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// 2!<span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a name="lte_pdivl_mulr">mulr_infty</a></span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span> 2!<span class="id">ltNyr</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// 2!<span class="id">mul1e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_infty</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">mulr_infty</span> <span class="id">sgrV</span> <span class="id">gtr0_sg</span>// <span class="id">mul1e</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_pdivl_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id">E</span>) = (<span class="id">x</span> * <span class="id">r</span>%:<span class="id">E</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof530')">Proof.</span></div>
<div class="proofscript" id="proof530">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lte_pdivl_mull</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_ndivl_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt; <span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id"><a name="x:1791">E</a></span>) = (<span class="id">y</span> &lt; <span class="id">x</span> * <span class="id">r</span>%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof531')">Proof.</span></div>
<div class="proofscript" id="proof531">
<span class="id">rewrite</span> -<span class="id">oppr0</span> <span class="id">ltr_oppr</span> =&gt; <span class="id">r0</span>; <span class="id">rewrite</span> -{1}(<span class="id">opprK</span> <span class="id">r</span>) <span class="id">invrN</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFinN</span> <span class="id">muleN</span> <span class="id">lte_oppr</span> <span class="id">lte_pdivr_mulr</span>// <span class="id">EFinN</span> <span class="id"><a name="x:1794">muleNN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_ndivl_mull</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt; <span class="id">r</span>^-1%:<span class="id">E</span> * <span class="id">y</span>) = (<span class="id">y</span> &lt; <span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof532')">Proof.</span></div>
<div class="proofscript" id="proof532">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lte_ndivl_mulr</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_ndivr_mull</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">r</span>^-1%:<span class="id">E</span> * <span class="id">y</span> &lt; <span class="id"><a name="x:1797">x</a></span>) = (<span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof533')">Proof.</span></div>
<div class="proofscript" id="proof533">
<span class="id">rewrite</span> -<span class="id">oppr0</span> <span class="id">ltr_oppr</span> =&gt; <span class="id">r0</span>; <span class="id">rewrite</span> -{1}(<span class="id">opprK</span> <span class="id">r</span>) <span class="id">invrN</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFinN</span> <span class="id">mulNe</span> <span class="id">lte_oppl</span> <span class="id">lte_pdivl_mull</span>// <span class="id">EFinN</span> <span class="id"><a name="x:1800">muleNN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lte_ndivr_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id">E</span> &lt; <span class="id">x</span>) = (<span class="id">x</span> * <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">r</a></span>%:<span class="id">E</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof534')">Proof.</span></div>
<div class="proofscript" id="proof534">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lte_ndivr_mull</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pdivr_mull</span> <span class="id">r</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleA">y</a></span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; (<span class="id">r</span>^-1%:<span class="id">E</span> * <span class="id">y</span> &lt;= <span class="id">x</span>) = (<span class="id">y</span> &lt;= <span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof535')">Proof.</span></div>
<div class="proofscript" id="proof535">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">apply</span>/<span class="id">idP</span>/<span class="id">idP</span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_pdivr_mull</span>// =&gt; /<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleA</span> -<span class="id">EFinM</span> <span class="id">divrr</span> ?<span class="id">mul1e</span>// <span class="id"><a name="x:1803">unitfE</a></span> <span class="id">gt_eqF</span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;|]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lte_pdivr_mull</span>// =&gt; /<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleA</span> -<span class="id">EFinM</span> <span class="id">mulVr</span> ?<span class="id"><a name="lee_pdivl_mull">mul1e</a></span>// <span class="id">unitfE</span> <span class="id"><a name="r:1805">gt_eqF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pdivr_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; (<span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id">E</span> &lt;= <span class="id">x</span>) = (<span class="id">y</span> &lt;= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">x</a></span> * <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">r</a></span>%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof536')">Proof.</span></div>
<div class="proofscript" id="proof536">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lee_pdivr_mull</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pdivl_mull</span> <span class="id">r</span> <span class="id">y</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleA">x</a></span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">r</span>^-1%:<span class="id">E</span> * <span class="id">y</span>) = (<span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof537')">Proof.</span></div>
<div class="proofscript" id="proof537">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">apply</span>/<span class="id">idP</span>/<span class="id">idP</span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;|]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lte_pdivl_mull</span>// =&gt; /<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleA</span> -<span class="id">EFinM</span> <span class="id">divrr</span> ?<span class="id">mul1e</span>// <span class="id"><a name="x:1809">unitfE</a></span> <span class="id">gt_eqF</span>.<br/>
- <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lte_pdivl_mull</span>// =&gt; /<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">muleA</span> -<span class="id">EFinM</span> <span class="id">mulVr</span> ?<span class="id"><a name="lee_ndivl_mulr">mul1e</a></span>// <span class="id">unitfE</span> <span class="id"><a name="r:1811">gt_eqF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_pdivl_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id">E</span>) = (<span class="id">x</span> * <span class="id">r</span>%:<span class="id">E</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof538')">Proof.</span></div>
<div class="proofscript" id="proof538">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lee_pdivl_mull</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_ndivl_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id">E</span>) = (<span class="id">y</span> &lt;= <span class="id">x</span> * <span class="id">r</span>%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof539')">Proof.</span></div>
<div class="proofscript" id="proof539">
<span class="id">rewrite</span> -<span class="id">oppr0</span> <span class="id">ltr_oppr</span> =&gt; <span class="id">r0</span>; <span class="id">rewrite</span> -{1}(<span class="id">opprK</span> <span class="id">r</span>) <span class="id">invrN</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFinN</span> <span class="id">muleN</span> <span class="id">lee_oppr</span> <span class="id">lee_pdivr_mulr</span>// <span class="id">EFinN</span> <span class="id"><a name="r:1817">muleNN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_ndivl_mull</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">x</span> &lt;= <span class="id">r</span>^-1%:<span class="id">E</span> * <span class="id">y</span>) = (<span class="id">y</span> &lt;= <span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof540')">Proof.</span></div>
<div class="proofscript" id="proof540">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lee_ndivl_mulr</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_ndivr_mull</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">r</span>^-1%:<span class="id">E</span> * <span class="id">y</span> &lt;= <span class="id">x</span>) = (<span class="id">r</span>%:<span class="id">E</span> * <span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof541')">Proof.</span></div>
<div class="proofscript" id="proof541">
<span class="id">rewrite</span> -<span class="id">oppr0</span> <span class="id">ltr_oppr</span> =&gt; <span class="id">r0</span>; <span class="id">rewrite</span> -{1}(<span class="id">opprK</span> <span class="id">r</span>) <span class="id">invrN</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFinN</span> <span class="id">mulNe</span> <span class="id">lee_oppl</span> <span class="id">lee_pdivl_mull</span>// <span class="id">EFinN</span> <span class="id"><a name="r:1823">muleNN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_ndivr_mulr</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt; (<span class="id">y</span> * <span class="id">r</span>^-1%:<span class="id">E</span> &lt;= <span class="id">x</span>) = (<span class="id">x</span> * <span class="id">r</span>%:<span class="id">E</span> &lt;= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof542')">Proof.</span></div>
<div class="proofscript" id="proof542">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">muleC</span> <span class="id">lee_ndivr_mull</span>// <span class="id">muleC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eqe_pdivr_mull</span> <span class="id">r</span> <span class="id">x</span> <span class="id">y</span> : (<span class="id">r</span> != 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;((<span class="id">r</span>^-1)%:<span class="id">E</span> * <span class="id">y</span> == <span class="id">x</span>) = (<span class="id">y</span> == <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#realFieldType_lemmas">r</a></span>%:<span class="id">E</span> * <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof543')">Proof.</span></div>
<div class="proofscript" id="proof543">
<span class="id">rewrite</span> <span class="id">neq_lt</span> =&gt; /<span class="id">orP</span>[|] <span class="id">r0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id">lee_ndivr_mull</span>// <span class="id">lee_ndivl_mull</span>// -<span class="id">eq_le</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id">lee_pdivr_mull</span>// <span class="id">lee_pdivl_mull</span>// -<span class="id">eq_le</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">realFieldType_lemmas</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">DualAddTheoryRealField</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">DualAddTheoryNumDomain</span> <span class="id">DualAddTheoryRealDomain</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">DualRealFieldType_lemmas</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realFieldType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_daddgt0Pr</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="kwd">forall</span> <span class="id">e</span>, (0 &lt; <span class="id">e</span>)%<span class="id">R</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> + <span class="id">e</span>%:<span class="id">E</span>) (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof544')">Proof.</span></div>
<div class="proofscript" id="proof544">
 <span class="id">exact</span>: <span class="id">lee_addgt0Pr</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">DualRealFieldType_lemmas</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">DualAddTheoryRealField</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">sqrte</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">rcfType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : \<span class="id"><a name="sqrte_ge0">bar</a></span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sqrte">sqrte</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">x</span> <span class="id">is</span> +<span class="id">oo</span> <span class="kwd">then</span> +<span class="id">oo</span> <span class="kwd">else</span> <span class="kwd">if</span> <span class="id">x</span> <span class="id">is</span> <span class="id">r</span>%:<span class="id">E</span> <span class="kwd">then</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">Num.sqrt</a></span> <span class="id">r</span>)%:<span class="id">E</span> <span class="kwd">else</span> 0.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqrte0</span> : <span class="id">sqrte</span> 0 = 0 :&gt; \<span class="id">bar</span> <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof545')">Proof.</span></div>
<div class="proofscript" id="proof545">
 <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">sqrtr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqrte_ge0</span> <span class="id">x</span> : 0 &lt;= <span class="id">sqrte</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof546')">Proof.</span></div>
<div class="proofscript" id="proof546">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|//|]; <span class="id">rewrite</span> /= ?<span class="id">leey</span>// <span class="id">lee_fin</span> <span class="id">sqrtr_ge0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_sqrt</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id">y</span> -&gt; (<span class="id">sqrte</span> <span class="id">x</span> &lt;= <span class="id">sqrte</span> <span class="id">y</span>) = (<span class="id">x</span> &lt;= <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof547')">Proof.</span></div>
<div class="proofscript" id="proof547">
<span class="id">case</span>: <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sqrte">y</a></span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] <span class="id">yge0</span> //=.<br/>
- <span class="id">exact</span>: <span class="id">mathcomp_extra.ler_sqrt</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">leey</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">leNye</span> <span class="id">lee_fin</span> <span class="id">sqrtr_ge0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqrteM</span> <span class="id">x</span> <span class="id">y</span> : 0 &lt;= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">x</a></span> -&gt; <span class="id">sqrte</span> (<span class="id">x</span> * <span class="id">y</span>) = <span class="id">sqrte</span> <span class="id">x</span> * <span class="id">sqrte</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof548')">Proof.</span></div>
<div class="proofscript" id="proof548">
<span class="id">case</span>: <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">y</a></span> =&gt; [<span class="id">x</span>||] [<span class="id">y</span>||] //= <span class="id">age0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sqrtrM</span> ?<span class="id">EFinM</span>.<br/>
- <span class="id">move</span>: <span class="id">age0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">le_eqVlt</a></span> <span class="id">eqe</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">x0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0e</span> <span class="id">sqrte0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">sqrtr0</a></span> <span class="id">mul0e</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulyr">mulry</a></span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span>// <span class="id">mulry</span> <span class="id">gtr0_sg</span> ?<span class="id">mul1e</span>// <span class="id">sqrtr_gt0</span>.<br/>
- <span class="id">move</span>: <span class="id">age0</span>; <span class="id">rewrite</span> <span class="id">mule0</span> <span class="id">mulrNy</span> <span class="id">lee_fin</span> -<span class="id">sgr_ge0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">sgrP</span>; <span class="id">rewrite</span> ?<span class="id">mul0e</span> ?<span class="id">sqrte0</span>// ?<span class="id">mul1e</span>// <span class="id">ler0N1</span>.<br/>
- <span class="id">rewrite</span> !<span class="id">mulyr</span>; <span class="id">case</span>: (<span class="id">sgrP</span> <span class="id">y</span>) =&gt; [-&gt;||].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sqrtr0</span> <span class="id">sgr0</span> <span class="id">mul0e</span> <span class="id">sqrte0</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul1e</span>/= -<span class="id"><a name="x:1839">sqrtr_gt0</a></span> -<span class="id">sgr_gt0</span> -<span class="id">lte_fin</span> =&gt; /<span class="id">gt0_muley</span>-&gt;.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y0</span>; <span class="id">rewrite</span> <span class="id">EFinN</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulyy">mulN1e</a></span>/= <span class="id">ltr0_sqrtr</span>// <span class="id">sgr0</span> <span class="id">mul0e</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyy</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulyNy</span> <span class="id">mule0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqr_sqrte</span> <span class="id">x</span> : 0 &lt;= <span class="id">x</span> -&gt; <span class="id">sqrte</span> <span class="id">x</span> ^+ 2 = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof549')">Proof.</span></div>
<div class="proofscript" id="proof549">
<span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||] <span class="id">xge0</span>; <span class="id">rewrite</span> <span class="id">expe2</span> ?<span class="id">mulyy</span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">sqrteM</span>// -<span class="id">EFinM</span>/= <span class="id">sqrtr_sqr</span> <span class="id">ger0_norm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">sqrte_sqr</a></span> <span class="id">x</span> : <span class="id">sqrte</span> (<span class="id">x</span> ^+ 2) = `|<span class="id">x</span>|%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof550')">Proof.</span></div>
<div class="proofscript" id="proof550">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||//]; <span class="id">rewrite</span> /<span class="id">expe</span>/= ?<span class="id">sqrtr_sqr</span>// <span class="id">mulyy</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sqrte_fin_num</span> <span class="id">x</span> : 0 &lt;= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryRealDomain">x</a></span> -&gt; (<span class="id">sqrte</span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryRealField">x</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof551')">Proof.</span></div>
<div class="proofscript" id="proof551">
 <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheory">case</a></span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|//|//]; <span class="id">rewrite</span> !<span class="id">qualifE</span>/=. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">sqrte</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">DualAddTheory</span>.<br/>
<span class="kwd">Export</span> <span class="id">DualAddTheoryNumDomain</span>.<br/>
<span class="kwd">Export</span> <span class="id">DualAddTheoryRealDomain</span>.<br/>
<span class="kwd">Export</span> <span class="id">DualAddTheoryRealField</span>.<br/>
<span class="kwd">End</span> <span class="id">DualAddTheory</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">ConstructiveDualAddTheory</span>.<br/>
<span class="kwd">Export</span> <span class="id">DualAddTheory</span>.<br/>
<span class="kwd">End</span> <span class="id">ConstructiveDualAddTheory</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">posnume</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) <span class="id">of</span> <span class="id">phant</span> <span class="id">R</span> := {&gt; 0 : \<span class="id">bar</span> <span class="id">R</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phant">posnum</a></span>' '\<span class="id">bar</span>' <span class="id">R</span> }" := (@<span class="id">posnume</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">R</span>))  : <span class="id"><a href="mathcomp.analysis.signed.html#widen_signed">type_scope</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id">nonnege</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) <span class="id">of</span> <span class="id">phant</span> <span class="id">R</span> := {&gt;= 0 : \<span class="id">bar</span> <span class="id">R</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">nonneg</span>' '\<span class="id">bar</span>' <span class="id">R</span> }" := (@<span class="id">nonnege</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">R</span>))  : <span class="id">type_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">pos</span>" := (<span class="id">widen_signed</span> <span class="id"><a href="mathcomp.analysis.signed.html#widen_signed">x</a></span>%:<span class="id">sgn</span> : {<span class="id">posnum</span> \<span class="id">bar</span> <span class="id">_</span>}) (<span class="id">only</span> <span class="id">parsing</span>)<br/>
&nbsp;&nbsp;: <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">pos</span>" := (<span class="id">widen_signed</span> <span class="id"><a href="mathcomp.analysis.signed.html#widen_signed">x</a></span>%:<span class="id">sgn</span> : {<span class="id">posnum</span> \<span class="id">bar</span> <span class="id">_</span>}) (<span class="id">only</span> <span class="id">parsing</span>)<br/>
&nbsp;&nbsp;: <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">nng</span>" := (<span class="id">widen_signed</span> <span class="id">x</span>%:<span class="id">sgn</span> : {<span class="id">nonneg</span> \<span class="id">bar</span> <span class="id">_</span>}) (<span class="id">only</span> <span class="id">parsing</span>)<br/>
&nbsp;&nbsp;: <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">nng</span>" := (<span class="id">widen_signed</span> <span class="id">x</span>%:<span class="id">sgn</span> : {<span class="id">nonneg</span> \<span class="id">bar</span> <span class="id">_</span>}) (<span class="id">only</span> <span class="id">parsing</span>)<br/>
&nbsp;&nbsp;: <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">pos</span>" := (@<span class="id">widen_signed</span> <span class="id"><a href="mathcomp.analysis.signed.html#widen_signed">ereal_display</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">Signed.from</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">Phantom</span> <span class="id">_</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!=0 (<span class="id">KnownSign.Real</span> (<span class="id">KnownSign.Sign</span> &gt;=0)) <span class="id">_</span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">pos</span>" := (@<span class="id">widen_signed</span> <span class="id">ereal_display</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">Signed.from</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">Phantom</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">_</a></span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!=0 (<span class="id">KnownSign.Real</span> (<span class="id">KnownSign.Sign</span> &gt;=0)) <span class="id">_</span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">nng</span>" := (@<span class="id">widen_signed</span> <span class="id"><a href="mathcomp.analysis.signed.html#widen_signed">ereal_display</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">Signed.from</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">Phantom</span> <span class="id">_</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;?=0 (<span class="id">KnownSign.Real</span> (<span class="id">KnownSign.Sign</span> &gt;=0)) <span class="id">_</span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_dual_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> %:<span class="id">nng</span>" := (@<span class="id">widen_signed</span> <span class="id">ereal_display</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">Signed.from</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">Phantom</span> <span class="id">_</span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;?=0 (<span class="id">KnownSign.Real</span> (<span class="id">KnownSign.Sign</span> &gt;=0)) <span class="id">_</span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span> <span class="id">printing</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (0%<span class="id"><a href="mathcomp.analysis.signed.html#ge0">E</a></span> &lt; <span class="id">_</span>)%<span class="id">O</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">gt0</span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt; 0%<span class="id">E</span>)%<span class="id">O</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">lt0</span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (0%<span class="id">E</span> &lt;= <span class="id">_</span>)%<span class="id">O</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">ge0</span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt;= 0%<span class="id">E</span>)%<span class="id">O</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">le0</span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (0%<span class="id">E</span> &gt;=&lt; <span class="id">_</span>)%<span class="id">O</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">cmp0</span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> != 0%<span class="id">E</span>)%<span class="id">O</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">neq0</span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">SignedNumDomainStability</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numDomainType</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">pinfty_snum_subproof</span> : <span class="id">Signed.spec</span> 0 !=0 &gt;=0 (+<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof552')">Proof.</span></div>
<div class="proofscript" id="proof552">
 <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">le0y</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">pinfty_snum</span> := <span class="id">Signed.mk</span> (<span class="id">pinfty_snum_subproof</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nz:1845">ninfty_snum_subproof</a></span> : <span class="id">Signed.spec</span> 0 !=0 &lt;=0 (-<span class="id">oo</span> : \<span class="id">bar</span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof553')">Proof.</span></div>
<div class="proofscript" id="proof553">
 <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">leNy0</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">ninfty_snum</span> := <span class="id">Signed.mk</span> (<span class="id">ninfty_snum_subproof</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">EFin_snum_subproof</span> <span class="id">nz</span> <span class="id">cond</span> (<span class="id">x</span> : {<span class="id">num</span> <span class="id">R</span> &amp; <span class="id">nz</span> &amp; <span class="id">cond</span>}) :<br/>
&nbsp;&nbsp;<span class="id">Signed.spec</span> 0 <span class="id">nz</span> <span class="id">cond</span> <span class="id">x</span>%:<span class="id"><a href="mathcomp.analysis.signed.html#bottom">num</a></span>%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof554')">Proof.</span></div>
<div class="proofscript" id="proof554">
<span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="mathcomp.analysis.signed.html#le0">cond</a></span> <span class="id">nz</span> <span class="id">x</span> =&gt; [[[]|]|] [] <span class="id">x</span> //=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">do</span> ?[<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">x</span>)|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqe</span> <span class="id">eq0F</span>].<br/>
<span class="id">case</span>: <span class="id">cond</span> <span class="id">nz</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_snum_subproof">x</a></span> =&gt; [[[]|]|] [] <span class="id">x</span> //=;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?[<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">x</span>)|<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">lee_fin</span> ?(<span class="id">eq0</span>, <span class="id">ge0</span>, <span class="id">le0</span>) ?[<span class="id">_</span> || <span class="id">_</span>]<span class="id">cmp0</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">EFin_snum</span> <span class="id">nz</span> <span class="id">cond</span> (<span class="id">x</span> : {<span class="id">num</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.spec">R</a></span> &amp; <span class="id">nz</span> &amp; <span class="id">cond</span>}) :=<br/>
&nbsp;&nbsp;<span class="id">Signed.mk</span> (<span class="id">EFin_snum_subproof</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fine_snum_subproof</span> (<span class="id">xnz</span> : <span class="id">KnownSign.nullity</span>) (<span class="id">xr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>}) :<br/>
&nbsp;&nbsp;<span class="id">Signed.spec</span> 0%<span class="id">R</span> ?=0 <span class="id">xr</span> (<span class="id">fine</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">x</a></span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof555')">Proof.</span></div>
<div class="proofscript" id="proof555">
<span class="id">case</span>: <span class="id"><a name="fine_snum">xr</a></span> <span class="id">x</span> =&gt; [[[]|]|]//= [<span class="id">x</span> /<span class="id">andP</span>[<span class="id">_</span>]]/=.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">eqP</span> -&gt;.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">orP</span>[]; <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||]//=; <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; -&gt;; <span class="id">rewrite</span> ?<span class="id">orbT</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">fine_snum</span> (<span class="id">xnz</span> : <span class="id"><a name="xr:1858">KnownSign.nullity</a></span>) (<span class="id">xr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>}) :=<br/>
&nbsp;&nbsp;<span class="id">Signed.mk</span> (<span class="id">fine_snum_subproof</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">oppe_snum_subproof</span> (<span class="id">xnz</span> : <span class="id">KnownSign.nullity</span>) (<span class="id">xr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>}) (<span class="id">r</span> := <span class="id">opp_reality_subdef</span> <span class="id">xnz</span> <span class="id">xr</span>) :<br/>
&nbsp;&nbsp;<span class="id">Signed.spec</span> 0 <span class="id">xnz</span> <span class="id">r</span> (- <span class="id">x</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof556')">Proof.</span></div>
<div class="proofscript" id="proof556">
<span class="id">rewrite</span> {}/<span class="id">r</span>; <span class="id">case</span>: <span class="id">xr</span> <span class="id">xnz</span> <span class="id">x</span> =&gt; [[[]|]|] [] <span class="id">x</span> //=;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?[<span class="kwd">by</span> <span class="id"><a name="oppe_snum">case</a></span>: (<span class="id">bottom</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">eqe_oppLR</span> ?<span class="id">oppe0</span> 1?<span class="id">eq0</span>//;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> ?<span class="id">oppe_le0</span> ?<span class="id">oppe_ge0</span> ?(<span class="id">eq0</span>, <span class="id">eq0F</span>, <span class="id">ge0</span>, <span class="id">le0</span>)//;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">orbC</span> [<span class="id">_</span> || <span class="id">_</span>]<span class="id">cmp0</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">oppe_snum</span> (<span class="id">xnz</span> : <span class="id">KnownSign.nullity</span>) (<span class="id">xr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>}) :=<br/>
&nbsp;&nbsp;<span class="id">Signed.mk</span> (<span class="id">oppe_snum_subproof</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">adde_snum_subproof</span> (<span class="id">xnz</span> <span class="id">ynz</span> : <span class="id">KnownSign.nullity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">xr</span> <span class="id">yr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">ynz</span> &amp; <span class="id">yr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rnz</span> := <span class="id">add_nonzero_subdef</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">xr</span> <span class="id">yr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rrl</span> := <span class="id">add_reality_subdef</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">xr</span> <span class="id">yr</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.signed.html#eq0F">Signed.spec</a></span> 0 <span class="id">rnz</span> <span class="id">rrl</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">x</a></span>%:<span class="id">num</span> + <span class="id">y</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof557')">Proof.</span></div>
<div class="proofscript" id="proof557">
<span class="id">rewrite</span> {}/<span class="id">rnz</span> {}/<span class="id">rrl</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">xr</span> <span class="id">yr</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">x</span> <span class="id">y</span> =&gt; [[[]|]|] [[[]|]|] [] []//= <span class="id">x</span> <span class="id">y</span>;<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> 1?<span class="id">adde_ss_eq0</span> ?(<span class="id">eq0F</span>, <span class="id">ge0</span>, <span class="id">le0</span>, <span class="id">andbF</span>, <span class="id">orbT</span>).<br/>
<span class="id">move</span>: <span class="id">xr</span> <span class="id">yr</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">x</span> <span class="id">y</span> =&gt; [[[]|]|] [[[]|]|] [] []//= <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">y</a></span>;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?[<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id"><a name="yr:1875">x</a></span>)|<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">adde_ge0</span>|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">adde_le0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id">exact</span>: <span class="id">realDe</span>|<span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">eq0</span> <span class="id">add0e</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">adde_snum</span> (<span class="id">xnz</span> <span class="id">ynz</span> : <span class="id">KnownSign.nullity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">xr</span> <span class="id">yr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">compare</a></span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">ynz</span> &amp; <span class="id">yr</span>}) :=<br/>
&nbsp;&nbsp;<span class="id">Signed.mk</span> (<span class="id">adde_snum_subproof</span> <span class="id">x</span> <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Import</span> <span class="id">DualAddTheory</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">dadde_snum_subproof</span> (<span class="id">xnz</span> <span class="id">ynz</span> : <span class="id">KnownSign.nullity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">xr</span> <span class="id">yr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">ynz</span> &amp; <span class="id">yr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rnz</span> := <span class="id">add_nonzero_subdef</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">xr</span> <span class="id">yr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rrl</span> := <span class="id">add_reality_subdef</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#dadde_ss_eq0">xr</a></span> <span class="id">yr</span>) :<br/>
&nbsp;&nbsp;<span class="id">Signed.spec</span> 0 <span class="id">rnz</span> <span class="id">rrl</span> (<span class="id">x</span>%:<span class="id">num</span> + <span class="id">y</span>%:<span class="id">num</span>)%<span class="id">dE</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof558')">Proof.</span></div>
<div class="proofscript" id="proof558">
<span class="id">rewrite</span> {}/<span class="id">rnz</span> {}/<span class="id">rrl</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">xr</span> <span class="id">yr</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">x</span> <span class="id">y</span> =&gt; [[[]|]|] [[[]|]|] [] []//= <span class="id">x</span> <span class="id">y</span>;<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> 1?<span class="id">dadde_ss_eq0</span> ?(<span class="id">eq0F</span>, <span class="id">ge0</span>, <span class="id">le0</span>, <span class="id">andbF</span>, <span class="id">orbT</span>).<br/>
<span class="id">move</span>: <span class="id">xr</span> <span class="id">yr</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">x</span> <span class="id">y</span> =&gt; [[[]|]|] [[[]|]|] [] []//= <span class="id">x</span> <span class="id">y</span>;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">do</a></span> ?[<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">x</span>)|<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">dadde_ge0</span>|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">dadde_le0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id">exact</span>: <span class="id">realDed</span>|<span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">eq0</span> <span class="id">dadd0e</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">dadde_snum</span> (<span class="id">xnz</span> <span class="id">ynz</span> : <span class="id">KnownSign.nullity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">xr</span> <span class="id">yr</span> : <span class="id"><a name="ynz:1893">KnownSign.reality</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">ynz</span> &amp; <span class="id">yr</span>}) :=<br/>
&nbsp;&nbsp;<span class="id">Signed.mk</span> (<span class="id">dadde_snum_subproof</span> <span class="id">x</span> <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_snum_subproof</span> (<span class="id">xnz</span> <span class="id">ynz</span> : <span class="id">KnownSign.nullity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">xr</span> <span class="id">yr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">ynz</span> &amp; <span class="id">yr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rnz</span> := <span class="id">mul_nonzero_subdef</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">xr</span> <span class="id">yr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rrl</span> := <span class="id">mul_reality_subdef</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">xr</span> <span class="id">yr</span>) :<br/>
&nbsp;&nbsp;<span class="id">Signed.spec</span> 0 <span class="id">rnz</span> <span class="id">rrl</span> (<span class="id">x</span>%:<span class="id">num</span> * <span class="id">y</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof559')">Proof.</span></div>
<div class="proofscript" id="proof559">
<span class="id">rewrite</span> {}/<span class="id">rnz</span> {}/<span class="id">rrl</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xr</span> <span class="id">yr</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">x</span> <span class="id">y</span> =&gt; [[[]|]|] [[[]|]|] [] []// <span class="id">x</span> <span class="id">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mule_neq0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xr</span> <span class="id">yr</span> <span class="id">xnz</span> <span class="id">ynz</span> <span class="id">x</span> <span class="id">y</span> =&gt; [[[]|]|] [[[]|]|] [] []/= <span class="id">x</span> <span class="id">y</span> //;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?[<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">x</span>)|<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule_ge0</span>|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule_le0_ge0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule_ge0_le0</span>|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mule_le0</span>|<span class="id">exact</span>: <span class="id">realMe</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq0</span> ?<span class="id">mule0</span>// <span class="id">mul0e</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">mule_snum</span> (<span class="id">xnz</span> <span class="id">ynz</span> : <span class="id">KnownSign.nullity</span>) (<span class="id">xr</span> <span class="id">yr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">ynz</span> &amp; <span class="id">yr</span>}) :=<br/>
&nbsp;&nbsp;<span class="id">Signed.mk</span> (<span class="id">mule_snum_subproof</span> <span class="id">x</span> <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="xnz:1909">abse_reality_subdef</a></span> (<span class="id">xnz</span> : <span class="id">KnownSign.nullity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">xr</span> : <span class="id">KnownSign.reality</span>) := (<span class="kwd">if</span> <span class="id">xr</span> <span class="id">is</span> =0 <span class="kwd">then</span> =0 <span class="kwd">else</span> &gt;=0)%<span class="id">snum_sign</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">abse_reality_subdef</span> /.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">abse_snum_subproof</span> (<span class="id">xnz</span> : <span class="id">KnownSign.nullity</span>) (<span class="id">xr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">xnz</a></span> &amp; <span class="id">xr</span>}) (<span class="id">r</span> := <span class="id">abse_reality_subdef</span> <span class="id">xnz</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">xr</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">Signed.spec</span> 0 <span class="id">xnz</span> <span class="id">r</span> `|<span class="id">x</span>%:<span class="id">num</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof560')">Proof.</span></div>
<div class="proofscript" id="proof560">
<span class="id">rewrite</span> {}/<span class="id">r</span>; <span class="id">case</span>: <span class="id">xr</span> <span class="id">xnz</span> <span class="id">x</span> =&gt; [[[]|]|] [] <span class="id">x</span> //=;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?[<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">bottom</span> <span class="id">x</span>)|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq0</span> <span class="id">abse0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">abse_ge0</span>// <span class="id">andbT</span> <span class="id">gee0_abs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">abse_ge0</span>// <span class="id">andbT</span> <span class="id">lee0_abs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">abse_ge0</span>// <span class="id">andbT</span> <span class="id">abse_eq0</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">abse_snum</span> (<span class="id">xnz</span> : <span class="id">KnownSign.nullity</span>) (<span class="id">xr</span> : <span class="id">KnownSign.reality</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">xnz</span> &amp; <span class="id">xr</span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a name="nR">Signed.mk</a></span> (<span class="id">abse_snum_subproof</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#MorphNum.nz">x</a></span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id">SignedNumDomainStability</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">MorphNum</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numDomainType</span>} {<span class="id">nz</span> : <span class="id">KnownSign.nullity</span>} {<span class="id">cond</span> : <span class="id">KnownSign.reality</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">nR</span> := {<span class="id"><a name="MorphReal">compare</a></span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">nz</span> &amp; <span class="id">cond</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> : \<span class="id">bar</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_abse_eq0</span> <span class="id">a</span> : (`|<span class="id">a</span>|%:<span class="id">nng</span> == 0%:<span class="id">nng</span>) = (<span class="id">a</span> == 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof561')">Proof.</span></div>
<div class="proofscript" id="proof561">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">abse_eq0</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">MorphNum</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">MorphReal</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#MorphReal.nz">numDomainType</a></span>} {<span class="id">nz</span> : <span class="id">KnownSign.nullity</span>} {<span class="id">r</span> : <span class="id">KnownSign.real</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">nR</span> := {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; <span class="id">nz</span> &amp; <span class="id">r</span>}.<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">nR</span>.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">num</span> := (@<span class="id">num</span> <span class="id">_</span> <span class="id">_</span> (0 : <span class="id">R</span>) <span class="id"><a name="x:1927">nz</a></span> <span class="id">r</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_lee_maxr</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">maxe</span> <span class="id">x</span>%:<span class="id">num</span> <span class="id">y</span>%:<span class="id">num</span> = (<span class="id">a</span> &lt;= <span class="id">x</span>%:<span class="id">num</span>) || (<span class="id">a</span> &lt;= <span class="id">y</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof562')">Proof.</span></div>
<div class="proofscript" id="proof562">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_le_maxr</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mine">num_lee_maxl</a></span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">maxe</span> <span class="id">x</span>%:<span class="id">num</span>  <span class="id">y</span>%:<span class="id">num</span> &lt;= <span class="id">a</span> = (<span class="id">x</span>%:<span class="id">num</span> &lt;= <span class="id">a</span>) &amp;&amp; (<span class="id">y</span>%:<span class="id">num</span> &lt;= <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof563')">Proof.</span></div>
<div class="proofscript" id="proof563">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_le_maxl</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_lee_minr</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">mine</span> <span class="id">x</span>%:<span class="id">num</span> <span class="id">y</span>%:<span class="id">num</span> = (<span class="id">a</span> &lt;= <span class="id">x</span>%:<span class="id">num</span>) &amp;&amp; (<span class="id">a</span> &lt;= <span class="id">y</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof564')">Proof.</span></div>
<div class="proofscript" id="proof564">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_le_minr</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_lee_minl</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">mine</span> <span class="id">x</span>%:<span class="id">num</span> <span class="id">y</span>%:<span class="id">num</span> &lt;= <span class="id">a</span> = (<span class="id">x</span>%:<span class="id">num</span> &lt;= <span class="id">a</span>) || (<span class="id">y</span>%:<span class="id">num</span> &lt;= <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof565')">Proof.</span></div>
<div class="proofscript" id="proof565">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_le_minl</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_lte_maxr</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">maxe</span> <span class="id">x</span>%:<span class="id">num</span> <span class="id">y</span>%:<span class="id">num</span> = (<span class="id">a</span> &lt; <span class="id">x</span>%:<span class="id">num</span>) || (<span class="id">a</span> &lt; <span class="id">y</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof566')">Proof.</span></div>
<div class="proofscript" id="proof566">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_lt_maxr</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_lte_maxl</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">maxe</span> <span class="id">x</span>%:<span class="id">num</span>  <span class="id">y</span>%:<span class="id">num</span> &lt; <span class="id">a</span> = (<span class="id">x</span>%:<span class="id">num</span> &lt; <span class="id">a</span>) &amp;&amp; (<span class="id">y</span>%:<span class="id">num</span> &lt; <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof567')">Proof.</span></div>
<div class="proofscript" id="proof567">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_lt_maxl</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_lte_minr</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">mine</span> <span class="id">x</span>%:<span class="id">num</span> <span class="id">y</span>%:<span class="id">num</span> = (<span class="id">a</span> &lt; <span class="id">x</span>%:<span class="id">num</span>) &amp;&amp; (<span class="id">a</span> &lt; <span class="id">y</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof568')">Proof.</span></div>
<div class="proofscript" id="proof568">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_lt_minr</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_lte_minl</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;<span class="id">mine</span> <span class="id">x</span>%:<span class="id">num</span> <span class="id">y</span>%:<span class="id">num</span> &lt; <span class="id">a</span> = (<span class="id">x</span>%:<span class="id">num</span> &lt; <span class="id">a</span>) || (<span class="id"><a name="nR">y</a></span>%:<span class="id">num</span> &lt; <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof569')">Proof.</span></div>
<div class="proofscript" id="proof569">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">comparable_lt_minl</span>// <span class="id">ereal_comparable</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a name="num">MorphReal</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">MorphGe0</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numDomainType</span>} {<span class="id"><a name="a:1949">nz</a></span> : <span class="id">KnownSign.nullity</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">nR</span> := {<span class="id">compare</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) &amp; ?=0 &amp; &gt;=0}.<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">nR</span>.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">num</span> := (@<span class="id">num</span> <span class="id">_</span> <span class="id">_</span> (0 : \<span class="id">bar</span> <span class="id">R</span>) ?=0 &gt;=0).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_abse_le</span> <span class="id">a</span> <span class="id">x</span> : 0 &lt;= <span class="id">a</span> -&gt; (`|<span class="id">a</span>|%:<span class="id">nng</span> &lt;= <span class="id">x</span>)%<span class="id">O</span> = (<span class="id">a</span> &lt;= <span class="id">x</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof570')">Proof.</span></div>
<div class="proofscript" id="proof570">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id"><a name="posnume_spec">rewrite</a></span> -<span class="id">num_le</span>//= <span class="id">gee0_abs</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">num_abse_lt</span> <span class="id">a</span> <span class="id">x</span> : 0 &lt;= <span class="id">a</span> -&gt; (`|<span class="id">a</span>|%:<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">nng</a></span> &lt; <span class="id">x</span>)%<span class="id">O</span> = (<span class="id">a</span> &lt; <span class="id"><a name="IsPinftyPosnume">x</a></span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof571')">Proof.</span></div>
<div class="proofscript" id="proof571">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id">rewrite</span> -<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">num_lt</a></span>/= <span class="id">gee0_abs</span>. Qed.</div>
<span class="kwd">End</span> <span class="id">MorphGe0</span>.<br/>
<br/>
<span class="kwd">Variant</span> <span class="id">posnume_spec</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">x</span> : \<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">bar</a></span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;\<span class="id">bar</span> <span class="id">R</span> -&gt; <span class="id">bool</span> -&gt; <span class="id">bool</span> -&gt; <span class="id">bool</span> -&gt; <span class="kwd">Type</span> :=<br/>
| <span class="id">IsPinftyPosnume</span> :<br/>
&nbsp;&nbsp;<span class="id">posnume_spec</span> <span class="id">x</span> +<span class="id">oo</span> <span class="id">false</span> <span class="id">true</span> <span class="id">true</span><br/>
| <span class="id">IsRealPosnume</span> (<span class="id">p</span> : {<span class="id">posnum</span> <span class="id">R</span>}) :<br/>
&nbsp;&nbsp;<span class="id">posnume_spec</span> <span class="id">x</span> (<span class="id">p</span>%:<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0y">num</a></span>%:<span class="id">E</span>) <span class="id">false</span> <span class="id">true</span> <span class="id">true</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">posnumeP</span> (<span class="id">R</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">numDomainType</a></span>) (<span class="id">x</span> : \<span class="id">bar</span> <span class="id">R</span>) : 0 &lt; <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">posnume_spec</span> <span class="id">x</span> <span class="id">x</span> (<span class="id">x</span> == 0) (0 &lt;= <span class="id">x</span>) (0 &lt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof572')">Proof.</span></div>
<div class="proofscript" id="proof572">
<span class="id">case</span>: <span class="id"><a href="mathcomp.analysis.signed.html#PosNum">x</a></span> =&gt; [<span class="id">x</span>|<span class="id">_</span>|//]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le0y</span> <span class="id">lt0y</span>; <span class="id">exact</span>: <span class="id">IsPinftyPosnume</span>.<br/>
<span class="id">rewrite</span> <span class="id">lte_fin</span> <span class="id">lee_fin</span> <span class="id">eqe</span> =&gt; <span class="id">x_gt0</span>.<br/>
<span class="id">rewrite</span> <span class="id">x_gt0</span> (<span class="id">ltW</span> <span class="id">x_gt0</span>) (<span class="id">negbTE</span> (<span class="id">lt0r_neq0</span> <span class="id">x_gt0</span>)).<br/>
<span class="id">exact</span>: <span class="id">IsRealPosnume</span> (<span class="id">PosNum</span> <span class="id">x_gt0</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Variant</span> <span class="id">nonnege_spec</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">x</span> : \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;\<span class="id">bar</span> <span class="id">R</span> -&gt; <span class="id">bool</span> -&gt; <span class="kwd">Type</span> :=<br/>
| <span class="id">IsPinftyNonnege</span> : <span class="id">nonnege_spec</span> <span class="id">x</span> +<span class="id">oo</span> <span class="id">true</span><br/>
| <span class="id">IsRealNonnege</span> (<span class="id">p</span> : {<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le0y">nonneg</a></span> <span class="id">R</span>}) : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#IsPinftyNonnege">nonnege_spec</a></span> <span class="id">x</span> (<span class="id">p</span>%:<span class="id">num</span>%:<span class="id">E</span>) <span class="id">true</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">nonnegeP</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">x</span> : \<span class="id">bar</span> <span class="id">R</span>) : 0 &lt;= <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">nonnege_spec</span> <span class="id">x</span> <span class="id">x</span> (0 &lt;= <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof573')">Proof.</span></div>
<div class="proofscript" id="proof573">
<span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|<span class="id">_</span>|//]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le0y</span>; <span class="id">exact</span>: <span class="id">IsPinftyNonnege</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lee_fin</span> =&gt; /[<span class="id">dup</span>] <span class="id">x_ge0</span> -&gt;; <span class="id">exact</span>: <span class="id">IsRealNonnege</span> (<span class="id">NngNum</span> <span class="id">x_ge0</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">contract_expand</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realFieldType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id"><a name="r:1970">Types</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">x</a></span> : \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">r</span> : <span class="id">R</span>).<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">contract</span> <span class="id">x</span> : <span class="id">R</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">r</span>%:<span class="id">E</span> =&gt; <span class="id">r</span> / (1 + `|<span class="id">r</span>|) | +<span class="id">oo</span> =&gt; 1 | -<span class="id">oo</span> =&gt; -1<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">contract_lt1</span> <span class="id">r</span> : (`|<span class="id">contract</span> <span class="id">r</span>%:<span class="id">E</span>| &lt; 1)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof574')">Proof.</span></div>
<div class="proofscript" id="proof574">
<span class="id">rewrite</span> <span class="id">normrM</span> <span class="id">normrV</span> ?<span class="id">unitfE</span> //.<br/>
<span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> // ?<span class="id">mul1r</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_norm</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">ltRHS</span>]<span class="id">gtr0_norm</span> ?<span class="id">ltr_addr</span>// <span class="id">ltr_spaddl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">contract_le1</span> <span class="id">x</span> : (`|<span class="id">contract</span> <span class="id">x</span>| &lt;= 1)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof575')">Proof.</span></div>
<div class="proofscript" id="proof575">
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">r</span>| |] /=; <span class="id">rewrite</span> ?<span class="id">normrN1</span> ?<span class="id">normr1</span> // (<span class="id">ltW</span> (<span class="id">contract_lt1</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">contract0</span> : <span class="id">contract</span> 0 = 0%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof576')">Proof.</span></div>
<div class="proofscript" id="proof576">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">contract</span> <span class="id">mul0r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">contractN</span> <span class="id">x</span> : <span class="id">contract</span> (- <span class="id">x</span>) = (- <span class="id">contract</span> <span class="id">x</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof577')">Proof.</span></div>
<div class="proofscript" id="proof577">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">x</span> =&gt; //= [<span class="id">r</span>|]; [ <span class="id">rewrite</span> <span class="id">normrN</span> <span class="id">mulNr</span> | <span class="id">rewrite</span> <span class="id">opprK</span>]. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> <span class="id">r</span> : \<span class="id">bar</span> <span class="id">R</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> (<span class="id">r</span> &gt;= 1)%<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">R</a></span> <span class="kwd">then</span> +<span class="id">oo</span> <span class="kwd">else</span> <span class="kwd">if</span> (<span class="id">r</span> &lt;= -1)%<span class="id">R</span> <span class="kwd">then</span> -<span class="id">oo</span> <span class="kwd">else</span> (<span class="id">r</span> / (1 - `|<span class="id">r</span>|))%:<span class="id">E</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">expand1</span> <span class="id">r</span> : (1 &lt;= <span class="id">r</span>)%<span class="id">R</span> -&gt; <span class="id">expand</span> <span class="id">r</span> = +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof578')">Proof.</span></div>
<div class="proofscript" id="proof578">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r1</span>; <span class="id">rewrite</span> /<span class="id">expand</span> <span class="id">r1</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">expandN</span> <span class="id">r</span> : <span class="id">expand</span> (- <span class="id">r</span>)%<span class="id">R</span> = - <span class="id">expand</span> <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof579')">Proof.</span></div>
<div class="proofscript" id="proof579">
<span class="id">rewrite</span> /<span class="id">expand</span>; <span class="id">case</span>: <span class="id">ifPn</span> =&gt; [<span class="id">r1</span>|].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ifF</span>; [<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ifT</span> // -<span class="id">ler_oppr</span>|<span class="id">apply</span>/<span class="id">negbTE</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltNge</span> -(<span class="id">opprK</span> <span class="id">r</span>) -<span class="id">ltr_oppl</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">r1</span>) // -<span class="id">subr_gt0</span> <span class="id">opprK</span>.<br/>
<span class="id">rewrite</span> -<span class="id">ltNge</span> =&gt; <span class="id">r1</span>; <span class="id">case</span>: <span class="id">ifPn</span>; <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>; [<span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;|].<br/>
<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expandN">rewrite</a></span> -<span class="id">ltNge</span> <span class="id">leNgt</span> =&gt; -&gt;; <span class="id">rewrite</span> <span class="id">leNgt</span> -<span class="id">ltr_oppl</span> <span class="id">r1</span> /= <span class="id">mulNr</span> <span class="id">normrN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expandN1</a></span> <span class="id">r</span> : (<span class="id">r</span> &lt;= -1)%<span class="id">R</span> -&gt; <span class="id">expand</span> <span class="id">r</span> = -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof580')">Proof.</span></div>
<div class="proofscript" id="proof580">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_oppr</span> =&gt; /<span class="id">expand1</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">expandN</span> <span class="id">eqe_oppLR</span> =&gt; /<span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">expand0</span> : <span class="id">expand</span> 0%<span class="id">R</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof581')">Proof.</span></div>
<div class="proofscript" id="proof581">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">expand</span> <span class="id">leNgt</span> <span class="id">ltr01</span> /= <span class="id">oppr_ge0</span> <span class="id">leNgt</span> <span class="id">ltr01</span> /= <span class="id">mul0r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand1">expandK</a></span> : {<span class="kwd">in</span> [<span class="id">pred</span> <span class="id">r</span> | `|<span class="id">r</span>| &lt;= 1]%<span class="id">R</span>, <span class="id">cancel</span> <span class="id">expand</span> <span class="id">contract</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof582')">Proof.</span></div>
<div class="proofscript" id="proof582">
<span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">rewrite</span> <span class="id">inE</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[|<span class="id">r1</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">eqr_norml</span> =&gt; /<span class="id">andP</span>[/<span class="id">orP</span>[]/<span class="id">eqP</span>-&gt;{<span class="id">r</span>}] <span class="id">_</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">rewrite</span> <span class="id">expand1</span>|<span class="id">rewrite</span> <span class="id">expandN1</span>].<br/>
<span class="id">rewrite</span> /<span class="id">expand</span> 2!<span class="id">leNgt</span> <span class="id">ltr_oppl</span>; <span class="id">case</span>/<span class="id">ltr_normlP</span> : (<span class="id">r1</span>) =&gt; -&gt; -&gt; /=.<br/>
<span class="id">have</span> <span class="id">r_pneq0</span> : (1 + <span class="id">r</span> / (1 - <span class="id">r</span>) != 0)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> (<span class="id">X</span> + <span class="id">_</span>)%<span class="id">R</span>](@<span class="id">divrr</span> <span class="id">_</span> (1 - <span class="id">r</span>)%<span class="id">R</span>) -?<span class="id">mulrDl</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">unitfE</span> <span class="id">subr_eq0</span> <span class="id">eq_sym</span> <span class="id">lt_eqF</span> // <span class="id">ltr_normlW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subrK</span> <span class="id">mulf_neq0</span> // <span class="id">invr_eq0</span> <span class="id">subr_eq0</span> <span class="id">eq_sym</span> <span class="id">lt_eqF</span> // <span class="id">ltr_normlW</span>.<br/>
<span class="id">have</span> <span class="id">r_nneq0</span> : (1 - <span class="id">r</span> / (1 + <span class="id">r</span>) != 0)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> (<span class="id">X</span> + <span class="id">_</span>)%<span class="id">R</span>](@<span class="id">divrr</span> <span class="id">_</span> (1 + <span class="id">r</span>)%<span class="id">R</span>) -?<span class="id">mulrBl</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">unitfE</span> <span class="id">addrC</span> <span class="id">addr_eq0</span> <span class="id">gt_eqF</span> // <span class="id">ltrNnormlW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">addrK</span> <span class="id">mulf_neq0</span> // <span class="id">invr_eq0</span> <span class="id">addr_eq0</span> -<span class="id">eqr_oppLR</span> <span class="id">eq_sym</span> <span class="id">gt_eqF</span> //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">ltrNnormlW</span>.<br/>
<span class="id">wlog</span> : <span class="id">r</span> <span class="id">r1</span> <span class="id">r_pneq0</span> <span class="id">r_nneq0</span> / (0 &lt;= <span class="id">r</span>)%<span class="id">R</span> =&gt; <span class="id">wlog_r0</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">lerP</span> 0 <span class="id">r</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">wlog_r0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: (<span class="id">wlog_r0</span> (- <span class="id">r</span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !(<span class="id">normrN</span>, <span class="id">opprK</span>, <span class="id">mulNr</span>) <span class="id">oppr_ge0</span> =&gt; /(<span class="id">_</span> <span class="id">r1</span> <span class="id">r_nneq0</span> <span class="id">r_pneq0</span> (<span class="id">ltW</span> <span class="id">r0</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eqr_opp</span> =&gt; /<span class="id">eqP</span>.<br/>
<span class="id">rewrite</span> /<span class="id">contract</span> !<span class="id">ger0_norm</span> //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_ge0</span> // <span class="id">subr_ge0</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">r1</span>)) // <span class="id">ler_norm</span>.<br/>
<span class="id">apply</span>: (@<span class="id">mulIr</span> <span class="id">_</span> (1 + <span class="id">r</span> / (1 - <span class="id">r</span>))%<span class="id">R</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">unitfE</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">mulrA</span> (<span class="id">r</span> / <span class="id">_</span>)) <span class="id">mulVr</span> ?<span class="id">unitfE</span> // <span class="id">mulr1</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> (<span class="id">X</span> + <span class="id">_</span> / <span class="id">_</span>)%<span class="id">R</span>](@<span class="id">divrr</span> <span class="id">_</span> (1 - <span class="id">r</span>)%<span class="id">R</span>) -?<span class="id">mulrDl</span> ?<span class="id">subrK</span> ?<span class="id">div1r</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">unitfE</span> <span class="id">subr_eq0</span> <span class="id">eq_sym</span> <span class="id">lt_eqF</span> // <span class="id">ltr_normlW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le_contract</span> : {<span class="id">mono</span> <span class="id">contract</span> : <span class="id">x</span> <span class="id">y</span> / (<span class="id">x</span> &lt;= <span class="id">y</span>)%<span class="id">O</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof583')">Proof.</span></div>
<div class="proofscript" id="proof583">
<span class="id">apply</span>: <span class="id">le_mono</span>; <span class="id">move</span>=&gt; -[<span class="id">r0</span> | | ] [<span class="id">r1</span> | <span class="id">_</span> | <span class="id">_</span>] //=.<br/>
- <span class="id">rewrite</span> <span class="id">lte_fin</span> =&gt; <span class="id">r0r1</span>; <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> ?<span class="id">ltr_paddr</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulrAC</span> <span class="id">ltr_pdivl_mulr</span> ?<span class="id">ltr_paddr</span>// 2?<span class="id">mulrDr</span> 2?<span class="id">mulr1</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r10</span>|?] := <span class="id">ler0P</span> <span class="id">r1</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr_le_add</span> // <span class="id">mulrC</span>; <span class="id">have</span> [<span class="id">r00</span>|//] := <span class="id">ler0P</span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> 0%<span class="id">R</span>) // ?<span class="id">pmulr_lle0</span>// <span class="id">mulr_ge0</span>// ?<span class="id">oppr_ge0</span>// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [?|<span class="id">r00</span>] := <span class="id">ler0P</span> <span class="id">r0</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_le_add</span> // 2!<span class="id">mulrN</span> <span class="id">mulrC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">le_lt_trans</span> <span class="id">r10</span> (<span class="id">lt_trans</span> <span class="id">r00</span> <span class="id">r0r1</span>)); <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">ltxx</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> ?<span class="id">ltr_paddr</span>// <span class="id">mul1r</span> <span class="id"><a name="lt_contract">ltr_spaddl</a></span> // <span class="id">ler_norm</span>.<br/>
- <span class="id">rewrite</span> <span class="id">ltr_pdivl_mulr</span> ?<span class="id">mulN1r</span> ?<span class="id">ltr_paddr</span>// =&gt; <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_oppl</span> <span class="id">ltr_spaddl</span> // <span class="id">ler_normr</span> <span class="id">lexx</span> <span class="id">orbT</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subr_gt0</span> <span class="id">opprK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">lt_contract</span> := <span class="id">leW_mono</span> <span class="id">le_contract</span>.<br/>
<span class="kwd">Definition</span> <span class="id">contract_inj</span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">mono_inj</a></span> <span class="id">lexx</span> <span class="id">le_anti</span> <span class="id">le_contract</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">le_expand_in</span> : {<span class="kwd">in</span> [<span class="id">pred</span> <span class="id">r</span> | `|<span class="id">r</span>| &lt;= 1]%<span class="id">R</span> &amp;,<br/>
&nbsp;&nbsp;{<span class="id">mono</span> <span class="id">expand</span> : <span class="id">x</span> <span class="id">y</span> / (<span class="id">x</span> &lt;= <span class="id">y</span>)%<span class="id">O</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof584')">Proof.</span></div>
<div class="proofscript" id="proof584">
 <span class="id">exact</span>: <span class="id">can_mono_in</span> (<span class="id">onW_can_in</span> <span class="id">predT</span> <span class="id">expandK</span>) <span class="id">_</span> (<span class="id">in2W</span> <span class="id">le_contract</span>). Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">lt_expand</span> := <span class="id">leW_mono_in</span> <span class="id">le_expand_in</span>.<br/>
<span class="kwd">Definition</span> <span class="id">expand_inj</span> := <span class="id">mono_inj_in</span> <span class="id">lexx</span> <span class="id">le_anti</span> <span class="id">le_expand_in</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fine_expand</span> <span class="id"><a name="x:1991">r</a></span> : (`|<span class="id">r</span>| &lt; 1)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">fine</span> (<span class="id">expand</span> <span class="id">r</span>))%:<span class="id">E</span> = <span class="id">expand</span> <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof585')">Proof.</span></div>
<div class="proofscript" id="proof585">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r1</span>; <span class="id">rewrite</span> /<span class="id">expand</span> 2!<span class="id">leNgt</span> <span class="id">ltr_oppl</span>; <span class="id">case</span>/<span class="id">ltr_normlP</span> : <span class="id">r1</span> =&gt; -&gt; -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">le_expand</span> : {<span class="id">homo</span> <span class="id">expand</span> : <span class="id">x</span> <span class="id">y</span> / (<span class="id">x</span> &lt;= <span class="id">y</span>)%<span class="id">O</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof586')">Proof.</span></div>
<div class="proofscript" id="proof586">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xy</span>; <span class="id">have</span> [<span class="id">x1</span>|] := <span class="id">lerP</span> `|<span class="id">x</span>| 1.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">y_le1</span>|/<span class="id">ltW</span> /<span class="id">expand1</span>-&gt;] := <span class="id">leP</span> <span class="id">y</span> 1%<span class="id">R</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">leey</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">le_expand_in</span> ?<span class="id">inE</span>// <span class="id">ler_norml</span> <span class="id">y_le1</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">xy</span>)//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_oppl</span> (<span class="id">ler_normlP</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">rewrite</span> <span class="id">ltr_normr</span> =&gt; /<span class="id">orP</span>[|] <span class="id">x1</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">expandN1</span> // ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">leNye</a></span> // <span class="id">ler_oppr</span> <span class="id">ltW</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">expand1</span>; [<span class="id">rewrite</span> <span class="id">expand1</span> // (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">xy</span>) // <span class="id">ltW</span> | <span class="id">exact</span>: <span class="id">ltW</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">expand_eqoo</span> <span class="id">r</span> : (<span class="id">expand</span> <span class="id">r</span> == +<span class="id">oo</span>) = (1 &lt;= <span class="id">r</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof587')">Proof.</span></div>
<div class="proofscript" id="proof587">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">expand</span>; <span class="id">case</span>: <span class="id">ifP</span> =&gt; //; <span class="id">case</span>: <span class="id">ifP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">expand_eqNoo</span> <span class="id">r</span> : (<span class="id">expand</span> <span class="id">r</span> == -<span class="id">oo</span>) = (<span class="id">r</span> &lt;= -1)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof588')">Proof.</span></div>
<div class="proofscript" id="proof588">
<span class="id">rewrite</span> /<span class="id">expand</span>; <span class="id"><a name="ereal_PseudoMetric.R">case</a></span>: <span class="id">ifP</span> =&gt; /= <span class="id">r1</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ifP</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">esym</span>/<span class="id">negbTE</span>; <span class="id">rewrite</span> -<span class="id"><a name="ereal_ball">ltNge</a></span> (<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">r1</span>) // -<span class="id">subr_gt0</span> <span class="id">opprK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">contract_expand</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="x:2001">ereal_PseudoMetric</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realFieldType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">r</span> : <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">ereal_ball</span> <span class="id">x</span> <span class="id">r</span> <span class="id">y</span> := (`|<span class="id">contract</span> <span class="id">x</span> - <span class="id">contract</span> <span class="id">y</span>| &lt; <span class="id">r</span>)%<span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ereal_ball_center</span> <span class="id">x</span> <span class="id">r</span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt; <span class="id">ereal_ball</span> <span class="id">x</span> <span class="id">r</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof589')">Proof.</span></div>
<div class="proofscript" id="proof589">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">e0</span>; <span class="id">rewrite</span> /<span class="id">ereal_ball</span> <span class="id">subrr</span> <span class="id">normr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ereal_ball_sym</span> <span class="id">x</span> <span class="id">y</span> <span class="id">r</span> : <span class="id">ereal_ball</span> <span class="id">x</span> <span class="id">r</span> <span class="id">y</span> -&gt; <span class="id">ereal_ball</span> <span class="id">y</span> <span class="id">r</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof590')">Proof.</span></div>
<div class="proofscript" id="proof590">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">ereal_ball</span> <span class="id">distrC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ereal_ball_triangle</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">r1</span> <span class="id">r2</span> :<br/>
&nbsp;&nbsp;<span class="id">ereal_ball</span> <span class="id">x</span> <span class="id">r1</span> <span class="id">y</span> -&gt; <span class="id">ereal_ball</span> <span class="id">y</span> <span class="id">r2</span> <span class="id">z</span> -&gt; <span class="id">ereal_ball</span> <span class="id">x</span> (<span class="id">r1</span> + <span class="id"><a name="y:2013">r2</a></span>) <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof591')">Proof.</span></div>
<div class="proofscript" id="proof591">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> =&gt; <span class="id">h1</span> <span class="id">h2</span>; <span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> (<span class="id">X</span> - <span class="id">_</span>)%<span class="id">R</span>](<span class="id">subrK</span> (<span class="id">contract</span> <span class="id">y</span>)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">addrA</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>)) // <span class="id">ltr_add</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ereal_ballN</span> <span class="id">x</span> <span class="id">y</span> (<span class="id">e</span> : {<span class="id"><a name="e:2015">posnum</a></span> <span class="id">R</span>}) :<br/>
&nbsp;&nbsp;<span class="id">ereal_ball</span> (- <span class="id">x</span>) <span class="id">e</span>%:<span class="id">num</span> (- <span class="id">y</span>) -&gt; <span class="id">ereal_ball</span> <span class="id">x</span> <span class="id">e</span>%:<span class="id">num</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof592')">Proof.</span></div>
<div class="proofscript" id="proof592">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">ereal_ball</span> 2!<span class="id">contractN</span> <span class="id">opprK</span> -<span class="id">opprB</span> <span class="id">normrN</span> <span class="id">addrC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ereal_ball_ninfty_oversize</span> (<span class="id">e</span> : {<span class="id">posnum</span> <span class="id">R</span>}) <span class="id">x</span> :<br/>
&nbsp;&nbsp;(2 &lt; <span class="id">e</span>%:<span class="id">num</span>)%<span class="id">R</span> -&gt; <span class="id">ereal_ball</span> -<span class="id">oo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">e</a></span>%:<span class="id">num</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof593')">Proof.</span></div>
<div class="proofscript" id="proof593">
<span class="id">move</span>=&gt; <span class="id">e2</span>; <span class="id">rewrite</span> /<span class="id">ereal_ball</span> /= (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">e2</span>) // -<span class="id">opprB</span> <span class="id">normrN</span> <span class="id"><a name="r:2017">opprK</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>)) // <span class="id">normr1</span> -<span class="id">ler_subr_addr</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">contract_le1</span> <span class="id">_</span>)) // (<span class="id">_</span> : 2 = 1 + 1)%<span class="id">R</span> // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">addrK</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">contract_ereal_ball_pinfty</span> <span class="id">r</span> (<span class="id">e</span> : {<span class="id">posnum</span> <span class="id">R</span>}) :<br/>
&nbsp;&nbsp;(1 &lt; <span class="id">contract</span> <span class="id">r</span>%:<span class="id">E</span> + <span class="id">e</span>%:<span class="id">num</span>)%<span class="id">R</span> -&gt; <span class="id">ereal_ball</span> <span class="id">r</span>%:<span class="id">E</span> <span class="id">e</span>%:<span class="id">num</span> +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof594')">Proof.</span></div>
<div class="proofscript" id="proof594">
<span class="id">move</span>=&gt; <span class="id">re1</span>; <span class="id">rewrite</span> /<span class="id">ereal_ball</span>; <span class="id">rewrite</span> [<span class="id">contract</span> +<span class="id">oo</span>]/= <span class="id">ler0_norm</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a name="R:2019">rewrite</a></span> <span class="id">subr_le0</span>; <span class="id">case</span>/<span class="id">ler_normlP</span>: (<span class="id">contract_le1</span> <span class="id">r</span>%:<span class="id">E</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">ltr_subl_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ereal_PseudoMetric</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">lt_ereal_nbhs</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">a</span> <span class="id">b</span> : \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">r</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">r</span>%:<span class="id">E</span> -&gt; <span class="id">r</span>%:<span class="id">E</span> &lt; <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">delta</span> : {<span class="id">posnum</span> <span class="id">R</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span>, (`|<span class="id">y</span> - <span class="id">r</span>| &lt; <span class="id">delta</span>%:<span class="id">num</span>)%<span class="id">R</span> -&gt; (<span class="id">a</span> &lt; <span class="id">y</span>%:<span class="id">E</span>) &amp;&amp; (<span class="id">y</span>%:<span class="id">E</span> &lt; <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof595')">Proof.</span></div>
<div class="proofscript" id="proof595">
<span class="id">move</span>=&gt; [:<span class="id">wlog</span>]; <span class="id">case</span>: <span class="id">a</span> <span class="id">b</span> =&gt; [<span class="id">a</span>||] [<span class="id">b</span>||] //= <span class="id">ltax</span> <span class="id">ltxb</span>.<br/>
- <span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> <span class="id"><a href="mathcomp.analysis.signed.html#PosNum">ltax</a></span> <span class="id">ltxb</span>; <span class="id">abstract</span>: <span class="id">wlog</span>. <span class="comment">(*BUG*)</span><br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; {}<span class="id">a</span> {}<span class="id">b</span> <span class="id">ltxa</span> <span class="id">ltxb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">m_gt0</span> : (<span class="id">Num.min</span> ((<span class="id">r</span> - <span class="id">a</span>) / 2) ((<span class="id">b</span> - <span class="id">r</span>) / 2) &gt; 0)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minr</span> !<span class="id">divr_gt0</span> // ?<span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">PosNum</span> <span class="id">m_gt0</span>) =&gt; <span class="id">y</span> //=; <span class="id">rewrite</span> <span class="id">lt_minr</span> !<span class="id">ltr_distl</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">andP</span>[/<span class="id">andP</span>[<span class="id">ay</span> <span class="id">_</span>] /<span class="id">andP</span>[<span class="id">_</span> <span class="id">yb</span>]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> 2!<span class="id">lte_fin</span> (<span class="id">lt_trans</span> <span class="id">_</span> <span class="id">ay</span>) ?(<span class="id">lt_trans</span> <span class="id">yb</span>) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">subr_gt0</span> <span class="id">opprD</span> <span class="id">addrA</span> {1}[(<span class="id">b</span> - <span class="id">r</span>)%<span class="id">R</span>]<span class="id">splitr</span> <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span> ?<span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subr_gt0</span> <span class="id">addrAC</span> {1}[(<span class="id">r</span> - <span class="id">a</span>)%<span class="id">R</span>]<span class="id">splitr</span> <span class="id">addrK</span> <span class="id">divr_gt0</span> ?<span class="id">subr_gt0</span>.<br/>
- <span class="id">have</span> [//||<span class="id">d</span> <span class="id">dP</span>] := <span class="id">wlog</span> <span class="id">a</span> (<span class="id">r</span> + 1)%<span class="id">R</span>; <span class="id">rewrite</span> ?<span class="id">lte_fin</span> ?<span class="id">ltr_addl</span> //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">d</span> =&gt; <span class="id">y</span> /<span class="id">dP</span> /<span class="id">andP</span>[-&gt;] /= /<span class="id">lt_le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">leey</span>.<br/>
- <span class="id">have</span> [//||<span class="id">d</span> <span class="id">dP</span>] := <span class="id">wlog</span> (<span class="id">r</span> - 1)%<span class="id">R</span> <span class="id">b</span>; <span class="id">rewrite</span> ?<span class="id">lte_fin</span> ?<span class="id">gtr_addl</span> ?<span class="id">ltrN10</span> //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">d</span> =&gt; <span class="id">y</span> /<span class="id">dP</span> /<span class="id">andP</span>[<span class="id">_</span> -&gt;] /=; <span class="id">rewrite</span> <span class="id">ltNyr</span>.<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> 1%:<span class="id">pos</span>%<span class="id">R</span> =&gt; ? ?; <span class="id">rewrite</span> <span class="id">ltNyr</span> <span class="id">ltry</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
