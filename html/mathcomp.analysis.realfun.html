
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.realfun</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.realfun" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.realfun</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrint</span> <span class="id">ssrnum</span> <span class="id">finmap</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">matrix</span> <span class="id">interval</span> <span class="id">zmodp</span> <span class="id">vector</span> <span class="id">fieldext</span> <span class="id">falgebra</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.derive.html">derive</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span>.<br/>
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<br/>
<div class="ssrdoc markdown">
# Real-valued functions over reals                                         
                                                                           
This file provides properties of standard real-valued functions over real  
numbers (e.g., the continuity of the inverse of a continuous function).    
                                                                           
```                                                                        
    nondecreasing_fun f == the function f is non-decreasing                
    nonincreasing_fun f == the function f is non-increasing                
       increasing_fun f == the function f is (strictly) increasing         
       decreasing_fun f == the function f is (strictly) decreasing         
                                                                           
  derivable_oo_continuous_bnd f x y == f is derivable on `]x, y[ and       
                                       continuous up to the boundary       
```                                                                        
                                                                           
</div>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="id">nondecreasing_fun</span>' <span class="id">f</span>" := ({<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="n:1">n</a></span> <span class="id"><a name="m:2">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">O</span> &gt;-&gt; (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">O</span>})<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 10).<br/>
<span class="kwd">Notation</span> "'<span class="id">nonincreasing_fun</span>' <span class="id">f</span>" := ({<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="n:5">n</a></span> <span class="id"><a name="m:6">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">O</span> &gt;-&gt; (<span class="id">n</span> &gt;= <span class="id">m</span>)%<span class="id">O</span>})<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 10).<br/>
<span class="kwd">Notation</span> "'<span class="id">increasing_fun</span>' <span class="id">f</span>" := ({<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="n:9">n</a></span> <span class="id"><a name="m:10">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">O</span> &gt;-&gt; (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">O</span>})<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 10).<br/>
<span class="kwd">Notation</span> "'<span class="id">decreasing_fun</span>' <span class="id">f</span>" := ({<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="n:13">n</a></span> <span class="id"><a name="m:14">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">O</span> &gt;-&gt; (<span class="id">n</span> &gt;= <span class="id">m</span>)%<span class="id">O</span>})<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 10).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fun_cvg">fun_cvg</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fun_cvg.fun_cvg_realFieldType">fun_cvg_realFieldType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:17">R</a></span> : <span class="id">realFieldType</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvg_addrl">cvg_addrl</a></span> (<span class="id"><a name="M:18">M</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) : <span class="id">M</span> + <span class="id">r</span> @[<span class="id"><a name="r:19">r</a></span> --&gt; +<span class="id">oo</span>] --&gt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">move</span>=&gt; <span class="id">P</span> [<span class="id">r</span> [<span class="id">rreal</span> <span class="id">rP</span>]]; <span class="kwd">exists</span> (<span class="id">r</span> - <span class="id">M</span>); <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">realB</span>// <span class="id">num_real</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span>; <span class="id">rewrite</span> <span class="id">ltr_subl_addl</span> =&gt; /<span class="id">rP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvg_addrr">cvg_addrr</a></span> (<span class="id"><a name="M:20">M</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) : (<span class="id">r</span> + <span class="id">M</span>) @[<span class="id"><a name="r:21">r</a></span> --&gt; +<span class="id">oo</span>] --&gt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">under</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">addrC</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrl">cvg_addrl</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvg_centerr">cvg_centerr</a></span> (<span class="id"><a name="M:23">M</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span class="id"><a name="T:24">T</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span class="id"><a name="f:25">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> -&gt; <span class="id">T</span>) (<span class="id"><a name="l:26">l</a></span> : <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="id">f</span> (<span class="id">n</span> - <span class="id">M</span>) @[<span class="id"><a name="n:27">n</a></span> --&gt; +<span class="id">oo</span>] --&gt; <span class="id">l</span>) = (<span class="id">f</span> <span class="id">r</span> @[<span class="id"><a name="r:28">r</a></span> --&gt; +<span class="id">oo</span>] --&gt; <span class="id">l</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">cD</span> : <span class="id">f</span> <span class="id">l</span> / <span class="id">f</span> <span class="id">r</span> @[<span class="id"><a name="r:29">r</a></span> --&gt; +<span class="id">oo</span>] --&gt; <span class="id">l</span> -&gt; <span class="id">f</span> (<span class="id">n</span> + <span class="id">M</span>) @[<span class="id"><a name="n:30">n</a></span> --&gt; +<span class="id">oo</span>] --&gt; <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">cD</span> /=.<br/>
<span class="kwd">by</span> <span class="id">under</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span> --&gt; <span class="id">l</span>]<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">addrK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvg_shiftr">cvg_shiftr</a></span> (<span class="id"><a name="M:32">M</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span class="id"><a name="T:33">T</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span class="id"><a name="f:34">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> -&gt; <span class="id">T</span>) (<span class="id"><a name="l:35">l</a></span> : <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="id">f</span> (<span class="id">n</span> + <span class="id">M</span>) @[<span class="id"><a name="n:36">n</a></span> --&gt; +<span class="id">oo</span>]--&gt; <span class="id">l</span>) = (<span class="id">f</span> <span class="id">r</span> @[<span class="id"><a name="r:37">r</a></span> --&gt; +<span class="id">oo</span>] --&gt; <span class="id">l</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> -&gt; <span class="id">_</span>](<span class="id"><a href="mathcomp.analysis.realfun.html#cvg_centerr">cvg_centerr</a></span> <span class="id">M</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> =&gt; /=.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">subrK</span>; <span class="kwd">exists</span> <span class="id">M</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType">fun_cvg_realFieldType</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fun_cvg.fun_cvg_realType">fun_cvg_realType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:39">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nondecreasing_cvgr">nondecreasing_cvgr</a></span> (<span class="id"><a name="f:40">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nondecreasing_fun</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">r</span> @[<span class="id"><a name="r:41">r</a></span> --&gt; +<span class="id">oo</span>] --&gt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move</span>=&gt; <span class="id">ndf</span> <span class="id">ubf</span>; <span class="id">set</span> <span class="id">M</span> := <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>).<br/>
<span class="id">have</span> <span class="id">supf</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> (<span class="id">f</span> 0), 0.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_le">cvgrPdist_le</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">have</span> [<span class="id">p</span> <span class="id">Mefp</span>] : <span class="kwd">exists</span> <span class="id"><a name="p:42">p</a></span>, <span class="id">M</span> - <span class="id">e</span>%:<span class="id">num</span> &lt;= <span class="id">f</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span> -[<span class="id">p</span> <span class="id">_</span>] &lt;- /<span class="id">ltW</span> <span class="id">efp</span>] := <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#gt0">gt0</a></span> <span class="id">e</span>) <span class="id">supf</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">p</span>; <span class="id">rewrite</span> <span class="id">efp</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">have</span> <span class="id">pn</span> : <span class="id">p</span> &lt;= <span class="id">n</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_pinfty_ge">nbhs_pinfty_ge</a></span>; <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distlC</span> (<span class="id">le_trans</span> <span class="id">Mefp</span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))//= (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">M</span>) ?<span class="id">ler_addl</span>//.<br/>
<span class="kwd">by</span> <span class="id">have</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#ubP">ubP</a></span> := <span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> <span class="id">supf</span>; <span class="id">apply</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nonincreasing_at_right_cvgr">nonincreasing_at_right_cvgr</a></span> (<span class="id"><a name="f:43">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) <span class="id"><a name="a:44">a</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="id">nonincreasing_fun</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id">f</span> @` `]<span class="id">a</span>, +<span class="id">oo</span>[) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> @[<span class="id"><a name="x:45">x</a></span> --&gt; <span class="id">a</span> ^'+] --&gt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id">f</span> @` `]<span class="id">a</span>, +<span class="id">oo</span>[).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move</span>=&gt; <span class="id">lef</span> <span class="id">ubf</span>; <span class="id">set</span> <span class="id">M</span> := <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">supf</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> [<span class="id">set</span> <span class="id">f</span> <span class="id">x</span> | <span class="id"><a name="x:46">x</a></span> <span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[].<br/>
&nbsp;&nbsp;<span class="id">split</span> =&gt; //; <span class="kwd">exists</span> (<span class="id">f</span> (<span class="id">a</span> + 1)), (<span class="id">a</span> + 1) =&gt; //=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">ltr_addl</span> <span class="id">ltr01</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_le">cvgrPdist_le</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">have</span> [<span class="id">p</span> <span class="id">ap</span> <span class="id">Mefp</span>] : <span class="kwd">exists2</span> <span class="id"><a name="p:47">p</a></span>, <span class="id">a</span> &lt; <span class="id">p</span> &amp; <span class="id">M</span> - <span class="id">e</span>%:<span class="id">num</span> &lt;= <span class="id">f</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span> -[<span class="id">p</span> <span class="id">ap</span>] &lt;- /<span class="id">ltW</span> <span class="id">efp</span>] := <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#gt0">gt0</a></span> <span class="id">e</span>) <span class="id">supf</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">p</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">efp</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">ap</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distl</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ler_subl_addr</span> (<span class="id">le_trans</span> <span class="id">Mefp</span>)// <span class="id">lef</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">have</span> : <span class="id">f</span> <span class="id">n</span> &lt;= <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> =&gt; //=; <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">rewrite</span> <span class="id">ler_subl_addr</span> <span class="id">ler_addl</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span> (<span class="id"><a name="f:49">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) <span class="id"><a name="a:50">a</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="id">nondecreasing_fun</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (<span class="id">f</span> @` `]<span class="id">a</span>, +<span class="id">oo</span>[) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> @[<span class="id"><a name="x:51">x</a></span> --&gt; <span class="id">a</span> ^'+] --&gt; <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id">f</span> @` `]<span class="id">a</span>, +<span class="id">oo</span>[).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">move</span>=&gt; <span class="id">nif</span> <span class="id">hlb</span>.<br/>
<span class="id">have</span> <span class="id">ndNf</span> : {<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="id">nonincreasing_fun</span> (\- <span class="id">f</span>)}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">ra</span> <span class="id">y</span> /<span class="id">nif</span>; <span class="id">rewrite</span> <span class="id">ler_opp2</span>; <span class="id">exact</span>.<br/>
<span class="id">have</span> <span class="id">hub</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> [<span class="id">set</span> (\- <span class="id">f</span>) <span class="id">x</span> | <span class="id"><a name="x:52">x</a></span> <span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.reals.html#has_ub_lbN">has_ub_lbN</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span>/=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = [<span class="id">set</span> <span class="id">f</span> <span class="id">x</span> | <span class="id"><a name="x:53">x</a></span> <span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[])//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span> =&gt; <span class="id">y</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id">opprK</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN</a></span> := <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvgr">nonincreasing_at_right_cvgr</a></span> <span class="id">ndNf</span> <span class="id">hub</span>.<br/>
<span class="id">rewrite</span> <span class="id">opprK</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span> -&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> [<span class="id">set</span> <span class="id">f</span> <span class="id">x</span> | <span class="id"><a name="x:57">x</a></span> <span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[])//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span>; <span class="id">congr</span> (- <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span>/=; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType">fun_cvg_realType</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fun_cvg.fun_cvg_ereal">fun_cvg_ereal</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:61">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nondecreasing_cvge">nondecreasing_cvge</a></span> (<span class="id"><a name="f:62">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">nondecreasing_fun</span> <span class="id">f</span> -&gt; <span class="id">f</span> <span class="id">r</span> @[<span class="id"><a name="r:63">r</a></span> --&gt; +<span class="id">oo</span>%<span class="id">R</span>] --&gt; <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move</span>=&gt; <span class="id">ndf</span>; <span class="id">set</span> <span class="id">S</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>; <span class="id">set</span> <span class="id">l</span> := <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span>.<br/>
<span class="id">have</span> [<span class="id">Spoo</span>|<span class="id">Spoo</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">S</span> +<span class="id">oo</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">N</span> <span class="id">Nf</span>] : <span class="kwd">exists</span> <span class="id"><a name="N:64">N</a></span>, <span class="kwd">forall</span> <span class="id"><a name="n:65">n</a></span>, (<span class="id">n</span> &gt;= <span class="id">N</span>)%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">n</span> = +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">Spoo</span> =&gt; <span class="id">N</span> <span class="id">_</span> <span class="id">uNoo</span>; <span class="kwd">exists</span> <span class="id">N</span> =&gt; <span class="id">n</span> <span class="id">Nn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Nn</span>; <span class="id">rewrite</span> <span class="id">uNoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : <span class="id">l</span> = +<span class="id">oo</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">l</span> /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#supremum_pinfty">supremum_pinfty</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.realfun.html#cvg_shiftr">cvg_shiftr</a></span> `|<span class="id">N</span>|); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id">ltW</span> <span class="id">Nx</span>; <span class="id">rewrite</span> <span class="id">Nf</span>// <span class="id">ler_paddr</span>.<br/>
<span class="id">have</span> [<span class="id">lpoo</span>|<span class="id">lpoo</span>] := <span class="id">eqVneq</span> <span class="id">l</span> +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lpoo</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPge">cvgeyPge</a></span> =&gt; <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_gt">ereal_sup_gt</a></span>[<span class="id">_</span> [<span class="id">n</span> <span class="id">_</span>] &lt;- <span class="id">Mun</span>] : <span class="id">M</span>%:<span class="id">E</span> &lt; <span class="id">l</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lpoo</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">n</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> /= <span class="id">nm</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">Mun</span>))// <span class="id">ndf</span>// <span class="id">ltW</span>.<br/>
<span class="id">have</span> [<span class="id">fnoo</span>|<span class="id">fnoo</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> -<span class="id">oo</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">l</span> (<span class="id">_</span> : <span class="id">S</span> = [<span class="id">set</span> -<span class="id">oo</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span> <span class="id">fnoo</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">_</span> [<span class="id">n</span> <span class="id">_</span>] &lt;- /[!<span class="id">fnoo</span>]//|<span class="id">_</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">S</span> <span class="id">fnoo</span>; <span class="kwd">exists</span> 0%<span class="id">R</span>.<br/>
<span class="id">have</span> [/<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ninfty">ereal_sup_ninfty</a></span> <span class="id">lnoo</span>|<span class="id">lnoo</span>] := <span class="id">eqVneq</span> <span class="id">l</span> -<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">exfalso</span>; <span class="id">apply</span>/<span class="id">fnoo</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> (<span class="id">lnoo</span> (<span class="id">f</span> <span class="id">n</span>))//; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">l_fin_num</span> : <span class="id">l</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">lpoo</span> <span class="id">lnoo</span>.<br/>
<span class="id">set</span> <span class="id">A</span> := [<span class="id">set</span> <span class="id"><a name="n:66">n</a></span> | <span class="id">f</span> <span class="id">n</span> = -<span class="id">oo</span>]; <span class="id">set</span> <span class="id">B</span> := [<span class="id">set</span> <span class="id"><a name="n:67">n</a></span> | <span class="id">f</span> <span class="id">n</span> != -<span class="id">oo</span>].<br/>
<span class="id">have</span> <span class="id">f_fin_num</span> <span class="id">n</span> : <span class="id">B</span> <span class="id">n</span> -&gt; <span class="id">f</span> <span class="id">n</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Bn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">Bn</span>/=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> <span class="id">Spoo</span> =&gt; /<span class="id">eqP</span> <span class="id">unpoo</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> [<span class="id">x</span> <span class="id">Bx</span>] : <span class="id">B</span> !=<span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> <span class="id">B0</span>; <span class="id">apply</span>/<span class="id">fnoo</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPn">negPn</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; <span class="id">unnoo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span> : <span class="id">B0</span> =&gt; [+ <span class="id">_</span>] =&gt; /(<span class="id">_</span> <span class="id">n</span>); <span class="id">apply</span>.<br/>
<span class="id">have</span> <span class="id">xB</span> <span class="id">r</span> : (<span class="id">x</span> &lt;= <span class="id">r</span>)%<span class="id">R</span> -&gt; <span class="id">B</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">ndf</span> <span class="id">xr</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> <span class="id">urnoo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xr</span>; <span class="id">rewrite</span> <span class="id">urnoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNy_eq">leeNy_eq</a></span>; <span class="id">exact</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>.<br/>
<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> <span class="id">l</span>)//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">A1r</span>; <span class="id">rewrite</span> <span class="id">f_fin_num</span> //; <span class="id">exact</span>/<span class="id">xB</span>/<span class="id">ltW</span>.<br/>
<span class="id">set</span> <span class="id">g</span> := <span class="kwd">fun</span> <span class="id"><a name="n:74">n</a></span> =&gt; <span class="kwd">if</span> (<span class="id">n</span> &lt; <span class="id">x</span>)%<span class="id">R</span> <span class="kwd">then</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="kwd">else</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">n</span>).<br/>
<span class="id">have</span> &lt;- : <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>) = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_inj">EFin_inj</a></span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_EFin">ereal_sup_EFin</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) =&gt; /= <span class="id">_</span> [<span class="id">m</span> <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> /<span class="id">g</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">mx</span>|<span class="id">xm</span>] := <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// ?<span class="id">f_fin_num</span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// ?<span class="id">f_fin_num</span>//; <span class="id">first</span> <span class="id">exact</span>/<span class="id">xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">g</span> 0%<span class="id">R</span>), 0%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_sup">le_ereal_sup</a></span> =&gt; <span class="id">_</span> /= [<span class="id">_</span> [<span class="id">m</span> <span class="id">_</span>] &lt;-] &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g</span>; <span class="id">have</span> [<span class="id">_</span>|<span class="id">xm</span>] := <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// ?<span class="id">f_fin_num</span>//; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// ?<span class="id">f_fin_num</span>//; [<span class="kwd">exists</span> <span class="id">m</span>|<span class="id">exact</span>/<span class="id">xB</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= <span class="id">_</span> [<span class="id">m</span> <span class="id">_</span>] &lt;-.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">mx</span>|<span class="id">xm</span>] := <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">mx</span>)))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// <span class="id">f_fin_num</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">m</span> =&gt; //; <span class="id">rewrite</span> /<span class="id">g</span> <span class="id">mx</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">m</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">m</span> =&gt; //; <span class="id">rewrite</span> /<span class="id">g</span> <span class="id">ltNge</span> <span class="id">xm</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> ?<span class="id">f_fin_num</span>//; <span class="id">exact</span>: <span class="id">xB</span>.<br/>
<span class="id">suff</span>: <span class="id">g</span> <span class="id">x</span> @[<span class="id"><a name="x:77">x</a></span> --&gt; +<span class="id">oo</span>%<span class="id">R</span>] --&gt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>; <span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF</a></span>//; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span>; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_pinfty_ge">nbhs_pinfty_ge</a></span>; <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_cvgr">nondecreasing_cvgr</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> /<span class="id">g</span> /=; <span class="id">have</span> [<span class="id">_</span>|<span class="id">xm</span>] := <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;+ <span class="id">have</span> [<span class="id">nx</span>|<span class="id">nx</span>] := <span class="id">ltP</span> <span class="id">n</span> <span class="id">x</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// <span class="id">f_fin_num</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// ?<span class="id">f_fin_num</span>//; [<span class="id">exact</span>: <span class="id">xB</span>|<span class="id">exact</span>: <span class="id">ndf</span>].<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">ltNge</span> (<span class="id">le_trans</span> <span class="id">xm</span> <span class="id">mn</span>)//= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> ?<span class="id">f_fin_num</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">exact</span>: <span class="id">xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">xB</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">xm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">exact</span>/<span class="id">ndf</span>.<br/>
- <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) =&gt; /= <span class="id">_</span> [<span class="id">m</span> <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> /<span class="id">g</span> /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">l_fin_num</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span>|<span class="id">xm</span>] := <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// ?<span class="id">f_fin_num</span>//; <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// ?<span class="id">f_fin_num</span>//; [<span class="kwd">exists</span> <span class="id">m</span>|<span class="id">exact</span>/<span class="id">xB</span>].<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nondecreasing_is_cvge">nondecreasing_is_cvge</a></span> (<span class="id"><a name="f:78">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">nondecreasing_fun</span> <span class="id">f</span> -&gt; (<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">f</span> <span class="id">r</span> @[<span class="id"><a name="r:79">r</a></span> --&gt; +<span class="id">oo</span>]))%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">u_nd</span> <span class="id">u_ub</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cvgP</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_cvge">nondecreasing_cvge</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> (<span class="id"><a name="f:82">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:83">a</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="id">nondecreasing_fun</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> @[<span class="id"><a name="x:84">x</a></span> --&gt; <span class="id">a</span> ^'+] --&gt; <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> (<span class="id">f</span> @` `]<span class="id">a</span>, +<span class="id">oo</span>[).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">move</span>=&gt; <span class="id">ndf</span>; <span class="id">set</span> <span class="id">S</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id">X</span>); <span class="id">set</span> <span class="id">l</span> := <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span>.<br/>
<span class="id">have</span> [<span class="id">Snoo</span>|<span class="id">Snoo</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">S</span> -<span class="id">oo</span>).<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">Snoo</span>) =&gt; <span class="id">N</span> /=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">aN</span> <span class="id">fNpoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Nf</span> <span class="id">n</span> : (<span class="id">a</span> &lt; <span class="id">n</span> &lt;= <span class="id">N</span>)%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">n</span> = -<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">an</span> <span class="id">nN</span>]; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> -<span class="id">fNpoo</span> <span class="id">ndf</span>// <span class="id">in_itv</span>/= <span class="id">an</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : <span class="id">l</span> = -<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">l</span> /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#supremum_pinfty">supremum_pinfty</a></span>//=; <span class="kwd">exists</span> -<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst</a></span>; <span class="kwd">exists</span> (<span class="id">N</span> - <span class="id">a</span>)%<span class="id">R</span> =&gt; /=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">y</span> /= + <span class="id">ay</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm</span> ?<span class="id">subr_lt0</span>// <span class="id">opprB</span> =&gt; <span class="id">ayNa</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">Nf</span>// <span class="id">ay</span>/= -(<span class="id">subrK</span> <span class="id">a</span> <span class="id">y</span>) -<span class="id">ler_subr_addr</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> [<span class="id">lnoo</span>|<span class="id">lnoo</span>] := <span class="id">eqVneq</span> <span class="id">l</span> -<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lnoo</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPle">cvgeNyPle</a></span> =&gt; <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id">M</span>%:<span class="id">E</span> &gt; <span class="id">l</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lnoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lt">ereal_inf_lt</a></span>[<span class="id">x</span> [<span class="id">y</span>]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">ay</span> &lt;- <span class="id">fyM</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">y</span> - <span class="id">a</span>)%<span class="id">R</span> =&gt; /=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> /= + <span class="id">az</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm</span> ?<span class="id">subr_lt0</span>// <span class="id">opprB</span> <span class="id">ltr_subl_addr</span> <span class="id">subrK</span> =&gt; <span class="id">zy</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">fyM</span>))// <span class="id">ndf</span>// ?<span class="id">in_itv</span>/= ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>// <span class="id">ltW</span>.<br/>
<span class="id">have</span> [<span class="id">fpoo</span>|<span class="id">fpoo</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> {<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="kwd">forall</span> <span class="id"><a name="x:87">x</a></span>, <span class="id">f</span> <span class="id">x</span> = +<span class="id">oo</span>}.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">l</span> (<span class="id">_</span> : <span class="id">S</span> = [<span class="id">set</span> +<span class="id">oo</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf1">ereal_inf1</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPgey">cvgeyPgey</a></span>; <span class="id">near</span>=&gt; <span class="id">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fpoo</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>// <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">_</span> [<span class="id">n</span> <span class="id">_</span>] &lt;- /[!<span class="id">fpoo</span>]//|<span class="id">_</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">S</span> /=; <span class="kwd">exists</span> (<span class="id">a</span> + 1)%<span class="id">R</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fpoo</span>// <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> [/<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_pinfty">ereal_inf_pinfty</a></span> <span class="id">lpoo</span>|<span class="id">lpoo</span>] := <span class="id">eqVneq</span> <span class="id">l</span> +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">fpoo</span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">an</span>; <span class="id">rewrite</span> (<span class="id">lpoo</span> (<span class="id">f</span> <span class="id">n</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">have</span> <span class="id">l_fin_num</span> : <span class="id">l</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">lpoo</span> <span class="id">lnoo</span>.<br/>
<span class="id">set</span> <span class="id">A</span> := [<span class="id">set</span> <span class="id"><a name="n:88">n</a></span> | (<span class="id">a</span> &lt; <span class="id">n</span>)%<span class="id">R</span> /\ <span class="id">f</span> <span class="id">n</span> != +<span class="id">oo</span>].<br/>
<span class="id">set</span> <span class="id">B</span> := [<span class="id">set</span> <span class="id"><a name="n:91">n</a></span> | (<span class="id">a</span> &lt; <span class="id">n</span>)%<span class="id">R</span> /\ <span class="id">f</span> <span class="id">n</span> = +<span class="id">oo</span>].<br/>
<span class="id">have</span> <span class="id">f_fin_num</span> <span class="id">n</span> : <span class="id">n</span> \<span class="kwd">in</span> <span class="id">A</span> -&gt; <span class="id">f</span> <span class="id">n</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /[1!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>]-[<span class="id">an</span> <span class="id">fnnoo</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">fnnoo</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> <span class="id">Snoo</span> =&gt; /<span class="id">eqP</span> <span class="id">unpoo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">have</span> [<span class="id">x</span> [<span class="id">Ax</span> <span class="id">fxpoo</span>]] : <span class="id">A</span> !=<span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> <span class="id">A0</span>; <span class="id">apply</span>/<span class="id">fpoo</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">ax</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPn">negPn</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; <span class="id">unnoo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span> : <span class="id">A0</span> =&gt; [+ <span class="id">_</span>] =&gt; /(<span class="id">_</span> <span class="id">x</span>); <span class="id">apply</span>; <span class="id">rewrite</span> /<span class="id">A</span>/= <span class="id">ax</span>.<br/>
<span class="id">have</span> <span class="id">axA</span> <span class="id">r</span> : (<span class="id">a</span> &lt; <span class="id">r</span> &lt;= <span class="id">x</span>)%<span class="id">R</span> -&gt; <span class="id">r</span> \<span class="kwd">in</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ar</span> <span class="id">rx</span>]; <span class="id">move</span>: (<span class="id">rx</span>) =&gt; /<span class="id">ndf</span> <span class="id">rafx</span>; <span class="id">rewrite</span> /<span class="id">A</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> <span class="id">urnoo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">rafx</span>; <span class="id">rewrite</span> <span class="id">urnoo</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; /(<span class="id">_</span> <span class="id">ar</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">fxpoo</span>).<br/>
<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> <span class="id">l</span>)//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">x</span> - <span class="id">a</span>)%<span class="id">R</span> =&gt; /=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> /= + <span class="id">az</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm</span> ?<span class="id">subr_lt0</span>// <span class="id">opprB</span> <span class="id">ltr_subl_addr</span> <span class="id">subrK</span>// =&gt; <span class="id">zx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span>// <span class="id">axA</span>// <span class="id">az</span>/= <span class="id">ltW</span>.<br/>
<span class="id">set</span> <span class="id">g</span> := <span class="kwd">fun</span> <span class="id"><a name="n:96">n</a></span> =&gt; <span class="kwd">if</span> (<span class="id">a</span> &lt; <span class="id">n</span> &lt; <span class="id">x</span>)%<span class="id">R</span> <span class="kwd">then</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">n</span>) <span class="kwd">else</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">have</span> &lt;- : <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> [<span class="id">set</span> <span class="id">g</span> <span class="id">x</span> | <span class="id"><a name="x:99">x</a></span> <span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[] = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_inj">EFin_inj</a></span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_EFin">ereal_inf_EFin</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) =&gt; /= <span class="id">_</span> [<span class="id">m</span> <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> /<span class="id">g</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">am</span> <span class="id">mx</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// ?<span class="id">f_fin_num</span>//; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">axA</span>// <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>; <span class="kwd">exists</span> <span class="id">m</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> -!<span class="id">leNgt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">ma</span>|<span class="id">xm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// ?<span class="id">f_fin_num</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// ?<span class="id">f_fin_num</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">g</span> (<span class="id">a</span> + 1)%<span class="id">R</span>), (<span class="id">a</span> + 1)%<span class="id">R</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> =&gt; <span class="id">_</span> /= [<span class="id">_</span> [<span class="id">m</span> <span class="id">_</span>] &lt;-] &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">am</span> <span class="id">mx</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// ?<span class="id">f_fin_num</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">axA</span>// <span class="id">am</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">m</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> -!<span class="id">leNgt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">ma</span>|<span class="id">xm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">x</span> =&gt; /=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// <span class="id">f_fin_num</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> =&gt; /= <span class="id">y</span> [<span class="id">m</span>] /=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">am</span> &lt;-{<span class="id">y</span>}.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">mx</span>|<span class="id">xm</span>] := <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> =&gt; /=; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">m</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// <span class="id">f_fin_num</span>// <span class="id">axA</span>// <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">m</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">g</span> <span class="id">am</span> <span class="id">mx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">xm</span>))//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> =&gt; /=; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// <span class="id">f_fin_num</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">x</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">g</span> <span class="id">ltxx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
<span class="id">suff</span>: <span class="id">g</span> <span class="id">x</span> @[<span class="id"><a name="x:100">x</a></span> --&gt; <span class="id">a</span>^'+] --&gt; <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> [<span class="id">set</span> <span class="id">g</span> <span class="id">x</span> | <span class="id"><a name="x:101">x</a></span> <span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>; <span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g</span> /=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [//|].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> -!<span class="id">leNgt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">na</span>|<span class="id">xn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">na</span>; <span class="id">rewrite</span> <span class="id">leNgt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">nx</span> : (<span class="id">n</span> &lt; <span class="id">x</span>)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">xn</span> <span class="kwd">in</span> <span class="id">nx</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> ((<span class="id">x</span> - <span class="id">a</span>) / 2)%<span class="id">R</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">divr_gt0</span>// <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">y</span> /= /[<span class="id">swap</span>] <span class="id">ay</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm</span>// ?<span class="id">subr_lt0</span>// <span class="id">opprB</span> <span class="id">ltr_subl_addr</span> =&gt; /<span class="id">lt_le_trans</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ler_subr_addr</span> <span class="id">ler_pdivr_mulr</span>// <span class="id">ler_pmulr</span>// ?<span class="id">ler1n</span>// <span class="id">subr_gt0</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">ma</span> <span class="id">n</span> <span class="id">mn</span> /=; <span class="id">rewrite</span> /<span class="id">g</span> /=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">am</span> <span class="id">mx</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">am</span> <span class="id">mn</span>) /=; <span class="id">have</span> [<span class="id">nx</span>|<span class="id">nn0</span>] := <span class="id">ltP</span> <span class="id">n</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> ?<span class="id">f_fin_num</span> ?<span class="id">ndf</span>//; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">axA</span>// <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">axA</span>// (<span class="id">ltW</span> <span class="id">nx</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">lt_le_trans</span> <span class="id">am</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> ?<span class="id">f_fin_num</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">axA</span>// <span class="id">am</span> (<span class="id">ltW</span> (<span class="id">lt_le_trans</span> <span class="id">mx</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ndf</span>// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> -!<span class="id">leNgt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">ma</span>'|<span class="id">xm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltNge</span> <span class="id">ma</span>' <span class="kwd">in</span> <span class="id">ma</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="kwd">in</span> <span class="id">ma</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">ma</span> <span class="id">mn</span>)/= <span class="id">ltNge</span> (<span class="id">le_trans</span> <span class="id">xm</span> <span class="id">mn</span>).<br/>
- <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) =&gt; /= <span class="id">_</span> [<span class="id">m</span> <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> /<span class="id">g</span> /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">l_fin_num</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">am</span> <span class="id">mn0</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">m</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">am</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span>// <span class="id">axA</span>// <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mn0</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> -!<span class="id">leNgt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">ma</span>|<span class="id">xm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">Ax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// ?<span class="id">f_fin_num</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nondecreasing_at_right_is_cvge">nondecreasing_at_right_is_cvge</a></span> (<span class="id"><a name="f:102">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:103">a</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="id">nondecreasing_fun</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">f</span> <span class="id">x</span> @[<span class="id"><a name="x:104">x</a></span> --&gt; <span class="id">a</span> ^'+]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">ndf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cvgP</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nonincreasing_at_right_cvge">nonincreasing_at_right_cvge</a></span> (<span class="id"><a name="f:107">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:108">a</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="id">nonincreasing_fun</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> @[<span class="id"><a name="x:109">x</a></span> --&gt; <span class="id">a</span> ^'+] --&gt; <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id">f</span> @` `]<span class="id">a</span>, +<span class="id">oo</span>[).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move</span>=&gt; <span class="id">nif</span>.<br/>
<span class="id">have</span> <span class="id">ndNf</span> : {<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, {<span class="id">homo</span> (\- <span class="id">f</span>) : <span class="id"><a name="n:110">n</a></span> <span class="id"><a name="m:111">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">R</span> &gt;-&gt; <span class="id">n</span> &lt;= <span class="id">m</span>}}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">ra</span> <span class="id">y</span> /<span class="id">nif</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">leeN2</a></span>; <span class="id">exact</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeN">cvgeN</a></span> := <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> <span class="id">ndNf</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="id">set</span> <span class="id">lhs</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span> -&gt; <span class="id">_</span>); <span class="id">set</span> <span class="id">rhs</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> -&gt; <span class="id">_</span> --&gt; <span class="id">X</span>).<br/>
<span class="id">suff</span> : <span class="id">lhs</span> = <span class="id">rhs</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;.<br/>
<span class="id">rewrite</span> {}/<span class="id">rhs</span> {}/<span class="id">lhs</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>; <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span>/=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span> =&gt; <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nonincreasing_at_right_is_cvge">nonincreasing_at_right_is_cvge</a></span> (<span class="id"><a name="f:116">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:117">a</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `]<span class="id">a</span>, +<span class="id">oo</span>[, <span class="id">nonincreasing_fun</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">f</span> <span class="id">x</span> @[<span class="id"><a name="x:118">x</a></span> --&gt; <span class="id">a</span> ^'+]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">ndf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cvgP</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvge">nonincreasing_at_right_cvge</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal">fun_cvg_ereal</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg">fun_cvg</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:121">R</a></span> : <span class="id">numFieldType</span>} {<span class="id"><a name="V:122">V</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span> (<span class="id"><a name="f:123">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span class="id"><a name="x:124">x</a></span> <span class="id"><a name="y:125">y</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) :=<br/>
&nbsp;&nbsp;[/\ {<span class="kwd">in</span> `]<span class="id">x</span>, <span class="id">y</span>[, <span class="kwd">forall</span> <span class="id"><a name="x:126">x</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">x</span>^'+ --&gt; <span class="id">f</span> <span class="id">x</span> &amp; <span class="id">f</span> @ <span class="id">y</span>^'- --&gt; <span class="id">f</span> <span class="id">y</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_oo_continuous_bnd_within">derivable_oo_continuous_bnd_within</a></span> (<span class="id"><a name="f:127">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span class="id"><a name="x:128">x</a></span> <span class="id"><a name="y:129">y</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span> -&gt; {<span class="id">within</span> `[<span class="id">x</span>, <span class="id">y</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">move</span>=&gt; [<span class="id">fxy</span> <span class="id">fxr</span> <span class="id">fyl</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#subspace_continuousP">subspace_continuousP</a></span> =&gt; <span class="id">z</span> /=.<br/>
<span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-{<span class="id">z</span>} <span class="id">xy</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_right_within">cvg_at_right_within</a></span> <span class="id">fxr</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> =&gt; <span class="id">z</span>/=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
<span class="id">move</span>=&gt; /[<span class="id">swap</span>].<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;{<span class="id">z</span>} <span class="id">xy</span>|<span class="id">zy</span> <span class="id">xz</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_left_within">cvg_at_left_within</a></span> <span class="id">fyl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> =&gt; <span class="id">z</span>/=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_within_filter">cvg_within_filter</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_continuous">differentiable_continuous</a></span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fxy</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">xz</span> <span class="id">zy</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="real_inverse_functions">real_inverse_functions</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="real_inverse_functions.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>).<br/>
<br/>
<div class="doc">This lemma should be used with caution. Generally `{within I, continuous f}`
   is what one would intend. So having `{in I, continuous f}` as a condition
   may indicate potential issues at the endpoints of the interval. </div>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_subspace_itv">continuous_subspace_itv</a></span> (<span class="id"><a name="I:131">I</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span class="id"><a name="f:132">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; {<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move</span>=&gt; <span class="id">ctsf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> =&gt; <span class="id">x</span> <span class="id">Ix</span>; <span class="id">apply</span>: <span class="id">ctsf</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">Ix</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id"><a name="f:133">f</a></span> (<span class="id"><a name="I:134">I</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">exists</span> <span class="id"><a name="x:135">x</a></span> <span class="id"><a name="y:136">y</a></span>, [/\ <span class="id">x</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">y</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">x</span> &lt; <span class="id">y</span> &amp; <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">f</span> <span class="id">y</span>]) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="x:137">x</a></span> <span class="id"><a name="y:138">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">gen</span> <span class="id">have</span> <span class="id">fxy</span> : <span class="id">f</span> / {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="kwd">forall</span> <span class="id"><a name="x:141">x</a></span> <span class="id"><a name="y:142">y</a></span>, <span class="id">x</span> &lt; <span class="id">y</span> -&gt; <span class="id">f</span> <span class="id">x</span> != <span class="id">f</span> <span class="id">y</span>}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> /<span class="id">fI</span> =&gt; /(<span class="id">_</span> <span class="id">xI</span> <span class="id">yI</span>) <span class="id">xy</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xLy</span>; <span class="id">rewrite</span> <span class="id">xy</span> <span class="id">ltxx</span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">main</span> : <span class="id">f</span> / <span class="kwd">forall</span> <span class="id"><a name="c:143">c</a></span>, {<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="kwd">forall</span> <span class="id"><a name="a:144">a</a></span> <span class="id"><a name="b:145">b</a></span>, <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> -&gt; <span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span>}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">faLfb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">intP</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> : <span class="id">c</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// (<span class="id">ltW</span> <span class="id">aLc</span>) <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsACf</span> : {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">c</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">axc</span>/= (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">cLb</span>))// <span class="id">axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsCBf</span> : {<span class="id">within</span> `[<span class="id">c</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">axc</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">aLc</span>)) ?<span class="id">axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">aLb</span> <span class="id">alb</span>'] : <span class="id">a</span> &lt; <span class="id">b</span> /\ <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span> (<span class="id">lt_trans</span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">faLfc</span>|<span class="id">fcLfa</span>|/<span class="id">eqP</span> <span class="id">faEfc</span>] /= := <span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;- <span class="id">split</span>; <span class="id">rewrite</span> // <span class="id">lt_neqAle</span> <span class="id">fxy</span> // <span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; <span class="id">fbLfc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> := <span class="id">fbLfc</span>; <span class="id">suff</span> /<span class="id">eqP</span> -&gt; : <span class="id">c</span> == <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">eq_le</span> (<span class="id">ltW</span> <span class="id">cLb</span>) /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">d</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ad</span> <span class="id">dc</span>] <span class="id">fdEfb</span>] : <span class="kwd">exists2</span> <span class="id"><a name="d:146">d</a></span>, <span class="id">a</span> &lt;= <span class="id">d</span> &lt;= <span class="id">c</span> &amp; <span class="id">f</span> <span class="id">d</span> = <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">aLc</span>' : <span class="id">a</span> &lt;= <span class="id">c</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> =&gt; //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">faLfc</span>; <span class="id">rewrite</span> // (<span class="id">ltW</span> <span class="id">faLfb</span>) // <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">fI</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fdEfb</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">ad</span> <span class="id">dc</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt;/<span class="id">predU1P</span>[&lt;-//| /<span class="id">ltW</span> <span class="id">L</span>] <span class="id">dc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">L</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">cLb</span>)).<br/>
&nbsp;&nbsp;- <span class="id">have</span> [<span class="id">fbLfc</span> | <span class="id">fcLfb</span> | <span class="id">fbEfc</span>] /= := <span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">have</span> := <span class="id">lt_trans</span> <span class="id">fbLfc</span> <span class="id">fcLfa</span>; <span class="id">rewrite</span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">have</span> [<span class="id">d</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">cLd</span> <span class="id">dLb</span>] /<span class="id">eqP</span>] : <span class="kwd">exists2</span> <span class="id"><a name="d:148">d</a></span>, <span class="id">c</span> &lt;= <span class="id">d</span> &lt;= <span class="id">b</span> &amp; <span class="id">f</span> <span class="id">d</span> = <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">cLb</span>' : <span class="id">c</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> =&gt; //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">fcLfb</span>; <span class="id">rewrite</span> // !<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> /(<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>) : <span class="id">a</span> &lt; <span class="id">d</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">dI</span>' : <span class="id">d</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_sym</span>=&gt; /(<span class="id">_</span> <span class="id">aI</span> <span class="id">dI</span>') =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">dLb</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;//|/<span class="id">ltW</span> <span class="id">db</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">intP</span>// <span class="id">db</span>  (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">aLc</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>: <span class="id">fcLfa</span>; <span class="id">rewrite</span> -<span class="id">fbEfc</span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/(<span class="id">fxy</span> <span class="id">_</span> <span class="id">fI</span>) : <span class="id">aLc</span>=&gt; /(<span class="id">_</span> <span class="id">aI</span> <span class="id">cI</span>); <span class="id">rewrite</span> <span class="id">faEfc</span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">u</span> [<span class="id">v</span> [<span class="id">uI</span> <span class="id">vI</span> <span class="id">ulv</span> +]]] <span class="id">fC</span> <span class="id">fI</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[<span class="id">fufv</span>|<span class="id">fuLfv</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">fI</span>: <span class="id">fufv</span> =&gt; /(<span class="id">_</span> <span class="id">uI</span> <span class="id">vI</span>) <span class="id">uv</span>; <span class="id">move</span>: <span class="id">ulv</span>; <span class="id">rewrite</span> <span class="id">uv</span> <span class="id">ltxx</span>.<br/>
<span class="id">have</span> <span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> : <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span>) /\<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">aI</span> <span class="id">bI</span> <span class="id">aLc</span> <span class="id">cLb</span>; <span class="id">have</span> <span class="id">aLb</span> := <span class="id">lt_trans</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> : <span class="id">c</span> \<span class="kwd">in</span> <span class="id">I</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>)// (<span class="id">ltW</span> <span class="id">aLc</span>)/= <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fanfb</span> : <span class="id">f</span> <span class="id">a</span> != <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">decr</span> : <span class="id">f</span> <span class="id">b</span>  &lt; <span class="id">f</span> <span class="id">a</span> -&gt; <span class="id">f</span> <span class="id">b</span> &lt; <span class="id">f</span> <span class="id">c</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofC</span> : {<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> (-<span class="id">f</span>)}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>; [<span class="id">exact</span>: <span class="id">fC</span> | <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofI</span> : {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (-<span class="id">f</span>)} <span class="kwd">by</span> <span class="id">move</span>=&gt;&gt; ? ? /<span class="id">oppr_inj</span>/<span class="id">fI</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt; <span class="id">_</span> -&gt; <span class="id">_</span>](<span class="id">opprK</span> (<span class="id">f</span> <span class="id">b</span>)) <span class="id">ltr_oppl</span> =&gt; <span class="id">ofaLofb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> := <span class="id">main</span> <span class="id">_</span> <span class="id">c</span> <span class="id">ofC</span> <span class="id">ofI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ofaLofb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> (<span class="id">do</span> 2 <span class="id">rewrite</span> <span class="id">ltr_oppl</span> <span class="id">opprK</span>); <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#and_comm">and_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; [<span class="id">faLfc</span>|<span class="id">fcLfb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">decr</span> <span class="id">fanfb</span> =&gt; // <span class="id">fbfa</span> []//; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">faLfc</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">decr</span> <span class="id">fanfb</span> =&gt; // <span class="id">fbfa</span> []//; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">fcLfb</span>.<br/>
<span class="id">have</span>{<span class="id">main</span> <span class="id">fC</span>} <span class="id">whole</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> := <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span>.<br/>
<span class="id">have</span> <span class="id">low</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span> -&gt; <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>; <span class="id">case</span>: (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)=&gt; [/(<span class="id">_</span> <span class="id">L</span>)].<br/>
<span class="id">have</span> <span class="id">high</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> : <span class="id">f</span> <span class="id">c</span> &lt; <span class="id">f</span> <span class="id">b</span> -&gt; <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt; <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">c</span> -&gt; <span class="id">c</span> &lt; <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">b</span> /\ <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">f</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>; <span class="id">case</span>: (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)=&gt; [<span class="id">_</span> /(<span class="id">_</span> <span class="id">L</span>)].<br/>
<span class="id">apply</span>: <span class="id">le_mono_in</span> =&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy</span>.<br/>
<span class="id">have</span> [<span class="id">uLx</span> | <span class="id">xLu</span> | <span class="id">xu</span>] := <span class="id">ltrgtP</span> <span class="id">u</span> <span class="id">x</span>.<br/>
- <span class="id">suff</span> <span class="id">fuLfx</span> : <span class="id">f</span> <span class="id">u</span> &lt; <span class="id">f</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">low</span> <span class="id">u</span> <span class="id">x</span> <span class="id">y</span> <span class="id">fuLfx</span> <span class="id">uI</span> <span class="id">yI</span> <span class="id">uLx</span> <span class="id">xLy</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">xLv</span> | <span class="id">vLx</span> | -&gt; //] := <span class="id">ltrgtP</span> <span class="id">x</span> <span class="id">v</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">whole</span> <span class="id">u</span> <span class="id">x</span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">x</span>).<br/>
- <span class="id">have</span> <span class="id">fxLfu</span> : <span class="id">f</span> <span class="id">x</span> &lt; <span class="id">f</span> <span class="id">u</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">high</span> <span class="id">x</span> <span class="id">u</span> <span class="id">v</span> <span class="id">fuLfv</span> <span class="id">xI</span> <span class="id">vI</span> <span class="id">xLu</span> <span class="id">ulv</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">yLu</span> | <span class="id">uLy</span> | -&gt; //] := <span class="id">ltrgtP</span> <span class="id">y</span> <span class="id">u</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">whole</span> <span class="id">x</span> <span class="id">y</span> <span class="id">u</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">low</span> <span class="id">x</span> <span class="id">u</span> <span class="id">y</span>).<br/>
<span class="id">move</span>: <span class="id">xLy</span>; <span class="id">rewrite</span> -<span class="id">xu</span> =&gt; <span class="id">uLy</span>.<br/>
<span class="id">have</span> [<span class="id">yLv</span> | <span class="id">vLy</span> | -&gt; //] := <span class="id">ltrgtP</span> <span class="id">y</span> <span class="id">v</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">whole</span> <span class="id">u</span> <span class="id">y</span> <span class="id">v</span>).<br/>
<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">y</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="itv_continuous_inj_ge">itv_continuous_inj_ge</a></span> <span class="id"><a name="f:163">f</a></span> (<span class="id"><a name="I:164">I</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">exists</span> <span class="id"><a name="x:165">x</a></span> <span class="id"><a name="y:166">y</a></span>, [/\ <span class="id">x</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">y</span> \<span class="kwd">in</span> <span class="id">I</span>, <span class="id">x</span> &lt; <span class="id">y</span> &amp; <span class="id">f</span> <span class="id">y</span> &lt;= <span class="id">f</span> <span class="id">x</span>]) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">I</span> &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="x:168">x</a></span> <span class="id"><a name="y:167">y</a></span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move</span>=&gt; [<span class="id">a</span> [<span class="id">b</span> [<span class="id">aI</span> <span class="id">bI</span> <span class="id">ab</span> <span class="id">fbfa</span>]]] <span class="id">fC</span> <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span>.<br/>
<span class="id">suff</span> : (- <span class="id">f</span>) <span class="id">y</span> &lt;= (- <span class="id">f</span>) <span class="id">x</span> = (<span class="id">y</span> &lt;= <span class="id">x</span>) <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">xI</span> =&gt; // [|<span class="id">x1</span> <span class="id">x1I</span> | <span class="id">x1</span> <span class="id">x2</span> <span class="id">x1I</span> <span class="id">x2I</span>].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span>/<span class="id">fC</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">oppr_inj</span>; <span class="id">apply</span>/<span class="id">fI</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id"><a name="f:171">f</a></span> (<span class="id"><a name="I:172">I</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> [<span class="id">set</span>` <span class="id">I</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">I</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> <span class="id">I</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move</span>=&gt; <span class="id">fC</span> <span class="id">fI</span>.<br/>
<span class="id">case</span>: (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="kwd">exists</span> <span class="id"><a name="a:173">a</a></span> <span class="id"><a name="b:174">b</a></span>, [/\ <span class="id">a</span> \<span class="kwd">in</span> <span class="id">I</span> , <span class="id">b</span> \<span class="kwd">in</span> <span class="id">I</span> &amp; <span class="id">a</span> &lt; <span class="id">b</span>])); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">N2I</span>; <span class="id">left</span> =&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span>; <span class="id">suff</span> -&gt; : <span class="id">x</span> = <span class="id">y</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">lexx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> <span class="id">N2I</span> =&gt; /<span class="id">eqP</span>; <span class="id">case</span>: <span class="id">ltgtP</span>; [<span class="kwd">exists</span> <span class="id">x</span>, <span class="id">y</span>|<span class="kwd">exists</span> <span class="id">y</span>, <span class="id">x</span>|].<br/>
<span class="id">move</span>=&gt; [<span class="id">a</span> [<span class="id">b</span> [<span class="id">aI</span> <span class="id">bI</span> <span class="id">lt_ab</span>]]].<br/>
<span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">faLfb</span>|<span class="id">fbLfa</span>] := <span class="id">le_total</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">left</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">rewrite</span> ?<span class="id">faLfb</span>.<br/>
<span class="kwd">by</span> <span class="id">right</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_ge">itv_continuous_inj_ge</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">rewrite</span> ?<span class="id">fbLfa</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_inj_le">segment_continuous_inj_le</a></span> <span class="id"><a name="f:179">f</a></span> <span class="id"><a name="a:180">a</a></span> <span class="id"><a name="b:181">b</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> -&gt; {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="x:182">x</a></span> <span class="id"><a name="y:183">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move</span>=&gt; <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj</span>; <span class="id">have</span> [//|] := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> [<span class="id">aLb</span>|<span class="id">bLa</span>|&lt;-] := <span class="id">ltrgtP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">first</span> 1 <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> ?; <span class="id">rewrite</span> <span class="id">itv_ge</span>// -<span class="id">ltNge</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt; /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt;; <span class="id">rewrite</span> !<span class="id">lexx</span>.<br/>
<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">a</span> <span class="id">b</span>); <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fafb</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> (<span class="id">ltW</span> <span class="id">aLb</span>) (<span class="id">ltW</span> <span class="id">aLb</span>)); <span class="id">rewrite</span> <span class="id">lt_geF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_inj_ge">segment_continuous_inj_ge</a></span> <span class="id"><a name="f:186">f</a></span> <span class="id"><a name="a:187">a</a></span> <span class="id"><a name="b:188">b</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">f</span> <span class="id">b</span> -&gt; {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="x:190">x</a></span> <span class="id"><a name="y:189">y</a></span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move</span>=&gt; <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj</span>; <span class="id">have</span> [|//] := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> [<span class="id">aLb</span>|<span class="id">bLa</span>|&lt;-] := <span class="id">ltrgtP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">first</span> 1 <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> ?; <span class="id">rewrite</span> <span class="id">itv_ge</span>// -<span class="id">ltNge</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt; /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt;; <span class="id">rewrite</span> !<span class="id">lexx</span>.<br/>
<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">b</span> <span class="id">a</span>); <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fafb</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> (<span class="id">ltW</span> <span class="id">aLb</span>) (<span class="id">ltW</span> <span class="id">aLb</span>)); <span class="id">rewrite</span> <span class="id">lt_geF</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The condition "f a &lt;= f b" is unnecessary because the last
    interval condition is vacuously true otherwise. </div>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_le">segment_can_le</a></span> <span class="id"><a name="a:193">a</a></span> <span class="id"><a name="b:194">b</a></span> <span class="id"><a name="f:195">f</a></span> <span class="id"><a name="g:196">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">g</span> : <span class="id"><a name="x:197">x</a></span> <span class="id"><a name="y:198">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>; <span class="id">have</span> [<span class="id">fbLfa</span> | <span class="id">faLfb</span>] := <span class="id">ltrP</span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">itv_ge</span>// -<span class="id">ltNge</span>.<br/>
<span class="id">have</span> [<span class="id">aab</span> <span class="id">bab</span>] : <span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] /\ <span class="id">b</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>.<br/>
<span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">faLfb</span> =&gt; // [<span class="id">faLfb</span> <span class="id">_</span>|-&gt; <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt; /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>-&gt;]; <span class="id">rewrite</span> ?<span class="id">lexx</span>//.<br/>
<span class="id">have</span> <span class="id">lt_ab</span> : <span class="id">a</span> &lt; <span class="id">b</span> <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">ltgtP</span> <span class="id">a</span> <span class="id">b</span>) <span class="id">aLb</span> <span class="id">faLfb</span> =&gt; // -&gt;; <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
<span class="id">have</span> <span class="id">w</span> : <span class="kwd">exists</span> <span class="id"><a name="x:201">x</a></span> <span class="id"><a name="y:202">y</a></span>, [/\ <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">x</span> &lt; <span class="id">y</span> &amp; <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">f</span> <span class="id">y</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">b</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
<span class="id">have</span> <span class="id">fle</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">w</span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xin</span> <span class="id">yin</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">case</span>: (<span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)) <span class="id">faLfb</span> =&gt; // <span class="id">_</span> <span class="id">_</span> <span class="id">ivt</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [[<span class="id">u</span> <span class="id">uin</span> &lt;-] [<span class="id">v</span> <span class="id">vin</span> &lt;-]] := (<span class="id">ivt</span> <span class="id">_</span> <span class="id">xin</span>, <span class="id">ivt</span> <span class="id">_</span> <span class="id">yin</span>); <span class="id">rewrite</span> !<span class="id">fK</span>// !<span class="id">fle</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="real_inverse_functions.negation_itv">negation_itv</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Definition</span> <span class="id"><a name="itvN_oppr">itvN_oppr</a></span> <span class="id"><a name="a:203">a</a></span> <span class="id"><a name="b:204">b</a></span> := @<span class="id">GRing.opp</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="itv_oppr_is_fun">itv_oppr_is_fun</a></span> <span class="id"><a name="a:205">a</a></span> <span class="id"><a name="b:206">b</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> `[- <span class="id">b</span>, - <span class="id">a</span>]%<span class="id">classic</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id">a</span> <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">oppr_itvcc</span>. Qed.</div>
<span class="id"><a name="real_inverse_functions.negation_itv.hb_instance_1">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="a:207">a</a></span> <span class="id"><a name="b:208">b</a></span> := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_oppr_is_fun">itv_oppr_is_fun</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.negation_itv">negation_itv</a></span>.<br/>
<br/>
<div class="doc">The condition "f b &lt;= f a" is unnecessary---see seg...increasing above    </div>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_ge">segment_can_ge</a></span> <span class="id"><a name="a:209">a</a></span> <span class="id"><a name="b:210">b</a></span> <span class="id"><a name="f:211">f</a></span> <span class="id"><a name="g:212">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] &amp;, {<span class="id">mono</span> <span class="id">g</span> : <span class="id"><a name="x:214">x</a></span> <span class="id"><a name="y:213">y</a></span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">fC</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xfbfa</span> <span class="id">yfbfa</span>; <span class="id">rewrite</span> -<span class="id">ler_opp2</span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span> (- <span class="id">b</span>) (- <span class="id">a</span>) (<span class="id">f</span> \<span class="id">o</span> -%<span class="id">R</span>) (- <span class="id">g</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /= ?<span class="id">ler_opp2</span> ?<span class="id">opprK</span> //.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">fun_neg</span> : <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> `[-<span class="id">b</span>,-<span class="id">a</span>] -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> `[<span class="id">a</span>,<span class="id">b</span>] := <span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="kwd">fun</span> <span class="id">of</span> <span class="id">fun_neg</span>]); <span class="id">last</span> <span class="id">exact</span>: <span class="id">fC</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.topology.html#subspaceT_continuous">subspaceT_continuous</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#opp_continuous">opp_continuous</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">zab</span>; <span class="id">rewrite</span> -[- <span class="id">g</span>]/(@<span class="id">GRing.opp</span> <span class="id">_</span> \<span class="id">o</span> <span class="id">g</span>)/= <span class="id">fK</span> ?<span class="id">opprK</span>// <span class="id">oppr_itvcc</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_mono">segment_can_mono</a></span> <span class="id"><a name="a:217">a</a></span> <span class="id"><a name="b:218">b</a></span> <span class="id"><a name="f:219">f</a></span> <span class="id"><a name="g:220">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move</span>=&gt; <span class="id">le_ab</span> <span class="id">fct</span> <span class="id">fK</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span>/=; <span class="id">case</span>: <span class="id">ltrgtP</span> =&gt; <span class="id">fab</span>; [<span class="id">left</span>|<span class="id">right</span>..];<br/>
&nbsp;&nbsp;<span class="id">do</span> ?<span class="kwd">by</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge</a></span>].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>&lt;- /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#itvxxP">itvxxP</a></span>&lt;-; <span class="id">rewrite</span> !<span class="id">lexx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id"><a name="a:221">a</a></span> <span class="id"><a name="b:222">b</a></span> <span class="id"><a name="f:223">f</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">fct</span> <span class="id">y</span>/= /<span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span>[]// <span class="id">x</span>; <span class="kwd">exists</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_le_surjective">segment_continuous_le_surjective</a></span> <span class="id"><a name="a:224">a</a></span> <span class="id"><a name="b:225">b</a></span> <span class="id"><a name="f:226">f</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">move</span>=&gt; <span class="id">le_ab</span> <span class="id">f_ab</span> /(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">min_idPl</span> <span class="id">_</span>)// (<span class="id">max_idPr</span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_ge_surjective">segment_continuous_ge_surjective</a></span> <span class="id"><a name="a:227">a</a></span> <span class="id"><a name="b:228">b</a></span> <span class="id"><a name="f:229">f</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move</span>=&gt; <span class="id">le_ab</span> <span class="id">f_ab</span> /(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">min_idPr</span> <span class="id">_</span>)// (<span class="id">max_idPl</span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_inj_image_segment">continuous_inj_image_segment</a></span> <span class="id"><a name="a:230">a</a></span> <span class="id"><a name="b:231">b</a></span> <span class="id"><a name="f:232">f</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>] = <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fct</span> <span class="id">finj</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segment">mono_surj_image_segment</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_inj_image_segmentP">continuous_inj_image_segmentP</a></span> <span class="id"><a name="a:233">a</a></span> <span class="id"><a name="b:234">b</a></span> <span class="id"><a name="f:235">f</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="y:236">y</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists2</span> <span class="id"><a name="x:237">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp; <span class="id">f</span> <span class="id">x</span> = <span class="id">y</span>) (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.realfun.html#continuous_inj_image_segment">continuous_inj_image_segment</a></span>/[<span class="id">apply</span>]/[<span class="id">apply</span>]/<span class="id"><a href="mathcomp.classical.boolp.html#predeqP">predeqP</a></span> + <span class="id">y</span> =&gt; /(<span class="id">_</span> <span class="id">y</span>) <span class="id">faby</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#equivP">equivP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>); <span class="id">symmetry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id"><a name="a:239">a</a></span> <span class="id"><a name="b:240">b</a></span> <span class="id"><a name="f:241">f</a></span> <span class="id"><a name="g:242">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>; <span class="id">have</span> <span class="id">g_mono</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_mono">segment_can_mono</a></span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">f_mono</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">f_surj</span> := <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">have</span> <span class="id">fIP</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segmentP">mono_surj_image_segmentP</a></span> <span class="id">aLb</span> <span class="id">f_mono</span> <span class="id">f_surj</span>.<br/>
<span class="id">suff</span>: {<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>], {<span class="id">on</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> &amp; <span class="id">f</span>}}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">gK</span> <span class="id">_</span> /<span class="id">fIP</span>[<span class="id">x</span> <span class="id">xab</span> &lt;-]; <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have</span>: {<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">on</span> `[<span class="id">a</span>, <span class="id">b</span>]  &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">g</span>}}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">_</span> /<span class="id">fIP</span> [<span class="id">x</span> <span class="id">xab</span> &lt;-] /<span class="id">fIP</span>[<span class="id">y</span> <span class="id">yab</span> &lt;-]; <span class="id">rewrite</span> !<span class="id">fK</span>// =&gt; <span class="id">_</span> <span class="id">_</span> -&gt;.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#inj_can_sym_in_on">ssrbool.inj_can_sym_in_on</a></span> =&gt; <span class="id">x</span> <span class="id">xab</span>; <span class="id">rewrite</span> ?<span class="id">fK</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#mono_mem_image_segment">mono_mem_image_segment</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_le_can_sym">segment_continuous_le_can_sym</a></span> <span class="id"><a name="a:243">a</a></span> <span class="id"><a name="b:244">b</a></span> <span class="id"><a name="f:245">f</a></span> <span class="id"><a name="g:246">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xfafb</span>).<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">xfafb</span> =&gt; // -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_continuous_ge_can_sym">segment_continuous_ge_can_sym</a></span> <span class="id"><a name="a:247">a</a></span> <span class="id"><a name="b:248">b</a></span> <span class="id"><a name="f:249">f</a></span> <span class="id"><a name="g:250">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> : <span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xfafb</span>).<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrgtP</span> <span class="id">xfafb</span> =&gt; // -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_inc_surj_continuous">segment_inc_surj_continuous</a></span> <span class="id"><a name="a:251">a</a></span> <span class="id"><a name="b:252">b</a></span> <span class="id"><a name="f:253">f</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="x:254">x</a></span> <span class="id"><a name="y:255">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move</span>=&gt; <span class="id">fle</span> <span class="id">f_surj</span>; <span class="id">have</span> [<span class="id">f_inj</span> <span class="id">flt</span>] := (<span class="id">inc_inj_in</span> <span class="id">fle</span>, <span class="id">leW_mono_in</span> <span class="id">fle</span>).<br/>
<span class="id">have</span> [<span class="id">aLb</span>|<span class="id">bLa</span>|] := <span class="id">ltgtP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv1">set_itv1</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace1">continuous_subspace1</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">z</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /=; <span class="id">rewrite</span> <span class="id">in_itv</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/<span class="id">le_trans</span>] /[<span class="id">apply</span>]; <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id">bLa</span>.<br/>
<span class="id">have</span> <span class="id">le_ab</span> : <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> [<span class="id">aab</span> <span class="id">bab</span>] : <span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] /\ <span class="id">b</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">fab</span> : <span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>] = `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>]%<span class="id">classic</span> <span class="kwd">by</span> <span class="id">exact</span>:<span class="id"><a href="mathcomp.analysis.normedtype.html#inc_surj_image_segment">inc_surj_image_segment</a></span>.<br/>
<span class="id">pose</span> <span class="id">g</span> := <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="id">f</span>; <span class="id">have</span> <span class="id">fK</span> : {<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#pinvKV">pinvKV</a></span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">have</span> <span class="id">gK</span> : {<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>} <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">zab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvK">pinvK</a></span>// <span class="id">fab</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">have</span> <span class="id">gle</span> : {<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">g</span> : <span class="id"><a name="x:258">x</a></span> <span class="id"><a name="y:259">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_mono_in">can_mono_in</a></span> (<span class="id">fle</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">gK</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">zfab</span>; <span class="id">have</span> {<span class="id">zfab</span>} : `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>]%<span class="id">classic</span> <span class="id">z</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fab</span> =&gt; -[<span class="id">x</span> <span class="id">xab</span> &lt;-]; <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">glt</span> := <span class="id">leW_mono_in</span> <span class="id">gle</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">x</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">xabcc</span> : <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">move</span>: <span class="id">xab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">have</span> <span class="id">fxab</span> : <span class="id">f</span> <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= !<span class="id">fle</span>.<br/>
<span class="id">have</span> := <span class="id">xabcc</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> //= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> [<span class="id">ax</span> <span class="id">xb</span>].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>; <span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">e</span>%:<span class="id">num</span> / 2%:<span class="id">R</span>))//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span>// <span class="id">ltr_pmulr</span>// <span class="id">ltr1n</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distlC</span>; <span class="id">near</span>: <span class="id">y</span>.<br/>
<span class="id">pose</span> <span class="id">u</span> := <span class="id">minr</span> (<span class="id">f</span> <span class="id">x</span> + <span class="id">e</span>%:<span class="id">num</span> / 2) (<span class="id">f</span> <span class="id">b</span>).<br/>
<span class="id">pose</span> <span class="id">l</span> := <span class="id">maxr</span> (<span class="id">f</span> <span class="id">x</span> - <span class="id">e</span>%:<span class="id">num</span> / 2) (<span class="id">f</span> <span class="id">a</span>).<br/>
<span class="id">have</span> <span class="id">ufab</span> : <span class="id">u</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span> /= <span class="id">le_minl</span> ?<span class="id">le_minr</span> <span class="id">lexx</span> ?<span class="id">fle</span> // <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_paddr</span> // <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">lfab</span> : <span class="id">l</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span>/= <span class="id">le_maxl</span> ?<span class="id">le_maxr</span> <span class="id">lexx</span> ?<span class="id">fle</span>// <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_subl_addr</span> <span class="id">ler_paddr</span>// <span class="id">fle</span> // <span class="id">lexx</span>.<br/>
<span class="id">have</span> <span class="id">guab</span> : <span class="id">g</span> <span class="id">u</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">have</span> := <span class="id">ufab</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>; <span class="id">rewrite</span> /= -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span> =&gt; <span class="id">_</span>; <span class="id">rewrite</span> /= -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">glab</span> : <span class="id">g</span> <span class="id">l</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">in_itv</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">have</span> := <span class="id">lfab</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>; <span class="id">rewrite</span> -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span> =&gt; <span class="id">_</span>; <span class="id">rewrite</span> -<span class="id">gle</span> // ?<span class="id">fK</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">faltu</span> : <span class="id">f</span> <span class="id">a</span> &lt; <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">u</span> <span class="id">comparable_lt_minr</span> ?<span class="id">real_comparable</span> ?<span class="id">num_real</span>// <span class="id">flt</span>// <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) ?<span class="id">fle</span>// <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> <span class="id">lltfb</span> : <span class="id">l</span> &lt; <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">u</span> <span class="id">comparable_lt_maxl</span> ?<span class="id">real_comparable</span> ?<span class="id">num_real</span>// <span class="id">flt</span>// <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) ?<span class="id">fle</span>// <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; // <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span>; <span class="id">near_simpl</span>.<br/>
<span class="id">have</span> <span class="id">Fnbhs</span> : <span class="id"><a href="mathcomp.analysis.topology.html#Filter">Filter</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">x</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_filter">nbhs_filter</a></span>.<br/>
<span class="id">have</span> := <span class="id">ax</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[/<span class="id">eqP</span>|] {}<span class="id">ax</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">y</span> =&gt; /[<span class="id">dup</span>] <span class="id">yab</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ay</span> <span class="id">yb</span>]; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">a</span>)) ?<span class="id">fle</span>// <span class="id">ler_subl_addr</span> <span class="id">ax</span> <span class="id">ler_paddr</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">suff</span> : <span class="id">f</span> <span class="id">y</span> &lt; <span class="id">u</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minr</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[-&gt;].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -?[<span class="id">f</span> <span class="id">y</span> &lt; <span class="id">_</span>]<span class="id">glt</span>// ?<span class="id">fK</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">near_simpl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#open_lt">open_lt</a></span>; <span class="id">rewrite</span> /= -<span class="id">flt</span> ?<span class="id">gK</span>// -<span class="id">ax</span>.<br/>
<span class="id">have</span> := <span class="id">xb</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[/<span class="id">eqP</span> {}<span class="id">xb</span> {<span class="id">ax</span>}|{}<span class="id">xb</span>].<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">y</span> =&gt; /[<span class="id">dup</span>] <span class="id">yab</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ay</span> <span class="id">yb</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">b</span>)) ?<span class="id">fle</span>// <span class="id">xb</span> <span class="id">ler_paddr</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">suff</span> : <span class="id">l</span> &lt; <span class="id">f</span> <span class="id">y</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_maxl</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[-&gt;].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -?[<span class="id">_</span> &lt; <span class="id">f</span> <span class="id">y</span>]<span class="id">glt</span>// ?<span class="id">fK</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">near_simpl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#open_gt">open_gt</a></span>; <span class="id">rewrite</span> /= -<span class="id">flt</span>// <span class="id">gK</span>// <span class="id">xb</span>.<br/>
<span class="id">have</span> <span class="id">xoab</span> : <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /=; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id">suff</span>: <span class="id">l</span> &lt;= <span class="id">f</span> <span class="id">y</span> &lt;= <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le_maxl</span> <span class="id">le_minr</span> -!<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbA">andbA</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#and4P">and4P</a></span>[-&gt; <span class="id">_</span> -&gt;].<br/>
<span class="id">have</span> ? : <span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>; <span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>.<br/>
<span class="id">have</span> <span class="id">fyab</span> : <span class="id">f</span> <span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= !<span class="id">fle</span>// ?<span class="id">ltW</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">l</span> &lt;= <span class="id">_</span>]<span class="id">gle</span> -?[<span class="id">_</span> &lt;= <span class="id">u</span>]<span class="id">gle</span>// ?<span class="id">fK</span> //.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>; <span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>; <span class="id">rewrite</span> <span class="id">in_itv</span> /=.<br/>
<span class="id">rewrite</span> -[<span class="id">x</span>]<span class="id">fK</span> // !<span class="id">glt</span>//= <span class="id">lt_minr</span> <span class="id">lt_maxl</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_spaddr</span> //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#and3P">and3P</a></span>; <span class="id">split</span>; <span class="id">rewrite</span> // <span class="id">flt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_dec_surj_continuous">segment_dec_surj_continuous</a></span> <span class="id"><a name="a:262">a</a></span> <span class="id"><a name="b:263">b</a></span> <span class="id"><a name="f:264">f</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id"><a name="x:266">x</a></span> <span class="id"><a name="y:265">y</a></span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">move</span>=&gt; <span class="id">fge</span> <span class="id">f_surj</span>; <span class="id">suff</span>: {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> (- <span class="id">f</span>)}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">contNf</span> <span class="id">x</span> <span class="id">xab</span>; <span class="id">rewrite</span> -[<span class="id">f</span>]<span class="id">opprK</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#opp_continuous">opp_continuous</a></span>/<span class="id">contNf</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xab</span> <span class="id">yab</span>; <span class="id">rewrite</span> <span class="id">ler_opp2</span> <span class="id">fge</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> /=; <span class="id">rewrite</span> -<span class="id">oppr_itvcc</span> =&gt; /<span class="id">f_surj</span>[<span class="id">x</span> ? /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#canLR">canLR</a></span> <span class="id">opprK</span>)&lt;-]; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_mono_surj_continuous">segment_mono_surj_continuous</a></span> <span class="id"><a name="a:269">a</a></span> <span class="id"><a name="b:270">b</a></span> <span class="id"><a name="f:271">f</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> `[<span class="id">a</span>, <span class="id">b</span>] (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; -[<span class="id">fle</span>|<span class="id">fge</span>] <span class="id">f_surj</span> <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /= <span class="id">xab</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">leab</span> : <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fafb</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fle</span> // ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span> =&gt; //; <span class="id">case</span>: <span class="id">ltrP</span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
<span class="id">have</span> <span class="id">leab</span> : <span class="id">a</span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">have</span> <span class="id">fafb</span> : <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fge</span> // ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous</a></span> =&gt; //; <span class="id">case</span>: <span class="id">ltrP</span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_le_continuous">segment_can_le_continuous</a></span> <span class="id"><a name="a:272">a</a></span> <span class="id"><a name="b:273">b</a></span> <span class="id"><a name="f:274">f</a></span> <span class="id"><a name="g:275">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[(<span class="id">f</span> <span class="id">a</span>), (<span class="id">f</span> <span class="id">b</span>)], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">fK</span> <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /= <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">faLfb</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span>.<br/>
<span class="id">rewrite</span> !<span class="id">fK</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>//=; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#mem_inc_segment">mem_inc_segment</a></span>/<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_inj_le">segment_continuous_inj_le</a></span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_ge_continuous">segment_can_ge_continuous</a></span> <span class="id"><a name="a:276">a</a></span> <span class="id"><a name="b:277">b</a></span> <span class="id"><a name="f:278">f</a></span> <span class="id"><a name="g:279">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[(<span class="id">f</span> <span class="id">b</span>), (<span class="id">f</span> <span class="id">a</span>)], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">ctf</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">fK</span> <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /= <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">fbLfa</span> : <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge</a></span>.<br/>
<span class="id">rewrite</span> !<span class="id">fK</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span>//=; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#mem_dec_segment">mem_dec_segment</a></span>/<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_inj_ge">segment_continuous_inj_ge</a></span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="segment_can_continuous">segment_can_continuous</a></span> <span class="id"><a name="a:280">a</a></span> <span class="id"><a name="b:281">b</a></span> <span class="id"><a name="f:282">f</a></span> <span class="id"><a name="g:283">g</a></span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move</span>=&gt; <span class="id">aLb</span> <span class="id">crf</span> <span class="id">fK</span> <span class="id">x</span>; <span class="id">case</span>: <span class="id">lerP</span> =&gt; // <span class="id">_</span>;<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge_continuous">segment_can_ge_continuous</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le_continuous">segment_can_le_continuous</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id"><a name="f:284">f</a></span> <span class="id"><a name="g:285">g</a></span> (<span class="id"><a name="x:286">x</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt; {<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>} /\ {<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="id">move</span>=&gt; <span class="id">fK</span> <span class="id">fct</span>; <span class="id">near</span> (0 : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>)^'+ =&gt; <span class="id">e</span>; <span class="id">have</span> <span class="id">e_gt0</span> : 0 &lt; <span class="id">e</span> <span class="kwd">by</span> [].<br/>
<span class="id">have</span> <span class="id">xBeLxDe</span> : <span class="id">x</span> - <span class="id">e</span> &lt;= <span class="id">x</span> + <span class="id">e</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_add2l</span> <span class="id">gt0_cp</span>.<br/>
<span class="id">have</span> <span class="id">fcte</span> : {<span class="kwd">in</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>], <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_in_segment">at_right_in_segment</a></span>.<br/>
<span class="id">have</span> <span class="id">fwcte</span> : {<span class="id">within</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> =&gt; <span class="id">y</span> <span class="id">yI</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fcte</span>; <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>: <span class="id">yI</span>.<br/>
<span class="id">have</span> <span class="id">fKe</span> : {<span class="kwd">in</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>], <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>}<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_in_segment">at_right_in_segment</a></span>.<br/>
<span class="id">have</span> <span class="id">nearfx</span> : \<span class="kwd">forall</span> <span class="id"><a name="y:287">y</a></span> \<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id">y</span> \<span class="kwd">in</span> <span class="id">f</span> @`](<span class="id">x</span> - <span class="id">e</span>), (<span class="id">x</span> + <span class="id">e</span>)[.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_mem_image_itvoo">mono_mem_image_itvoo</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= -<span class="id">ltr_distlC</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>); <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_in_segment">at_right_in_segment</a></span>.<br/>
<span class="id">have</span> <span class="id">fxI</span> : <span class="id">f</span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id">f</span> @`]<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>[ <span class="kwd">by</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> <span class="id">nearfx</span>).<br/>
<span class="id">split</span>; <span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> (<span class="id">x</span> - <span class="id">e</span>) (<span class="id">x</span> + <span class="id">e</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>; <span class="id">near</span>: <span class="id">y</span>.<br/>
<span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">nearfx</span>); <span class="id">near_simpl</span>; <span class="id">near</span>=&gt; <span class="id">y</span> =&gt; <span class="id">yfe</span>.<br/>
<span class="id">have</span> : {<span class="id">within</span> <span class="id">f</span> @`]<span class="id">x</span> - <span class="id">e</span>, (<span class="id">x</span> + <span class="id">e</span>)[, <span class="id">continuous</span> <span class="id">g</span>}.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span>; <span class="id">last</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_continuous">segment_can_continuous</a></span> <span class="id">_</span> <span class="id">fwcte</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="near_can_continuous">near_can_continuous</a></span> <span class="id"><a name="f:288">f</a></span> <span class="id"><a name="g:289">g</a></span> (<span class="id"><a name="x:290">x</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt; {<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; {<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fK</span> <span class="id">fct</span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="near_continuous_can_sym">near_continuous_can_sym</a></span> <span class="id"><a name="f:291">f</a></span> <span class="id"><a name="g:292">g</a></span> (<span class="id"><a name="x:293">x</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) :<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; {<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt; {<span class="id">near</span> <span class="id">f</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fct</span> <span class="id">fK</span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions">real_inverse_functions</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="real_inverse_function_instances">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="real_inverse_function_instances.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exprn_continuous">exprn_continuous</a></span> <span class="id"><a name="n:295">n</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">GRing.exp</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> ^~ <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">elim</span>: <span class="id">n</span>=&gt; [|<span class="id">n</span> /(<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">cvg_id</a></span>) <span class="id">ih</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cst_continuous">cst_continuous</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">exprS</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">exprS</span>; <span class="id">exact</span>: <span class="id">ih</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sqr_continuous">sqr_continuous</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">exprz</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> ^~ 2).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="id">exact</span>: (@<span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span> 2%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sqrt_continuous">sqrt_continuous</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">Num.sqrt</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">case</span>: (<span class="id">ltrgtP</span> <span class="id">x</span> 0) =&gt; [<span class="id">xlt0</span> | <span class="id">xgt0</span> | -&gt;].<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#near_cst_continuous">near_cst_continuous</a></span> 0).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ltr0_sqrtr</span>//; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_lt">cvgr_lt</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">I</span> <span class="id"><a name="b:296">b</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> := [<span class="id">set</span>` `]0 ^+ 2, <span class="id">b</span> ^+ 2[].<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">main</span> <span class="id">b</span> : 0 &lt;= <span class="id">b</span> -&gt; {<span class="kwd">in</span> <span class="id">I</span> <span class="id">b</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id">Num.sqrt</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>)}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">M</span>; <span class="id">apply</span>: (<span class="id">main</span> <span class="id">M</span>); <span class="id">rewrite</span> // /<span class="id">I</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= <span class="id">expr0n</span> <span class="id">xgt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltr_sqrt</span> ?<span class="id">exprn_gt0</span>// <span class="id">sqrtr_sqr</span> <span class="id">gtr0_norm</span>/=.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">b0</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le_continuous">segment_can_le_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id">GRing.exp</span> <span class="id">_</span>^~ <span class="id">_</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">y0b</span>; <span class="id">rewrite</span> <span class="id">sqrtr_sqr</span> <span class="id">ger0_norm</span>// (<span class="id">itvP</span> <span class="id">y0b</span>).<br/>
- <span class="id">rewrite</span> <span class="id">sqrtr0</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr0Pnorm_lt">cvgr0Pnorm_lt</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">ylt0</span>|<span class="id">yge0</span>] := <span class="id">ltrP</span> <span class="id">y</span> 0; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr0_sqrtr</span> ?<span class="id">normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ger0_norm</span> ?<span class="id">sqrtr_ge0</span>//; <span class="id">have</span>: `|<span class="id">y</span>| &lt; <span class="id">e</span>%:<span class="id">num</span> ^+ 2 <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltr_sqrt</span>// <span class="id">ger0_norm</span>// <span class="id">sqrtr_sqr</span> <span class="id">ger0_norm</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="is_derive_inverse">is_derive_inverse</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="is_derive_inverse.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_derive1_caratheodory">is_derive1_caratheodory</a></span> (<span class="id"><a name="f:300">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id"><a name="x:301">x</a></span> <span class="id"><a name="a:302">a</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> <span class="id">a</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g:303">g</a></span>, [/\ <span class="kwd">forall</span> <span class="id"><a name="z:304">z</a></span>, <span class="id">f</span> <span class="id">z</span> - <span class="id">f</span> <span class="id">x</span> = <span class="id">g</span> <span class="id">z</span> * (<span class="id">z</span> - <span class="id">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>} &amp; <span class="id">g</span> <span class="id">x</span> = <span class="id">a</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">split</span> =&gt; [<span class="id">Hd</span>|[<span class="id">g</span> [<span class="id">fxE</span> <span class="id">Cg</span> <span class="id">gxE</span>]]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="z:305">z</a></span> =&gt; <span class="kwd">if</span> <span class="id">z</span> == <span class="id">x</span> <span class="kwd">then</span> <span class="id">a</span> <span class="kwd">else</span> (<span class="id">f</span>(<span class="id">z</span>) - <span class="id">f</span>(<span class="id">x</span>)) / (<span class="id">z</span> - <span class="id">x</span>)); <span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">case</span>: <span class="id">eqP</span> =&gt; [-&gt;|/<span class="id">eqP</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">subrr</span> <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subr_eq0</span> =&gt; /<span class="id">divfK</span>-&gt;.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuous_withinNshiftx">continuous_withinNshiftx</a></span>; <span class="id">rewrite</span> <span class="id">eqxx</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">g1</span> <span class="id"><a name="h:307">h</a></span> := (<span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">h</span>%:<span class="id">A</span> - <span class="id">f</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> : <span class="id">g1</span> @ 0^' --&gt; <span class="id">a</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">Hd</span> =&gt; <span class="id">H1</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>; <span class="id">rewrite</span> /<span class="id">g1</span> !<span class="id"><a href="mathcomp.classical.functions.html#fctE">fctE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrK</span> <span class="id">mulrC</span> /= [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">subr_eq0</span> <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">i</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> /= <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>; <span class="id">near</span>=&gt; <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
<span class="id">suff</span> <span class="id">Hf</span> : <span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">h</span>%:<span class="id">A</span> - <span class="id">f</span> <span class="id">x</span>) @[<span class="id"><a name="h:308">h</a></span> --&gt; 0^'] --&gt; <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> : '<span class="id">D_1</span> <span class="id">f</span> <span class="id">x</span> = <span class="id">a</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">F1</span> <span class="kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> :  (<span class="id">g</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">y</span> @[<span class="id"><a name="y:309">y</a></span> --&gt; 0^'] --&gt; <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">gxE</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuous_withinNshiftx">continuous_withinNshiftx</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>.<br/>
<span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
<span class="id">rewrite</span> /= <span class="id">fxE</span> /= <span class="id">addrK</span> [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
<span class="id">suff</span> <span class="id">yNZ</span> : <span class="id">y</span> != 0 <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">mulrC</span> <span class="id">mulfK</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> /= <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>; <span class="id">near</span>=&gt; <span class="id">x1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_derive_0_is_cst">is_derive_0_is_cst</a></span> (<span class="id"><a name="f:310">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id"><a name="x:311">x</a></span> <span class="id"><a name="y:312">y</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:313">x</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> 0) -&gt; <span class="id">f</span> <span class="id">x</span> = <span class="id">f</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">move</span>=&gt; <span class="id">Hd</span>.<br/>
<span class="id">wlog</span> <span class="id">xLy</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">H</span>; <span class="id">case</span>: (<span class="id">leP</span> <span class="id">x</span> <span class="id">y</span>) =&gt; [/<span class="id">H</span> |/<span class="id">ltW</span> /<span class="id">H</span>].<br/>
<span class="id">rewrite</span> -(<span class="id">subKr</span> (<span class="id">f</span> <span class="id">y</span>) (<span class="id">f</span> <span class="id">x</span>)).<br/>
<span class="id">have</span> [| <span class="id">_</span> <span class="id">_</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#MVT_segment">MVT_segment</a></span> <span class="id">xLy</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0r</span> =&gt; -&gt;; <span class="id">rewrite</span> <span class="id">subr0</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>=&gt; <span class="id">r</span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_continuous">differentiable_continuous</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_derive1_comp">is_derive1_comp</a></span> (<span class="id"><a name="f:314">f</a></span> <span class="id"><a name="g:315">g</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id"><a name="x:316">x</a></span> <span class="id"><a name="a:317">a</a></span> <span class="id"><a name="b:318">b</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id">g</span> <span class="id">x</span>) 1 <span class="id">f</span> <span class="id">a</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">g</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 (<span class="id">f</span> \<span class="id">o</span> <span class="id">g</span>) (<span class="id">a</span> * <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">move</span>=&gt; [<span class="id">fgxv</span> &lt;-{<span class="id">a</span>}] [<span class="id">gv</span> &lt;-{<span class="id">b</span>}]; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> \<span class="id">o</span> <span class="id">g</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_comp">differentiable_comp</a></span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span> <span class="kwd">in</span> <span class="id">fgxv</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#derive1_comp">derive1_comp</a></span> <span class="id">gv</span> <span class="id">fgxv</span>) 2!<span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_deriveV">is_deriveV</a></span> (<span class="id"><a name="f:319">f</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id"><a name="x:320">x</a></span> <span class="id"><a name="t:321">t</a></span> <span class="id"><a name="v:322">v</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">t</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="kwd">fun</span> <span class="id"><a name="y:323">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>)^-1) (- (<span class="id">f</span> <span class="id">x</span>) ^- 2 *: <span class="id">t</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">move</span>=&gt; <span class="id">fxNZ</span> <span class="id">Df</span>.<br/>
<span class="id">constructor</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableV">derivableV</a></span> =&gt; //; <span class="id">case</span>: <span class="id">Df</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveV">deriveV</a></span> //; <span class="id">case</span>: <span class="id">Df</span> =&gt; <span class="id">_</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_derive_inverse">is_derive_inverse</a></span> (<span class="id"><a name="f:324">f</a></span> <span class="id"><a name="g:325">g</a></span> : <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id"><a name="l:326">l</a></span> <span class="id"><a name="x:327">x</a></span> :<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>}  -&gt;<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>}  -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> <span class="id">l</span> -&gt; <span class="id">l</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id">f</span> <span class="id">x</span>) 1 <span class="id">g</span> <span class="id">l</span>^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">move</span>=&gt; <span class="id">fgK</span> <span class="id">fC</span> <span class="id">fD</span> <span class="id">lNZ</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.realfun.html#is_derive1_caratheodory">is_derive1_caratheodory</a></span> [<span class="id">h</span> [<span class="id">fE</span> <span class="id">hC</span> <span class="id">hxE</span>]] := <span class="id">fD</span>.<br/>
<span class="comment">(*&nbsp;There&nbsp;should&nbsp;be&nbsp;something&nbsp;simpler&nbsp;*)</span><br/>
<span class="id">have</span> <span class="id">gfxE</span> : <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) = <span class="id">x</span> <span class="kwd">by</span> <span class="id">have</span> [<span class="id">d</span> <span class="id">Hd</span>]:= <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ex">nbhs_ex</a></span> <span class="id">fgK</span>; <span class="id">apply</span>: <span class="id">Hd</span>.<br/>
<span class="id">pose</span> <span class="id">g1</span> <span class="id"><a name="y:328">y</a></span> := <span class="kwd">if</span> <span class="id">y</span> == <span class="id">f</span> <span class="id">x</span> <span class="kwd">then</span> (<span class="id">h</span> (<span class="id">g</span> <span class="id">y</span>))^-1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">g</span> <span class="id">y</span> - <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>)) / (<span class="id">y</span> - <span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.realfun.html#is_derive1_caratheodory">is_derive1_caratheodory</a></span>.<br/>
<span class="kwd">exists</span> <span class="id">g1</span>; <span class="id">split</span>; <span class="id">first</span> 2 <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">g1</span> <span class="id">eqxx</span> <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">rewrite</span> /<span class="id">g1</span>; <span class="id">case</span>: <span class="id">eqP</span> =&gt; [-&gt;|/<span class="id">eqP</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">subrr</span> <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subr_eq0</span> =&gt; /<span class="id">divfK</span>.<br/>
<span class="id">have</span> <span class="id">F1</span> : (<span class="id">h</span> (<span class="id">g</span> <span class="id">x</span>))^-1 @[<span class="id"><a name="x:329">x</a></span> --&gt; <span class="id">f</span> <span class="id">x</span>] --&gt; <span class="id">g1</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g1</span> <span class="id">eqxx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousV">continuousV</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gfxE</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuous">near_can_continuous</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_sub0">cvg_sub0</a></span> <span class="id">F1</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> =&gt; <span class="id">eps</span> <span class="id">eps_gt0</span> /=; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span> /=.<br/>
<span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> !<span class="id"><a href="mathcomp.classical.functions.html#fctE">fctE</a></span>.<br/>
<span class="id">have</span> <span class="id">fgyE</span> : <span class="id">f</span> (<span class="id">g</span> <span class="id">y</span>) = <span class="id">y</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#near_continuous_can_sym">near_continuous_can_sym</a></span>.<br/>
<span class="id">rewrite</span> /<span class="id">g1</span>; <span class="id">case</span>: <span class="id">eqP</span> =&gt; [<span class="id">_</span>|/<span class="id">eqP</span> <span class="id">x1Dfx</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">have</span> -&gt; : <span class="id">y</span> - <span class="id">f</span> <span class="id">x</span>  = <span class="id">h</span> (<span class="id">g</span> <span class="id">y</span>) * (<span class="id">g</span> <span class="id">y</span> - <span class="id">x</span>) <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fE</span> <span class="id">fgyE</span>.<br/>
<span class="id">rewrite</span> <span class="id">gfxE</span> <span class="id">invfM</span> <span class="id">mulrC</span> <span class="id">divfK</span> ?<span class="id">subrr</span> ?<span class="id">normr0</span> // <span class="id">subr_eq0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> <span class="id">x1Dfx</span> =&gt; /<span class="id">eqP</span>&lt;-; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse">is_derive_inverse</a></span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; (<span class="id">_</span> <span class="id">_</span>)^-1) <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;(<span class="id">eapply</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_deriveV">is_deriveV</a></span>; <span class="id">first</span> <span class="kwd">by</span> []) : <span class="id">typeclass_instances</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
