
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.realfun</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.realfun" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.realfun</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrint</span> <span class="id">ssrnum</span> <span class="id">finmap</span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id">matrix</span> <span class="id">interval</span> <span class="id">zmodp</span> <span class="id">vector</span> <span class="id">fieldext</span> <span class="id">falgebra</span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.derive.html">derive</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id">structures</span>.<br/>
<br/>
<div class="ssrdoc markdown">
# Real-valued functions over reals                                         
                                                                           
This file provides properties of standard real-valued functions over real  
numbers (e.g., the continuity of the inverse of a continuous function).    
                                                                           
```                                                                        
    nondecreasing_fun f == the function f is non-decreasing                
    nonincreasing_fun f == the function f is non-increasing                
       increasing_fun f == the function f is (strictly) increasing         
       decreasing_fun f == the function f is (strictly) decreasing         
                                                                           
  derivable_oo_continuous_bnd f x y == f is derivable on `]x, y[ and       
                                       continuous up to the boundary       
```                                                                        
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="vernacular">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id"><a name=":::'nondecreasing_fun'_x">"'nondecreasing_fun' f"</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="n:1">n</a></span> <span class="id"><a name="m:2">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:1">n</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:2">m</a></span>)<span class="id">%O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:3">n</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:4">m</a></span>)<span class="id">%O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<span class="vernacular">Notation</span> <span class="id"><a name=":::'nonincreasing_fun'_x">"'nonincreasing_fun' f"</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="n:5">n</a></span> <span class="id"><a name="m:6">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:5">n</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:6">m</a></span>)<span class="id">%O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:7">n</a></span> <span class="id">&gt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:8">m</a></span>)<span class="id">%O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<span class="vernacular">Notation</span> <span class="id"><a name=":::'increasing_fun'_x">"'increasing_fun' f"</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">{mono</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="n:9">n</a></span> <span class="id"><a name="m:10">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:9">n</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:10">m</a></span>)<span class="id">%O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:11">n</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:12">m</a></span>)<span class="id">%O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<span class="vernacular">Notation</span> <span class="id"><a name=":::'decreasing_fun'_x">"'decreasing_fun' f"</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">{mono</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="n:13">n</a></span> <span class="id"><a name="m:14">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:13">n</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:14">m</a></span>)<span class="id">%O</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:15">n</a></span> <span class="id">&gt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:16">m</a></span>)<span class="id">%O}</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">10</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="fun_cvg">fun_cvg</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="fun_cvg.fun_cvg_realFieldType">fun_cvg_realFieldType</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id">realFieldType}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="cvg_addrl">cvg_addrl</a></span> (<span class="id"><a name="M:18">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:18">M</a></span> <span class="id">+</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:19">r</a></span> <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">move=&gt;</span> <span class="id">P</span> <span class="id">[r</span> <span class="id">[rreal</span> <span class="id">rP]];</span> <span class="gallina-kwd">exists</span> (<span class="id">r</span> <span class="id">-</span> <span class="id">M</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">realB//</span> <span class="id">num_real</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addl</span> <span class="id">=&gt;</span> <span class="id">/rP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="cvg_addrr">cvg_addrr</a></span> (<span class="id"><a name="M:20">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#r:21">r</a></span> <span class="id">+</span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:20">M</a></span>) <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:22">X</a></span> <span class="id">@</span> <span class="id">_]funext</span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">addrC;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrl">cvg_addrl</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="cvg_centerr">cvg_centerr</a></span> (<span class="id"><a name="M:23">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span class="id"><a name="T:24">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span class="id"><a name="f:25">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:24">T</a></span>) (<span class="id"><a name="l:26">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:24">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#f:25">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:27">n</a></span> <span class="id">-</span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:23">M</a></span>) <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:26">l</a></span>) <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:25">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:28">r</a></span> <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:26">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE;</a></span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">cD</span> <span class="id">:</span> <span class="id">f</span> <span class="id">l</span> <span class="id">/</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:29">r</a></span> <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:30">n</a></span> <span class="id">+</span> <span class="id">M</span>) <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/cD</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:31">X</a></span> <span class="id">@</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id">l]funext</span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">addrK</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="cvg_shiftr">cvg_shiftr</a></span> (<span class="id"><a name="M:32">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span>) (<span class="id"><a name="T:33">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span class="id"><a name="f:34">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:33">T</a></span>) (<span class="id"><a name="l:35">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#T:33">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.realfun.html#f:34">f</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:36">n</a></span> <span class="id">+</span> <span class="id"><a href="mathcomp.analysis.realfun.html#M:32">M</a></span>) <span class="id">@[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:35">l</a></span>) <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:34">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:37">r</a></span> <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:35">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE;</a></span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#cvg_addrr">cvg_addrr</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:38">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#cvg_centerr">cvg_centerr</a></span> <span class="id">M</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">subrK;</span> <span class="gallina-kwd">exists</span> <span class="id">M</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realFieldType">fun_cvg_realFieldType</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="fun_cvg.fun_cvg_realType">fun_cvg_realType</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nondecreasing_cvgr">nondecreasing_cvgr</a></span> (<span class="id"><a name="f:40">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:40">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:40">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:40">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:41">r</a></span> <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:40">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move=&gt;</span> <span class="id">ndf</span> <span class="id">ubf;</span> <span class="id">set</span> <span class="id">M</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>).<br/>
<span class="id">have</span> <span class="id">supf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> <span class="id">0</span>)<span class="id">,</span> <span class="id">0</span>.<br/>
<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
<span class="id">have</span> <span class="id">[p</span> <span class="id">Mefp]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="p:42">p,</a></span> <span class="id">M</span> <span class="id">-</span> <span class="id">e%:num</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:42">p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[_</span> <span class="id">-[p</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">/ltW</span> <span class="id">efp]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#gt0">gt0</a></span> <span class="id">e</span>) <span class="id">supf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">p;</span> <span class="id">rewrite</span> <span class="id">efp</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">pn</span> <span class="id">:</span> <span class="id">p</span> <span class="id">&lt;=</span> <span class="id">n</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_pinfty_ge">nbhs_pinfty_ge;</a></span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distlC</span> (<span class="id">le_trans</span> <span class="id">Mefp</span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))<span class="id">//=</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">M</span>) <span class="id">?ler_addl//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">/ubP</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> <span class="id">supf;</span> <span class="id">apply;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nonincreasing_at_right_cvgr">nonincreasing_at_right_cvgr</a></span> (<span class="id"><a name="f:43">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) <span class="id"><a name="a:44">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:43">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:43">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:43">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:45">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:44">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::classical_set_scope:x_'^''+'">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:43">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move=&gt;</span> <span class="id">lef</span> <span class="id">ubf;</span> <span class="id">set</span> <span class="id">M</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">supf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:46">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:46">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> (<span class="id">f</span> (<span class="id">a</span> <span class="id">+</span> <span class="id">1</span>))<span class="id">,</span> (<span class="id">a</span> <span class="id">+</span> <span class="id">1</span>) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">ltr_addl</span> <span class="id">ltr01</span>.<br/>
<span class="id">apply/cvgrPdist_le</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[e]</span>.<br/>
<span class="id">have</span> <span class="id">[p</span> <span class="id">ap</span> <span class="id">Mefp]</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="p:47">p,</a></span> <span class="id">a</span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:47">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id">M</span> <span class="id">-</span> <span class="id">e%:num</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#p:48">p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[_</span> <span class="id">-[p</span> <span class="id">ap]</span> <span class="id">&lt;-</span> <span class="id">/ltW</span> <span class="id">efp]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#gt0">gt0</a></span> <span class="id">e</span>) <span class="id">supf</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">p;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">efp</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">ap;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distl;</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ler_subl_addr</span> (<span class="id">le_trans</span> <span class="id">Mefp</span>)<span class="id">//</span> <span class="id">lef//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT;</a></span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_le">nbhs_right_le</a></span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">f</span> <span class="id">n</span> <span class="id">&lt;=</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">le_trans;</span> <span class="id">rewrite</span> <span class="id">ler_subl_addr</span> <span class="id">ler_addl</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span> (<span class="id"><a name="f:49">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType.R">R</a></span>) <span class="id"><a name="a:50">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:51">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:50">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::classical_set_scope:x_'^''+'">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:49">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">move=&gt;</span> <span class="id">nif</span> <span class="id">hlb</span>.<br/>
<span class="id">have</span> <span class="id">ndNf</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#::ring_scope:'\-'_x">\-</a></span> <span class="id">f</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">}</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">ra</span> <span class="id">y</span> <span class="id">/nif;</span> <span class="id">rewrite</span> <span class="id">ler_opp2;</span> <span class="id">exact</span>.<br/>
<span class="id">have</span> <span class="id">hub</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> (<span class="id">\-</span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#x:52">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:52">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/has_ub_lbN;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:55">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:53">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:53">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[]</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">opprK</span>.<br/>
<span class="id">have</span> <span class="id">/cvgN</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvgr">nonincreasing_at_right_cvgr</a></span> <span class="id">ndNf</span> <span class="id">hub</span>.<br/>
<span class="id">rewrite</span> <span class="id">opprK</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:59">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:57">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:57">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[]</span>)<span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/inf;</span> <span class="id">congr</span> (<span class="id">-</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp/=;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_realType">fun_cvg_realType</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="fun_cvg.fun_cvg_ereal">fun_cvg_ereal</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nondecreasing_cvge">nondecreasing_cvge</a></span> (<span class="id"><a name="f:62">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:62">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:62">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:63">r</a></span> <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo%R]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:62">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move=&gt;</span> <span class="id">ndf;</span> <span class="id">set</span> <span class="id">S</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f;</span> <span class="id">set</span> <span class="id">l</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span>.<br/>
<span class="id">have</span> <span class="id">[Spoo|Spoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[N</span> <span class="id">Nf]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="N:64">N,</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="n:65">n,</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:65">n</a></span> <span class="id">&gt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#N:64">N</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:65">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">Spoo</span> <span class="id">=&gt;</span> <span class="id">N</span> <span class="id">_</span> <span class="id">uNoo;</span> <span class="gallina-kwd">exists</span> <span class="id">N</span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">Nn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Nn;</span> <span class="id">rewrite</span> <span class="id">uNoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/l</span> <span class="id">/ereal_sup;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#supremum_pinfty">supremum_pinfty</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#cvg_shiftr">cvg_shiftr</a></span> <span class="id">`|N|</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">/ltW</span> <span class="id">Nx;</span> <span class="id">rewrite</span> <span class="id">Nf//</span> <span class="id">ler_paddr</span>.<br/>
<span class="id">have</span> <span class="id">[lpoo|lpoo]</span> <span class="id">:=</span> <span class="id">eqVneq</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lpoo;</span> <span class="id">apply/cvgeyPge</span> <span class="id">=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ereal_sup_gt[_</span> <span class="id">[n</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">Mun]</span> <span class="id">:</span> <span class="id">M%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id">l</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">lpoo//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">n;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">/=</span> <span class="id">nm;</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">Mun</span>))<span class="id">//</span> <span class="id">ndf//</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">[fnoo|fnoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/l</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">S</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span> <span class="id">fnoo;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[n</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">/[!fnoo]//|_</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/S</span> <span class="id">fnoo;</span> <span class="gallina-kwd">exists</span> <span class="id">0%R</span>.<br/>
<span class="id">have</span> <span class="id">[/ereal_sup_ninfty</span> <span class="id">lnoo|lnoo]</span> <span class="id">:=</span> <span class="id">eqVneq</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">exfalso;</span> <span class="id">apply/fnoo/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> (<span class="id">lnoo</span> (<span class="id">f</span> <span class="id">n</span>))<span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">l_fin_num</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">lpoo</span> <span class="id">lnoo</span>.<br/>
<span class="id">set</span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span class="id"><a name="n:66">n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:66">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo];</a></span> <span class="id">set</span> <span class="id">B</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span class="id"><a name="n:67">n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:67">n</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>.<br/>
<span class="id">have</span> <span class="id">f_fin_num</span> <span class="id">n</span> <span class="id">:</span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:72">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:72">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">Bn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">Bn/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> <span class="id">Spoo</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">unpoo;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">[x</span> <span class="id">Bx]</span> <span class="id">:</span> <span class="id">B</span> <span class="id">!=set0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/set0P/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">B0;</span> <span class="id">apply/fnoo/funext</span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP/negPn/negP</span> <span class="id">=&gt;</span> <span class="id">unnoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/seteqP</span> <span class="id">:</span> <span class="id">B0</span> <span class="id">=&gt;</span> <span class="id">[+</span> <span class="id">_]</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">apply</span>.<br/>
<span class="id">have</span> <span class="id">xB</span> <span class="id">r</span> <span class="id">:</span> (<span class="id">x</span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:73">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:73">r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/ndf</span> <span class="id">xr;</span> <span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">urnoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xr;</span> <span class="id">rewrite</span> <span class="id">urnoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNy_eq">leeNy_eq;</a></span> <span class="id">exact/negP</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@fineK</span> <span class="id">_</span> <span class="id">l</span>)<span class="id">//;</span> <span class="id">apply/fine_cvgP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">A1r;</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> <span class="id">//;</span> <span class="id">exact/xB/ltW</span>.<br/>
<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id"><a name="n:74">n</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:74">n</a></span> <span class="id">&lt;</span> <span class="id">x</span>)<span class="id">%R</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:74">n</a></span>).<br/>
<span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_inj">EFin_inj;</a></span> <span class="id">rewrite</span> <span class="id">-ereal_sup_EFin//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[mx|xm]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">first</span> <span class="id">exact/xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> <span class="id">0%R</span>)<span class="id">,</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">eq_le;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_sup">le_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[_</span> <span class="id">[m</span> <span class="id">_]</span> <span class="id">&lt;-]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g;</span> <span class="id">have</span> <span class="id">[_|xm]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">[exists</span> <span class="id">m|exact/xB]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[mx|xm]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">mx</span>)))<span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">mx</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">m</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">ltNge</span> <span class="id">xm</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">?f_fin_num//;</span> <span class="id">exact:</span> <span class="id">xB</span>.<br/>
<span class="id">suff:</span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:77">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo%R]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF//;</a></span> <span class="id">apply/negbTE;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_pinfty_ge">nbhs_pinfty_ge;</a></span> <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_cvgr">nondecreasing_cvgr</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=;</span> <span class="id">have</span> <span class="id">[_|xm]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">have</span> <span class="id">[nx|nx]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">n</span> <span class="id">x;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">f_fin_num</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">[exact:</span> <span class="id">xB|exact:</span> <span class="id">ndf]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">ltNge</span> (<span class="id">le_trans</span> <span class="id">xm</span> <span class="id">mn</span>)<span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> <span class="id">?f_fin_num//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">exact:</span> <span class="id">xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">xB;</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">xm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">exact/ndf</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lee_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">l_fin_num</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[_|xm]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">m</span> <span class="id">x;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">[exists</span> <span class="id">m|exact/xB]</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nondecreasing_is_cvge">nondecreasing_is_cvge</a></span> (<span class="id"><a name="f:78">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:78">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:78">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:79">r</a></span> <span class="id">@[r</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo'">+oo]</a></span>))<span class="id">%R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">u_nd</span> <span class="id">u_ub;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cvgP;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_cvge">nondecreasing_cvge</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> (<span class="id"><a name="f:82">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:83">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:82">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:82">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:84">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:83">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::classical_set_scope:x_'^''+'">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:82">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">move=&gt;</span> <span class="id">ndf;</span> <span class="id">set</span> <span class="id">S</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:85">X</a></span>)<span class="id">;</span> <span class="id">set</span> <span class="id">l</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span>.<br/>
<span class="id">have</span> <span class="id">[Snoo|Snoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>).<br/>
&nbsp;&nbsp;<span class="id">case:</span> (<span class="id">Snoo</span>) <span class="id">=&gt;</span> <span class="id">N</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">aN</span> <span class="id">fNpoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Nf</span> <span class="id">n</span> <span class="id">:</span> (<span class="id">a</span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:86">n</a></span> <span class="id">&lt;=</span> <span class="id">N</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:86">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/andP[an</span> <span class="id">nN];</span> <span class="id">apply/eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">-fNpoo</span> <span class="id">ndf//</span> <span class="id">in_itv/=</span> <span class="id">an</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/l</span> <span class="id">/ereal_inf</span> <span class="id">/ereal_sup</span> <span class="id"><a href="mathcomp.analysis.ereal.html#supremum_pinfty">supremum_pinfty//=;</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst;</a></span> <span class="gallina-kwd">exists</span> (<span class="id">N</span> <span class="id">-</span> <span class="id">a</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">+</span> <span class="id">ay</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm</span> <span class="id">?subr_lt0//</span> <span class="id">opprB</span> <span class="id">=&gt;</span> <span class="id">ayNa</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">Nf//</span> <span class="id">ay/=</span> <span class="id">-</span>(<span class="id">subrK</span> <span class="id">a</span> <span class="id">y</span>) <span class="id">-ler_subr_addr</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">[lnoo|lnoo]</span> <span class="id">:=</span> <span class="id">eqVneq</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">lnoo;</span> <span class="id">apply/cvgeNyPle</span> <span class="id">=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id">M%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'>'_x">&gt;</a></span> <span class="id">l</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">lnoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/ereal_inf_lt[x</span> <span class="id">[y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">ay</span> <span class="id">&lt;-</span> <span class="id">fyM</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">y</span> <span class="id">-</span> <span class="id">a</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">/=</span> <span class="id">+</span> <span class="id">az</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm</span> <span class="id">?subr_lt0//</span> <span class="id">opprB</span> <span class="id">ltr_subl_addr</span> <span class="id">subrK</span> <span class="id">=&gt;</span> <span class="id">zy</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">fyM</span>))<span class="id">//</span> <span class="id">ndf//</span> <span class="id">?in_itv/=</span> <span class="id">?andbT//</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">[fpoo|fpoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="gallina-kwd">forall</span> <span class="id"><a name="x:87">x,</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:87">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/l</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">S</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf1">ereal_inf1;</a></span> <span class="id">apply/cvgeyPgey;</span> <span class="id">near=&gt;</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fpoo</span> <span class="id">?leey//</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">x;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[n</span> <span class="id">_]</span> <span class="id">&lt;-</span> <span class="id">/[!fpoo]//|_</span> <span class="id">-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/S</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id">a</span> <span class="id">+</span> <span class="id">1</span>)<span class="id">%R;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fpoo//</span> <span class="id">in_itv</span> <span class="id">/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> <span class="id">[/ereal_inf_pinfty</span> <span class="id">lpoo|lpoo]</span> <span class="id">:=</span> <span class="id">eqVneq</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/fpoo</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">an;</span> <span class="id">rewrite</span> (<span class="id">lpoo</span> (<span class="id">f</span> <span class="id">n</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">have</span> <span class="id">l_fin_num</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">lpoo</span> <span class="id">lnoo</span>.<br/>
<span class="id">set</span> <span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span class="id"><a name="n:88">n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> (<span class="id">a</span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:88">n</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:88">n</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>.<br/>
<span class="id">set</span> <span class="id">B</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span class="id"><a name="n:91">n</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> (<span class="id">a</span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:91">n</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:91">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>.<br/>
<span class="id">have</span> <span class="id">f_fin_num</span> <span class="id">n</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:94">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:94">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/[1!inE]-[an</span> <span class="id">fnnoo];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">fnnoo</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> <span class="id">Snoo</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">unpoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">have</span> <span class="id">[x</span> <span class="id">[Ax</span> <span class="id">fxpoo]]</span> <span class="id">:</span> <span class="id">A</span> <span class="id">!=set0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/set0P/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">A0;</span> <span class="id">apply/fpoo</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">ax</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/eqP/negPn/negP</span> <span class="id">=&gt;</span> <span class="id">unnoo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/seteqP</span> <span class="id">:</span> <span class="id">A0</span> <span class="id">=&gt;</span> <span class="id">[+</span> <span class="id">_]</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">apply;</span> <span class="id">rewrite</span> <span class="id">/A/=</span> <span class="id">ax</span>.<br/>
<span class="id">have</span> <span class="id">axA</span> <span class="id">r</span> <span class="id">:</span> (<span class="id">a</span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:95">r</a></span> <span class="id">&lt;=</span> <span class="id">x</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#r:95">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/andP[ar</span> <span class="id">rx];</span> <span class="id">move:</span> (<span class="id">rx</span>) <span class="id">=&gt;</span> <span class="id">/ndf</span> <span class="id">rafx;</span> <span class="id">rewrite</span> <span class="id">/A</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">urnoo</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">rafx;</span> <span class="id">rewrite</span> <span class="id">urnoo</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">ar</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">fxpoo</span>).<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@fineK</span> <span class="id">_</span> <span class="id">l</span>)<span class="id">//;</span> <span class="id">apply/fine_cvgP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">x</span> <span class="id">-</span> <span class="id">a</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">/=</span> <span class="id">+</span> <span class="id">az</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm</span> <span class="id">?subr_lt0//</span> <span class="id">opprB</span> <span class="id">ltr_subl_addr</span> <span class="id">subrK//</span> <span class="id">=&gt;</span> <span class="id">zx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num//</span> <span class="id">axA//</span> <span class="id">az/=</span> <span class="id">ltW</span>.<br/>
<span class="id">set</span> <span class="id">g</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id"><a name="n:96">n</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> (<span class="id">a</span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:96">n</a></span> <span class="id">&lt;</span> <span class="id">x</span>)<span class="id">%R</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:96">n</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">have</span> <span class="id">&lt;-</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:99">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:99">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_inj">EFin_inj;</a></span> <span class="id">rewrite</span> <span class="id">-ereal_inf_EFin//;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[am</span> <span class="id">mx]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb;</a></span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[ma|xm]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num</span> <span class="id">?inE//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb;</a></span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le//</a></span> <span class="id">?f_fin_num</span> <span class="id">?inE//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb;</a></span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">g</span> (<span class="id">a</span> <span class="id">+</span> <span class="id">1</span>)<span class="id">%R</span>)<span class="id">,</span> (<span class="id">a</span> <span class="id">+</span> <span class="id">1</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id">eq_le;</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">[_</span> <span class="id">[m</span> <span class="id">_]</span> <span class="id">&lt;-]</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[am</span> <span class="id">mx]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[ma|xm]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">y</span> <span class="id">[m]</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">=&gt;</span> <span class="id">am</span> <span class="id">&lt;-{y}</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[mx|xm]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">m</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">m</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num//</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">m;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">am</span> <span class="id">mx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ndf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">xm</span>))<span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">ltxx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
<span class="id">suff:</span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:100">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id">a^'+]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:101">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:101">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">near=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[na|xn]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">na;</span> <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id">=&gt;</span> <span class="id">/negP;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">nx</span> <span class="id">:</span> (<span class="id">n</span> <span class="id">&lt;</span> <span class="id">x</span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">xn</span> <span class="gallina-kwd">in</span> <span class="id">nx</span>.<br/>
&nbsp;&nbsp;<span class="id">near:</span> <span class="id">n;</span> <span class="gallina-kwd">exists</span> ((<span class="id">x</span> <span class="id">-</span> <span class="id">a</span>) <span class="id">/</span> <span class="id">2</span>)<span class="id">%R;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">divr_gt0//</span> <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=</span> <span class="id">/[swap]</span> <span class="id">ay</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr0_norm//</span> <span class="id">?subr_lt0//</span> <span class="id">opprB</span> <span class="id">ltr_subl_addr</span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ler_subr_addr</span> <span class="id">ler_pdivr_mulr//</span> <span class="id">ler_pmulr//</span> <span class="id">?ler1n//</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvgr">nondecreasing_at_right_cvgr</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">ma</span> <span class="id">n</span> <span class="id">mn</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[am</span> <span class="id">mx]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">am</span> <span class="id">mn</span>) <span class="id">/=;</span> <span class="id">have</span> <span class="id">[nx|nn0]</span> <span class="id">:=</span> <span class="id">ltP</span> <span class="id">n</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> <span class="id">?f_fin_num</span> <span class="id">?ndf//;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> (<span class="id">ltW</span> <span class="id">nx</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">lt_le_trans</span> <span class="id">am</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span> <span class="id">?f_fin_num//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id">ltW</span> (<span class="id">lt_le_trans</span> <span class="id">mx</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ndf//</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[ma'|xm]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltNge</span> <span class="id">ma'</span> <span class="gallina-kwd">in</span> <span class="id">ma</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="gallina-kwd">in</span> <span class="id">ma</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">ma</span> <span class="id">mn</span>)<span class="id">/=</span> <span class="id">ltNge</span> (<span class="id">le_trans</span> <span class="id">xm</span> <span class="id">mn</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">l</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[m</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">/g</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lee_fin</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">l_fin_num</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/andP[am</span> <span class="id">mn0]|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">am</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num//</span> <span class="id">axA//</span> <span class="id">am</span> (<span class="id">ltW</span> <span class="id">mn0</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> <span class="id">-!leNgt</span> <span class="id">=&gt;</span> <span class="id">/orP[ma|xm]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">Ax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">f_fin_num</span> <span class="id">?inE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//</a></span> <span class="id">?f_fin_num</span> <span class="id">?inE//;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nondecreasing_at_right_is_cvge">nondecreasing_at_right_is_cvge</a></span> (<span class="id"><a name="f:102">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:103">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nondecreasing_fun'_x">nondecreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:102">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:102">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:104">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:103">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::classical_set_scope:x_'^''+'">^'+]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">ndf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cvgP;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nonincreasing_at_right_cvge">nonincreasing_at_right_cvge</a></span> (<span class="id"><a name="f:107">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:108">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:107">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:107">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:109">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:108">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::classical_set_scope:x_'^''+'">^'+]</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:107">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`]'_x_','_'+oo'_'['">`]a,</a></span> <span class="id">+oo[</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move=&gt;</span> <span class="id">nif</span>.<br/>
<span class="id">have</span> <span class="id">ndNf</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">{homo</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\-'_x">\-</a></span> <span class="id">f</span>) <span class="id">:</span> <span class="id"><a name="n:110">n</a></span> <span class="id"><a name="m:111">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#n:110">n</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:111">m</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:112">n</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#m:113">m}}</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">ra</span> <span class="id">y</span> <span class="id">/nif;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeN2">leeN2;</a></span> <span class="id">exact</span>.<br/>
<span class="id">have</span> <span class="id">/cvgeN</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nondecreasing_at_right_cvge">nondecreasing_at_right_cvge</a></span> <span class="id">ndNf</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="id">set</span> <span class="id">lhs</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:114">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">set</span> <span class="id">rhs</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:115">X</a></span>).<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id">lhs</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">rhs</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span>.<br/>
<span class="id">rewrite</span> <span class="id">{}/rhs</span> <span class="id">{}/lhs;</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK;</a></span> <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp/=;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_imagel">eq_imagel</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">_</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nonincreasing_at_right_is_cvge">nonincreasing_at_right_is_cvge</a></span> (<span class="id"><a name="f:116">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal.R">R</a></span>) <span class="id"><a name="a:117">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]a,</span> <span class="id">+oo[,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#:::'nonincreasing_fun'_x">nonincreasing_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:116">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:116">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:118">x</a></span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:117">a</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::classical_set_scope:x_'^''+'">^'+]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">ndf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cvgP;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#nonincreasing_at_right_cvge">nonincreasing_at_right_cvge</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg.fun_cvg_ereal">fun_cvg_ereal</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#fun_cvg">fun_cvg</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id">numFieldType}</span> <span class="id">{V</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#R:121">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span> (<span class="id"><a name="f:123">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span class="id"><a name="x:124">x</a></span> <span class="id"><a name="y:125">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">[/\</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`]x,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:125">y[,</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="x:126">x,</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:123">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:126">x</a></span> <span class="id">1},</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:123">f</a></span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:124">x^'+</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:123">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:124">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:123">f</a></span> <span class="id">@</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:125">y^'-</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:123">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:125">y]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="derivable_oo_continuous_bnd_within">derivable_oo_continuous_bnd_within</a></span> (<span class="id"><a name="f:127">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.V">V</a></span>) (<span class="id"><a name="x:128">x</a></span> <span class="id"><a name="y:129">y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:127">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:128">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:129">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[x,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:129">y],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:127">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">move=&gt;</span> <span class="id">[fxy</span> <span class="id">fxr</span> <span class="id">fyl];</span> <span class="id">apply/subspace_continuousP</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">=&gt;</span> <span class="id">/andP[];</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{z}</span> <span class="id">xy|]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_right_within">cvg_at_right_within</a></span> <span class="id">fxr;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> <span class="id">=&gt;</span> <span class="id">z/=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/[swap]</span>.<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;{z}</span> <span class="id">xy|zy</span> <span class="id">xz]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_left_within">cvg_at_left_within</a></span> <span class="id">fyl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#within_subset">within_subset</a></span> <span class="id">=&gt;</span> <span class="id">z/=;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_within_filter">cvg_within_filter</a></span>.<br/>
<span class="id">apply/differentiable_continuous;</span> <span class="id">rewrite</span> <span class="id">-derivable1_diffP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">fxy;</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">xz</span> <span class="id">zy</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#derivable_oo_continuous_bnd">derivable_oo_continuous_bnd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="real_inverse_functions">real_inverse_functions</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="real_inverse_functions.R">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span class="id">f</span> <span class="id">g</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>).<br/>
<br/>
<div class="doc">This lemma should be used with caution. Generally `{within I, continuous f}`
   is what one would intend. So having `{in I, continuous f}` as a condition
   may indicate potential issues at the endpoints of the interval. </div>
<span class="vernacular">Lemma</span> <span class="id"><a name="continuous_subspace_itv">continuous_subspace_itv</a></span> (<span class="id"><a name="I:131">I</a></span> <span class="id">:</span> <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) (<span class="id"><a name="f:132">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:131">I,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:132">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:131">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:132">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move=&gt;</span> <span class="id">ctsf;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Ix;</span> <span class="id">apply:</span> <span class="id">ctsf</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Ix;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id"><a name="f:133">f</a></span> (<span class="id"><a name="I:134">I</a></span> <span class="id">:</span> <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span class="id"><a name="x:135">x</a></span> <span class="id"><a name="y:136">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_','_x_'&'_x_']'">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:135">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:134">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:136">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:134">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:135">x</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:136">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_','_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:133">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:135">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:133">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:136">y]</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:134">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:133">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:134">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:133">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:134">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:133">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">:</a></span> <span class="id"><a name="x:137">x</a></span> <span class="id"><a name="y:138">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:137">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:138">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">gen</span> <span class="id">have</span> <span class="id">fxy</span> <span class="id">:</span> <span class="id">f</span> <span class="id">/</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="x:141">x</a></span> <span class="id"><a name="y:142">y,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:141">x</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:142">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:141">x</a></span> <span class="id">!=</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:142">y}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy;</span> <span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">/fI</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">xI</span> <span class="id">yI</span>) <span class="id">xy</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xLy;</span> <span class="id">rewrite</span> <span class="id">xy</span> <span class="id">ltxx</span>.<br/>
<span class="id">gen</span> <span class="id">have</span> <span class="id">main</span> <span class="id">:</span> <span class="id">f</span> <span class="id">/</span> <span class="gallina-kwd">forall</span> <span class="id"><a name="c:143">c,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id">I],</span> <span class="id">continuous</span> <span class="id">f}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="a:144">a</a></span> <span class="id"><a name="b:145">b,</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:144">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:145">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:144">a</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:143">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:143">c</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:145">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:144">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:143">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:143">c</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:145">b}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">faLfb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">intP</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> <span class="id">:</span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> (<span class="id">ltW</span> <span class="id">aLc</span>) <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsACf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id">c],</span> <span class="id">continuous</span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">axc/=</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">cLb</span>))<span class="id">//</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ctsCBf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[c,</a></span> <span class="id">b],</span> <span class="id">continuous</span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">fC</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/itvP</span> <span class="id">axc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">axc</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">aLc</span>)) <span class="id">?axc</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[aLb</span> <span class="id">alb']</span> <span class="id">:</span> <span class="id">a</span> <span class="id">&lt;</span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span> (<span class="id">lt_trans</span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[faLfc|fcLfa|/eqP</span> <span class="id">faEfc]</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">lt_neqAle</span> <span class="id">fxy</span> <span class="id">//</span> <span class="id">leNgt;</span> <span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">fbLfc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">fbLfc;</span> <span class="id">suff</span> <span class="id">/eqP</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">c</span> <span class="id">==</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">eq_le</span> (<span class="id">ltW</span> <span class="id">cLb</span>) <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[d</span> <span class="id">/andP[ad</span> <span class="id">dc]</span> <span class="id">fdEfb]</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="d:146">d,</a></span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:146">d</a></span> <span class="id">&lt;=</span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:147">d</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">aLc'</span> <span class="id">:</span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">c</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">ltrgtP</span> <span class="id">faLfc;</span> <span class="id">rewrite</span> <span class="id">//</span> (<span class="id">ltW</span> <span class="id">faLfb</span>) <span class="id">//</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">fI</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fdEfb</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">ad</span> <span class="id">dc;</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id">=&gt;/predU1P[&lt;-//|</span> <span class="id">/ltW</span> <span class="id">L]</span> <span class="id">dc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">L</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">cLb</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">have</span> <span class="id">[fbLfc</span> <span class="id">|</span> <span class="id">fcLfb</span> <span class="id">|</span> <span class="id">fbEfc]</span> <span class="id">/=</span> <span class="id">:=</span> <span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">lt_trans</span> <span class="id">fbLfc</span> <span class="id">fcLfa;</span> <span class="id">rewrite</span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">have</span> <span class="id">[d</span> <span class="id">/andP[cLd</span> <span class="id">dLb]</span> <span class="id">/eqP]</span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="d:148">d,</a></span> <span class="id">c</span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:148">d</a></span> <span class="id">&lt;=</span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#d:149">d</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">cLb'</span> <span class="id">:</span> <span class="id">c</span> <span class="id">&lt;=</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">ltrgtP</span> <span class="id">fcLfb;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">!ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">/</span>(<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>) <span class="id">:</span> <span class="id">a</span> <span class="id">&lt;</span> <span class="id">d</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">aLc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">dI'</span> <span class="id">:</span> <span class="id">d</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_sym=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">aI</span> <span class="id">dI'</span>) <span class="id">=&gt;</span> <span class="id">/negbTE</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">dLb;</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;//|/ltW</span> <span class="id">db]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">intP//</span> <span class="id">db</span>  (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">aLc</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">fcLfa;</span> <span class="id">rewrite</span> <span class="id">-fbEfc</span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id">fxy</span> <span class="id">_</span> <span class="id">fI</span>) <span class="id">:</span> <span class="id">aLc=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">aI</span> <span class="id">cI</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">faEfc</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[u</span> <span class="id">[v</span> <span class="id">[uI</span> <span class="id">vI</span> <span class="id">ulv</span> <span class="id">+]]]</span> <span class="id">fC</span> <span class="id">fI;</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id">=&gt;</span> <span class="id">/predU1P[fufv|fuLfv]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/fI:</span> <span class="id">fufv</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">uI</span> <span class="id">vI</span>) <span class="id">uv;</span> <span class="id">move:</span> <span class="id">ulv;</span> <span class="id">rewrite</span> <span class="id">uv</span> <span class="id">ltxx</span>.<br/>
<span class="id">have</span> <span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:150">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:152">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:150">a</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:151">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:151">c</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:152">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:150">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:151">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:150">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:152">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:151">c</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:152">b</a></span>) <span class="id">/\</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:151">c</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:152">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:150">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:152">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:150">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:151">c</a></span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">aLc</span> <span class="id">cLb;</span> <span class="id">have</span> <span class="id">aLb</span> <span class="id">:=</span> <span class="id">lt_trans</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cI</span> <span class="id">:</span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">interval_is_interval</a></span> <span class="id">aI</span> <span class="id">bI</span>)<span class="id">//</span> (<span class="id">ltW</span> <span class="id">aLc</span>)<span class="id">/=</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fanfb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">!=</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id">fxy</span> <span class="id">f</span> <span class="id">fI</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">decr</span> <span class="id">:</span> <span class="id">f</span> <span class="id">b</span>  <span class="id">&lt;</span> <span class="id">f</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id">b</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id">c</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofC</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id">I],</span> <span class="id">continuous</span> (<span class="id">-f</span>)<span class="id">}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp;</a></span> <span class="id">[exact:</span> <span class="id">fC</span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ofI</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id">-f</span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">}</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">/oppr_inj/fI</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.realfun.html#X:153">X</a></span> <span class="id">&lt;</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">_]</span>(<span class="id">opprK</span> (<span class="id">f</span> <span class="id">b</span>)) <span class="id">ltr_oppl</span> <span class="id">=&gt;</span> <span class="id">ofaLofb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">_</span> <span class="id">c</span> <span class="id">ofC</span> <span class="id">ofI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ofaLofb</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">do</span> <span class="id">2</span> <span class="id">rewrite</span> <span class="id">ltr_oppl</span> <span class="id">opprK</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#and_comm">and_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">[faLfc|fcLfb]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">ltgtP</span> <span class="id">decr</span> <span class="id">fanfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">fbfa</span> <span class="id">[]//;</span> <span class="id">case:</span> <span class="id">ltgtP</span> <span class="id">faLfc</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">L</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">f</span> <span class="id">c</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">a</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">L</span> <span class="id">aLc</span> <span class="id">cLb</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">ltgtP</span> <span class="id">decr</span> <span class="id">fanfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">fbfa</span> <span class="id">[]//;</span> <span class="id">case:</span> <span class="id">ltgtP</span> <span class="id">fcLfb</span>.<br/>
<span class="id">have{main</span> <span class="id">fC}</span> <span class="id">whole</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:=</span> <span class="id">main</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:155">c</a></span> <span class="id">fC</span> <span class="id">fI</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:154">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:156">b</a></span>.<br/>
<span class="id">have</span> <span class="id">low</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:157">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:158">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:157">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:159">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#a:157">a</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:158">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:158">c</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:159">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:157">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:159">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:158">c</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:159">b</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb;</span> <span class="id">case:</span> (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)<span class="id">=&gt;</span> <span class="id">[/</span>(<span class="id">_</span> <span class="id">L</span>)<span class="id">]</span>.<br/>
<span class="id">have</span> <span class="id">high</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">:</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:161">c</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:162">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:160">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:162">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#a:160">a</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:161">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:161">c</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:162">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:160">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:162">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:160">a</a></span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#c:161">c</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">L</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb;</span> <span class="id">case:</span> (<span class="id">aux</span> <span class="id">a</span> <span class="id">c</span> <span class="id">b</span> <span class="id">aI</span> <span class="id">bI</span> <span class="id">ac</span> <span class="id">cb</span>)<span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">L</span>)<span class="id">]</span>.<br/>
<span class="id">apply:</span> <span class="id">le_mono_in</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span> <span class="id">xLy</span>.<br/>
<span class="id">have</span> <span class="id">[uLx</span> <span class="id">|</span> <span class="id">xLu</span> <span class="id">|</span> <span class="id">xu]</span> <span class="id">:=</span> <span class="id">ltrgtP</span> <span class="id">u</span> <span class="id">x</span>.<br/>
<span class="id">-</span> <span class="id">suff</span> <span class="id">fuLfx</span> <span class="id">:</span> <span class="id">f</span> <span class="id">u</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">x</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">low</span> <span class="id">u</span> <span class="id">x</span> <span class="id">y</span> <span class="id">fuLfx</span> <span class="id">uI</span> <span class="id">yI</span> <span class="id">uLx</span> <span class="id">xLy</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[xLv</span> <span class="id">|</span> <span class="id">vLx</span> <span class="id">|</span> <span class="id">-&gt;</span> <span class="id">//]</span> <span class="id">:=</span> <span class="id">ltrgtP</span> <span class="id">x</span> <span class="id">v;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">whole</span> <span class="id">u</span> <span class="id">x</span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">x</span>).<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">fxLfu</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">u</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id">high</span> <span class="id">x</span> <span class="id">u</span> <span class="id">v</span> <span class="id">fuLfv</span> <span class="id">xI</span> <span class="id">vI</span> <span class="id">xLu</span> <span class="id">ulv</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[yLu</span> <span class="id">|</span> <span class="id">uLy</span> <span class="id">|</span> <span class="id">-&gt;</span> <span class="id">//]</span> <span class="id">:=</span> <span class="id">ltrgtP</span> <span class="id">y</span> <span class="id">u;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">whole</span> <span class="id">x</span> <span class="id">y</span> <span class="id">u</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">low</span> <span class="id">x</span> <span class="id">u</span> <span class="id">y</span>).<br/>
<span class="id">move:</span> <span class="id">xLy;</span> <span class="id">rewrite</span> <span class="id">-xu</span> <span class="id">=&gt;</span> <span class="id">uLy</span>.<br/>
<span class="id">have</span> <span class="id">[yLv</span> <span class="id">|</span> <span class="id">vLy</span> <span class="id">|</span> <span class="id">-&gt;</span> <span class="id">//]</span> <span class="id">:=</span> <span class="id">ltrgtP</span> <span class="id">y</span> <span class="id">v;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">whole</span> <span class="id">u</span> <span class="id">y</span> <span class="id">v</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">low</span> <span class="id">u</span> <span class="id">v</span> <span class="id">y</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="itv_continuous_inj_ge">itv_continuous_inj_ge</a></span> <span class="id"><a name="f:163">f</a></span> (<span class="id"><a name="I:164">I</a></span> <span class="id">:</span> <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span class="id"><a name="x:165">x</a></span> <span class="id"><a name="y:166">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_','_x_'&'_x_']'">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:165">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:164">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:166">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:164">I,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:165">x</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:166">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_','_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:163">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:166">y</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:163">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:165">x]</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:164">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:163">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:164">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:163">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:164">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:163">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">:</a></span> <span class="id"><a name="x:168">x</a></span> <span class="id"><a name="y:167">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:168">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:167">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move=&gt;</span> <span class="id">[a</span> <span class="id">[b</span> <span class="id">[aI</span> <span class="id">bI</span> <span class="id">ab</span> <span class="id">fbfa]]]</span> <span class="id">fC</span> <span class="id">fI</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI</span>.<br/>
<span class="id">suff</span> <span class="id">:</span> (<span class="id">-</span> <span class="id">f</span>) <span class="id">y</span> <span class="id">&lt;=</span> (<span class="id">-</span> <span class="id">f</span>) <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id">y</span> <span class="id">&lt;=</span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">xI</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">[|x1</span> <span class="id">x1I</span> <span class="id">|</span> <span class="id">x1</span> <span class="id">x2</span> <span class="id">x1I</span> <span class="id">x2I]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply/continuousN/fC</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/oppr_inj;</span> <span class="id">apply/fI</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id"><a name="f:171">f</a></span> (<span class="id"><a name="I:172">I</a></span> <span class="id">:</span> <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:172">I],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:171">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:172">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:171">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#I:172">I</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:171">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move=&gt;</span> <span class="id">fC</span> <span class="id">fI</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="gallina-kwd">exists</span> <span class="id"><a name="a:173">a</a></span> <span class="id"><a name="b:174">b,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:173">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:174">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">I</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:173">a</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:174">b]</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">N2I;</span> <span class="id">left</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xI</span> <span class="id">yI;</span> <span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">?lexx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> <span class="id">N2I</span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">case:</span> <span class="id">ltgtP;</span> <span class="id">[exists</span> <span class="id">x,</span> <span class="id">y|exists</span> <span class="id">y,</span> <span class="id">x|]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">[a</span> <span class="id">[b</span> <span class="id">[aI</span> <span class="id">bI</span> <span class="id">lt_ab]]]</span>.<br/>
<span class="id">have</span> <span class="id">/orP[faLfb|fbLfa]</span> <span class="id">:=</span> <span class="id">le_total</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">left;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id">?faLfb</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">right;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_ge">itv_continuous_inj_ge</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id">?fbLfa</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_inj_le">segment_continuous_inj_le</a></span> <span class="id"><a name="f:179">f</a></span> <span class="id"><a name="a:180">a</a></span> <span class="id"><a name="b:181">b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:179">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:180">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:179">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:181">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:181">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:179">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:181">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:179">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:181">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:179">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">:</a></span> <span class="id"><a name="x:182">x</a></span> <span class="id"><a name="y:183">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:182">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:183">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move=&gt;</span> <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj;</span> <span class="id">have</span> <span class="id">[//|]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> <span class="id">[aLb|bLa|&lt;-]</span> <span class="id">:=</span> <span class="id">ltrgtP</span> <span class="id">a</span> <span class="id">b;</span> <span class="id">first</span> <span class="id">1</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">itv_ge//</span> <span class="id">-ltNge</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/itvxxP-&gt;</span> <span class="id">/itvxxP-&gt;;</span> <span class="id">rewrite</span> <span class="id">!lexx</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> <span class="id">fafb</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id">ltW</span> <span class="id">aLb</span>) (<span class="id">ltW</span> <span class="id">aLb</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id">lt_geF</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_inj_ge">segment_continuous_inj_ge</a></span> <span class="id"><a name="f:186">f</a></span> <span class="id"><a name="a:187">a</a></span> <span class="id"><a name="b:188">b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:187">a</a></span> <span class="id">&gt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:186">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:188">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:188">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:186">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:188">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:186">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:188">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:186">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">:</a></span> <span class="id"><a name="x:190">x</a></span> <span class="id"><a name="y:189">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:190">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:189">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move=&gt;</span> <span class="id">fafb</span> <span class="id">fct</span> <span class="id">finj;</span> <span class="id">have</span> <span class="id">[|//]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">fct</span> <span class="id">finj</span>.<br/>
<span class="id">have</span> <span class="id">[aLb|bLa|&lt;-]</span> <span class="id">:=</span> <span class="id">ltrgtP</span> <span class="id">a</span> <span class="id">b;</span> <span class="id">first</span> <span class="id">1</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">itv_ge//</span> <span class="id">-ltNge</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/itvxxP-&gt;</span> <span class="id">/itvxxP-&gt;;</span> <span class="id">rewrite</span> <span class="id">!lexx</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">b</span> <span class="id">a</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> <span class="id">fafb</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id">ltW</span> <span class="id">aLb</span>) (<span class="id">ltW</span> <span class="id">aLb</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id">lt_geF</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The condition "f a &lt;= f b" is unnecessary because the last
    interval condition is vacuously true otherwise. </div>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_can_le">segment_can_le</a></span> <span class="id"><a name="a:193">a</a></span> <span class="id"><a name="b:194">b</a></span> <span class="id"><a name="f:195">f</a></span> <span class="id"><a name="g:196">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:193">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:194">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:194">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:195">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:194">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:195">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:196">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:193">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:195">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:194">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:196">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">:</a></span> <span class="id"><a name="x:197">x</a></span> <span class="id"><a name="y:198">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:197">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:198">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK;</span> <span class="id">have</span> <span class="id">[fbLfa</span> <span class="id">|</span> <span class="id">faLfb]</span> <span class="id">:=</span> <span class="id">ltrP</span> (<span class="id">f</span> <span class="id">b</span>) (<span class="id">f</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">itv_ge//</span> <span class="id">-ltNge</span>.<br/>
<span class="id">have</span> <span class="id">[aab</span> <span class="id">bab]</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span>.<br/>
<span class="id">case:</span> <span class="id">ltgtP</span> <span class="id">faLfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">[faLfb</span> <span class="id">_|-&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">/itvxxP-&gt;</span> <span class="id">/itvxxP-&gt;];</span> <span class="id">rewrite</span> <span class="id">?lexx//</span>.<br/>
<span class="id">have</span> <span class="id">lt_ab</span> <span class="id">:</span> <span class="id">a</span> <span class="id">&lt;</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">ltgtP</span> <span class="id">a</span> <span class="id">b</span>) <span class="id">aLb</span> <span class="id">faLfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
<span class="id">have</span> <span class="id">w</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="x:201">x</a></span> <span class="id"><a name="y:202">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_','_x_'&'_x_']'">[/\</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:201">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b],</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:202">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b],</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:201">x</a></span> <span class="id">&lt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:202">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_','_x_'&'_x_']'">&amp;</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:201">x</a></span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:202">y]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">a,</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> (<span class="id">ltW</span> <span class="id">faLfb</span>).<br/>
<span class="id">have</span> <span class="id">fle</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_le">itv_continuous_inj_le</a></span> <span class="id">w</span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xin</span> <span class="id">yin;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#IVT">IVT</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">case:</span> (<span class="id">ltrgtP</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)) <span class="id">faLfb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ivt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[[u</span> <span class="id">uin</span> <span class="id">&lt;-]</span> <span class="id">[v</span> <span class="id">vin</span> <span class="id">&lt;-]]</span> <span class="id">:=</span> (<span class="id">ivt</span> <span class="id">_</span> <span class="id">xin,</span> <span class="id">ivt</span> <span class="id">_</span> <span class="id">yin</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">!fK//</span> <span class="id">!fle</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="real_inverse_functions.negation_itv">negation_itv</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Definition</span> <span class="id"><a name="itvN_oppr">itvN_oppr</a></span> <span class="id"><a name="a:203">a</a></span> <span class="id"><a name="b:204">b</a></span> <span class="id">:=</span> <span class="id">@GRing</span>.<span class="id">opp</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Lemma</span> <span class="id"><a name="itv_oppr_is_fun">itv_oppr_is_fun</a></span> <span class="id"><a name="a:205">a</a></span> <span class="id"><a name="b:206">b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[-</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:206">b,</a></span> <span class="id">-</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:205">a]%classic</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:206">b]%classic</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:205">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:206">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="gallina-kwd">by</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">oppr_itvcc</span>. Qed.</div>
<span class="hierarchy-builder">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id"><a name="a:207">a</a></span> <span class="id"><a name="b:208">b</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_oppr_is_fun">itv_oppr_is_fun</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:207">a</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:208">b</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.negation_itv">negation_itv</a></span>.<br/>
<br/>
<div class="doc">The condition "f b &lt;= f a" is unnecessary---see seg...increasing above    </div>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_can_ge">segment_can_ge</a></span> <span class="id"><a name="a:209">a</a></span> <span class="id"><a name="b:210">b</a></span> <span class="id"><a name="f:211">f</a></span> <span class="id"><a name="g:212">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:209">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:210">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:210">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:211">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:210">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:211">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:212">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:210">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:211">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:209">a]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:212">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">:</a></span> <span class="id"><a name="x:214">x</a></span> <span class="id"><a name="y:213">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:214">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:213">y}}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">fC</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xfbfa</span> <span class="id">yfbfa;</span> <span class="id">rewrite</span> <span class="id">-ler_opp2</span>.<br/>
<span class="id">apply:</span> (<span class="id">@segment_can_le</span> (<span class="id">-</span> <span class="id">b</span>) (<span class="id">-</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">-%R</span>) (<span class="id">-</span> <span class="id">g</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">?ler_opp2</span> <span class="id">?opprK</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">fun_neg</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[-b,-a]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,b]</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itvN_oppr">itvN_oppr</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">apply:</span> (<span class="id">@continuous_comp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#::form_scope:'['_'fun'_'of'_x_']'">[fun</a></span> <span class="id">of</span> <span class="id">fun_neg]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id">fC</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/subspaceT_continuous/continuous_subspaceT/opp_continuous</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">zab;</span> <span class="id">rewrite</span> <span class="id">-[-</span> <span class="id">g]/</span>(<span class="id">@GRing</span>.<span class="id">opp</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">g</span>)<span class="id">/=</span> <span class="id">fK</span> <span class="id">?opprK//</span> <span class="id">oppr_itvcc</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_can_mono">segment_can_mono</a></span> <span class="id"><a name="a:217">a</a></span> <span class="id"><a name="b:218">b</a></span> <span class="id"><a name="f:219">f</a></span> <span class="id"><a name="g:220">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:217">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:218">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:218">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:219">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:218">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:219">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:220">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:219">f</a></span> <span class="id">@`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:218">b]</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#g:220">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">le_ab</span> <span class="id">fct</span> <span class="id">fK;</span> <span class="id">rewrite</span> <span class="id">/monotonous/=;</span> <span class="id">case:</span> <span class="id">ltrgtP</span> <span class="id">=&gt;</span> <span class="id">fab;</span> <span class="id">[left|right</span>..<span class="id">];</span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">?by</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le|apply:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge]</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/itvxxP&lt;-</span> <span class="id">/itvxxP&lt;-;</span> <span class="id">rewrite</span> <span class="id">!lexx</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id"><a name="a:221">a</a></span> <span class="id"><a name="b:222">b</a></span> <span class="id"><a name="f:223">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:221">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:222">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:222">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:223">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:222">b]</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:223">f</a></span> <span class="id">@`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:222">b]</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#f:223">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">fct</span> <span class="id">y/=</span> <span class="id">/IVT[]//</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_le_surjective">segment_continuous_le_surjective</a></span> <span class="id"><a name="a:224">a</a></span> <span class="id"><a name="b:225">b</a></span> <span class="id"><a name="f:226">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:224">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:225">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:226">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:224">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:226">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:225">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:225">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:226">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:225">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:224">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:226">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:225">b]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:226">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">move=&gt;</span> <span class="id">le_ab</span> <span class="id">f_ab</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">min_idPl</span> <span class="id">_</span>)<span class="id">//</span> (<span class="id">max_idPr</span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_ge_surjective">segment_continuous_ge_surjective</a></span> <span class="id"><a name="a:227">a</a></span> <span class="id"><a name="b:228">b</a></span> <span class="id"><a name="f:229">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:227">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:228">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:229">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:228">b</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:229">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:227">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:228">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:229">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:228">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:228">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:229">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:227">a]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:229">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">le_ab</span> <span class="id">f_ab</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">le_ab</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">min_idPr</span> <span class="id">_</span>)<span class="id">//</span> (<span class="id">max_idPl</span> <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="continuous_inj_image_segment">continuous_inj_image_segment</a></span> <span class="id"><a name="a:230">a</a></span> <span class="id"><a name="b:231">b</a></span> <span class="id"><a name="f:232">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:230">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:231">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:231">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:232">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:231">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:232">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:232">f</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:231">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:232">f</a></span> <span class="id">@`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:231">b]%classic</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move=&gt;</span> <span class="id">leab</span> <span class="id">fct</span> <span class="id">finj;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segment">mono_surj_image_segment</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="continuous_inj_image_segmentP">continuous_inj_image_segmentP</a></span> <span class="id"><a name="a:233">a</a></span> <span class="id"><a name="b:234">b</a></span> <span class="id"><a name="f:235">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:233">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:234">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:234">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:235">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:234">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:235">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span class="id"><a name="y:236">y,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="gallina-kwd">exists2</span> <span class="id"><a name="x:237">x,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:237">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:234">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:235">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:238">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:236">y</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#y:236">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:235">f</a></span> <span class="id">@`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:234">b]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">/continuous_inj_image_segment/[apply]/[apply]/predeqP</span> <span class="id">+</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">y</span>) <span class="id">faby</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#equivP">equivP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>)<span class="id">;</span> <span class="id">symmetry</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id"><a name="a:239">a</a></span> <span class="id"><a name="b:240">b</a></span> <span class="id"><a name="f:241">f</a></span> <span class="id"><a name="g:242">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:239">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:240">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:240">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:241">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:240">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:241">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:242">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:241">f</a></span> <span class="id">@`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:240">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:242">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:241">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK;</span> <span class="id">have</span> <span class="id">g_mono</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_mono">segment_can_mono</a></span> <span class="id">aLb</span> <span class="id">ctf</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">f_mono</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">ctf</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">f_surj</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_surjective">segment_continuous_surjective</a></span> <span class="id">aLb</span> <span class="id">ctf</span>.<br/>
<span class="id">have</span> <span class="id">fIP</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_surj_image_segmentP">mono_surj_image_segmentP</a></span> <span class="id">aLb</span> <span class="id">f_mono</span> <span class="id">f_surj</span>.<br/>
<span class="id">suff:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">f</span> <span class="id">@`[a,</span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'on'_x_','_x_'&'_x_'}'">{on</a></span> <span class="id">`[a,</span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'on'_x_','_x_'&'_x_'}'">&amp;</a></span> <span class="id">f}}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">gK</span> <span class="id">_</span> <span class="id">/fIP[x</span> <span class="id">xab</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">f</span> <span class="id">@`[a,</span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'on'_x_'&'_','_x_'}'">{on</a></span> <span class="id">`[a,</span> <span class="id">b]</span>  <span class="id">&amp;,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">g}}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">/fIP</span> <span class="id">[x</span> <span class="id">xab</span> <span class="id">&lt;-]</span> <span class="id">/fIP[y</span> <span class="id">yab</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">!fK//</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/ssrbool</span>.<span class="id">inj_can_sym_in_on</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id">?fK</span> <span class="id">?mono_mem_image_segment</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_le_can_sym">segment_continuous_le_can_sym</a></span> <span class="id"><a name="a:243">a</a></span> <span class="id"><a name="b:244">b</a></span> <span class="id"><a name="f:245">f</a></span> <span class="id"><a name="g:246">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:243">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:244">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:244">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:245">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:244">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:245">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:246">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:243">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:245">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:244">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:246">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:245">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xfafb</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">ltrgtP</span> <span class="id">xfafb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_continuous_ge_can_sym">segment_continuous_ge_can_sym</a></span> <span class="id"><a name="a:247">a</a></span> <span class="id"><a name="b:248">b</a></span> <span class="id"><a name="f:249">f</a></span> <span class="id"><a name="g:250">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:247">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:248">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:248">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:249">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:248">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:249">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:250">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[f</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:248">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:249">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:247">a],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:250">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:249">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">xfafb;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_continuous_can_sym">segment_continuous_can_sym</a></span> <span class="id">aLb</span> <span class="id">fct</span> <span class="id">fK</span>).<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">&gt;=</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xfafb</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">ltrgtP</span> <span class="id">xfafb</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_inc_surj_continuous">segment_inc_surj_continuous</a></span> <span class="id"><a name="a:251">a</a></span> <span class="id"><a name="b:252">b</a></span> <span class="id"><a name="f:253">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:252">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:253">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">:</a></span> <span class="id"><a name="x:254">x</a></span> <span class="id"><a name="y:255">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:254">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:255">y}}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:252">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:251">a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:253">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:252">b]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:253">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:252">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:253">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move=&gt;</span> <span class="id">fle</span> <span class="id">f_surj;</span> <span class="id">have</span> <span class="id">[f_inj</span> <span class="id">flt]</span> <span class="id">:=</span> (<span class="id">inc_inj_in</span> <span class="id">fle,</span> <span class="id">leW_mono_in</span> <span class="id">fle</span>).<br/>
<span class="id">have</span> <span class="id">[aLb|bLa|]</span> <span class="id">:=</span> <span class="id">ltgtP</span> <span class="id">a</span> <span class="id">b;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv1">set_itv1;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace1">continuous_subspace1</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">/set_mem</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/andP[/le_trans]</span> <span class="id">/[apply];</span> <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id">bLa</span>.<br/>
<span class="id">have</span> <span class="id">le_ab</span> <span class="id">:</span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">[aab</span> <span class="id">bab]</span> <span class="id">:</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!bound_itvE</span> <span class="id">ltW</span>.<br/>
<span class="id">have</span> <span class="id">fab</span> <span class="id">:</span> <span class="id">f</span> <span class="id">@`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]%classic</span> <span class="gallina-kwd">by</span> <span class="id">exact:inc_surj_image_segment</span>.<br/>
<span class="id">pose</span> <span class="id">g</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id">b]</span> <span class="id">f;</span> <span class="id">have</span> <span class="id">fK</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[mem</span> <span class="id">_]mem_setE;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvKV">pinvKV;</a></span> <span class="id">rewrite</span> <span class="id">!mem_setE</span>.<br/>
<span class="id">have</span> <span class="id">gK</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[f</span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f}</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">zab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvK">pinvK//</a></span> <span class="id">fab</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">have</span> <span class="id">gle</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[f</span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">{mono</a></span> <span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">:</a></span> <span class="id"><a name="x:258">x</a></span> <span class="id"><a name="y:259">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:258">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:259">y}}</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_mono_in">can_mono_in</a></span> (<span class="id">fle</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id">gK</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">zfab;</span> <span class="id">have</span> <span class="id">{zfab}</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[f</a></span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]%classic</span> <span class="id">z</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fab</span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">xab</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">fK</span>.<br/>
<span class="id">have</span> <span class="id">glt</span> <span class="id">:=</span> <span class="id">leW_mono_in</span> <span class="id">gle</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">xabcc</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">have</span> <span class="id">fxab</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[f</span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">!fle</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">xabcc;</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">//=</span> <span class="id">=&gt;</span> <span class="id">/andP</span> <span class="id">[ax</span> <span class="id">xb]</span>.<br/>
<span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/posnumP[e];</span> <span class="id">rewrite</span> <span class="id">!near_simpl;</span> <span class="id">near=&gt;</span> <span class="id">y</span>.<br/>
<span class="id">rewrite</span> (<span class="id">@le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">e%:num</span> <span class="id">/</span> <span class="id">2%:R</span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr//</span> <span class="id">ltr_pmulr//</span> <span class="id">ltr1n</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distlC;</span> <span class="id">near:</span> <span class="id">y</span>.<br/>
<span class="id">pose</span> <span class="id">u</span> <span class="id">:=</span> <span class="id">minr</span> (<span class="id">f</span> <span class="id">x</span> <span class="id">+</span> <span class="id">e%:num</span> <span class="id">/</span> <span class="id">2</span>) (<span class="id">f</span> <span class="id">b</span>).<br/>
<span class="id">pose</span> <span class="id">l</span> <span class="id">:=</span> <span class="id">maxr</span> (<span class="id">f</span> <span class="id">x</span> <span class="id">-</span> <span class="id">e%:num</span> <span class="id">/</span> <span class="id">2</span>) (<span class="id">f</span> <span class="id">a</span>).<br/>
<span class="id">have</span> <span class="id">ufab</span> <span class="id">:</span> <span class="id">u</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[f</span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv</span> <span class="id">/=</span> <span class="id">le_minl</span> <span class="id">?le_minr</span> <span class="id">lexx</span> <span class="id">?fle</span> <span class="id">//</span> <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> <span class="id">?andbT</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_paddr</span> <span class="id">//</span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">lfab</span> <span class="id">:</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[f</span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv/=</span> <span class="id">le_maxl</span> <span class="id">?le_maxr</span> <span class="id">lexx</span> <span class="id">?fle//</span> <span class="id">le_ab</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span> <span class="id">?andbT</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_subl_addr</span> <span class="id">ler_paddr//</span> <span class="id">fle</span> <span class="id">//</span> <span class="id">lexx</span>.<br/>
<span class="id">have</span> <span class="id">guab</span> <span class="id">:</span> <span class="id">g</span> <span class="id">u</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv;</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">ufab;</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">=&gt;</span> <span class="id">/andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">glab</span> <span class="id">:</span> <span class="id">g</span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!in_itv;</span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">lfab;</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case;</span> <span class="id">rewrite</span> <span class="id">-gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-gle</span> <span class="id">//</span> <span class="id">?fK</span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bound_itvE">bound_itvE</a></span> <span class="id">fle</span>.<br/>
<span class="id">have</span> <span class="id">faltu</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">&lt;</span> <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/u</span> <span class="id">comparable_lt_minr</span> <span class="id">?real_comparable</span> <span class="id">?num_real//</span> <span class="id">flt//</span> <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">?fle//</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> <span class="id">lltfb</span> <span class="id">:</span> <span class="id">l</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/u</span> <span class="id">comparable_lt_maxl</span> <span class="id">?real_comparable</span> <span class="id">?num_real//</span> <span class="id">flt//</span> <span class="id">aLb</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">?fle//</span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE;</a></span> <span class="id">near_simpl</span>.<br/>
<span class="id">have</span> <span class="id">Fnbhs</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filter">Filter</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_filter">nbhs_filter</a></span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">ax;</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id">=&gt;</span> <span class="id">/orP[/eqP|]</span> <span class="id">{}ax</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">/[dup]</span> <span class="id">yab;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">in_itv</span> <span class="id">=&gt;</span> <span class="id">/andP[ay</span> <span class="id">yb];</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">a</span>)) <span class="id">?fle//</span> <span class="id">ler_subl_addr</span> <span class="id">ax</span> <span class="id">ler_paddr</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">ltW;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id">f</span> <span class="id">y</span> <span class="id">&lt;</span> <span class="id">u</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minr</span> <span class="id">=&gt;</span> <span class="id">/andP[-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-?[f</span> <span class="id">y</span> <span class="id">&lt;</span> <span class="id">_]glt//</span> <span class="id">?fK//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">/=</span> <span class="id">!fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">near_simpl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_lt">open_lt;</a></span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-flt</span> <span class="id">?gK//</span> <span class="id">-ax</span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id">xb;</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id">=&gt;</span> <span class="id">/orP[/eqP</span> <span class="id">{}xb</span> <span class="id">{ax}|{}xb]</span>.<br/>
&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">/[dup]</span> <span class="id">yab;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">in_itv</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[ay</span> <span class="id">yb]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">b</span>)) <span class="id">?fle//</span> <span class="id">xb</span> <span class="id">ler_paddr</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">ltW;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id">l</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_maxl</span> <span class="id">=&gt;</span> <span class="id">/andP[-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-?[_</span> <span class="id">&lt;</span> <span class="id">f</span> <span class="id">y]glt//</span> <span class="id">?fK//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">/=</span> <span class="id">!fle</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">near_simpl;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_gt">open_gt;</a></span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">-flt//</span> <span class="id">gK//</span> <span class="id">xb</span>.<br/>
<span class="id">have</span> <span class="id">xoab</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`]a,</span> <span class="id">b[</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">/=;</span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">y;</span> <span class="id">suff:</span> <span class="id">l</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id">y</span> <span class="id">&lt;=</span> <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">le_maxl</span> <span class="id">le_minr</span> <span class="id">-!andbA</span> <span class="id">=&gt;</span> <span class="id">/and4P[-&gt;</span> <span class="id">_</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[a,</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc;</a></span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv</a></span>.<br/>
<span class="id">have</span> <span class="id">fyab</span> <span class="id">:</span> <span class="id">f</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">`[f</span> <span class="id">a,</span> <span class="id">f</span> <span class="id">b]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">!fle//</span> <span class="id">?ltW</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[l</span> <span class="id">&lt;=</span> <span class="id">_]gle</span> <span class="id">-?[_</span> <span class="id">&lt;=</span> <span class="id">u]gle//</span> <span class="id">?fK</span> <span class="id">//</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc;</a></span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv;</a></span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[x]fK</span> <span class="id">//</span> <span class="id">!glt//=</span> <span class="id">lt_minr</span> <span class="id">lt_maxl</span> <span class="id">?andbT</span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_spaddr</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/and3P;</span> <span class="id">split;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">flt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_dec_surj_continuous">segment_dec_surj_continuous</a></span> <span class="id"><a name="a:262">a</a></span> <span class="id"><a name="b:263">b</a></span> <span class="id"><a name="f:264">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:263">b]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">{mono</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:264">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">:</a></span> <span class="id"><a name="x:266">x</a></span> <span class="id"><a name="y:265">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'mono'_x_':'_x_x_'/~'_x_'}'">/~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:266">x</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:265">y}}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:263">b]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:263">b,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:264">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:262">a]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:264">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:263">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:264">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">move=&gt;</span> <span class="id">fge</span> <span class="id">f_surj;</span> <span class="id">suff:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id">b],</span> <span class="id">continuous</span> (<span class="id">-</span> <span class="id">f</span>)<span class="id">}</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">contNf</span> <span class="id">x</span> <span class="id">xab;</span> <span class="id">rewrite</span> <span class="id">-[f]opprK</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/continuous_comp/opp_continuous/contNf</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">xab</span> <span class="id">yab;</span> <span class="id">rewrite</span> <span class="id">ler_opp2</span> <span class="id">fge</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">-oppr_itvcc</span> <span class="id">=&gt;</span> <span class="id">/f_surj[x</span> <span class="id">?</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#canLR">canLR</a></span> <span class="id">opprK</span>)<span class="id">&lt;-];</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_mono_surj_continuous">segment_mono_surj_continuous</a></span> <span class="id"><a name="a:269">a</a></span> <span class="id"><a name="b:270">b</a></span> <span class="id"><a name="f:271">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#monotonous">monotonous</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:270">b]</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:271">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:270">b]</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:271">f</a></span> <span class="id">@`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:270">b]</a></span>) <span class="id"><a href="mathcomp.analysis.realfun.html#f:271">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:270">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:271">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">-[fle|fge]</span> <span class="id">f_surj</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">/=</span> <span class="id">xab</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">leab</span> <span class="id">:</span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fafb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fle</span> <span class="id">//</span> <span class="id">?bound_itvE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">ltrP</span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
<span class="id">have</span> <span class="id">leab</span> <span class="id">:</span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">have</span> <span class="id">fafb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">b</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">fge</span> <span class="id">//</span> <span class="id">?bound_itvE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">ltrP</span> <span class="id">f_surj</span> <span class="id">fafb</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_can_le_continuous">segment_can_le_continuous</a></span> <span class="id"><a name="a:272">a</a></span> <span class="id"><a name="b:273">b</a></span> <span class="id"><a name="f:274">f</a></span> <span class="id"><a name="g:275">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:272">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:273">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:273">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:274">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:273">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:274">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:275">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[</a></span>(<span class="id"><a href="mathcomp.analysis.realfun.html#f:274">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:272">a</a></span>)<span class="id">,</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:274">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:273">b</a></span>)<span class="id">],</span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:275">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">/=</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">faLfb</span> <span class="id">:</span> <span class="id">f</span> <span class="id">a</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_inc_surj_continuous">segment_inc_surj_continuous;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le">segment_can_le</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!fK</span> <span class="id">?bound_itvE//=;</span> <span class="id">apply:</span> (<span class="id">@can_surj</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact/image_subP/mem_inc_segment/segment_continuous_inj_le/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_can_ge_continuous">segment_can_ge_continuous</a></span> <span class="id"><a name="a:276">a</a></span> <span class="id"><a name="b:277">b</a></span> <span class="id"><a name="f:278">f</a></span> <span class="id"><a name="g:279">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:276">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:277">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:277">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:278">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:277">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:278">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:279">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[</a></span>(<span class="id"><a href="mathcomp.analysis.realfun.html#f:278">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:277">b</a></span>)<span class="id">,</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:278">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:276">a</a></span>)<span class="id">],</span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:279">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">ctf;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> <span class="id">=&gt;</span> <span class="id">fK</span> <span class="id">x</span> <span class="id">/set_mem</span> <span class="id">/=</span> <span class="id">xab</span>.<br/>
<span class="id">have</span> <span class="id">fbLfa</span> <span class="id">:</span> <span class="id">f</span> <span class="id">b</span> <span class="id">&lt;=</span> <span class="id">f</span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_dec_surj_continuous">segment_dec_surj_continuous;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge">segment_can_ge</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!fK</span> <span class="id">?bound_itvE//=;</span> <span class="id">apply:</span> (<span class="id">@can_surj</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>.<br/>
<span class="id">exact/image_subP/mem_dec_segment/segment_continuous_inj_ge/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">fK</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="segment_can_continuous">segment_can_continuous</a></span> <span class="id"><a name="a:280">a</a></span> <span class="id"><a name="b:281">b</a></span> <span class="id"><a name="f:282">f</a></span> <span class="id"><a name="g:283">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:280">a</a></span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:281">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[a,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:281">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:282">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:281">b],</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:282">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:283">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:282">f</a></span> <span class="id">@`[a,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:281">b],</a></span> <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:283">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move=&gt;</span> <span class="id">aLb</span> <span class="id">crf</span> <span class="id">fK</span> <span class="id">x;</span> <span class="id">case:</span> <span class="id">lerP</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">[apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_ge_continuous">segment_can_ge_continuous|apply:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_le_continuous">segment_can_le_continuous]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id"><a name="f:284">f</a></span> <span class="id"><a name="g:285">g</a></span> (<span class="id"><a name="x:286">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:286">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:284">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:285">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:286">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:284">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:284">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:286">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:285">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:284">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:286">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:285">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:284">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="id">move=&gt;</span> <span class="id">fK</span> <span class="id">fct;</span> <span class="id">near</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>)<span class="id">^'+</span> <span class="id">=&gt;</span> <span class="id">e;</span> <span class="id">have</span> <span class="id">e_gt0</span> <span class="id">:</span> <span class="id">0</span> <span class="id">&lt;</span> <span class="id">e</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">have</span> <span class="id">xBeLxDe</span> <span class="id">:</span> <span class="id">x</span> <span class="id">-</span> <span class="id">e</span> <span class="id">&lt;=</span> <span class="id">x</span> <span class="id">+</span> <span class="id">e</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_add2l</span> <span class="id">gt0_cp</span>.<br/>
<span class="id">have</span> <span class="id">fcte</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[x</span> <span class="id">-</span> <span class="id">e,</span> <span class="id">x</span> <span class="id">+</span> <span class="id">e],</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">e;</span> <span class="id">apply/at_right_in_segment</span>.<br/>
<span class="id">have</span> <span class="id">fwcte</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'`['_x_','_x_']'">`[x</a></span> <span class="id">-</span> <span class="id">e,</span> <span class="id">x</span> <span class="id">+</span> <span class="id">e],</span> <span class="id">continuous</span> <span class="id">f}</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">yI</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">fcte;</span> <span class="id">move/set_mem:</span> <span class="id">yI</span>.<br/>
<span class="id">have</span> <span class="id">fKe</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">`[x</span> <span class="id">-</span> <span class="id">e,</span> <span class="id">x</span> <span class="id">+</span> <span class="id">e],</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g}</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">e;</span> <span class="id">apply/at_right_in_segment</span>.<br/>
<span class="id">have</span> <span class="id">nearfx</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\forall</a></span> <span class="id"><a name="y:287">y</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\near</a></span> <span class="id">f</span> <span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:287">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">f</span> <span class="id">@`]</span>(<span class="id">x</span> <span class="id">-</span> <span class="id">e</span>)<span class="id">,</span> (<span class="id">x</span> <span class="id">+</span> <span class="id">e</span>)<span class="id">[</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#near_in_itv">near_in_itv;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mono_mem_image_itvoo">mono_mem_image_itvoo;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv/=</span> <span class="id">-ltr_distlC</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#itv_continuous_inj_mono">itv_continuous_inj_mono</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id">@can_in_inj</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>)<span class="id">;</span> <span class="id">near:</span> <span class="id">e;</span> <span class="id">apply/at_right_in_segment</span>.<br/>
<span class="id">have</span> <span class="id">fxI</span> <span class="id">:</span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id">f</span> <span class="id">@`]x</span> <span class="id">-</span> <span class="id">e,</span> <span class="id">x</span> <span class="id">+</span> <span class="id">e[</span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> <span class="id">nearfx</span>).<br/>
<span class="id">split;</span> <span class="id">near=&gt;</span> <span class="id">y;</span> <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@segment_continuous_can_sym</span> (<span class="id">x</span> <span class="id">-</span> <span class="id">e</span>) (<span class="id">x</span> <span class="id">+</span> <span class="id">e</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc;</a></span> <span class="id">near:</span> <span class="id">y</span>.<br/>
<span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">nearfx</span>)<span class="id">;</span> <span class="id">near_simpl;</span> <span class="id">near=&gt;</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">yfe</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:'{'_'within'_x_','_'continuous'_x_'}'">{within</a></span> <span class="id">f</span> <span class="id">@`]x</span> <span class="id">-</span> <span class="id">e,</span> (<span class="id">x</span> <span class="id">+</span> <span class="id">e</span>)<span class="id">[,</span> <span class="id">continuous</span> <span class="id">g}</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW;</a></span> <span class="id">last</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#segment_can_continuous">segment_can_continuous</a></span> <span class="id">_</span> <span class="id">fwcte</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="near_can_continuous">near_can_continuous</a></span> <span class="id"><a name="f:288">f</a></span> <span class="id"><a name="g:289">g</a></span> (<span class="id"><a name="x:290">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:290">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:288">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:289">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:290">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:288">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:288">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:290">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:289">g}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fK</span> <span class="id">fct;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="near_continuous_can_sym">near_continuous_can_sym</a></span> <span class="id"><a name="f:291">f</a></span> <span class="id"><a name="g:292">g</a></span> (<span class="id"><a name="x:293">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:293">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:291">f}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:293">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:291">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:292">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:291">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:293">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:292">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:291">f}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fct</span> <span class="id">fK;</span> <span class="id">have</span> <span class="id">[]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuousAcan_sym">near_can_continuousAcan_sym</a></span> <span class="id">fK</span> <span class="id">fct</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_functions">real_inverse_functions</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="real_inverse_function_instances">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="real_inverse_function_instances.R">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="exprn_continuous">exprn_continuous</a></span> <span class="id"><a name="n:295">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">@GRing</span>.<span class="id">exp</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#n:295">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">elim:</span> <span class="id">n=&gt;</span> <span class="id">[|n</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">cvg_id</a></span>) <span class="id">ih];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cst_continuous">cst_continuous</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">exprS;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">exprS;</span> <span class="id">exact:</span> <span class="id">ih</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="sqr_continuous">sqr_continuous</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">@exprz</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'^~'_x">^~</a></span> <span class="id">2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="id">exact:</span> (<span class="id">@exprn_continuous</span> <span class="id">2%N</span>). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="sqrt_continuous">sqrt_continuous</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">@Num</span>.<span class="id">sqrt</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">case:</span> (<span class="id">ltrgtP</span> <span class="id">x</span> <span class="id">0</span>) <span class="id">=&gt;</span> <span class="id">[xlt0</span> <span class="id">|</span> <span class="id">xgt0</span> <span class="id">|</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#near_cst_continuous">near_cst_continuous</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ltr0_sqrtr//;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_lt">cvgr_lt</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">I</span> <span class="id"><a name="b:296">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set`'_x_']'">[set`</a></span> <span class="id">`]0</span> <span class="id">^+</span> <span class="id">2,</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:297">b</a></span> <span class="id">^+</span> <span class="id">2[]</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">main</span> <span class="id">b</span> <span class="id">:</span> <span class="id">0</span> <span class="id">&lt;=</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:298">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id">I</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:298">b,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">@Num</span>.<span class="id">sqrt</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances.R">R</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">}</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#::ring_scope:'+oo_'_x">+oo_R</a></span> <span class="id">=&gt;</span> <span class="id">M;</span> <span class="id">apply:</span> (<span class="id">main</span> <span class="id">M</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">//</span> <span class="id">/I</span> <span class="id">!inE/=</span> <span class="id">in_itv/=</span> <span class="id">expr0n</span> <span class="id">xgt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltr_sqrt</span> <span class="id">?exprn_gt0//</span> <span class="id">sqrtr_sqr</span> <span class="id">gtr0_norm/=</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">b0;</span> <span class="id">rewrite</span> <span class="id">-continuous_open_subspace;</span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW;</a></span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#subset_itv_oo_cc">subset_itv_oo_cc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@segment_can_le_continuous</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">@GRing</span>.<span class="id">exp</span> <span class="id">_^~</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">y0b;</span> <span class="id">rewrite</span> <span class="id">sqrtr_sqr</span> <span class="id">ger0_norm//</span> (<span class="id">itvP</span> <span class="id">y0b</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">sqrtr0;</span> <span class="id">apply/cvgr0Pnorm_lt</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/posnumP[e];</span> <span class="id">near=&gt;</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[ylt0|yge0]</span> <span class="id">:=</span> <span class="id">ltrP</span> <span class="id">y</span> <span class="id">0;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr0_sqrtr</span> <span class="id">?normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ger0_norm</span> <span class="id">?sqrtr_ge0//;</span> <span class="id">have:</span> <span class="id">`|y|</span> <span class="id">&lt;</span> <span class="id">e%:num</span> <span class="id">^+</span> <span class="id">2</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltr_sqrt//</span> <span class="id">ger0_norm//</span> <span class="id">sqrtr_sqr</span> <span class="id">ger0_norm</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#real_inverse_function_instances">real_inverse_function_instances</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="is_derive_inverse">is_derive_inverse</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="is_derive_inverse.R">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="is_derive1_caratheodory">is_derive1_caratheodory</a></span> (<span class="id"><a name="f:300">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id"><a name="x:301">x</a></span> <span class="id"><a name="a:302">a</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:301">x</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:300">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:302">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a name="g:303">g,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">[/\</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="z:304">z,</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:300">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#z:304">z</a></span> <span class="id">-</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:300">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:301">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:303">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#z:304">z</a></span> <span class="id">*</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#z:304">z</a></span> <span class="id">-</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:301">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'for'_x_','_x_'}'">{for</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:301">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:303">g}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'['_'/\'_x_','_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:303">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:301">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:302">a]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[Hd|[g</span> <span class="id">[fxE</span> <span class="id">Cg</span> <span class="id">gxE]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span class="id"><a name="z:305">z</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.realfun.html#z:305">z</a></span> <span class="id">==</span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id">a</span> <span class="gallina-kwd">else</span> (<span class="id">f</span>(<span class="id"><a href="mathcomp.analysis.realfun.html#z:305">z</a></span>) <span class="id">-</span> <span class="id">f</span>(<span class="id">x</span>)) <span class="id">/</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#z:305">z</a></span> <span class="id">-</span> <span class="id">x</span>))<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">case:</span> <span class="id">eqP</span> <span class="id">=&gt;</span> <span class="id">[-&gt;|/eqP];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!subrr</span> <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-subr_eq0</span> <span class="id">=&gt;</span> <span class="id">/divfK-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply/continuous_withinNshiftx;</span> <span class="id">rewrite</span> <span class="id">eqxx</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">g1</span> <span class="id"><a name="h:307">h</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#h:307">h^-1</a></span> <span class="id">*:</span> ((<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#h:307">h%:A</a></span> <span class="id">-</span> <span class="id">f</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span> <span class="id">g1</span> <span class="id">@</span> <span class="id">0^'</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">Hd</span> <span class="id">=&gt;</span> <span class="id">H1</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg;</a></span> <span class="id">rewrite</span> <span class="id">/g1</span> <span class="id">!fctE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near=&gt;</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">addrK</span> <span class="id">mulrC</span> <span class="id">/=</span> <span class="id">[_%:A]mulr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-subr_eq0</span> <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl;</a></span> <span class="id">near=&gt;</span> <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
<span class="id">suff</span> <span class="id">Hf</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#h:308">h^-1</a></span> <span class="id">*:</span> ((<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#h:308">h%:A</a></span> <span class="id">-</span> <span class="id">f</span> <span class="id">x</span>) <span class="id">@[h</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id">0^']</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.derive.html#:::'''D_'_x_x_x">'D_1</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">a</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-F1</span> <span class="gallina-kwd">in</span> <span class="id">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span>  (<span class="id">g</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.realfun.html#y:309">y</a></span> <span class="id">@[y</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id">0^']</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-gxE;</span> <span class="id">apply/continuous_withinNshiftx</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">F1;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_eq_cvg">near_eq_cvg</a></span>.<br/>
<span class="id">near=&gt;</span> <span class="id">y</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">fxE</span> <span class="id">/=</span> <span class="id">addrK</span> <span class="id">[_%:A]mulr1</span>.<br/>
<span class="id">suff</span> <span class="id">yNZ</span> <span class="id">:</span> <span class="id">y</span> <span class="id">!=</span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[RHS]mulrC</span> <span class="id">mulfK</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl;</a></span> <span class="id">near=&gt;</span> <span class="id">x1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="is_derive_0_is_cst">is_derive_0_is_cst</a></span> (<span class="id"><a name="f:310">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id"><a name="x:311">x</a></span> <span class="id"><a name="y:312">y</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="x:313">x,</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:313">x</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:310">f</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:310">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:311">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:310">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:312">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">move=&gt;</span> <span class="id">Hd</span>.<br/>
<span class="id">wlog</span> <span class="id">xLy</span> <span class="id">:</span> <span class="id">x</span> <span class="id">y</span> <span class="id">/</span> <span class="id">x</span> <span class="id">&lt;=</span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">case:</span> (<span class="id">leP</span> <span class="id">x</span> <span class="id">y</span>) <span class="id">=&gt;</span> <span class="id">[/H</span> <span class="id">|/ltW</span> <span class="id">/H]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">subKr</span> (<span class="id">f</span> <span class="id">y</span>) (<span class="id">f</span> <span class="id">x</span>)).<br/>
<span class="id">have</span> <span class="id">[|</span> <span class="id">_</span> <span class="id">_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.derive.html#MVT_segment">MVT_segment</a></span> <span class="id">xLy;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0r</span> <span class="id">=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">subr0</span>.<br/>
<span class="id">apply/continuous_subspaceT=&gt;</span> <span class="id">r</span>.<br/>
<span class="id">exact/differentiable_continuous/derivable1_diffP</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="vernacular">Instance</span> <span class="id"><a name="is_derive1_comp">is_derive1_comp</a></span> (<span class="id"><a name="f:314">f</a></span> <span class="id"><a name="g:315">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id"><a name="x:316">x</a></span> <span class="id"><a name="a:317">a</a></span> <span class="id"><a name="b:318">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#g:315">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:316">x</a></span>) <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:314">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#a:317">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:316">x</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:315">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:318">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:316">x</a></span> <span class="id">1</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:314">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:315">g</a></span>) (<span class="id"><a href="mathcomp.analysis.realfun.html#a:317">a</a></span> <span class="id">*</span> <span class="id"><a href="mathcomp.analysis.realfun.html#b:318">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">move=&gt;</span> <span class="id">[fgxv</span> <span class="id">&lt;-{a}]</span> <span class="id">[gv</span> <span class="id">&lt;-{b}];</span> <span class="id">apply:</span> (<span class="id">@DeriveDef</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id">g</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply/derivable1_diffP/differentiable_comp;</span> <span class="id">first</span> <span class="id">exact/derivable1_diffP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/derivable1_diffP</span> <span class="gallina-kwd">in</span> <span class="id">fgxv</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-derive1E</span> (<span class="id"><a href="mathcomp.analysis.derive.html#derive1_comp">derive1_comp</a></span> <span class="id">gv</span> <span class="id">fgxv</span>) <span class="id">2!derive1E</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="is_deriveV">is_deriveV</a></span> (<span class="id"><a name="f:319">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) (<span class="id"><a name="x:320">x</a></span> <span class="id"><a name="t:321">t</a></span> <span class="id"><a name="v:322">v</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.realfun.html#f:319">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:320">x</a></span> <span class="id">!=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:320">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#v:322">v</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:319">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:321">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:320">x</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#v:322">v</a></span> (<span class="gallina-kwd">fun</span> <span class="id"><a name="y:323">y</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:319">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:323">y</a></span>)<span class="id">^-1</span>) (<span class="id">-</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:319">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:320">x</a></span>) <span class="id">^-</span> <span class="id">2</span> <span class="id">*:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#t:321">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">move=&gt;</span> <span class="id">fxNZ</span> <span class="id">Df</span>.<br/>
<span class="id">constructor;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.derive.html#derivableV">derivableV</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">Df</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveV">deriveV</a></span> <span class="id">//;</span> <span class="id">case:</span> <span class="id">Df</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="is_derive_inverse">is_derive_inverse</a></span> (<span class="id"><a name="f:324">f</a></span> <span class="id"><a name="g:325">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse.R">R</a></span>) <span class="id"><a name="l:326">l</a></span> <span class="id"><a name="x:327">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:327">x,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:324">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:325">g}</a></span>  <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'{'_'near'_x_','_x_'}'">{near</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:327">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:324">f}</a></span>  <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:327">x</a></span> <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#f:324">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:326">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:326">l</a></span> <span class="id">!=</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#f:324">f</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:327">x</a></span>) <span class="id">1</span> <span class="id"><a href="mathcomp.analysis.realfun.html#g:325">g</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html#l:326">l^-1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">move=&gt;</span> <span class="id">fgK</span> <span class="id">fC</span> <span class="id">fD</span> <span class="id">lNZ</span>.<br/>
<span class="id">have</span> <span class="id">/is_derive1_caratheodory</span> <span class="id">[h</span> <span class="id">[fE</span> <span class="id">hC</span> <span class="id">hxE]]</span> <span class="id">:=</span> <span class="id">fD</span>.<br/>
<span class="comment">(*&nbsp;There&nbsp;should&nbsp;be&nbsp;something&nbsp;simpler&nbsp;*)</span><br/>
<span class="id">have</span> <span class="id">gfxE</span> <span class="id">:</span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">x</span> <span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[d</span> <span class="id">Hd]:=</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ex">nbhs_ex</a></span> <span class="id">fgK;</span> <span class="id">apply:</span> <span class="id">Hd</span>.<br/>
<span class="id">pose</span> <span class="id">g1</span> <span class="id"><a name="y:328">y</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:328">y</a></span> <span class="id">==</span> <span class="id">f</span> <span class="id">x</span> <span class="gallina-kwd">then</span> (<span class="id">h</span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:328">y</a></span>))<span class="id">^-1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#y:328">y</a></span> <span class="id">-</span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>)) <span class="id">/</span> (<span class="id"><a href="mathcomp.analysis.realfun.html#y:328">y</a></span> <span class="id">-</span> <span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">apply/is_derive1_caratheodory</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">g1;</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">2</span> <span class="id">last</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/g1</span> <span class="id">eqxx</span> <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">/g1;</span> <span class="id">case:</span> <span class="id">eqP</span> <span class="id">=&gt;</span> <span class="id">[-&gt;|/eqP];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!subrr</span> <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-subr_eq0</span> <span class="id">=&gt;</span> <span class="id">/divfK</span>.<br/>
<span class="id">have</span> <span class="id">F1</span> <span class="id">:</span> (<span class="id">h</span> (<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.realfun.html#x:329">x</a></span>))<span class="id">^-1</span> <span class="id">@[x</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'@['_x_'-->'_x_']'">--&gt;</a></span> <span class="id">f</span> <span class="id">x]</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id">g1</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/g1</span> <span class="id">eqxx;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousV">continuousV;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">gfxE</span> <span class="id">hxE</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">gfxE</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> (<span class="id"><a href="mathcomp.analysis.realfun.html#near_can_continuous">near_can_continuous</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_sub0">cvg_sub0</a></span> <span class="id">F1</span>.<br/>
<span class="id">apply/cvgrPdist_lt</span> <span class="id">=&gt;</span> <span class="id">eps</span> <span class="id">eps_gt0</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!near_simpl</span> <span class="id">/=</span>.<br/>
<span class="id">near=&gt;</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">!fctE</span>.<br/>
<span class="id">have</span> <span class="id">fgyE</span> <span class="id">:</span> <span class="id">f</span> (<span class="id">g</span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">near:</span> <span class="id">y;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.realfun.html#near_continuous_can_sym">near_continuous_can_sym</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/g1;</span> <span class="id">case:</span> <span class="id">eqP</span> <span class="id">=&gt;</span> <span class="id">[_|/eqP</span> <span class="id">x1Dfx];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">y</span> <span class="id">-</span> <span class="id">f</span> <span class="id">x</span>  <span class="id">=</span> <span class="id">h</span> (<span class="id">g</span> <span class="id">y</span>) <span class="id">*</span> (<span class="id">g</span> <span class="id">y</span> <span class="id">-</span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-fE</span> <span class="id">fgyE</span>.<br/>
<span class="id">rewrite</span> <span class="id">gfxE</span> <span class="id">invfM</span> <span class="id">mulrC</span> <span class="id">divfK</span> <span class="id">?subrr</span> <span class="id">?normr0</span> <span class="id">//</span> <span class="id">subr_eq0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> <span class="id">x1Dfx</span> <span class="id">=&gt;</span> <span class="id">/eqP&lt;-;</span> <span class="id">apply/eqP</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all:</span> <span class="gallina-kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_derive_inverse">is_derive_inverse</a></span>.<br/>
<br/>
<span class="id">#[global]</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">0</span> (<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id">_</span> <span class="id">_</span>)<span class="id">^-1</span>) <span class="id">_</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">eapply</span> <span class="id"><a href="mathcomp.analysis.realfun.html#is_deriveV">is_deriveV;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>) <span class="id">:</span> <span class="id">typeclass_instances</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
