
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Allocproof</title>
<meta name="description" content="Documentation of Coq module Allocproof" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Allocproof</h1>
<br/>
<div class="doc">Correctness proof for the <span class="bracket"><span class="id">Allocation</span></span> pass (validated translation from
  RTL to LTL). </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.funind.FunInd.html">FunInd</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Ordered.html">Ordered</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span> <span class="id"><a href="compcert.lib.Lattice.html">Lattice</a></span> <span class="id"><a href="compcert.backend.Kildall.html">Kildall</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="vernacular">Require</span> <span class="id"><a href="compcert.x86_64.Archi.html">Archi</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.x86.Op.html">Op</a></span> <span class="id"><a href="compcert.backend.Registers.html">Registers</a></span> <span class="id"><a href="compcert.backend.RTL.html">RTL</a></span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span> <span class="id"><a href="compcert.backend.Conventions.html">Conventions</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html">RTLtyping</a></span> <span class="id"><a href="compcert.backend.LTL.html">LTL</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.backend.Allocation.html">Allocation</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="match_prog" class="id"><a name="match_prog" class="">match_prog</a></span> (<span id="p:1" class="id"><a name="p:1" class="">p:</a></span> <span class="id"><a href="compcert.backend.RTL.html#program">RTL.program</a></span>) (<span id="tp:2" class="id"><a name="tp:2" class="">tp:</a></span> <span class="id"><a href="compcert.backend.LTL.html#program">LTL.program</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#match_program">match_program</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span id="f:3" class="id"><a name="f:3" class="">f</a></span> <span id="tf:4" class="id"><a name="tf:4" class="">tf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:3">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:4">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:1">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tp:2">tp</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transf_program_match" class="id"><a name="transf_program_match" class="">transf_program_match:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:5" class="id"><a name="p:5" class="">p</a></span> <span id="tp:6" class="id"><a name="tp:6" class="">tp,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transf_program">transf_program</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:5">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tp:6">tp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:5">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tp:6">tp</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Linking.html#match_transform_partial_program">match_transform_partial_program;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Soundness of structural checks </h1>
<br/>
<span class="vernacular">Definition</span> <span id="expand_move" class="id"><a name="expand_move" class="">expand_move</a></span> (<span id="m:7" class="id"><a name="m:7" class="">m:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#move">move</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.LTL.html#instruction">instruction</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#m:7">m</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">src</span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omove">Omove</a></span> (<span class="id">src::nil</span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.LTL.html#Lgetstack">Lgetstack</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">dst</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">src</span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.LTL.html#Lsetstack">Lsetstack</a></span> <span class="id">src</span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.LTL.html#Lreturn">Lreturn</a></span>    <span class="docright">(* should never happen  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MVmakelong">MVmakelong</a></span> <span class="id">src1</span> <span class="id">src2</span> <span class="id">dst</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omakelong">Omakelong</a></span> (<span class="id">src1::src2::nil</span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MVlowlong">MVlowlong</a></span> <span class="id">src</span> <span class="id">dst</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Olowlong">Olowlong</a></span> (<span class="id">src::nil</span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MVhighlong">MVhighlong</a></span> <span class="id">src</span> <span class="id">dst</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Ohighlong">Ohighlong</a></span> (<span class="id">src::nil</span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="expand_moves" class="id"><a name="expand_moves" class="">expand_moves</a></span> (<span id="mv:9" class="id"><a name="mv:9" class="">mv:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#moves">moves</a></span>) (<span id="k:10" class="id"><a name="k:10" class="">k:</a></span> <span class="id"><a href="compcert.backend.LTL.html#bblock">bblock</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.LTL.html#bblock">bblock</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_move">expand_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:9">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:10">k</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="wf_move" class="id"><a name="wf_move" class="">wf_move</a></span> (<span id="m:11" class="id"><a name="m:11" class="">m:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#move">move</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#m:11">m</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="wf_moves" class="id"><a name="wf_moves" class="">wf_moves</a></span> (<span id="mv:13" class="id"><a name="mv:13" class="">mv:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#moves">moves</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall">List.Forall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_move">wf_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:13">mv</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="expand_block_shape" class="id"><a name="expand_block_shape" class="">expand_block_shape:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#block_shape">block_shape</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.RTL.html#instruction">RTL.instruction</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.LTL.html#bblock">LTL.bblock</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_nop" class="id"><a name="ebs_nop" class="">ebs_nop:</a></span> <span class="gallina-kwd">forall</span> <span id="mv:16" class="id"><a name="mv:16" class="">mv</a></span> <span id="s:17" class="id"><a name="s:17" class="">s</a></span> <span id="k:18" class="id"><a name="k:18" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:16">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSnop">BSnop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:16">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:17">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Inop">Inop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:17">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:16">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:17">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:18">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_move" class="id"><a name="ebs_move" class="">ebs_move:</a></span> <span class="gallina-kwd">forall</span> <span id="src:19" class="id"><a name="src:19" class="">src</a></span> <span id="dst:20" class="id"><a name="dst:20" class="">dst</a></span> <span id="mv:21" class="id"><a name="mv:21" class="">mv</a></span> <span id="s:22" class="id"><a name="s:22" class="">s</a></span> <span id="k:23" class="id"><a name="k:23" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:21">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSmove">BSmove</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:19">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:20">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:21">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:22">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omove">Omove</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src:19">src</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst:20">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:22">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:21">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:22">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:23">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_makelong" class="id"><a name="ebs_makelong" class="">ebs_makelong:</a></span> <span class="gallina-kwd">forall</span> <span id="src1:24" class="id"><a name="src1:24" class="">src1</a></span> <span id="src2:25" class="id"><a name="src2:25" class="">src2</a></span> <span id="dst:26" class="id"><a name="dst:26" class="">dst</a></span> <span id="mv:27" class="id"><a name="mv:27" class="">mv</a></span> <span id="s:28" class="id"><a name="s:28" class="">s</a></span> <span id="k:29" class="id"><a name="k:29" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:27">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSmakelong">BSmakelong</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1:24">src1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2:25">src2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:26">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:27">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:28">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omakelong">Omakelong</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src1:24">src1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2:25">src2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst:26">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:28">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:27">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:28">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:29">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_lowlong" class="id"><a name="ebs_lowlong" class="">ebs_lowlong:</a></span> <span class="gallina-kwd">forall</span> <span id="src:30" class="id"><a name="src:30" class="">src</a></span> <span id="dst:31" class="id"><a name="dst:31" class="">dst</a></span> <span id="mv:32" class="id"><a name="mv:32" class="">mv</a></span> <span id="s:33" class="id"><a name="s:33" class="">s</a></span> <span id="k:34" class="id"><a name="k:34" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:32">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSlowlong">BSlowlong</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:30">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:31">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:32">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:33">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src:30">src</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst:31">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:33">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:32">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:33">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:34">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_highlong" class="id"><a name="ebs_highlong" class="">ebs_highlong:</a></span> <span class="gallina-kwd">forall</span> <span id="src:35" class="id"><a name="src:35" class="">src</a></span> <span id="dst:36" class="id"><a name="dst:36" class="">dst</a></span> <span id="mv:37" class="id"><a name="mv:37" class="">mv</a></span> <span id="s:38" class="id"><a name="s:38" class="">s</a></span> <span id="k:39" class="id"><a name="k:39" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:37">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BShighlong">BShighlong</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:35">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:36">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:37">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:38">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src:35">src</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst:36">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:38">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:37">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:38">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:39">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_op" class="id"><a name="ebs_op" class="">ebs_op:</a></span> <span class="gallina-kwd">forall</span> <span id="op:40" class="id"><a name="op:40" class="">op</a></span> <span id="args:41" class="id"><a name="args:41" class="">args</a></span> <span id="res:42" class="id"><a name="res:42" class="">res</a></span> <span id="mv1:43" class="id"><a name="mv1:43" class="">mv1</a></span> <span id="args':44" class="id"><a name="args':44" class="">args'</a></span> <span id="res':45" class="id"><a name="res':45" class="">res'</a></span> <span id="mv2:46" class="id"><a name="mv2:46" class="">mv2</a></span> <span id="s:47" class="id"><a name="s:47" class="">s</a></span> <span id="k:48" class="id"><a name="k:48" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:43">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:46">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSop">BSop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op:40">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:41">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:42">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:43">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':44">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':45">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:46">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:47">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op:40">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:41">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:42">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:47">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:43">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op:40">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':44">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':45">res'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:46">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:47">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:48">k</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_op_dead" class="id"><a name="ebs_op_dead" class="">ebs_op_dead:</a></span> <span class="gallina-kwd">forall</span> <span id="op:49" class="id"><a name="op:49" class="">op</a></span> <span id="args:50" class="id"><a name="args:50" class="">args</a></span> <span id="res:51" class="id"><a name="res:51" class="">res</a></span> <span id="mv:52" class="id"><a name="mv:52" class="">mv</a></span> <span id="s:53" class="id"><a name="s:53" class="">s</a></span> <span id="k:54" class="id"><a name="k:54" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:52">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSopdead">BSopdead</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op:49">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:50">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:51">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:52">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:53">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op:49">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:50">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:51">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:53">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:52">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:53">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:54">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_load" class="id"><a name="ebs_load" class="">ebs_load:</a></span> <span class="gallina-kwd">forall</span> <span id="chunk:55" class="id"><a name="chunk:55" class="">chunk</a></span> <span id="addr:56" class="id"><a name="addr:56" class="">addr</a></span> <span id="args:57" class="id"><a name="args:57" class="">args</a></span> <span id="dst:58" class="id"><a name="dst:58" class="">dst</a></span> <span id="mv1:59" class="id"><a name="mv1:59" class="">mv1</a></span> <span id="args':60" class="id"><a name="args':60" class="">args'</a></span> <span id="dst':61" class="id"><a name="dst':61" class="">dst'</a></span> <span id="mv2:62" class="id"><a name="mv2:62" class="">mv2</a></span> <span id="s:63" class="id"><a name="s:63" class="">s</a></span> <span id="k:64" class="id"><a name="k:64" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:59">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:62">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload">BSload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:55">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:56">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:57">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:58">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:59">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':60">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst':61">dst'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:62">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:63">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:55">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:56">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:57">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:58">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:63">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:59">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:55">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:56">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':60">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst':61">dst'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:62">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:63">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:64">k</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_load2" class="id"><a name="ebs_load2" class="">ebs_load2:</a></span> <span class="gallina-kwd">forall</span> <span id="addr:65" class="id"><a name="addr:65" class="">addr</a></span> <span id="addr2:66" class="id"><a name="addr2:66" class="">addr2</a></span> <span id="args:67" class="id"><a name="args:67" class="">args</a></span> <span id="dst:68" class="id"><a name="dst:68" class="">dst</a></span> <span id="mv1:69" class="id"><a name="mv1:69" class="">mv1</a></span> <span id="args1':70" class="id"><a name="args1':70" class="">args1'</a></span> <span id="dst1':71" class="id"><a name="dst1':71" class="">dst1'</a></span> <span id="mv2:72" class="id"><a name="mv2:72" class="">mv2</a></span> <span id="args2':73" class="id"><a name="args2':73" class="">args2'</a></span> <span id="dst2':74" class="id"><a name="dst2':74" class="">dst2'</a></span> <span id="mv3:75" class="id"><a name="mv3:75" class="">mv3</a></span> <span id="s:76" class="id"><a name="s:76" class="">s</a></span> <span id="k:77" class="id"><a name="k:77" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:69">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:72">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv3:75">mv3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:65">addr</a></span> <span class="id">4</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:66">addr2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload2">BSload2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:65">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:66">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:67">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:68">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:69">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args1':70">args1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst1':71">dst1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:72">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args2':73">args2'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst2':74">dst2'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv3:75">mv3</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:76">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:65">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:67">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:68">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:76">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:69">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:65">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args1':70">args1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst1':71">dst1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:72">mv2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:66">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args2':73">args2'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst2':74">dst2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv3:75">mv3</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:76">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:77">k</a></span>))))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_load2_1" class="id"><a name="ebs_load2_1" class="">ebs_load2_1:</a></span> <span class="gallina-kwd">forall</span> <span id="addr:78" class="id"><a name="addr:78" class="">addr</a></span> <span id="args:79" class="id"><a name="args:79" class="">args</a></span> <span id="dst:80" class="id"><a name="dst:80" class="">dst</a></span> <span id="mv1:81" class="id"><a name="mv1:81" class="">mv1</a></span> <span id="args':82" class="id"><a name="args':82" class="">args'</a></span> <span id="dst':83" class="id"><a name="dst':83" class="">dst'</a></span> <span id="mv2:84" class="id"><a name="mv2:84" class="">mv2</a></span> <span id="s:85" class="id"><a name="s:85" class="">s</a></span> <span id="k:86" class="id"><a name="k:86" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:81">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:84">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload2_1">BSload2_1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:78">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:79">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:80">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:81">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':82">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst':83">dst'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:84">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:85">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:78">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:79">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:80">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:85">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:81">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:78">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':82">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst':83">dst'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:84">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:85">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:86">k</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_load2_2" class="id"><a name="ebs_load2_2" class="">ebs_load2_2:</a></span> <span class="gallina-kwd">forall</span> <span id="addr:87" class="id"><a name="addr:87" class="">addr</a></span> <span id="addr2:88" class="id"><a name="addr2:88" class="">addr2</a></span> <span id="args:89" class="id"><a name="args:89" class="">args</a></span> <span id="dst:90" class="id"><a name="dst:90" class="">dst</a></span> <span id="mv1:91" class="id"><a name="mv1:91" class="">mv1</a></span> <span id="args':92" class="id"><a name="args':92" class="">args'</a></span> <span id="dst':93" class="id"><a name="dst':93" class="">dst'</a></span> <span id="mv2:94" class="id"><a name="mv2:94" class="">mv2</a></span> <span id="s:95" class="id"><a name="s:95" class="">s</a></span> <span id="k:96" class="id"><a name="k:96" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:91">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:94">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:87">addr</a></span> <span class="id">4</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:88">addr2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload2_2">BSload2_2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:87">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:88">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:89">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:90">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:91">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':92">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst':93">dst'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:94">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:95">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:87">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:89">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:90">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:95">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:91">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:88">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':92">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst':93">dst'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:94">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:95">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:96">k</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_load_dead" class="id"><a name="ebs_load_dead" class="">ebs_load_dead:</a></span> <span class="gallina-kwd">forall</span> <span id="chunk:97" class="id"><a name="chunk:97" class="">chunk</a></span> <span id="addr:98" class="id"><a name="addr:98" class="">addr</a></span> <span id="args:99" class="id"><a name="args:99" class="">args</a></span> <span id="dst:100" class="id"><a name="dst:100" class="">dst</a></span> <span id="mv:101" class="id"><a name="mv:101" class="">mv</a></span> <span id="s:102" class="id"><a name="s:102" class="">s</a></span> <span id="k:103" class="id"><a name="k:103" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:101">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSloaddead">BSloaddead</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:97">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:98">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:99">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:100">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:101">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:102">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:97">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:98">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:99">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:100">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:102">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:101">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:102">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:103">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_store" class="id"><a name="ebs_store" class="">ebs_store:</a></span> <span class="gallina-kwd">forall</span> <span id="chunk:104" class="id"><a name="chunk:104" class="">chunk</a></span> <span id="addr:105" class="id"><a name="addr:105" class="">addr</a></span> <span id="args:106" class="id"><a name="args:106" class="">args</a></span> <span id="src:107" class="id"><a name="src:107" class="">src</a></span> <span id="mv1:108" class="id"><a name="mv1:108" class="">mv1</a></span> <span id="args':109" class="id"><a name="args':109" class="">args'</a></span> <span id="src':110" class="id"><a name="src':110" class="">src'</a></span> <span id="s:111" class="id"><a name="s:111" class="">s</a></span> <span id="k:112" class="id"><a name="k:112" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:108">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSstore">BSstore</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:104">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:105">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:106">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:107">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:108">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':109">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src':110">src'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:111">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Istore">Istore</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:104">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:105">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:106">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:107">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:111">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:108">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk:104">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:105">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':109">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src':110">src'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:111">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:112">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_store2" class="id"><a name="ebs_store2" class="">ebs_store2:</a></span> <span class="gallina-kwd">forall</span> <span id="addr:113" class="id"><a name="addr:113" class="">addr</a></span> <span id="addr2:114" class="id"><a name="addr2:114" class="">addr2</a></span> <span id="args:115" class="id"><a name="args:115" class="">args</a></span> <span id="src:116" class="id"><a name="src:116" class="">src</a></span> <span id="mv1:117" class="id"><a name="mv1:117" class="">mv1</a></span> <span id="args1':118" class="id"><a name="args1':118" class="">args1'</a></span> <span id="src1':119" class="id"><a name="src1':119" class="">src1'</a></span> <span id="mv2:120" class="id"><a name="mv2:120" class="">mv2</a></span> <span id="args2':121" class="id"><a name="args2':121" class="">args2'</a></span> <span id="src2':122" class="id"><a name="src2':122" class="">src2'</a></span> <span id="s:123" class="id"><a name="s:123" class="">s</a></span> <span id="k:124" class="id"><a name="k:124" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:117">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:120">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:113">addr</a></span> <span class="id">4</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:114">addr2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSstore2">BSstore2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:113">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:114">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:115">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:116">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:117">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args1':118">args1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1':119">src1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:120">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args2':121">args2'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2':122">src2'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:123">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Istore">Istore</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:113">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:115">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:116">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:123">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:117">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:113">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args1':118">args1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1':119">src1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:120">mv2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2:114">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args2':121">args2'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2':122">src2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:123">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:124">k</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_call" class="id"><a name="ebs_call" class="">ebs_call:</a></span> <span class="gallina-kwd">forall</span> <span id="sg:125" class="id"><a name="sg:125" class="">sg</a></span> <span id="ros:126" class="id"><a name="ros:126" class="">ros</a></span> <span id="args:127" class="id"><a name="args:127" class="">args</a></span> <span id="res:128" class="id"><a name="res:128" class="">res</a></span> <span id="mv1:129" class="id"><a name="mv1:129" class="">mv1</a></span> <span id="ros':130" class="id"><a name="ros':130" class="">ros'</a></span> <span id="mv2:131" class="id"><a name="mv2:131" class="">mv2</a></span> <span id="s:132" class="id"><a name="s:132" class="">s</a></span> <span id="k:133" class="id"><a name="k:133" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:129">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:131">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BScall">BScall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:125">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:126">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:127">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:128">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:129">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros':130">ros'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:131">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:132">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Icall">Icall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:125">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:126">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:127">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:128">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:132">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:129">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lcall">Lcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:125">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros':130">ros'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:131">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:132">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:133">k</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_tailcall" class="id"><a name="ebs_tailcall" class="">ebs_tailcall:</a></span> <span class="gallina-kwd">forall</span> <span id="sg:134" class="id"><a name="sg:134" class="">sg</a></span> <span id="ros:135" class="id"><a name="ros:135" class="">ros</a></span> <span id="args:136" class="id"><a name="args:136" class="">args</a></span> <span id="mv:137" class="id"><a name="mv:137" class="">mv</a></span> <span id="ros':138" class="id"><a name="ros':138" class="">ros'</a></span> <span id="k:139" class="id"><a name="k:139" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:137">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BStailcall">BStailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:134">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:135">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:136">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:137">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros':138">ros'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Itailcall">Itailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:134">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:135">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:136">args</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:137">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Ltailcall">Ltailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:134">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros':138">ros'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:139">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_builtin" class="id"><a name="ebs_builtin" class="">ebs_builtin:</a></span> <span class="gallina-kwd">forall</span> <span id="ef:140" class="id"><a name="ef:140" class="">ef</a></span> <span id="args:141" class="id"><a name="args:141" class="">args</a></span> <span id="res:142" class="id"><a name="res:142" class="">res</a></span> <span id="mv1:143" class="id"><a name="mv1:143" class="">mv1</a></span> <span id="args':144" class="id"><a name="args':144" class="">args'</a></span> <span id="res':145" class="id"><a name="res':145" class="">res'</a></span> <span id="mv2:146" class="id"><a name="mv2:146" class="">mv2</a></span> <span id="s:147" class="id"><a name="s:147" class="">s</a></span> <span id="k:148" class="id"><a name="k:148" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:143">mv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:146">mv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSbuiltin">BSbuiltin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef:140">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:141">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:142">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:143">mv1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':144">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':145">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:146">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:147">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Ibuiltin">Ibuiltin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef:140">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:141">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:142">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:147">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1:143">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lbuiltin">Lbuiltin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef:140">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':144">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':145">res'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2:146">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:147">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:148">k</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_cond" class="id"><a name="ebs_cond" class="">ebs_cond:</a></span> <span class="gallina-kwd">forall</span> <span id="cond:149" class="id"><a name="cond:149" class="">cond</a></span> <span id="args:150" class="id"><a name="args:150" class="">args</a></span> <span id="mv:151" class="id"><a name="mv:151" class="">mv</a></span> <span id="args':152" class="id"><a name="args':152" class="">args'</a></span> <span id="s1:153" class="id"><a name="s1:153" class="">s1</a></span> <span id="s2:154" class="id"><a name="s2:154" class="">s2</a></span> <span id="k:155" class="id"><a name="k:155" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:151">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BScond">BScond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#cond:149">cond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:150">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:151">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':152">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s1:153">s1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s2:154">s2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Icond">Icond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#cond:149">cond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:150">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s1:153">s1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s2:154">s2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:151">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lcond">Lcond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#cond:149">cond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':152">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s1:153">s1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s2:154">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:155">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_jumptable" class="id"><a name="ebs_jumptable" class="">ebs_jumptable:</a></span> <span class="gallina-kwd">forall</span> <span id="arg:156" class="id"><a name="arg:156" class="">arg</a></span> <span id="mv:157" class="id"><a name="mv:157" class="">mv</a></span> <span id="arg':158" class="id"><a name="arg':158" class="">arg'</a></span> <span id="tbl:159" class="id"><a name="tbl:159" class="">tbl</a></span> <span id="k:160" class="id"><a name="k:160" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:157">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSjumptable">BSjumptable</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:156">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:157">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':158">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tbl:159">tbl</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Ijumptable">Ijumptable</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:156">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tbl:159">tbl</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:157">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Ljumptable">Ljumptable</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':158">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tbl:159">tbl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:160">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ebs_return" class="id"><a name="ebs_return" class="">ebs_return:</a></span> <span class="gallina-kwd">forall</span> <span id="optarg:161" class="id"><a name="optarg:161" class="">optarg</a></span> <span id="mv:162" class="id"><a name="mv:162" class="">mv</a></span> <span id="k:163" class="id"><a name="k:163" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:162">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape:14">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSreturn">BSreturn</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#optarg:161">optarg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:162">mv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Ireturn">Ireturn</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#optarg:161">optarg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:162">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lreturn">Lreturn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:163">k</a></span>)).<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">MonadInv</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id">?x</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[]</span> <span class="id">eqn:?</span> <span class="id">;</span> <span class="id">[MonadInv|discriminate]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id">?x</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">[MonadInv|discriminate]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="id">?x</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">[discriminate|simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">MonadInv]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">?x</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[]</span> <span class="id">eqn:?</span> <span class="id">;</span> <span class="id">[discriminate|simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">MonadInv]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id">?x</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[]</span> <span class="id">eqn:?</span> <span class="id">;</span> <span class="id">[MonadInv|discriminate]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id">?x</span> <span class="gallina-kwd">with</span> (<span class="id">_,</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">_</span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[]</span> <span class="id">eqn:?</span> <span class="id">;</span> <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="expand_moves_cons" class="id"><a name="expand_moves_cons" class="">expand_moves_cons:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:164" class="id"><a name="m:164" class="">m</a></span> <span id="accu:165" class="id"><a name="accu:165" class="">accu</a></span> <span id="b:166" class="id"><a name="b:166" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#m:164">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:165">accu</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#b:166">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:165">accu</a></span>) (<span class="id"><a href="compcert.backend.Allocproof.html#expand_move">expand_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:164">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:166">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves;</a></span> <span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_ass">app_ass</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="extract_moves_sound" class="id"><a name="extract_moves_sound" class="">extract_moves_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:167" class="id"><a name="b:167" class="">b</a></span> <span id="mv:168" class="id"><a name="mv:168" class="">mv</a></span> <span id="b':169" class="id"><a name="b':169" class="">b',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves">extract_moves</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:167">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#mv:168">mv,</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':169">b'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:168">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:167">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:168">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':169">b'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">BASE:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="accu:172" class="id"><span id="accu:170" class="id"><a name="accu:172" class="">accu</a></span></span> <span id="b:173" class="id"><span id="b:171" class="id"><a name="b:173" class="">b,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:170">accu</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:170">accu</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:170">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b:171">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:170">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b:171">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">IND:</span> <span class="gallina-kwd">forall</span> <span id="b:178" class="id"><span id="b:174" class="id"><a name="b:178" class="">b</a></span></span> <span id="accu:179" class="id"><span id="accu:175" class="id"><a name="accu:179" class="">accu</a></span></span> <span id="mv:180" class="id"><span id="mv:176" class="id"><a name="mv:180" class="">mv</a></span></span> <span id="b':181" class="id"><span id="b':177" class="id"><a name="b':181" class="">b',</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves">extract_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:175">accu</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:174">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#mv:176">mv,</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':177">b'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:175">accu</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:176">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:175">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b:174">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:176">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':177">b'</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">induction</span> <span class="id">b;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> <span class="id">a;</span> <span class="id">try</span> (<span class="id">inv</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id">BASE;</span> <span class="id">auto;</span> <span class="id">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#is_move_operation">is_move_operation</a></span> <span class="id">op</span> <span class="id">args</span>) <span class="gallina-kwd">as</span> <span class="id">[arg|]</span> <span class="id">eqn:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#is_move_operation_correct">is_move_operation_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B];</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;reg-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id">BASE;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;stack-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;reg-stack&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id">IND;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="extract_moves_ext_sound" class="id"><a name="extract_moves_ext_sound" class="">extract_moves_ext_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:182" class="id"><a name="b:182" class="">b</a></span> <span id="mv:183" class="id"><a name="mv:183" class="">mv</a></span> <span id="b':184" class="id"><a name="b':184" class="">b',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves_ext">extract_moves_ext</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:182">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#mv:183">mv,</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':184">b'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:183">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:182">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:183">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':184">b'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">BASE:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="accu:187" class="id"><span id="accu:185" class="id"><a name="accu:187" class="">accu</a></span></span> <span id="b:188" class="id"><span id="b:186" class="id"><a name="b:188" class="">b,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:185">accu</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:185">accu</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:185">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b:186">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:185">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b:186">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">IND:</span> <span class="gallina-kwd">forall</span> <span id="b:193" class="id"><span id="b:189" class="id"><a name="b:193" class="">b</a></span></span> <span id="accu:194" class="id"><span id="accu:190" class="id"><a name="accu:194" class="">accu</a></span></span> <span id="mv:195" class="id"><span id="mv:191" class="id"><a name="mv:195" class="">mv</a></span></span> <span id="b':196" class="id"><span id="b':192" class="id"><a name="b':196" class="">b',</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves_ext">extract_moves_ext</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:190">accu</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:189">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#mv:191">mv,</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':192">b'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:190">accu</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:191">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu:190">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b:189">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:191">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b':192">b'</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">induction</span> <span class="id">b;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> <span class="id">a;</span> <span class="id">try</span> (<span class="id">inv</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id">BASE;</span> <span class="id">auto;</span> <span class="id">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#classify_operation">classify_operation</a></span> <span class="id">op</span> <span class="id">args</span>).<br/>
&nbsp;&nbsp;<span class="id">*</span> <span class="comment">(*&nbsp;reg-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">*</span> <span class="comment">(*&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">*</span> <span class="comment">(*&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">*</span> <span class="comment">(*&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">*</span> <span class="comment">(*&nbsp;default&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id">BASE;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;stack-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;reg-stack&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id">IND;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="check_succ_sound" class="id"><a name="check_succ_sound" class="">check_succ_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:197" class="id"><a name="s:197" class="">s</a></span> <span id="b:198" class="id"><a name="b:198" class="">b,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#check_succ">check_succ</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:197">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:198">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="k:199" class="id"><a name="k:199" class="">k,</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:198">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:197">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:199">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">i;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">s</span> <span class="id">s0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="gallina-kwd">exists</span> <span class="id">b;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Ltac</span> <span class="id">UseParsingLemmas</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="id"><a href="compcert.backend.Allocation.html#extract_moves">extract_moves</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">_,</span> <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#extract_moves_sound">extract_moves_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">clear</span> <span class="id">H;</span> <span class="id">subst;</span> <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="id"><a href="compcert.backend.Allocation.html#extract_moves_ext">extract_moves_ext</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">_,</span> <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#extract_moves_ext_sound">extract_moves_ext_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">clear</span> <span class="id">H;</span> <span class="id">subst;</span> <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="id"><a href="compcert.backend.Allocation.html#check_succ">check_succ</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> (<span class="id">discriminate</span> <span class="id">H</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#check_succ_sound">check_succ_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">clear</span> <span class="id">H;</span> <span class="id">subst;</span> <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="pair_instr_block_sound" class="id"><a name="pair_instr_block_sound" class="">pair_instr_block_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:200" class="id"><a name="i:200" class="">i</a></span> <span id="b:201" class="id"><a name="b:201" class="">b</a></span> <span id="bsh:202" class="id"><a name="bsh:202" class="">bsh,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#pair_instr_block">pair_instr_block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i:200">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:201">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:202">bsh</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:202">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i:200">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:201">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">OP:</span> <span class="gallina-kwd">forall</span> <span id="op:209" class="id"><span id="op:203" class="id"><a name="op:209" class="">op</a></span></span> <span id="args:210" class="id"><span id="args:204" class="id"><a name="args:210" class="">args</a></span></span> <span id="res:211" class="id"><span id="res:205" class="id"><a name="res:211" class="">res</a></span></span> <span id="s:212" class="id"><span id="s:206" class="id"><a name="s:212" class="">s</a></span></span> <span id="b:213" class="id"><span id="b:207" class="id"><a name="b:213" class="">b</a></span></span> <span id="bsh:214" class="id"><span id="bsh:208" class="id"><a name="bsh:214" class="">bsh,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#pair_Iop_block">pair_Iop_block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op:203">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:204">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:205">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:206">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:207">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:208">bsh</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:208">bsh</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op:203">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:204">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:205">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:206">s</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b:207">b</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#pair_Iop_block">pair_Iop_block;</a></span> <span class="id">intros</span>. <span class="id">MonadInv</span>. <span class="id">destruct</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">i;</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_op">ebs_op;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_op_dead">ebs_op_dead;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">destruct</span> <span class="id">i;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;nop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;op&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#classify_operation">classify_operation</a></span> <span class="id">o</span> <span class="id">l</span>).<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn:SL;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn:SL;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn:SL;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;other&nbsp;ops&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;load&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b0</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">[]</span> <span class="id">b0];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id">m</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> &amp;&amp; <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span>) <span class="id">eqn:A;</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">[]</span> <span class="id">b];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">subst</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load2">ebs_load2;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">subst</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eq_addressing">eq_addressing</a></span> <span class="id">a</span> <span class="id">addr</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H2</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load2_1">ebs_load2_1;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#option_eq">option_eq</a></span> <span class="id"><a href="compcert.x86.Op.html#eq_addressing">eq_addressing</a></span> (<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id">a</span> <span class="id">4</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">addr</span>)).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H2</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load2_2">ebs_load2_2;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load">ebs_load;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load_dead">ebs_load_dead;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;store&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b0;</span> <span class="id">MonadInv</span>. <span class="id">destruct</span> <span class="id">i;</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id">m</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> &amp;&amp; <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span>) <span class="id">eqn:A;</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">[]</span> <span class="id">b];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">subst</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_store2">ebs_store2;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_store">ebs_store;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b0</span> <span class="gallina-kwd">as</span> <span class="id">[|[]</span> <span class="id">];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;tailcall&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b0</span> <span class="gallina-kwd">as</span> <span class="id">[|[]</span> <span class="id">];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b1</span> <span class="gallina-kwd">as</span> <span class="id">[|[]</span> <span class="id">];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cond&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b0</span> <span class="gallina-kwd">as</span> <span class="id">[|[]];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;jumptable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b0</span> <span class="gallina-kwd">as</span> <span class="id">[|[]];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b0</span> <span class="gallina-kwd">as</span> <span class="id">[|[]];</span> <span class="id">MonadInv;</span> <span class="id">UseParsingLemmas</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="matching_instr_block" class="id"><a name="matching_instr_block" class="">matching_instr_block:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:215" class="id"><a name="f1:215" class="">f1</a></span> <span id="f2:216" class="id"><a name="f2:216" class="">f2</a></span> <span id="pc:217" class="id"><a name="pc:217" class="">pc</a></span> <span id="bsh:218" class="id"><a name="bsh:218" class="">bsh</a></span> <span id="i:219" class="id"><a name="i:219" class="">i,</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f1:215">f1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f2:216">f2</a></span>)<span class="id">!pc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:218">bsh</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#fn_code">RTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f1:215">f1</a></span>)<span class="id">!pc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i:219">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="b:220" class="id"><a name="b:220" class="">b,</a></span> (<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f2:216">f2</a></span>)<span class="id">!pc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:220">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:218">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i:219">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:220">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gcombine">PTree.gcombine</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">f2</span>)<span class="id">!pc</span> <span class="gallina-kwd">as</span> <span class="id">[b|]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">b;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#pair_instr_block_sound">pair_instr_block_sound;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of equations </h1>
<br/>
<span class="vernacular">Module</span> <span id="ESF" class="id"><a name="ESF" class="">ESF</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet">EqSet</a></span>).<br/>
<span class="vernacular">Module</span> <span id="ESP" class="id"><a name="ESP" class="">ESP</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetProperties.html#Properties">FSetProperties.Properties</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet">EqSet</a></span>).<br/>
<span class="vernacular">Module</span> <span id="ESD" class="id"><a name="ESD" class="">ESD</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetDecide.html#Decide">FSetDecide.Decide</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet">EqSet</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_val" class="id"><a name="sel_val" class="">sel_val</a></span> (<span id="k:221" class="id"><a name="k:221" class="">k:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#equation_kind">equation_kind</a></span>) (<span id="v:222" class="id"><a name="v:222" class="">v:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#k:221">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocproof.html#v:222">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:222">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:222">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">A set of equations <span class="bracket"><span class="id">e</span></span> is satisfied in a RTL pseudoreg state <span class="bracket"><span class="id">rs</span></span>
  and an LTL location state <span class="bracket"><span class="id">ls</span></span> if, for every equation <span class="bracket"><span class="id">r</span> = <span class="id">l</span> [<span class="id">k</span>]</span> in <span class="bracket"><span class="id">e</span></span>,
  <span class="bracket"><span class="id">sel_val</span> <span class="id">k</span> (<span class="id">rs</span>#<span class="id">r</span>)</span> (the <span class="bracket"><span class="id">k</span></span> fragment of <span class="bracket"><span class="id">r</span></span>'s value in the RTL code)
  is less defined than <span class="bracket"><span class="id">ls</span> <span class="id">l</span></span> (the value of <span class="bracket"><span class="id">l</span></span> in the LTL code). </div>
<br/>
<span class="vernacular">Definition</span> <span id="satisf" class="id"><a name="satisf" class="">satisf</a></span> (<span id="rs:224" class="id"><a name="rs:224" class="">rs:</a></span> <span class="id"><a href="compcert.backend.RTL.html#regset">regset</a></span>) (<span id="ls:225" class="id"><a name="ls:225" class="">ls:</a></span> <span class="id"><a href="compcert.backend.LTL.html#locset">locset</a></span>) (<span id="e:226" class="id"><a name="e:226" class="">e:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="q:227" class="id"><a name="q:227" class="">q,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:227">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:226">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:227">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#rs:224">rs#</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:227">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocproof.html#ls:225">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:227">q</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="empty_eqs_satisf" class="id"><a name="empty_eqs_satisf" class="">empty_eqs_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:228" class="id"><a name="rs:228" class="">rs</a></span> <span id="ls:229" class="id"><a name="ls:229" class="">ls,</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:228">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:229">ls</a></span> <span class="id"><a href="compcert.backend.Allocation.html#empty_eqs">empty_eqs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#empty_eqs">empty_eqs;</a></span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="satisf_incr" class="id"><a name="satisf_incr" class="">satisf_incr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:230" class="id"><a name="rs:230" class="">rs</a></span> <span id="ls:231" class="id"><a name="ls:231" class="">ls</a></span> (<span id="e1:232" class="id"><a name="e1:232" class="">e1</a></span> <span id="e2:233" class="id"><a name="e2:233" class="">e2:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:230">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:231">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:233">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.Subset">EqSet.Subset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:232">e1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:233">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:230">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:231">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:232">e1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf;</a></span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">H</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="satisf_undef_reg" class="id"><a name="satisf_undef_reg" class="">satisf_undef_reg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:234" class="id"><a name="rs:234" class="">rs</a></span> <span id="ls:235" class="id"><a name="ls:235" class="">ls</a></span> <span id="e:236" class="id"><a name="e:236" class="">e</a></span> <span id="r:237" class="id"><a name="r:237" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:234">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:235">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:236">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:234">rs#r</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:235">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:236">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">r</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equation_lessdef" class="id"><a name="add_equation_lessdef" class="">add_equation_lessdef:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:238" class="id"><a name="rs:238" class="">rs</a></span> <span id="ls:239" class="id"><a name="ls:239" class="">ls</a></span> <span id="q:240" class="id"><a name="q:240" class="">q</a></span> <span id="e:241" class="id"><a name="e:241" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:238">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:239">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:240">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:241">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:240">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#rs:238">rs#</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:240">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocproof.html#ls:239">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:240">q</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">H</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span>. <span class="id">simpl</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.add_1">EqSet.add_1</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equation_satisf" class="id"><a name="add_equation_satisf" class="">add_equation_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:242" class="id"><a name="rs:242" class="">rs</a></span> <span id="ls:243" class="id"><a name="ls:243" class="">ls</a></span> <span id="q:244" class="id"><a name="q:244" class="">q</a></span> <span id="e:245" class="id"><a name="e:245" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:242">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:243">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:244">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:245">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:242">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:243">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:245">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr;</a></span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span>. <span class="id">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_satisf" class="id"><a name="add_equations_satisf" class="">add_equations_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:246" class="id"><a name="rs:246" class="">rs</a></span> <span id="ls:247" class="id"><a name="ls:247" class="">ls</a></span> <span id="rl:248" class="id"><a name="rl:248" class="">rl</a></span> <span id="ml:249" class="id"><a name="ml:249" class="">ml</a></span> <span id="e:250" class="id"><a name="e:250" class="">e</a></span> <span id="e':251" class="id"><a name="e':251" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations">add_equations</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl:248">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:249">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:250">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':251">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:246">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:247">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':251">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:246">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:247">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:250">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">rl;</span> <span class="id">destruct</span> <span class="id">ml;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_lessdef" class="id"><a name="add_equations_lessdef" class="">add_equations_lessdef:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:252" class="id"><a name="rs:252" class="">rs</a></span> <span id="ls:253" class="id"><a name="ls:253" class="">ls</a></span> <span id="rl:254" class="id"><a name="rl:254" class="">rl</a></span> <span id="ml:255" class="id"><a name="ml:255" class="">ml</a></span> <span id="e:256" class="id"><a name="e:256" class="">e</a></span> <span id="e':257" class="id"><a name="e':257" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations">add_equations</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl:254">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:255">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:256">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':257">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:252">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:253">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':257">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:252">rs##rl</a></span>) (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:253">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:255">ml</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">rl;</span> <span class="id">destruct</span> <span class="id">ml;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">e</span> <span class="id">:=</span> <span class="id">e</span>) (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">a</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_args_satisf" class="id"><a name="add_equations_args_satisf" class="">add_equations_args_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:258" class="id"><a name="rs:258" class="">rs</a></span> <span id="ls:259" class="id"><a name="ls:259" class="">ls</a></span> <span id="rl:260" class="id"><a name="rl:260" class="">rl</a></span> <span id="tyl:261" class="id"><a name="tyl:261" class="">tyl</a></span> <span id="ll:262" class="id"><a name="ll:262" class="">ll</a></span> <span id="e:263" class="id"><a name="e:263" class="">e</a></span> <span id="e':264" class="id"><a name="e':264" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl:260">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tyl:261">tyl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ll:262">ll</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:263">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':264">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:258">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:259">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':264">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:258">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:259">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:263">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">e'</span>. <span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_longofwords_eq_1" class="id"><a name="val_longofwords_eq_1" class="">val_longofwords_eq_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:265" class="id"><a name="v:265" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:265">v</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:265">v</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:265">v</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:265">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">contradiction</span>.<br/>
<span class="id">-</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_longofwords_eq_2" class="id"><a name="val_longofwords_eq_2" class="">val_longofwords_eq_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:266" class="id"><a name="v:266" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:266">v</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:266">v</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:266">v</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:266">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1;</a></span> <span class="id">assumption</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_args_lessdef" class="id"><a name="add_equations_args_lessdef" class="">add_equations_args_lessdef:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:267" class="id"><a name="rs:267" class="">rs</a></span> <span id="ls:268" class="id"><a name="ls:268" class="">ls</a></span> <span id="rl:269" class="id"><a name="rl:269" class="">rl</a></span> <span id="tyl:270" class="id"><a name="tyl:270" class="">tyl</a></span> <span id="ll:271" class="id"><a name="ll:271" class="">ll</a></span> <span id="e:272" class="id"><a name="e:272" class="">e</a></span> <span id="e':273" class="id"><a name="e':273" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl:269">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tyl:270">tyl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ll:271">ll</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:272">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':273">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:267">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:268">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':273">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type_list">Val.has_type_list</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:267">rs##rl</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#tyl:270">tyl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:267">rs##rl</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="gallina-kwd">fun</span> <span id="p:274" class="id"><a name="p:274" class="">p</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:274">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:268">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ll:271">ll</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">e'</span>. <span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">r1</span> <span class="id">l1</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> (<span class="id">rs#r1</span>)) <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">r1</span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">r1</span> <span class="id">l2</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equation_ros_satisf" class="id"><a name="add_equation_ros_satisf" class="">add_equation_ros_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:275" class="id"><a name="rs:275" class="">rs</a></span> <span id="ls:276" class="id"><a name="ls:276" class="">ls</a></span> <span id="ros:277" class="id"><a name="ros:277" class="">ros</a></span> <span id="mos:278" class="id"><a name="mos:278" class="">mos</a></span> <span id="e:279" class="id"><a name="e:279" class="">e</a></span> <span id="e':280" class="id"><a name="e':280" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equation_ros">add_equation_ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:277">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mos:278">mos</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:279">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':280">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:275">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:276">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':280">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:275">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:276">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:279">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation_ros">add_equation_ros;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">ros;</span> <span class="id">destruct</span> <span class="id">mos;</span> <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="remove_equation_satisf" class="id"><a name="remove_equation_satisf" class="">remove_equation_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:281" class="id"><a name="rs:281" class="">rs</a></span> <span id="ls:282" class="id"><a name="ls:282" class="">ls</a></span> <span id="q:283" class="id"><a name="q:283" class="">q</a></span> <span id="e:284" class="id"><a name="e:284" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:281">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:282">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:284">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:281">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:282">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:283">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:284">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr;</a></span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation;</a></span> <span class="id">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="remove_equation_res_satisf" class="id"><a name="remove_equation_res_satisf" class="">remove_equation_res_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:285" class="id"><a name="rs:285" class="">rs</a></span> <span id="ls:286" class="id"><a name="ls:286" class="">ls</a></span> <span id="r:287" class="id"><a name="r:287" class="">r</a></span> <span id="l:288" class="id"><a name="l:288" class="">l</a></span> <span id="e:289" class="id"><a name="e:289" class="">e</a></span> <span id="e':290" class="id"><a name="e':290" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_res">remove_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:287">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:288">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:289">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':290">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:285">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:286">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:289">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:285">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:286">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':290">e'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">functional</span> <span class="id">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_equation_satisf">remove_equation_satisf;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_equation_satisf">remove_equation_satisf</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_equation_satisf">remove_equation_satisf;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="select_reg_l_monotone" class="id"><a name="select_reg_l_monotone" class="">select_reg_l_monotone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:291" class="id"><a name="r:291" class="">r</a></span> <span id="q1:292" class="id"><a name="q1:292" class="">q1</a></span> <span id="q2:293" class="id"><a name="q2:293" class="">q2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq">OrderedEquation.eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:292">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:293">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.lt">OrderedEquation.lt</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:292">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:293">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:291">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:292">q1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:291">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:293">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">A</span>. <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="select_reg_h_monotone" class="id"><a name="select_reg_h_monotone" class="">select_reg_h_monotone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:294" class="id"><a name="r:294" class="">r</a></span> <span id="q1:295" class="id"><a name="q1:295" class="">q1</a></span> <span id="q2:296" class="id"><a name="q2:296" class="">q2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq">OrderedEquation.eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:295">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:296">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.lt">OrderedEquation.lt</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:296">q2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:295">q1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:294">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:295">q1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:294">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:296">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">A</span>. <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="select_reg_charact" class="id"><a name="select_reg_charact" class="">select_reg_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:297" class="id"><a name="r:297" class="">r</a></span> <span id="q:298" class="id"><a name="q:298" class="">q,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:297">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:298">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:297">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:298">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:298">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:297">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h;</a></span> <span class="id">intros;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Registers.html#reg">reg;</a></span> <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_refl">Pos.leb_refl</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="reg_unconstrained_sound" class="id"><a name="reg_unconstrained_sound" class="">reg_unconstrained_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:299" class="id"><a name="r:299" class="">r</a></span> <span id="e:300" class="id"><a name="e:300" class="">e</a></span> <span id="q:301" class="id"><a name="q:301" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:299">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:300">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:301">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:300">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:301">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:299">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained;</a></span> <span class="id">intros</span>. <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.mem_between">EqSet.mem_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id">r</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id">r</span>) <span class="id">e</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.mem_between_2">EqSet.mem_between_2</a></span> <span class="gallina-kwd">with</span> <span class="id">q;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="reg_unconstrained_satisf" class="id"><a name="reg_unconstrained_satisf" class="">reg_unconstrained_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:302" class="id"><a name="r:302" class="">r</a></span> <span id="e:303" class="id"><a name="e:303" class="">e</a></span> <span id="rs:304" class="id"><a name="rs:304" class="">rs</a></span> <span id="ls:305" class="id"><a name="ls:305" class="">ls</a></span> <span id="v:306" class="id"><a name="v:306" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:302">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:303">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:304">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:305">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:303">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:304">rs#r</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:306">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:305">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:303">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gso">PMap.gso</a></span>. <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="select_loc_l_monotone" class="id"><a name="select_loc_l_monotone" class="">select_loc_l_monotone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:307" class="id"><a name="l:307" class="">l</a></span> <span id="q1:308" class="id"><a name="q1:308" class="">q1</a></span> <span id="q2:309" class="id"><a name="q2:309" class="">q2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation'.eq">OrderedEquation'</a></span>.<span class="id">eq</span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:308">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:309">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation'.lt">OrderedEquation'</a></span>.<span class="id">lt</span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:308">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:309">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:307">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:308">q1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:307">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:309">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l;</a></span> <span class="id">intros</span>. <span class="id">set</span> (<span class="id">lb</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">subst</span> <span class="id">q2;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>) <span class="id">lb</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) <span class="id">lb</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span><span class="id">;</span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) <span class="id">lb</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>. <span class="id">eexact</span> <span class="id">l1</span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">red;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="select_loc_h_monotone" class="id"><a name="select_loc_h_monotone" class="">select_loc_h_monotone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:310" class="id"><a name="l:310" class="">l</a></span> <span id="q1:311" class="id"><a name="q1:311" class="">q1</a></span> <span id="q2:312" class="id"><a name="q2:312" class="">q2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation'.eq">OrderedEquation'</a></span>.<span class="id">eq</span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:311">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:312">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation'.lt">OrderedEquation'</a></span>.<span class="id">lt</span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:312">q2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:311">q1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:310">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1:311">q1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:310">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2:312">q2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h;</a></span> <span class="id">intros</span>. <span class="id">set</span> (<span class="id">lb</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">subst</span> <span class="id">q2;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>) <span class="id">lb</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> <span class="id">lb</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>)) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span><span class="id">;</span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) <span class="id">lb</span>).<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>. <span class="id">eexact</span> <span class="id">l1</span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">red;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.eq_sym">OrderedLoc.eq_sym</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="select_loc_charact" class="id"><a name="select_loc_charact" class="">select_loc_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:313" class="id"><a name="l:313" class="">l</a></span> <span id="q:314" class="id"><a name="q:314" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:313">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:314">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:313">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:314">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:313">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:314">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h;</a></span> <span class="id">intros;</span> <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.outside_interval_diff">OrderedLoc.outside_interval_diff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>))<span class="id">;</span> <span class="id">assumption</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>))<span class="id">;</span> <span class="id">assumption</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_outside_interval">OrderedLoc.diff_outside_interval</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">red;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">red;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.eq_sym">OrderedLoc.eq_sym</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_unconstrained_sound" class="id"><a name="loc_unconstrained_sound" class="">loc_unconstrained_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:315" class="id"><a name="l:315" class="">l</a></span> <span id="e:316" class="id"><a name="e:316" class="">e</a></span> <span id="q:317" class="id"><a name="q:317" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:315">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:316">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:317">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:316">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:315">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:317">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn:SL</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn:SH</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.mem_between">EqSet2.mem_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.mem_between_2">EqSet2.mem_between_2</a></span> <span class="gallina-kwd">with</span> <span class="id">q;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_unconstrained_satisf" class="id"><a name="loc_unconstrained_satisf" class="">loc_unconstrained_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:318" class="id"><a name="rs:318" class="">rs</a></span> <span id="ls:319" class="id"><a name="ls:319" class="">ls</a></span> <span id="k:320" class="id"><a name="k:320" class="">k</a></span> <span id="r:321" class="id"><a name="r:321" class="">r</a></span> <span id="mr:322" class="id"><a name="mr:322" class="">mr</a></span> <span id="e:323" class="id"><a name="e:323" class="">e</a></span> <span id="v:324" class="id"><a name="v:324" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="l:325" class="id"><a name="l:325" class="">l</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr:322">mr</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:318">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:319">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:320">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:321">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:325">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:323">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr:322">mr</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:320">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:321">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:325">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:323">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:320">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:318">rs#r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v:324">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:318">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:325">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:324">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:319">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:323">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id">l;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>) <span class="id">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="reg_loc_unconstrained_sound" class="id"><a name="reg_loc_unconstrained_sound" class="">reg_loc_unconstrained_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:326" class="id"><a name="r:326" class="">r</a></span> <span id="l:327" class="id"><a name="l:327" class="">l</a></span> <span id="e:328" class="id"><a name="e:328" class="">e</a></span> <span id="q:329" class="id"><a name="q:329" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:326">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:327">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:328">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:329">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:328">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:329">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:326">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:327">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:329">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="parallel_assignment_satisf" class="id"><a name="parallel_assignment_satisf" class="">parallel_assignment_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="k:330" class="id"><a name="k:330" class="">k</a></span> <span id="r:331" class="id"><a name="r:331" class="">r</a></span> <span id="mr:332" class="id"><a name="mr:332" class="">mr</a></span> <span id="e:333" class="id"><a name="e:333" class="">e</a></span> <span id="rs:334" class="id"><a name="rs:334" class="">rs</a></span> <span id="ls:335" class="id"><a name="ls:335" class="">ls</a></span> <span id="v:336" class="id"><a name="v:336" class="">v</a></span> <span id="v':337" class="id"><a name="v':337" class="">v',</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="l:338" class="id"><a name="l:338" class="">l</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr:332">mr</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:330">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:336">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v':337">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:331">r</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr:332">mr</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:330">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:331">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:338">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:333">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:334">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:335">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:330">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:331">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:338">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:333">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:334">rs#r</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:336">v</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:338">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':337">v'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:335">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:333">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id">l;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id">k;</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">r;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l</span> <span class="id">|}</span> <span class="id">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="parallel_assignment_satisf_2" class="id"><a name="parallel_assignment_satisf_2" class="">parallel_assignment_satisf_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:339" class="id"><a name="rs:339" class="">rs</a></span> <span id="ls:340" class="id"><a name="ls:340" class="">ls</a></span> <span id="res:341" class="id"><a name="res:341" class="">res</a></span> <span id="res':342" class="id"><a name="res':342" class="">res'</a></span> <span id="e:343" class="id"><a name="e:343" class="">e</a></span> <span id="e':344" class="id"><a name="e':344" class="">e'</a></span> <span id="v:345" class="id"><a name="v:345" class="">v</a></span> <span id="v':346" class="id"><a name="v':346" class="">v',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_res">remove_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:341">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':342">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:343">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':344">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:339">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:340">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':344">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:341">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':344">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="gallina-kwd">fun</span> <span id="l:347" class="id"><a name="l:347" class="">l</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:347">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':344">e'</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.common.AST.html#regs_of_rpair">regs_of_rpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':342">res'</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:345">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':346">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:339">rs#res</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:345">v</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.setpair">Locmap.setpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':342">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':346">v'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:340">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:343">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">functional</span> <span class="id">inversion</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;One&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">InvBooleans</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span>. <span class="id">rewrite</span> <span class="id">H1,</span> <span class="id">H4</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Two&nbsp;32-bit&nbsp;halves&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">e'</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">res;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span> <span class="id">|}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">res;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span> <span class="id">|}</span> <span class="id">e</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">InvBooleans</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span>))).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span>))).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e'</span>). <span class="id">unfold</span> <span class="id">e',</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation;</a></span> <span class="id">simpl;</span> <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="in_elements_between_1" class="id"><a name="in_elements_between_1" class="">in_elements_between_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r1:348" class="id"><a name="r1:348" class="">r1</a></span> <span id="s:349" class="id"><a name="s:349" class="">s</a></span> <span id="q:350" class="id"><a name="q:350" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:350">q</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between">EqSet.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:348">r1</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:348">r1</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#s:349">s</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:350">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:349">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:350">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:348">r1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between_iff">EqSet.elements_between_iff</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r1</span>). <span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r1</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_subst_reg" class="id"><a name="in_subst_reg" class="">in_subst_reg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r1:351" class="id"><a name="r1:351" class="">r1</a></span> <span id="r2:352" class="id"><a name="r2:352" class="">r2</a></span> <span id="q:353" class="id"><a name="q:353" class="">q</a></span> (<span id="e:354" class="id"><a name="e:354" class="">e:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:353">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:354">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:353">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:351">r1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:353">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#r2:352">r2</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:353">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:351">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2:352">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:354">e</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:353">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:351">r1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:353">q</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:351">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2:352">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:354">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">IN0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">f</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="q:357" class="id"><span id="q:355" class="id"><a name="q:357" class="">q:</a></span></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elt">EqSet.elt</a></span>) <span id="e:358" class="id"><span id="e:356" class="id"><a name="e:358" class="">e</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:355">q</a></span>) <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:355">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:355">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:356">e</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_elements_between_1">in_elements_between_1</a></span> <span class="id">r1</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">elt</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between">EqSet.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id">r1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id">r1</span>) <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">IN_ELT</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">P</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:361" class="id"><span id="e1:359" class="id"><a name="e1:361" class="">e1</a></span></span> <span id="e2:362" class="id"><span id="e2:360" class="id"><a name="e2:362" class="">e2</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:359">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e2:360">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">P</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span><span class="id">;</span> <span class="id">unfold</span> <span class="id">P;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">simpl</span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H3</span>. <span class="id">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">x</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q;</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">r2;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> <span class="id">|}</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">subst</span> <span class="id">x;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:365" class="id"><span id="e1:363" class="id"><a name="e1:365" class="">e1</a></span></span> <span id="e2:366" class="id"><span id="e2:364" class="id"><a name="e2:366" class="">e2</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~EqSet</a></span>.<span class="id">In</span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:363">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:364">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Q</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span><span class="id">;</span> <span class="id">unfold</span> <span class="id">Q;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">simpl</span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id">IN_ELT</span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">split</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">elim</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id">IN_ELT</span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H0</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_reg_satisf" class="id"><a name="subst_reg_satisf" class="">subst_reg_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="src:367" class="id"><a name="src:367" class="">src</a></span> <span id="dst:368" class="id"><a name="dst:368" class="">dst</a></span> <span id="rs:369" class="id"><a name="rs:369" class="">rs</a></span> <span id="ls:370" class="id"><a name="ls:370" class="">ls</a></span> <span id="e:371" class="id"><a name="e:371" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:369">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:370">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:368">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:367">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:371">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:369">rs#dst</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:369">rs#src</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls:370">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:371">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg">in_subst_reg</a></span> <span class="id">dst</span> <span class="id">src</span> <span class="id">q</span> <span class="id">e</span> <span class="id">H0</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">dst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_subst_reg_kind" class="id"><a name="in_subst_reg_kind" class="">in_subst_reg_kind:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r1:372" class="id"><a name="r1:372" class="">r1</a></span> <span id="k1:373" class="id"><a name="k1:373" class="">k1</a></span> <span id="r2:374" class="id"><a name="r2:374" class="">r2</a></span> <span id="k2:375" class="id"><a name="k2:375" class="">k2</a></span> <span id="q:376" class="id"><a name="q:376" class="">q</a></span> (<span id="e:377" class="id"><a name="e:377" class="">e:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:376">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:377">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:376">q,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:376">q</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#r1:372">r1,</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k1:373">k1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k2:375">k2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2:374">r2</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:376">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:372">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k1:373">k1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2:374">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k2:375">k2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:377">e</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:376">q</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1:372">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k1:373">k1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2:374">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k2:375">k2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:377">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">r1</span> <span class="id">k1</span> <span class="id">r2</span> <span class="id">k2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">IN0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">f</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="q:380" class="id"><span id="q:378" class="id"><a name="q:380" class="">q:</a></span></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elt">EqSet.elt</a></span>) <span id="e:381" class="id"><span id="e:379" class="id"><a name="e:381" class="">e</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:378">q</a></span>) <span class="id">k1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k2</span> <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:378">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:378">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:379">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.Allocproof.html#e:379">e</a></span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_elements_between_1">in_elements_between_1</a></span> <span class="id">r1</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">elt</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between">EqSet.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id">r1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id">r1</span>) <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">IN_ELT</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">P</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:384" class="id"><span id="e1:382" class="id"><a name="e1:384" class="">e1</a></span></span> <span id="e2:385" class="id"><span id="e2:383" class="id"><a name="e2:385" class="">e2</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:382">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">k1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k2</span> <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e2:383">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">P</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span><span class="id">;</span> <span class="id">unfold</span> <span class="id">P;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">simpl</span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H3</span>. <span class="id">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id">f</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">ESD.fsetdec</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">unfold</span> <span class="id">f</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id">k2;</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">r2;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> <span class="id">|}</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">subst</span> <span class="id">x;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:388" class="id"><span id="e1:386" class="id"><a name="e1:388" class="">e1</a></span></span> <span id="e2:389" class="id"><span id="e2:387" class="id"><a name="e2:389" class="">e2</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~EqSet</a></span>.<span class="id">In</span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:386">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">k1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:387">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Q</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span><span class="id">;</span> <span class="id">unfold</span> <span class="id">Q;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">f</span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id">H3</span>. <span class="id">tauto</span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H3</span>. <span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">split</span>. <span class="id">f_equal</span>. <span class="id">apply</span> <span class="id">IN_ELT</span>. <span class="id">auto</span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">apply</span> <span class="id">H0</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">apply</span> <span class="id">H0</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_reg_kind_satisf_makelong" class="id"><a name="subst_reg_kind_satisf_makelong" class="">subst_reg_kind_satisf_makelong:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="src1:390" class="id"><a name="src1:390" class="">src1</a></span> <span id="src2:391" class="id"><a name="src2:391" class="">src2</a></span> <span id="dst:392" class="id"><a name="dst:392" class="">dst</a></span> <span id="rs:393" class="id"><a name="rs:393" class="">rs</a></span> <span id="ls:394" class="id"><a name="ls:394" class="">ls</a></span> <span id="e:395" class="id"><a name="e:395" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="e1:396" class="id"><a name="e1:396" class="">e1</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:392">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1:390">src1</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:395">e</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="e2:397" class="id"><a name="e2:397" class="">e2</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:392">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2:391">src2</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:396">e1</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:392">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:397">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:393">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:394">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:397">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:393">rs#dst</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:393">rs#src1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:393">rs#src2</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls:394">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:395">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">src1</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">B];</span> <span class="id">fold</span> <span class="id">e1</span> <span class="gallina-kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">src2</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">_</span> <span class="id">e1</span> <span class="id">B</span>) <span class="gallina-kwd">as</span> <span class="id">[[C</span> <span class="id">D]</span> <span class="id">|</span> <span class="id">D];</span> <span class="id">fold</span> <span class="id">e2</span> <span class="gallina-kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">C;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">D</span>. <span class="id">inv</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id">H3;</span> <span class="id">rewrite</span> <span class="id">H4</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">rs#src1</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id">rs#src1</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id">rs#src2</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">D</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">src2</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">q</span> <span class="id">e1</span> <span class="id">B</span>) <span class="gallina-kwd">as</span> <span class="id">[[C</span> <span class="id">D]</span> <span class="id">|</span> <span class="id">D];</span> <span class="id">fold</span> <span class="id">e2</span> <span class="gallina-kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">C</span>. <span class="id">rewrite</span> <span class="id">H3;</span> <span class="id">rewrite</span> <span class="id">H4</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">rs#src2</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id">rs#src1</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id">rs#src2</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">D</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="id">apply</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_reg_kind_satisf_lowlong" class="id"><a name="subst_reg_kind_satisf_lowlong" class="">subst_reg_kind_satisf_lowlong:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="src:398" class="id"><a name="src:398" class="">src</a></span> <span id="dst:399" class="id"><a name="dst:399" class="">dst</a></span> <span id="rs:400" class="id"><a name="rs:400" class="">rs</a></span> <span id="ls:401" class="id"><a name="ls:401" class="">ls</a></span> <span id="e:402" class="id"><a name="e:402" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="e1:403" class="id"><a name="e1:403" class="">e1</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:399">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:398">src</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:402">e</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:399">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:403">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:400">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:401">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:403">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:400">rs#dst</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:400">rs#src</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls:401">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:402">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">src</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">B];</span> <span class="id">fold</span> <span class="id">e1</span> <span class="gallina-kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id">H3;</span> <span class="id">rewrite</span> <span class="id">H4</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="id">apply</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_reg_kind_satisf_highlong" class="id"><a name="subst_reg_kind_satisf_highlong" class="">subst_reg_kind_satisf_highlong:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="src:404" class="id"><a name="src:404" class="">src</a></span> <span id="dst:405" class="id"><a name="dst:405" class="">dst</a></span> <span id="rs:406" class="id"><a name="rs:406" class="">rs</a></span> <span id="ls:407" class="id"><a name="ls:407" class="">ls</a></span> <span id="e:408" class="id"><a name="e:408" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="e1:409" class="id"><a name="e1:409" class="">e1</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:405">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:404">src</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:408">e</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:405">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:409">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:406">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:407">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:409">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:406">rs#dst</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:406">rs#src</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls:407">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:408">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">src</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">B];</span> <span class="id">fold</span> <span class="id">e1</span> <span class="gallina-kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id">H3;</span> <span class="id">rewrite</span> <span class="id">H4</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="id">apply</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="ESF2" class="id"><a name="ESF2" class="">ESF2</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet2">EqSet2</a></span>).<br/>
<span class="vernacular">Module</span> <span id="ESP2" class="id"><a name="ESP2" class="">ESP2</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetProperties.html#Properties">FSetProperties.Properties</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet2">EqSet2</a></span>).<br/>
<span class="vernacular">Module</span> <span id="ESD2" class="id"><a name="ESD2" class="">ESD2</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetDecide.html#Decide">FSetDecide.Decide</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet2">EqSet2</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="partial_fold_ind" class="id"><a name="partial_fold_ind" class="">partial_fold_ind:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="A:410" class="id"><a name="A:410" class="">A:</a></span> <span class="gallina-kwd">Type</span>) (<span id="P:411" class="id"><a name="P:411" class="">P:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.t">EqSet2.t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#A:410">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span id="f:412" class="id"><a name="f:412" class="">f</a></span> <span id="init:413" class="id"><a name="init:413" class="">init</a></span> <span id="final:414" class="id"><a name="final:414" class="">final</a></span> <span id="s:415" class="id"><a name="s:415" class="">s,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.fold">EqSet2.fold</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="q:416" class="id"><a name="q:416" class="">q</a></span> <span id="opte:417" class="id"><a name="opte:417" class="">opte</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#opte:417">opte</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocproof.html#f:412">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:416">q</a></span> <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#s:415">s</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#init:413">init</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#final:414">final</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s':419" class="id"><a name="s':419" class="">s',</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.Empty">EqSet2.Empty</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s':419">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#P:411">P</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s':419">s'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#init:413">init</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:420" class="id"><a name="x:420" class="">x</a></span> <span id="a':421" class="id"><a name="a':421" class="">a'</a></span> <span id="a'':422" class="id"><a name="a'':422" class="">a''</a></span> <span id="s':423" class="id"><a name="s':423" class="">s'</a></span> <span id="s'':424" class="id"><a name="s'':424" class="">s'',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#x:420">x</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:415">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~EqSet2</a></span>.<span class="id">In</span> <span class="id"><a href="compcert.backend.Allocproof.html#x:420">x</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s':423">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#Add">ESP2.Add</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#x:420">x</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s':423">s'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s'':424">s''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#f:412">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#x:420">x</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a':421">a'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a'':422">a''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#P:411">P</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s':423">s'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a':421">a'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#P:411">P</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s'':424">s''</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a'':422">a''</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#P:411">P</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:415">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#final:414">final</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">g</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="q:428" class="id"><span id="q:425" class="id"><a name="q:428" class="">q</a></span></span> <span id="opte:429" class="id"><span id="opte:426" class="id"><a name="opte:429" class="">opte</a></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#opte:426">opte</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="compcert.backend.Allocproof.html#q:425">q</a></span> <span class="id">e</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s1:434" class="id"><span id="s1:431" class="id"><a name="s1:434" class="">s1</a></span></span> <span id="opte:435" class="id"><span id="opte:432" class="id"><a name="opte:435" class="">opte</a></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#opte:432">opte</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> <span class="id">=&gt;</span> <span class="id">P</span> <span class="id"><a href="compcert.backend.Allocproof.html#s1:431">s1</a></span> <span class="id">e</span> <span class="gallina-kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">Q</span> <span class="id">s</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">final</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP2.fold_rec</a></span><span class="id">;</span> <span class="id">unfold</span> <span class="id">Q,</span> <span class="id">g;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[e|];</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id">f</span> <span class="id">x</span> <span class="id">e</span>) <span class="gallina-kwd">as</span> <span class="id">[e'|]</span> <span class="id">eqn:F;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id">H1;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_subst_loc" class="id"><a name="in_subst_loc" class="">in_subst_loc:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l1:437" class="id"><a name="l1:437" class="">l1</a></span> <span id="l2:438" class="id"><a name="l2:438" class="">l2</a></span> <span id="q:439" class="id"><a name="q:439" class="">q</a></span> (<span id="e:440" class="id"><a name="e:440" class="">e</a></span> <span id="e':441" class="id"><a name="e':441" class="">e':</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:439">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:440">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:437">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2:438">l2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:440">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':441">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:439">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:437">l1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:439">q</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:439">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#l2:438">l2</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e':441">e'</a></span>) <span class="id">\/</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:437">l1</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:439">q</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:439">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':441">e'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc;</a></span> <span class="id">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">e0'</span> <span class="id">IN</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">elt</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between">EqSet2.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e0</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">f</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="q0:444" class="id"><span id="q0:442" class="id"><a name="q0:444" class="">q0</a></span></span> <span id="e:445" class="id"><span id="e:443" class="id"><a name="e:445" class="">e</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:442">q0</a></span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:442">q0;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:442">q0;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2</span> <span class="id">|}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:442">q0</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:443">e</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">P</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:448" class="id"><span id="e1:446" class="id"><a name="e1:448" class="">e1</a></span></span> <span id="e2:449" class="id"><span id="e2:447" class="id"><a name="e2:449" class="">e2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:446">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">l1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2</span>) <span class="id"><a href="compcert.backend.Allocproof.html#e2:447">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id">P</span> <span class="id">elt</span> <span class="id">e0'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id">f</span>) (<span class="id">s</span> <span class="id">:=</span> <span class="id">elt</span>) (<span class="id">final</span> <span class="id">:=</span> <span class="id">e0'</span>). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">P;</span> <span class="id">intros</span>. <span class="id">ESD2.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">P,</span> <span class="id">f;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">inversion</span> <span class="id">H2;</span> <span class="id">subst</span> <span class="id">a'';</span> <span class="id">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">e;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H3</span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">destruct</span> <span class="id">H2</span>. <span class="id">split</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q;</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2</span> <span class="id">|}</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:452" class="id"><span id="e1:450" class="id"><a name="e1:452" class="">e1</a></span></span> <span id="e2:453" class="id"><span id="e2:451" class="id"><a name="e2:453" class="">e2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~EqSet2</a></span>.<span class="id">In</span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:450">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:451">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id">Q</span> <span class="id">elt</span> <span class="id">e0'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id">f</span>) (<span class="id">s</span> <span class="id">:=</span> <span class="id">elt</span>) (<span class="id">final</span> <span class="id">:=</span> <span class="id">e0'</span>). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">Q;</span> <span class="id">intros</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">Q,</span> <span class="id">f;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">inversion</span> <span class="id">H2;</span> <span class="id">subst</span> <span class="id">a'';</span> <span class="id">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">intuition</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP2.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">apply</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LL;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LH;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">n</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between_iff">EqSet2.elements_between_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same;</a></span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_type_compat_charact" class="id"><a name="loc_type_compat_charact" class="">loc_type_compat_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:454" class="id"><a name="env:454" class="">env</a></span> <span id="l:455" class="id"><a name="l:455" class="">l</a></span> <span id="e:456" class="id"><a name="e:456" class="">e</a></span> <span id="q:457" class="id"><a name="q:457" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#loc_type_compat">loc_type_compat</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:454">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:455">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:456">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:457">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:456">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#sel_type">sel_type</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:457">q</a></span>) (<span class="id"><a href="compcert.backend.Allocproof.html#env:454">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:457">q</a></span>))) (<span class="id"><a href="compcert.backend.Locations.html#Loc.type">Loc.type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:455">l</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:455">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:457">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#loc_type_compat">loc_type_compat;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.for_all_between_iff">EqSet2.for_all_between_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LL</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LH</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">subst;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="well_typed_move_charact" class="id"><a name="well_typed_move_charact" class="">well_typed_move_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:458" class="id"><a name="env:458" class="">env</a></span> <span id="l:459" class="id"><a name="l:459" class="">l</a></span> <span id="e:460" class="id"><a name="e:460" class="">e</a></span> <span id="k:461" class="id"><a name="k:461" class="">k</a></span> <span id="r:462" class="id"><a name="r:462" class="">r</a></span> <span id="rs:463" class="id"><a name="rs:463" class="">rs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:458">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:459">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:460">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:461">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:462">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:459">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:460">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:458">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:463">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#l:459">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:461">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:463">rs#r</a></span>) <span class="id">ty</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[mr</span> <span class="id">|</span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty]</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_type_compat_charact">loc_type_compat_charact;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">A</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.has_subtype">Val.has_subtype</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">H1</span> <span class="id">r</span>). <span class="id">destruct</span> <span class="id">k;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">rs#r</span>)<span class="id">;</span> <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">rs#r</span>)<span class="id">;</span> <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_not_eq">Loc.diff_not_eq</a></span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="val_lessdef_normalize" class="id"><a name="val_lessdef_normalize" class="">val_lessdef_normalize:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:465" class="id"><a name="v:465" class="">v</a></span> <span id="v':466" class="id"><a name="v':466" class="">v'</a></span> <span id="ty:467" class="id"><a name="ty:467" class="">ty,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:465">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty:467">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:465">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':466">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:465">v</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span> (<span class="id"><a href="compcert.common.AST.html#chunk_of_type">chunk_of_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty:467">ty</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v':466">v'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.load_result_same">Val.load_result_same</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_loc_satisf" class="id"><a name="subst_loc_satisf" class="">subst_loc_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:468" class="id"><a name="env:468" class="">env</a></span> <span id="src:469" class="id"><a name="src:469" class="">src</a></span> <span id="dst:470" class="id"><a name="dst:470" class="">dst</a></span> <span id="rs:471" class="id"><a name="rs:471" class="">rs</a></span> <span id="ls:472" class="id"><a name="ls:472" class="">ls</a></span> <span id="e:473" class="id"><a name="e:473" class="">e</a></span> <span id="e':474" class="id"><a name="e':474" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:470">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:469">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:473">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':474">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:468">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:470">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:473">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:468">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:471">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:471">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:472">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':474">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:471">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:470">dst</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls:472">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:469">src</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:472">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:473">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc">in_subst_loc;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">dst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">q</span> <span class="gallina-kwd">as</span> <span class="id">[k</span> <span class="id">r</span> <span class="id">l];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#well_typed_move_charact">well_typed_move_charact;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[mr</span> <span class="id">|</span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty];</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">H2</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_lessdef_normalize">val_lessdef_normalize;</a></span> <span class="id">auto</span>. <span class="id">apply</span> (<span class="id">H2</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_subst_loc_part" class="id"><a name="in_subst_loc_part" class="">in_subst_loc_part:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l1:475" class="id"><a name="l1:475" class="">l1</a></span> <span id="l2:476" class="id"><a name="l2:476" class="">l2</a></span> <span id="k:477" class="id"><a name="k:477" class="">k</a></span> <span id="q:478" class="id"><a name="q:478" class="">q</a></span> (<span id="e:479" class="id"><a name="e:479" class="">e</a></span> <span id="e':480" class="id"><a name="e':480" class="">e':</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:478">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:479">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:475">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2:476">l2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:477">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:479">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':480">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:478">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:475">l1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:478">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:477">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:478">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#l2:476">l2</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e':480">e'</a></span>) <span class="id">\/</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:475">l1</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:478">q</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:478">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':480">e'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part;</a></span> <span class="id">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">k</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">e0'</span> <span class="id">IN</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">elt</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between">EqSet2.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e0</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">f</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="q0:483" class="id"><span id="q0:481" class="id"><a name="q0:483" class="">q0</a></span></span> <span id="e:484" class="id"><span id="e:482" class="id"><a name="e:484" class="">e</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:481">q0</a></span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:481">q0</a></span>) <span class="id">k</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:481">q0;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2</span> <span class="id">|}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:481">q0</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:482">e</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">P</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:487" class="id"><span id="e1:485" class="id"><a name="e1:487" class="">e1</a></span></span> <span id="e2:488" class="id"><span id="e2:486" class="id"><a name="e2:488" class="">e2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:485">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">l1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">k</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2</span>) <span class="id"><a href="compcert.backend.Allocproof.html#e2:486">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id">P</span> <span class="id">elt</span> <span class="id">e0'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id">f</span>) (<span class="id">s</span> <span class="id">:=</span> <span class="id">elt</span>) (<span class="id">final</span> <span class="id">:=</span> <span class="id">e0'</span>). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">P;</span> <span class="id">intros</span>. <span class="id">ESD2.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">P,</span> <span class="id">f;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k</span>)<span class="id">;</span> <span class="id">inversion</span> <span class="id">H2;</span> <span class="id">subst</span> <span class="id">a'';</span> <span class="id">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">e,</span> <span class="id">&lt;-</span> <span class="id">e1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H3</span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">destruct</span> <span class="id">H2</span> <span class="gallina-kwd">as</span> (<span class="id">X</span> &amp; <span class="id">Y</span> &amp; <span class="id">Z</span>). <span class="id">split;</span> <span class="id">auto</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2</span> <span class="id">|}</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:491" class="id"><span id="e1:489" class="id"><a name="e1:491" class="">e1</a></span></span> <span id="e2:492" class="id"><span id="e2:490" class="id"><a name="e2:492" class="">e2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~EqSet2</a></span>.<span class="id">In</span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:489">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:490">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id">Q</span> <span class="id">elt</span> <span class="id">e0'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id">f</span>) (<span class="id">s</span> <span class="id">:=</span> <span class="id">elt</span>) (<span class="id">final</span> <span class="id">:=</span> <span class="id">e0'</span>). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">Q;</span> <span class="id">intros</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">Q,</span> <span class="id">f;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k</span>)<span class="id">;</span> <span class="id">inversion</span> <span class="id">H2;</span> <span class="id">subst</span> <span class="id">a'';</span> <span class="id">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">intuition</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP2.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">apply</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LL;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LH;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">n</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between_iff">EqSet2.elements_between_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same;</a></span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_loc_part_satisf_lowlong" class="id"><a name="subst_loc_part_satisf_lowlong" class="">subst_loc_part_satisf_lowlong:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="src:493" class="id"><a name="src:493" class="">src</a></span> <span id="dst:494" class="id"><a name="dst:494" class="">dst</a></span> <span id="rs:495" class="id"><a name="rs:495" class="">rs</a></span> <span id="ls:496" class="id"><a name="ls:496" class="">ls</a></span> <span id="e:497" class="id"><a name="e:497" class="">e</a></span> <span id="e':498" class="id"><a name="e':498" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:494">dst</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:493">src</a></span>) <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:497">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':498">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:495">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:496">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':498">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:495">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:494">dst</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls:496">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:493">src</a></span>))) <span class="id"><a href="compcert.backend.Allocproof.html#ls:496">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:497">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc_part">in_subst_loc_part;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[A</span> <span class="id">[B</span> <span class="id">C]]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A,</span> <span class="id">B</span>. <span class="id">apply</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">C</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>. <span class="id">exact</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_loc_part_satisf_highlong" class="id"><a name="subst_loc_part_satisf_highlong" class="">subst_loc_part_satisf_highlong:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="src:499" class="id"><a name="src:499" class="">src</a></span> <span id="dst:500" class="id"><a name="dst:500" class="">dst</a></span> <span id="rs:501" class="id"><a name="rs:501" class="">rs</a></span> <span id="ls:502" class="id"><a name="ls:502" class="">ls</a></span> <span id="e:503" class="id"><a name="e:503" class="">e</a></span> <span id="e':504" class="id"><a name="e':504" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:500">dst</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:499">src</a></span>) <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:503">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':504">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:501">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:502">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':504">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:501">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:500">dst</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls:502">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:499">src</a></span>))) <span class="id"><a href="compcert.backend.Allocproof.html#ls:502">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:503">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc_part">in_subst_loc_part;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[A</span> <span class="id">[B</span> <span class="id">C]]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A,</span> <span class="id">B</span>. <span class="id">apply</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">C</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>. <span class="id">exact</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_subst_loc_pair" class="id"><a name="in_subst_loc_pair" class="">in_subst_loc_pair:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l1:505" class="id"><a name="l1:505" class="">l1</a></span> <span id="l2:506" class="id"><a name="l2:506" class="">l2</a></span> <span id="l2':507" class="id"><a name="l2':507" class="">l2'</a></span> <span id="q:508" class="id"><a name="q:508" class="">q</a></span> (<span id="e:509" class="id"><a name="e:509" class="">e</a></span> <span id="e':510" class="id"><a name="e':510" class="">e':</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:508">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:509">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_pair">subst_loc_pair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:505">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2:506">l2</a></span>  <span class="id"><a href="compcert.backend.Allocproof.html#l2':507">l2'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:509">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':510">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:508">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:505">l1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:508">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:508">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#l2:506">l2</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e':510">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:508">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#l2':507">l2'</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e':510">e'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:505">l1</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:508">q</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:508">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':510">e'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_loc_pair">subst_loc_pair;</a></span> <span class="id">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l2'</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">e0'</span> <span class="id">IN</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">elt</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between">EqSet2.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e0</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">f</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="q0:513" class="id"><span id="q0:511" class="id"><a name="q0:513" class="">q0</a></span></span> <span id="e:514" class="id"><span id="e:512" class="id"><a name="e:514" class="">e</a></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:511">q0</a></span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:511">q0</a></span>) <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:511">q0;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2</span> <span class="id">|}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:511">q0;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2'</span> <span class="id">|}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0:511">q0</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:512">e</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">P</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:517" class="id"><span id="e1:515" class="id"><a name="e1:517" class="">e1</a></span></span> <span id="e2:518" class="id"><span id="e2:516" class="id"><a name="e2:518" class="">e2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:515">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">l1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2</span>) <span class="id"><a href="compcert.backend.Allocproof.html#e2:516">e2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2'</span>) <span class="id"><a href="compcert.backend.Allocproof.html#e2:516">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id">P</span> <span class="id">elt</span> <span class="id">e0'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id">f</span>) (<span class="id">s</span> <span class="id">:=</span> <span class="id">elt</span>) (<span class="id">final</span> <span class="id">:=</span> <span class="id">e0'</span>). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">P;</span> <span class="id">intros</span>. <span class="id">ESD2.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">P,</span> <span class="id">f;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>)<span class="id">;</span> <span class="id">inversion</span> <span class="id">H2;</span> <span class="id">subst</span> <span class="id">a'';</span> <span class="id">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span><span class="id">,</span> <span class="id">!</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x</span>. <span class="id">rewrite</span> <span class="id">e,</span> <span class="id">e1</span>. <span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H3</span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">destruct</span> <span class="id">H2</span> <span class="gallina-kwd">as</span> (<span class="id">U</span> &amp; <span class="id">V</span> &amp; <span class="id">W</span> &amp; <span class="id">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2</span> <span class="id">|}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x</span>. <span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id">l2'</span> <span class="id">|}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x</span>. <span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intuition</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="e1:521" class="id"><span id="e1:519" class="id"><a name="e1:521" class="">e1</a></span></span> <span id="e2:522" class="id"><span id="e2:520" class="id"><a name="e2:522" class="">e2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~EqSet2</a></span>.<span class="id">In</span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:519">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:520">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id">Q</span> <span class="id">elt</span> <span class="id">e0'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id">f</span>) (<span class="id">s</span> <span class="id">:=</span> <span class="id">elt</span>) (<span class="id">final</span> <span class="id">:=</span> <span class="id">e0'</span>). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">Q;</span> <span class="id">intros</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id">Q,</span> <span class="id">f;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>)<span class="id">;</span> <span class="id">inversion</span> <span class="id">H2;</span> <span class="id">subst</span> <span class="id">a'';</span> <span class="id">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span><span class="id">,</span> <span class="id">!</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">intuition</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP2.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">apply</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LL;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LH;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">n</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between_iff">EqSet2.elements_between_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same;</a></span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="long_type_compat_charact" class="id"><a name="long_type_compat_charact" class="">long_type_compat_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:523" class="id"><a name="env:523" class="">env</a></span> <span id="l:524" class="id"><a name="l:524" class="">l</a></span> <span id="e:525" class="id"><a name="e:525" class="">e</a></span> <span id="q:526" class="id"><a name="q:526" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#long_type_compat">long_type_compat</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:523">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:524">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:525">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:526">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:525">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#env:523">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:526">q</a></span>)) <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:524">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:526">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#long_type_compat">long_type_compat;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.for_all_between_iff">EqSet2.for_all_between_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LL</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn:</span> <span class="id">LH</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">subst;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_loc_pair_satisf_makelong" class="id"><a name="subst_loc_pair_satisf_makelong" class="">subst_loc_pair_satisf_makelong:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:527" class="id"><a name="env:527" class="">env</a></span> <span id="src1:528" class="id"><a name="src1:528" class="">src1</a></span> <span id="src2:529" class="id"><a name="src2:529" class="">src2</a></span> <span id="dst:530" class="id"><a name="dst:530" class="">dst</a></span> <span id="rs:531" class="id"><a name="rs:531" class="">rs</a></span> <span id="ls:532" class="id"><a name="ls:532" class="">ls</a></span> <span id="e:533" class="id"><a name="e:533" class="">e</a></span> <span id="e':534" class="id"><a name="e':534" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_pair">subst_loc_pair</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:530">dst</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1:528">src1</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2:529">src2</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:533">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':534">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#long_type_compat">long_type_compat</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:527">env</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:530">dst</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:533">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:527">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:531">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:531">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:532">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':534">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:531">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:530">dst</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls:532">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1:528">src1</a></span>)) (<span class="id"><a href="compcert.backend.Allocproof.html#ls:532">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2:529">src2</a></span>))) <span class="id"><a href="compcert.backend.Allocproof.html#ls:532">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:533">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc_pair">in_subst_loc_pair;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">D]]]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">A,</span> <span class="id">B</span>. <span class="id">apply</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">C</span>. <span class="id">apply</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id">env</span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>)) <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#long_type_compat_charact">long_type_compat_charact;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P|P];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_not_eq">Loc.diff_not_eq</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> <span class="id">rs#</span>(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>. <span class="id">exact</span> <span class="id">C</span>. <span class="id">exact</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.has_subtype">Val.has_subtype</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">assumption</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="can_undef_sound" class="id"><a name="can_undef_sound" class="">can_undef_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:535" class="id"><a name="e:535" class="">e</a></span> <span id="ml:536" class="id"><a name="ml:536" class="">ml</a></span> <span id="q:537" class="id"><a name="q:537" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef">can_undef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:536">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:535">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:537">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:535">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:537">q</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:536">ml</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ml;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="undef_regs_outside" class="id"><a name="undef_regs_outside" class="">undef_regs_outside:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ml:538" class="id"><a name="ml:538" class="">ml</a></span> <span id="ls:539" class="id"><a name="ls:539" class="">ls</a></span> <span id="l:540" class="id"><a name="l:540" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:540">l</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:538">ml</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:538">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:539">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:540">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:539">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:540">l</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ml;</span> <span class="id">simpl;</span> <span class="id">intros</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="id">apply</span> <span class="id">IHml</span>. <span class="id">tauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="can_undef_satisf" class="id"><a name="can_undef_satisf" class="">can_undef_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ml:541" class="id"><a name="ml:541" class="">ml</a></span> <span id="e:542" class="id"><a name="e:542" class="">e</a></span> <span id="rs:543" class="id"><a name="rs:543" class="">rs</a></span> <span id="ls:544" class="id"><a name="ls:544" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef">can_undef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:541">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:542">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:543">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:544">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:542">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:543">rs</a></span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:541">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:544">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e:542">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#undef_regs_outside">undef_regs_outside</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_sound">can_undef_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="can_undef_except_sound" class="id"><a name="can_undef_except_sound" class="">can_undef_except_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="lx:545" class="id"><a name="lx:545" class="">lx</a></span> <span id="e:546" class="id"><a name="e:546" class="">e</a></span> <span id="ml:547" class="id"><a name="ml:547" class="">ml</a></span> <span id="q:548" class="id"><a name="q:548" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef_except">can_undef_except</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#lx:545">lx</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:547">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:546">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:548">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:546">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:548">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#lx:545">lx</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:548">q</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:547">ml</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ml;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_elim">orb_true_elim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span> <span class="gallina-kwd">in</span> <span class="id">e0</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHml;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="subst_loc_undef_satisf" class="id"><a name="subst_loc_undef_satisf" class="">subst_loc_undef_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:549" class="id"><a name="env:549" class="">env</a></span> <span id="src:550" class="id"><a name="src:550" class="">src</a></span> <span id="dst:551" class="id"><a name="dst:551" class="">dst</a></span> <span id="rs:552" class="id"><a name="rs:552" class="">rs</a></span> <span id="ls:553" class="id"><a name="ls:553" class="">ls</a></span> <span id="ml:554" class="id"><a name="ml:554" class="">ml</a></span> <span id="e:555" class="id"><a name="e:555" class="">e</a></span> <span id="e':556" class="id"><a name="e':556" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:551">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:550">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:555">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':556">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:549">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:551">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:555">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef_except">can_undef_except</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:551">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:554">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:555">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:549">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:552">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:552">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:553">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':556">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:552">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:551">dst</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls:553">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src:550">src</a></span>) (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml:554">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:553">ls</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e:555">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc">in_subst_loc;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">dst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">q</span> <span class="gallina-kwd">as</span> <span class="id">[k</span> <span class="id">r</span> <span class="id">l];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#well_typed_move_charact">well_typed_move_charact;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[mr</span> <span class="id">|</span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty];</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id">H3</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_lessdef_normalize">val_lessdef_normalize;</a></span> <span class="id">auto</span>. <span class="id">apply</span> (<span class="id">H3</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#undef_regs_outside">undef_regs_outside</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_except_sound">can_undef_except_sound;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transfer_use_def_satisf" class="id"><a name="transfer_use_def_satisf" class="">transfer_use_def_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="args:557" class="id"><a name="args:557" class="">args</a></span> <span id="res:558" class="id"><a name="res:558" class="">res</a></span> <span id="args':559" class="id"><a name="args':559" class="">args'</a></span> <span id="res':560" class="id"><a name="res':560" class="">res'</a></span> <span id="und:561" class="id"><a name="und:561" class="">und</a></span> <span id="e:562" class="id"><a name="e:562" class="">e</a></span> <span id="e':563" class="id"><a name="e':563" class="">e'</a></span> <span id="rs:564" class="id"><a name="rs:564" class="">rs</a></span> <span id="ls:565" class="id"><a name="ls:565" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer_use_def">transfer_use_def</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:557">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:558">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':559">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':560">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#und:561">und</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:562">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':563">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:564">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:565">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':563">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:564">rs##args</a></span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:565">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':559">args'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="v:566" class="id"><a name="v:566" class="">v</a></span> <span id="v':567" class="id"><a name="v':567" class="">v',</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:566">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':567">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:564">rs#res</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:566">v</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':560">res'</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v':567">v'</a></span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#und:561">und</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:565">ls</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e:562">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transfer_use_def">transfer_use_def;</a></span> <span class="id">intros</span>. <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf;</a></span> <span class="id">eauto</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_res_lessdef" class="id"><a name="add_equations_res_lessdef" class="">add_equations_res_lessdef:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:568" class="id"><a name="r:568" class="">r</a></span> <span id="ty:569" class="id"><a name="ty:569" class="">ty</a></span> <span id="l:570" class="id"><a name="l:570" class="">l</a></span> <span id="e:571" class="id"><a name="e:571" class="">e</a></span> <span id="e':572" class="id"><a name="e':572" class="">e'</a></span> <span id="rs:573" class="id"><a name="rs:573" class="">rs</a></span> <span id="ls:574" class="id"><a name="ls:574" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_res">add_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:568">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty:569">ty</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:570">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:571">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':572">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:573">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:574">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':572">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:573">rs#r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty:569">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:573">rs#r</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:570">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:574">ls</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">functional</span> <span class="id">inversion</span> <span class="id">H;</span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span>))<span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> <span class="id">rs#r</span>) <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span>)).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span>)).<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="return_regs_agree_callee_save" class="id"><a name="return_regs_agree_callee_save" class="">return_regs_agree_callee_save:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="caller:575" class="id"><a name="caller:575" class="">caller</a></span> <span id="callee:576" class="id"><a name="callee:576" class="">callee,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#caller:575">caller</a></span> (<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#caller:575">caller</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#callee:576">callee</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span>. <span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">sl;</span> <span class="id">auto</span> <span class="id">||</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="no_caller_saves_sound" class="id"><a name="no_caller_saves_sound" class="">no_caller_saves_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:577" class="id"><a name="e:577" class="">e</a></span> <span id="q:578" class="id"><a name="q:578" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#no_caller_saves">no_caller_saves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:577">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:578">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:577">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#callee_save_loc">callee_save_loc</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:578">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#no_caller_saves">no_caller_saves,</a></span> <span class="id"><a href="compcert.backend.Conventions.html#callee_save_loc">callee_save_loc;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.for_all_2">EqSet.for_all_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">hnf</span>. <span class="id">intros</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lazy</span> <span class="id">beta</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>). <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">sl;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_hiword_longofwords" class="id"><a name="val_hiword_longofwords" class="">val_hiword_longofwords:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v1:579" class="id"><a name="v1:579" class="">v1</a></span> <span id="v2:580" class="id"><a name="v2:580" class="">v2,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v1:579">v1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v2:580">v2</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#v1:579">v1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">v2;</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_loword_longofwords" class="id"><a name="val_loword_longofwords" class="">val_loword_longofwords:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v1:581" class="id"><a name="v1:581" class="">v1</a></span> <span id="v2:582" class="id"><a name="v2:582" class="">v2,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v1:581">v1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v2:582">v2</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#v2:582">v2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">v2;</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="function_return_satisf" class="id"><a name="function_return_satisf" class="">function_return_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rs:583" class="id"><a name="rs:583" class="">rs</a></span> <span id="ls_before:584" class="id"><a name="ls_before:584" class="">ls_before</a></span> <span id="ls_after:585" class="id"><a name="ls_after:585" class="">ls_after</a></span> <span id="res:586" class="id"><a name="res:586" class="">res</a></span> <span id="res':587" class="id"><a name="res':587" class="">res'</a></span> <span id="sg:588" class="id"><a name="sg:588" class="">sg</a></span> <span id="e:589" class="id"><a name="e:589" class="">e</a></span> <span id="e':590" class="id"><a name="e':590" class="">e'</a></span> <span id="v:591" class="id"><a name="v:591" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#res':587">res'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:588">sg</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_res">remove_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:586">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':587">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:589">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':590">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:583">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls_before:584">ls_before</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':590">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="gallina-kwd">fun</span> <span id="l:592" class="id"><a name="l:592" class="">l</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:586">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:592">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':590">e'</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.common.AST.html#regs_of_rpair">regs_of_rpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':587">res'</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#no_caller_saves">no_caller_saves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':590">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:591">v</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':587">res'</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls_after:585">ls_after</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls_before:584">ls_before</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls_after:585">ls_after</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:583">rs#res</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:591">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls_after:585">ls_after</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:589">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">functional</span> <span class="id">inversion</span> <span class="id">H0</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;One&nbsp;register&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H8</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">InvBooleans</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">e'</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">res;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span> <span class="id">|}</span> <span class="id">e</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span>))).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e'</span>). <span class="id">unfold</span> <span class="id">e',</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation;</a></span> <span class="id">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#no_caller_saves_sound">no_caller_saves_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H5;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Two&nbsp;32-bit&nbsp;halves&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H9</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">e'</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">res;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span> <span class="id">|}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">res;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span> <span class="id">|}</span> <span class="id">e</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span>))).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_loword_longofwords">val_loword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span>))).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_hiword_longofwords">val_hiword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e'</span>). <span class="id">unfold</span> <span class="id">e',</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation;</a></span> <span class="id">simpl;</span> <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#no_caller_saves_sound">no_caller_saves_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H5;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="compat_left_sound" class="id"><a name="compat_left_sound" class="">compat_left_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:593" class="id"><a name="r:593" class="">r</a></span> <span id="l:594" class="id"><a name="l:594" class="">l</a></span> <span id="e:595" class="id"><a name="e:595" class="">e</a></span> <span id="q:596" class="id"><a name="q:596" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_left">compat_left</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:593">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:594">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:595">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:596">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:595">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:596">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:593">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:596">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:596">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:594">l</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#compat_left">compat_left;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.for_all_between_iff">EqSet.for_all_between_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">x2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="compat_left2_sound" class="id"><a name="compat_left2_sound" class="">compat_left2_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:597" class="id"><a name="r:597" class="">r</a></span> <span id="l1:598" class="id"><a name="l1:598" class="">l1</a></span> <span id="l2:599" class="id"><a name="l2:599" class="">l2</a></span> <span id="e:600" class="id"><a name="e:600" class="">e</a></span> <span id="q:601" class="id"><a name="q:601" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_left2">compat_left2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:597">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:598">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2:599">l2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:600">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:601">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:600">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:601">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:597">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:601">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:601">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1:598">l1</a></span>) <span class="id">\/</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:601">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q:601">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2:599">l2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#compat_left2">compat_left2;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.for_all_between_iff">EqSet.for_all_between_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">x2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="compat_entry_satisf" class="id"><a name="compat_entry_satisf" class="">compat_entry_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rl:602" class="id"><a name="rl:602" class="">rl</a></span> <span id="ll:603" class="id"><a name="ll:603" class="">ll</a></span> <span id="e:604" class="id"><a name="e:604" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_entry">compat_entry</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl:602">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ll:603">ll</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:604">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vl:605" class="id"><a name="vl:605" class="">vl</a></span> <span id="ls:606" class="id"><a name="ls:606" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl:605">vl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="gallina-kwd">fun</span> <span id="p:607" class="id"><a name="p:607" class="">p</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:607">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:606">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ll:603">ll</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl:605">vl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl:602">rl</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:606">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:604">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">e</span>. <span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="compcert.backend.Allocation.html#compat_entry">compat_entry</a></span> <span class="id">rl</span> <span class="id">ll</span> <span class="id">e</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;no&nbsp;params&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gi">Regmap.gi</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;a&nbsp;param&nbsp;in&nbsp;a&nbsp;single&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">r1</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#compat_left_sound">compat_left_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHb;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;a&nbsp;param&nbsp;split&nbsp;across&nbsp;two&nbsp;locations&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">r1</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#compat_left2_sound">compat_left2_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]];</span> <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">l1</span>) (<span class="id">ls</span> <span class="id">l2</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_hiword_longofwords">val_hiword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">l1</span>) (<span class="id">ls</span> <span class="id">l2</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_loword_longofwords">val_loword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHb;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;error&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="call_regs_param_values" class="id"><a name="call_regs_param_values" class="">call_regs_param_values:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sg:608" class="id"><a name="sg:608" class="">sg</a></span> <span id="ls:609" class="id"><a name="ls:609" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="gallina-kwd">fun</span> <span id="p:610" class="id"><a name="p:610" class="">p</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:610">p</a></span> (<span class="id"><a href="compcert.backend.LTL.html#call_regs">call_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:609">ls</a></span>)) (<span class="id"><a href="compcert.backend.Conventions.html#loc_parameters">loc_parameters</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:608">sg</a></span>)<br/>
&nbsp;&nbsp;<span class="id">=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="gallina-kwd">fun</span> <span id="p:611" class="id"><a name="p:611" class="">p</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:611">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:609">ls</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:608">sg</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Conventions.html#loc_parameters">loc_parameters</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_compose">list_map_compose</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_exten">list_map_exten;</a></span> <span class="id">intros</span>. <span class="id">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="l:613" class="id"><span id="l:612" class="id"><a name="l:613" class="">l,</a></span></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:612">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.LTL.html#call_regs">call_regs</a></span> <span class="id">ls</span> (<span class="id"><a href="compcert.backend.Conventions.html#parameter_of_argument">parameter_of_argument</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l:612">l</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">ls</span> <span class="id"><a href="compcert.backend.Allocproof.html#l:612">l</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[r</span> <span class="id">|</span> <span class="id">[]</span> <span class="id">ofs</span> <span class="id">ty];</span> <span class="id">simpl;</span> <span class="id">auto;</span> <span class="id">contradiction</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_acceptable">loc_arguments_acceptable;</a></span> <span class="id">eauto</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">H0;</span> <span class="id">f_equal;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="return_regs_arg_values" class="id"><a name="return_regs_arg_values" class="">return_regs_arg_values:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sg:614" class="id"><a name="sg:614" class="">sg</a></span> <span id="ls1:615" class="id"><a name="ls1:615" class="">ls1</a></span> <span id="ls2:616" class="id"><a name="ls2:616" class="">ls2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#tailcall_is_possible">tailcall_is_possible</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:614">sg</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="gallina-kwd">fun</span> <span id="p:617" class="id"><a name="p:617" class="">p</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:617">p</a></span> (<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1:615">ls1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2:616">ls2</a></span>)) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:614">sg</a></span>)<br/>
&nbsp;&nbsp;<span class="id">=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="gallina-kwd">fun</span> <span id="p:618" class="id"><a name="p:618" class="">p</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:618">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2:616">ls2</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:614">sg</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Conventions.html#tailcall_is_possible_correct">tailcall_is_possible_correct</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_exten">list_map_exten;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair_exten">Locmap.getpair_exten</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">l</span> (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>))) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.common.AST.html#in_regs_of_rpairs">in_regs_of_rpairs;</a></span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Conventions.html#loc_arguments_acceptable_2">loc_arguments_acceptable_2;</a></span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">try</span> <span class="id">contradiction</span>. <span class="id">rewrite</span> <span class="id">H4;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="find_function_tailcall" class="id"><a name="find_function_tailcall" class="">find_function_tailcall:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tge:619" class="id"><a name="tge:619" class="">tge</a></span> <span id="ros:620" class="id"><a name="ros:620" class="">ros</a></span> <span id="ls1:621" class="id"><a name="ls1:621" class="">ls1</a></span> <span id="ls2:622" class="id"><a name="ls2:622" class="">ls2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ros_compatible_tailcall">ros_compatible_tailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:620">ros</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#find_function">find_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tge:619">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:620">ros</a></span> (<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1:621">ls1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2:622">ls2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.LTL.html#find_function">find_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tge:619">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:620">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2:622">ls2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#ros_compatible_tailcall">ros_compatible_tailcall,</a></span> <span class="id"><a href="compcert.backend.LTL.html#find_function">find_function;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">ros</span> <span class="gallina-kwd">as</span> <span class="id">[r|id];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id">r</span>). <span class="id">discriminate</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loadv_int64_split" class="id"><a name="loadv_int64_split" class="">loadv_int64_split:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:623" class="id"><a name="m:623" class="">m</a></span> <span id="a:624" class="id"><a name="a:624" class="">a</a></span> <span id="v:625" class="id"><a name="v:625" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:623">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a:624">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:625">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v1:626" class="id"><a name="v1:626" class="">v1</a></span> <span id="v2:627" class="id"><a name="v2:627" class="">v2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:623">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a:624">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.Allocproof.html#v1:626">v1</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.Allocproof.html#v2:627">v2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:623">m</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a:624">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">4</span>))) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.Allocproof.html#v2:627">v2</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.Allocproof.html#v1:626">v1</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:625">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v1:626">v1</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:625">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v2:627">v2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_int64_split">Mem.loadv_int64_split</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">v1,</span> <span class="id">v2</span>. <span class="id">split;</span> <span class="id">auto</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">C;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">v1,</span> <span class="id">v2;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_builtin_arg_satisf" class="id"><a name="add_equations_builtin_arg_satisf" class="">add_equations_builtin_arg_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:628" class="id"><a name="env:628" class="">env</a></span> <span id="rs:629" class="id"><a name="rs:629" class="">rs</a></span> <span id="ls:630" class="id"><a name="ls:630" class="">ls</a></span> <span id="arg:631" class="id"><a name="arg:631" class="">arg</a></span> <span id="arg':632" class="id"><a name="arg':632" class="">arg'</a></span> <span id="e:633" class="id"><a name="e:633" class="">e</a></span> <span id="e':634" class="id"><a name="e':634" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:628">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:631">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':632">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:633">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':634">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:629">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:630">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':634">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:629">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:630">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:633">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">arg;</span> <span class="id">destruct</span> <span class="id">arg';</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">MonadInv;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">arg'1;</span> <span class="id">MonadInv</span>. <span class="id">destruct</span> <span class="id">arg'2;</span> <span class="id">MonadInv</span>. <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_builtin_arg_lessdef" class="id"><a name="add_equations_builtin_arg_lessdef" class="">add_equations_builtin_arg_lessdef:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:635" class="id"><a name="env:635" class="">env</a></span> (<span id="ge:636" class="id"><a name="ge:636" class="">ge:</a></span> <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span id="sp:637" class="id"><a name="sp:637" class="">sp</a></span> <span id="rs:638" class="id"><a name="rs:638" class="">rs</a></span> <span id="ls:639" class="id"><a name="ls:639" class="">ls</a></span> <span id="m:640" class="id"><a name="m:640" class="">m</a></span> <span id="arg:641" class="id"><a name="arg:641" class="">arg</a></span> <span id="v:642" class="id"><a name="v:642" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:636">ge</a></span> (<span class="gallina-kwd">fun</span> <span id="r:643" class="id"><a name="r:643" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:638">rs#r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp:637">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:640">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:641">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:642">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:644" class="id"><a name="e:644" class="">e</a></span> <span id="e':645" class="id"><a name="e':645" class="">e'</a></span> <span id="arg':646" class="id"><a name="arg':646" class="">arg',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:635">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:641">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':646">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:644">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':645">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:638">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:639">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':645">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:635">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:638">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v':647" class="id"><a name="v':647" class="">v',</a></span> <span class="id"><a href="compcert.common.Events.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:636">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:639">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:637">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:640">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':646">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':647">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:642">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':647">v'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">e</span> <span class="id">e'</span> <span class="id">arg'</span> <span class="id">AE</span> <span class="id">SAT</span> <span class="id">WT;</span> <span class="id">destruct</span> <span class="id">arg';</span> <span class="id">MonadInv</span>.<br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">ls</span> <span class="id">x0</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">arg'1;</span> <span class="id">MonadInv</span>. <span class="id">destruct</span> <span class="id">arg'2;</span> <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">LD2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">x0</span>) (<span class="id">ls</span> <span class="id">x1</span>))<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_2">val_longofwords_eq_2</a></span> <span class="id">rs#x</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">e0;</span> <span class="id">apply</span> <span class="id">WT</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id">IHeval_builtin_arg1;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">v1</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_builtin_arg2;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v2</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">v1</span> <span class="id">v2</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id">IHeval_builtin_arg1;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">v1'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_builtin_arg2;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v2'</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">barg</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Values.html#Val.add_lessdef">Val.add_lessdef</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.addl_lessdef">Val.addl_lessdef</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_builtin_args_satisf" class="id"><a name="add_equations_builtin_args_satisf" class="">add_equations_builtin_args_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:648" class="id"><a name="env:648" class="">env</a></span> <span id="rs:649" class="id"><a name="rs:649" class="">rs</a></span> <span id="ls:650" class="id"><a name="ls:650" class="">ls</a></span> <span id="arg:651" class="id"><a name="arg:651" class="">arg</a></span> <span id="arg':652" class="id"><a name="arg':652" class="">arg'</a></span> <span id="e:653" class="id"><a name="e:653" class="">e</a></span> <span id="e':654" class="id"><a name="e':654" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:648">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:651">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':652">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:653">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':654">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:649">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:650">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':654">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:649">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:650">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:653">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">arg;</span> <span class="id">destruct</span> <span class="id">arg';</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">MonadInv;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_builtin_args_lessdef" class="id"><a name="add_equations_builtin_args_lessdef" class="">add_equations_builtin_args_lessdef:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:655" class="id"><a name="env:655" class="">env</a></span> (<span id="ge:656" class="id"><a name="ge:656" class="">ge:</a></span> <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span id="sp:657" class="id"><a name="sp:657" class="">sp</a></span> <span id="rs:658" class="id"><a name="rs:658" class="">rs</a></span> <span id="ls:659" class="id"><a name="ls:659" class="">ls</a></span> <span id="m:660" class="id"><a name="m:660" class="">m</a></span> <span id="tm:661" class="id"><a name="tm:661" class="">tm</a></span> <span id="arg:662" class="id"><a name="arg:662" class="">arg</a></span> <span id="vl:663" class="id"><a name="vl:663" class="">vl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:656">ge</a></span> (<span class="gallina-kwd">fun</span> <span id="r:664" class="id"><a name="r:664" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:658">rs#r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp:657">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:660">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:662">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl:663">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="arg':665" class="id"><a name="arg':665" class="">arg'</a></span> <span id="e:666" class="id"><a name="e:666" class="">e</a></span> <span id="e':667" class="id"><a name="e':667" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:655">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:662">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':665">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:666">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':667">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:658">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:659">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':667">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:655">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:658">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:660">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm:661">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="vl':668" class="id"><a name="vl':668" class="">vl',</a></span> <span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:656">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:659">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:657">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm:661">tm</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':665">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl':668">vl'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl:663">vl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl':668">vl'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">destruct</span> <span class="id">arg';</span> <span class="id">MonadInv</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id">IHlist_forall2;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">vl'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_args_satisf">add_equations_builtin_args_satisf;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1'</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="compcert.common.Events.html#eval_builtin_arg_lessdef">eval_builtin_arg_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">ls</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1''</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">v1''</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">vl'</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_debug_args_satisf" class="id"><a name="add_equations_debug_args_satisf" class="">add_equations_debug_args_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:669" class="id"><a name="env:669" class="">env</a></span> <span id="rs:670" class="id"><a name="rs:670" class="">rs</a></span> <span id="ls:671" class="id"><a name="ls:671" class="">ls</a></span> <span id="arg:672" class="id"><a name="arg:672" class="">arg</a></span> <span id="arg':673" class="id"><a name="arg':673" class="">arg'</a></span> <span id="e:674" class="id"><a name="e:674" class="">e</a></span> <span id="e':675" class="id"><a name="e':675" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_debug_args">add_equations_debug_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:669">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:672">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':673">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:674">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':675">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:670">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:671">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':675">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:670">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:671">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:674">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">arg;</span> <span class="id">destruct</span> <span class="id">arg';</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">MonadInv;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id">env</span> <span class="id">a</span> <span class="id">b</span> <span class="id">e</span>) <span class="gallina-kwd">as</span> <span class="id">[e1|]</span> <span class="id">eqn:A;</span><br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_debug_args_eval" class="id"><a name="add_equations_debug_args_eval" class="">add_equations_debug_args_eval:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:676" class="id"><a name="env:676" class="">env</a></span> (<span id="ge:677" class="id"><a name="ge:677" class="">ge:</a></span> <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span id="sp:678" class="id"><a name="sp:678" class="">sp</a></span> <span id="rs:679" class="id"><a name="rs:679" class="">rs</a></span> <span id="ls:680" class="id"><a name="ls:680" class="">ls</a></span> <span id="m:681" class="id"><a name="m:681" class="">m</a></span> <span id="tm:682" class="id"><a name="tm:682" class="">tm</a></span> <span id="arg:683" class="id"><a name="arg:683" class="">arg</a></span> <span id="vl:684" class="id"><a name="vl:684" class="">vl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:677">ge</a></span> (<span class="gallina-kwd">fun</span> <span id="r:685" class="id"><a name="r:685" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:679">rs#r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp:678">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:681">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:683">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl:684">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="arg':686" class="id"><a name="arg':686" class="">arg'</a></span> <span id="e:687" class="id"><a name="e:687" class="">e</a></span> <span id="e':688" class="id"><a name="e':688" class="">e',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_debug_args">add_equations_debug_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:676">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg:683">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':686">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:687">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':688">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:679">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:680">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':688">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:676">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:679">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:681">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm:682">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="vl':689" class="id"><a name="vl':689" class="">vl',</a></span> <span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:677">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:680">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:678">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm:682">tm</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg':686">arg'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl':689">vl'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">destruct</span> <span class="id">arg';</span> <span class="id">MonadInv</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id">env</span> <span class="id">a1</span> <span class="id">b</span> <span class="id">e</span>) <span class="gallina-kwd">as</span> <span class="id">[e1|]</span> <span class="id">eqn:A</span>.<br/>
<span class="id">+</span> <span class="id">exploit</span> <span class="id">IHlist_forall2;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">vl'</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_debug_args_satisf">add_equations_debug_args_satisf;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1'</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="compcert.common.Events.html#eval_builtin_arg_lessdef">eval_builtin_arg_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">ls</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1''</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">v1''</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">vl'</span>)<span class="id">;</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_equations_builtin_eval" class="id"><a name="add_equations_builtin_eval" class="">add_equations_builtin_eval:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ef:690" class="id"><a name="ef:690" class="">ef</a></span> <span id="env:691" class="id"><a name="env:691" class="">env</a></span> <span id="args:692" class="id"><a name="args:692" class="">args</a></span> <span id="args':693" class="id"><a name="args':693" class="">args'</a></span> <span id="e1:694" class="id"><a name="e1:694" class="">e1</a></span> <span id="e2:695" class="id"><a name="e2:695" class="">e2</a></span> <span id="m1:696" class="id"><a name="m1:696" class="">m1</a></span> <span id="m1':697" class="id"><a name="m1':697" class="">m1'</a></span> <span id="rs:698" class="id"><a name="rs:698" class="">rs</a></span> <span id="ls:699" class="id"><a name="ls:699" class="">ls</a></span> (<span id="ge:700" class="id"><a name="ge:700" class="">ge:</a></span> <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span id="sp:701" class="id"><a name="sp:701" class="">sp</a></span> <span id="vargs:702" class="id"><a name="vargs:702" class="">vargs</a></span> <span id="t:703" class="id"><a name="t:703" class="">t</a></span> <span id="vres:704" class="id"><a name="vres:704" class="">vres</a></span> <span id="m2:705" class="id"><a name="m2:705" class="">m2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:691">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:698">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#ef:690">ef</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#EF_debug">EF_debug</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equations_debug_args">add_equations_debug_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:691">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:692">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':693">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:694">e1</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>              <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:691">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:692">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':693">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:694">e1</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:695">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1:696">m1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1':697">m1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:698">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:699">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:695">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:700">ge</a></span> (<span class="gallina-kwd">fun</span> <span id="r:707" class="id"><a name="r:707" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:698">rs</a></span> <span class="id"><a href="compcert.backend.Registers.html#b7fcd9d9cea39780b0b643c430ee0981">#</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:707">r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp:701">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1:696">m1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:692">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs:702">vargs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef:690">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:700">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs:702">vargs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1:696">m1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#t:703">t</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vres:704">vres</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2:705">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:698">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:699">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:694">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="vargs':708" class="id"><a name="vargs':708" class="">vargs'</a></span> <span id="vres':709" class="id"><a name="vres':709" class="">vres'</a></span> <span id="m2':710" class="id"><a name="m2':710" class="">m2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:700">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:699">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:701">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1':697">m1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args':693">args'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs':708">vargs'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef:690">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge:700">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs':708">vargs'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1':697">m1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#t:703">t</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vres':709">vres'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2':710">m2'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vres:704">vres</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vres':709">vres'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2:705">m2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2':710">m2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id">env</span> <span class="id">args</span> <span class="id">args'</span> <span class="id">e1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="vargs':714" class="id"><span id="vargs':711" class="id"><a name="vargs':714" class="">vargs'</a></span></span> <span id="vres':715" class="id"><span id="vres':712" class="id"><a name="vres':715" class="">vres'</a></span></span> <span id="m2':716" class="id"><span id="m2':713" class="id"><a name="m2':716" class="">m2',</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">sp</span> <span class="id">m1'</span> <span class="id">args'</span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs':711">vargs'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id">ef</span> <span class="id">ge</span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs':711">vargs'</a></span> <span class="id">m1'</span> <span class="id">t</span> <span class="id"><a href="compcert.backend.Allocproof.html#vres':712">vres'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2':713">m2'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">vres</span> <span class="id"><a href="compcert.backend.Allocproof.html#vres':712">vres'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m2</span> <span class="id"><a href="compcert.backend.Allocproof.html#m2':713">m2'</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_args_satisf">add_equations_builtin_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_args_lessdef">add_equations_builtin_args_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">vargs'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_extends">external_call_mem_extends;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">vres'</span> &amp; <span class="id">m2'</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">vargs',</span> <span class="id">vres',</span> <span class="id">m2';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">ef;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_debug_args_satisf">add_equations_debug_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_debug_args_eval">add_equations_debug_args_eval;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">vargs'</span> &amp; <span class="id">A</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">vargs',</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef,</a></span> <span class="id">m1'</span>. <span class="id">intuition</span> <span class="id">auto</span>. <span class="id">simpl</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="parallel_set_builtin_res_satisf" class="id"><a name="parallel_set_builtin_res_satisf" class="">parallel_set_builtin_res_satisf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:717" class="id"><a name="env:717" class="">env</a></span> <span id="res:718" class="id"><a name="res:718" class="">res</a></span> <span id="res':719" class="id"><a name="res':719" class="">res'</a></span> <span id="e0:720" class="id"><a name="e0:720" class="">e0</a></span> <span id="e1:721" class="id"><a name="e1:721" class="">e1</a></span> <span id="rs:722" class="id"><a name="rs:722" class="">rs</a></span> <span id="ls:723" class="id"><a name="ls:723" class="">ls</a></span> <span id="v:724" class="id"><a name="v:724" class="">v</a></span> <span id="v':725" class="id"><a name="v':725" class="">v',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_builtin_res">remove_equations_builtin_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:717">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:718">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':719">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e0:720">e0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:721">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="gallina-kwd">fun</span> <span id="r:726" class="id"><a name="r:726" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:726">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:721">e1</a></span>) (<span class="id"><a href="compcert.common.AST.html#params_of_builtin_res">params_of_builtin_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:718">res</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="gallina-kwd">fun</span> <span id="mr:727" class="id"><a name="mr:727" class="">mr</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr:727">mr</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e1:721">e1</a></span>) (<span class="id"><a href="compcert.common.AST.html#params_of_builtin_res">params_of_builtin_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':719">res'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:722">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:723">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:721">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:724">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':725">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Registers.html#regmap_setres">regmap_setres</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:718">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:724">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:722">rs</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res':719">res'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v':725">v'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:723">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e0:720">e0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#forallb_forall">forallb_forall</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">res,</span> <span class="id">res';</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span> <span class="gallina-kwd">with</span> (<span class="id">k</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">res'1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">destruct</span> <span class="id">res'2;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">rename</span> <span class="id">x0</span> <span class="id">into</span> <span class="id">hi;</span> <span class="id">rename</span> <span class="id">x1</span> <span class="id">into</span> <span class="id">lo</span>. <span class="id">MonadInv</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Machregs.html#mreg_eq">mreg_eq</a></span> <span class="id">hi</span> <span class="id">lo</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">e'</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">x;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">hi</span> <span class="id">|}</span> <span class="id">e0</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">e''</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low;</a></span> <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">:=</span> <span class="id">x;</span> <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">lo</span> <span class="id">|}</span> <span class="id">e'</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">lo</span>))).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">hi</span>))).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">q;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="gallina-kwd">by</span> (<span class="id">red;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e''</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">e'',</span> <span class="id">e',</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation;</a></span> <span class="id">simpl;</span> <span class="id">ESD.fsetdec</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of the dataflow analysis </h1>
<br/>
<span class="vernacular">Lemma</span> <span id="analyze_successors" class="id"><a name="analyze_successors" class="">analyze_successors:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:728" class="id"><a name="f:728" class="">f</a></span> <span id="env:729" class="id"><a name="env:729" class="">env</a></span> <span id="bsh:730" class="id"><a name="bsh:730" class="">bsh</a></span> <span id="an:731" class="id"><a name="an:731" class="">an</a></span> <span id="pc:732" class="id"><a name="pc:732" class="">pc</a></span> <span id="bs:733" class="id"><a name="bs:733" class="">bs</a></span> <span id="s:734" class="id"><a name="s:734" class="">s</a></span> <span id="e:735" class="id"><a name="e:735" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:728">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:729">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:730">bsh</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:731">an</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#bsh:730">bsh!pc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs:733">bs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:734">s</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#successors_block_shape">successors_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs:733">bs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#an:731">an!!pc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:735">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="e':736" class="id"><a name="e':736" class="">e',</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:728">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:729">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:730">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:734">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:731">an!!s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':736">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.Subset">EqSet.Subset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':736">e'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:735">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze;</a></span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocation.html#DS.fixpoint_allnodes_solution">DS.fixpoint_allnodes_solution</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#DS.L.ge">DS.L.ge</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">s</span> <span class="id">an#s</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">e0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="satisf_successors" class="id"><a name="satisf_successors" class="">satisf_successors:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:737" class="id"><a name="f:737" class="">f</a></span> <span id="env:738" class="id"><a name="env:738" class="">env</a></span> <span id="bsh:739" class="id"><a name="bsh:739" class="">bsh</a></span> <span id="an:740" class="id"><a name="an:740" class="">an</a></span> <span id="pc:741" class="id"><a name="pc:741" class="">pc</a></span> <span id="bs:742" class="id"><a name="bs:742" class="">bs</a></span> <span id="s:743" class="id"><a name="s:743" class="">s</a></span> <span id="e:744" class="id"><a name="e:744" class="">e</a></span> <span id="rs:745" class="id"><a name="rs:745" class="">rs</a></span> <span id="ls:746" class="id"><a name="ls:746" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:737">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:738">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:739">bsh</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:740">an</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#bsh:739">bsh!pc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs:742">bs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:743">s</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#successors_block_shape">successors_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs:742">bs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#an:740">an!!pc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:744">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:745">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:746">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:744">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="e':747" class="id"><a name="e':747" class="">e',</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:737">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:738">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:739">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:743">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:740">an!!s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':747">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:745">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:746">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':747">e'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#analyze_successors">analyze_successors;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[e'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">e';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Inversion on <span class="bracket"><span class="id">transf_function</span></span> </div>
<br/>
<span class="vernacular">Inductive</span> <span id="transf_function_spec" class="id"><a name="transf_function_spec" class="">transf_function_spec</a></span> (<span id="f:748" class="id"><a name="f:748" class="">f:</a></span> <span class="id"><a href="compcert.backend.RTL.html#function">RTL.function</a></span>) (<span id="tf:749" class="id"><a name="tf:749" class="">tf:</a></span> <span class="id"><a href="compcert.backend.LTL.html#function">LTL.function</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="transf_function_spec_intro" class="id"><a name="transf_function_spec_intro" class="">transf_function_spec_intro:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:752" class="id"><a name="env:752" class="">env</a></span> <span id="an:753" class="id"><a name="an:753" class="">an</a></span> <span id="mv:754" class="id"><a name="mv:754" class="">mv</a></span> <span id="k:755" class="id"><a name="k:755" class="">k</a></span> <span id="e1:756" class="id"><a name="e1:756" class="">e1</a></span> <span id="e2:757" class="id"><a name="e2:757" class="">e2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:752">env</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:752">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:753">an</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span>)<span class="id">!</span>(<span class="id"><a href="compcert.backend.LTL.html#fn_entrypoint">LTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:754">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k:755">k</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:754">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:752">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span>) (<span class="id"><a href="compcert.backend.RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#an:753">an!!</a></span>(<span class="id"><a href="compcert.backend.RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:756">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#track_moves">track_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:752">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:754">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1:756">e1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:757">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_entry">compat_entry</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_params">RTL.fn_params</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span>) (<span class="id"><a href="compcert.backend.Conventions.html#loc_parameters">loc_parameters</a></span> (<span class="id"><a href="compcert.backend.LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e2:757">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef">can_undef</a></span> <span class="id"><a href="compcert.x86.Machregs.html#destroyed_at_function_entry">destroyed_at_function_entry</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2:757">e2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTL.html#fn_stacksize">RTL.fn_stacksize</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.LTL.html#fn_stacksize">LTL.fn_stacksize</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.LTL.html#fn_sig">LTL.fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_spec:750">transf_function_spec</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:748">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:749">tf</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transf_function_inv" class="id"><a name="transf_function_inv" class="">transf_function_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:758" class="id"><a name="f:758" class="">f</a></span> <span id="tf:759" class="id"><a name="tf:759" class="">tf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:758">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:759">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_spec">transf_function_spec</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:758">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:759">tf</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#type_function">type_function</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[env|]</span> <span class="id">eqn:TY;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#regalloc">regalloc</a></span> <span class="id">f</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#check_function">check_function</a></span> <span class="id">f</span> <span class="id">f0</span> <span class="id">env</span>) <span class="gallina-kwd">as</span> <span class="id">[]</span> <span class="id">eqn:?;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#check_function">check_function</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqr</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id">f</span> <span class="id">env</span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id">f</span> <span class="id">tf</span>)) <span class="gallina-kwd">as</span> <span class="id">[an|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">Heqr</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#check_entrypoints_aux">check_entrypoints_aux</a></span> <span class="id">f</span> <span class="id">tf</span> <span class="id">env</span> <span class="id">x</span>) <span class="gallina-kwd">as</span> <span class="id">[y|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#check_entrypoints_aux">check_entrypoints_aux,</a></span> <span class="id"><a href="compcert.backend.Allocation.html#pair_entrypoints">pair_entrypoints</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqo0</span>. <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#extract_moves_ext_sound">extract_moves_ext_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#check_succ_sound">check_succ_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[k</span> <span class="id">EQ1]</span>. <span class="id">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#type_function_correct">type_function_correct;</a></span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="invert_code" class="id"><a name="invert_code" class="">invert_code:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:760" class="id"><a name="f:760" class="">f</a></span> <span id="env:761" class="id"><a name="env:761" class="">env</a></span> <span id="tf:762" class="id"><a name="tf:762" class="">tf</a></span> <span id="pc:763" class="id"><a name="pc:763" class="">pc</a></span> <span id="i:764" class="id"><a name="i:764" class="">i</a></span> <span id="opte:765" class="id"><a name="opte:765" class="">opte</a></span> <span id="e:766" class="id"><a name="e:766" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:760">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:761">env</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#fn_code">RTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:760">f</a></span>)<span class="id">!pc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i:764">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:760">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:761">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:760">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:762">tf</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#pc:763">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#opte:765">opte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:766">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="eafter:767" class="id"><a name="eafter:767" class="">eafter,</a></span> <span class="gallina-kwd">exists</span> <span id="bsh:768" class="id"><a name="bsh:768" class="">bsh,</a></span> <span class="gallina-kwd">exists</span> <span id="bb:769" class="id"><a name="bb:769" class="">bb,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#opte:765">opte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#eafter:767">eafter</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:760">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:762">tf</a></span>)<span class="id">!pc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:768">bsh</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:762">tf</a></span>)<span class="id">!pc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb:769">bb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:768">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i:764">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb:769">bb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer_aux">transfer_aux</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:760">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:761">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh:768">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#eafter:767">eafter</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:766">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_instr">wt_instr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:760">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:761">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i:764">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">opte</span> <span class="gallina-kwd">as</span> <span class="id">[eafter|];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="gallina-kwd">exists</span> <span class="id">eafter</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id">f</span> <span class="id">tf</span>)<span class="id">!pc</span> <span class="gallina-kwd">as</span> <span class="id">[bsh|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="gallina-kwd">exists</span> <span class="id">bsh</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#matching_instr_block">matching_instr_block;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[bb</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#transfer_aux">transfer_aux</a></span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">eafter</span>) <span class="gallina-kwd">as</span> <span class="id">[e1|]</span> <span class="id">eqn:?;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">bb</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_instr_at">wt_instr_at;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<h1> Semantic preservation </h1>
<br/>
<span class="vernacular">Section</span> <span id="PRESERVATION" class="id"><a name="PRESERVATION" class="">PRESERVATION</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.prog" class="id"><a name="PRESERVATION.prog" class="">prog:</a></span> <span class="id"><a href="compcert.backend.RTL.html#program">RTL.program</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.tprog" class="id"><a name="PRESERVATION.tprog" class="">tprog:</a></span> <span class="id"><a href="compcert.backend.LTL.html#program">LTL.program</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="PRESERVATION.TRANSF" class="id"><a name="PRESERVATION.TRANSF" class="">TRANSF:</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="PRESERVATION.ge" class="id"><a name="PRESERVATION.ge" class="">ge</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>.<br/>
<span class="vernacular">Let</span> <span id="PRESERVATION.tge" class="id"><a name="PRESERVATION.tge" class="">tge</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="symbols_preserved" class="id"><a name="symbols_preserved" class="">symbols_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="s:773" class="id"><a name="s:773" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:773">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:773">s</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_match">Genv.find_symbol_match</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="senv_preserved" class="id"><a name="senv_preserved" class="">senv_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.senv_match">Genv.senv_match</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="functions_translated" class="id"><a name="functions_translated" class="">functions_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="v:774" class="id"><a name="v:774" class="">v:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span id="f:775" class="id"><a name="f:775" class="">f:</a></span> <span class="id"><a href="compcert.backend.RTL.html#fundef">RTL.fundef</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:774">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:775">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tf:776" class="id"><a name="tf:776" class="">tf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:774">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:776">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:775">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:776">tf</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_transf_partial">Genv.find_funct_transf_partial</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="function_ptr_translated" class="id"><a name="function_ptr_translated" class="">function_ptr_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="b:777" class="id"><a name="b:777" class="">b:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="f:778" class="id"><a name="f:778" class="">f:</a></span> <span class="id"><a href="compcert.backend.RTL.html#fundef">RTL.fundef</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:777">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:778">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tf:779" class="id"><a name="tf:779" class="">tf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b:777">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:779">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:778">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:779">tf</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_transf_partial">Genv.find_funct_ptr_transf_partial</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sig_function_translated" class="id"><a name="sig_function_translated" class="">sig_function_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:780" class="id"><a name="f:780" class="">f</a></span> <span id="tf:781" class="id"><a name="tf:781" class="">tf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:780">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:781">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#funsig">LTL.funsig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:781">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.RTL.html#funsig">RTL.funsig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:780">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">destruct</span> <span class="id">f;</span> <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>). <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="find_function_translated" class="id"><a name="find_function_translated" class="">find_function_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ros:782" class="id"><a name="ros:782" class="">ros</a></span> <span id="rs:783" class="id"><a name="rs:783" class="">rs</a></span> <span id="fd:784" class="id"><a name="fd:784" class="">fd</a></span> <span id="ros':785" class="id"><a name="ros':785" class="">ros'</a></span> <span id="e:786" class="id"><a name="e:786" class="">e</a></span> <span id="e':787" class="id"><a name="e':787" class="">e'</a></span> <span id="ls:788" class="id"><a name="ls:788" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTL.html#find_function">RTL.find_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:782">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:783">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#fd:784">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equation_ros">add_equation_ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros:782">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros':785">ros'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:786">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':787">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:783">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:788">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':787">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tfd:789" class="id"><a name="tfd:789" class="">tfd,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#find_function">LTL.find_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros':785">ros'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:788">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tfd:789">tfd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#fd:784">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tfd:789">tfd</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.RTL.html#find_function">RTL.find_function</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.LTL.html#find_function">LTL.find_function</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">ros</span> <span class="gallina-kwd">as</span> <span class="id">[r|id];</span> <span class="id">destruct</span> <span class="id">ros'</span> <span class="gallina-kwd">as</span> <span class="id">[r'|id'];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;two&nbsp;regs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">LD</span>. <span class="id">inv</span> <span class="id">LD</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#functions_translated">functions_translated;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;two&nbsp;symbols&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="id">rewrite</span> <span class="id">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#function_ptr_translated">function_ptr_translated;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="exec_moves" class="id"><a name="exec_moves" class="">exec_moves:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="mv:790" class="id"><a name="mv:790" class="">mv</a></span> <span id="env:791" class="id"><a name="env:791" class="">env</a></span> <span id="rs:792" class="id"><a name="rs:792" class="">rs</a></span> <span id="s:793" class="id"><a name="s:793" class="">s</a></span> <span id="f:794" class="id"><a name="f:794" class="">f</a></span> <span id="sp:795" class="id"><a name="sp:795" class="">sp</a></span> <span id="bb:796" class="id"><a name="bb:796" class="">bb</a></span> <span id="m:797" class="id"><a name="m:797" class="">m</a></span> <span id="e:798" class="id"><a name="e:798" class="">e</a></span> <span id="e':799" class="id"><a name="e':799" class="">e'</a></span> <span id="ls:800" class="id"><a name="ls:800" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#track_moves">track_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:791">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:790">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:798">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':799">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:790">mv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:792">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:800">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e':799">e'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:791">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:792">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ls':801" class="id"><a name="ls':801" class="">ls',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.backend.LTL.html#step">step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Block">Block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:793">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:794">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:795">sp</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv:790">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb:796">bb</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:800">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:797">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Block">Block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:793">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:794">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:795">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb:796">bb</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls':801">ls'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:797">m</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:792">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls':801">ls'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:798">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
<span class="vernacular">Opaque</span> <span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_op">destroyed_by_op</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">mv;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;base&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves;</a></span> <span class="id">simpl</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="gallina-kwd">exists</span> <span class="id">ls;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id">mv</span>) <span class="gallina-kwd">by</span> (<span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves;</a></span> <span class="id">simpl;</span> <span class="id">MonadInv</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;loc-loc&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">src</span> <span class="gallina-kwd">as</span> <span class="id">[rsrc</span> <span class="id">|</span> <span class="id">ssrc];</span> <span class="id">destruct</span> <span class="id">dst</span> <span class="gallina-kwd">as</span> <span class="id">[rdst</span> <span class="id">|</span> <span class="id">sdst]</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;reg-reg&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_undef_satisf">subst_loc_undef_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ls';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">simpl</span>. <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;reg-&gt;stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_undef_satisf">subst_loc_undef_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ls';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">simpl</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;stack-&gt;reg&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">Heqb</span>. <span class="id">exploit</span> <span class="id">IHmv;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_undef_satisf">subst_loc_undef_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ls';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;stack-&gt;stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">contradiction</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_pair_satisf_makelong">subst_loc_pair_satisf_makelong;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ls';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_part_satisf_lowlong">subst_loc_part_satisf_lowlong;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ls';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_part_satisf_highlong">subst_loc_part_satisf_highlong;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ls';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The simulation relation </div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_stackframes" class="id"><a name="match_stackframes" class="">match_stackframes:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.RTL.html#stackframe">RTL.stackframe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.LTL.html#stackframe">LTL.stackframe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_stackframes_nil" class="id"><a name="match_stackframes_nil" class="">match_stackframes_nil:</a></span> <span class="gallina-kwd">forall</span> <span id="sg:804" class="id"><a name="sg:804" class="">sg,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#sg:804">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes:802">match_stackframes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:804">sg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_stackframes_cons" class="id"><a name="match_stackframes_cons" class="">match_stackframes_cons:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="res:805" class="id"><a name="res:805" class="">res</a></span> <span id="f:806" class="id"><a name="f:806" class="">f</a></span> <span id="sp:807" class="id"><a name="sp:807" class="">sp</a></span> <span id="pc:808" class="id"><a name="pc:808" class="">pc</a></span> <span id="rs:809" class="id"><a name="rs:809" class="">rs</a></span> <span id="s:810" class="id"><a name="s:810" class="">s</a></span> <span id="tf:811" class="id"><a name="tf:811" class="">tf</a></span> <span id="bb:812" class="id"><a name="bb:812" class="">bb</a></span> <span id="ls:813" class="id"><a name="ls:813" class="">ls</a></span> <span id="ts:814" class="id"><a name="ts:814" class="">ts</a></span> <span id="sg:815" class="id"><a name="sg:815" class="">sg</a></span> <span id="an:816" class="id"><a name="an:816" class="">an</a></span> <span id="e:817" class="id"><a name="e:817" class="">e</a></span> <span id="env:818" class="id"><a name="env:818" class="">env</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="STACKS:819" class="id"><a name="STACKS:819" class="">STACKS:</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes:802">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:810">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:814">ts</a></span> (<span class="id"><a href="compcert.backend.LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:811">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="FUN:820" class="id"><a name="FUN:820" class="">FUN:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:806">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:811">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ANL:821" class="id"><a name="ANL:821" class="">ANL:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:806">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:818">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:806">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:811">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:816">an</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="EQ:822" class="id"><a name="EQ:822" class="">EQ:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:806">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:818">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:806">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:811">tf</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#pc:808">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:816">an!!pc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:817">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WTF:823" class="id"><a name="WTF:823" class="">WTF:</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:806">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:818">env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WTRS:824" class="id"><a name="WTRS:824" class="">WTRS:</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:818">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:809">rs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WTRES:825" class="id"><a name="WTRES:825" class="">WTRES:</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:818">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:805">res</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:815">sg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="STEPS:830" class="id"><a name="STEPS:830" class="">STEPS:</a></span> <span class="gallina-kwd">forall</span> <span id="v:826" class="id"><a name="v:826" class="">v</a></span> <span id="ls1:827" class="id"><a name="ls1:827" class="">ls1</a></span> <span id="m:828" class="id"><a name="m:828" class="">m,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:826">v</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:815">sg</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls1:827">ls1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:826">v</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#env:818">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:805">res</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:813">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1:827">ls1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ls2:829" class="id"><a name="ls2:829" class="">ls2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.backend.LTL.html#step">LTL.step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Block">Block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:814">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:811">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:807">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb:812">bb</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1:827">ls1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:828">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.backend.LTL.html#State">State</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:814">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:811">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:807">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc:808">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2:829">ls2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:828">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs:809">rs#res</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v:826">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls2:829">ls2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:817">e</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes:802">match_stackframes</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Stackframe">RTL.Stackframe</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:805">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:806">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:807">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc:808">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:809">rs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:810">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Stackframe">LTL.Stackframe</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:811">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:807">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:813">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb:812">bb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:814">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#sg:815">sg</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="match_states" class="id"><a name="match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.backend.RTL.html#state">RTL.state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.LTL.html#state">LTL.state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_states_intro" class="id"><a name="match_states_intro" class="">match_states_intro:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:833" class="id"><a name="s:833" class="">s</a></span> <span id="f:834" class="id"><a name="f:834" class="">f</a></span> <span id="sp:835" class="id"><a name="sp:835" class="">sp</a></span> <span id="pc:836" class="id"><a name="pc:836" class="">pc</a></span> <span id="rs:837" class="id"><a name="rs:837" class="">rs</a></span> <span id="m:838" class="id"><a name="m:838" class="">m</a></span> <span id="ts:839" class="id"><a name="ts:839" class="">ts</a></span> <span id="tf:840" class="id"><a name="tf:840" class="">tf</a></span> <span id="ls:841" class="id"><a name="ls:841" class="">ls</a></span> <span id="m':842" class="id"><a name="m':842" class="">m'</a></span> <span id="an:843" class="id"><a name="an:843" class="">an</a></span> <span id="e:844" class="id"><a name="e:844" class="">e</a></span> <span id="env:845" class="id"><a name="env:845" class="">env</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="STACKS:846" class="id"><a name="STACKS:846" class="">STACKS:</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:833">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:839">ts</a></span> (<span class="id"><a href="compcert.backend.LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:840">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="FUN:847" class="id"><a name="FUN:847" class="">FUN:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:834">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:840">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ANL:848" class="id"><a name="ANL:848" class="">ANL:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:834">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:845">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:834">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:840">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:843">an</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="EQ:849" class="id"><a name="EQ:849" class="">EQ:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:834">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:845">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:834">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:840">tf</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#pc:836">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an:843">an!!pc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:844">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="SAT:850" class="id"><a name="SAT:850" class="">SAT:</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:837">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:841">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e:844">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MEM:851" class="id"><a name="MEM:851" class="">MEM:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:838">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m':842">m'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WTF:852" class="id"><a name="WTF:852" class="">WTF:</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:834">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:845">env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WTRS:853" class="id"><a name="WTRS:853" class="">WTRS:</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:845">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:837">rs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states:831">match_states</a></span> (<span class="id"><a href="compcert.backend.RTL.html#State">RTL.State</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:833">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:834">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:835">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc:836">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs:837">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:838">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#State">LTL.State</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:839">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:840">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp:835">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc:836">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:841">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m':842">m'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_states_call" class="id"><a name="match_states_call" class="">match_states_call:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:854" class="id"><a name="s:854" class="">s</a></span> <span id="f:855" class="id"><a name="f:855" class="">f</a></span> <span id="args:856" class="id"><a name="args:856" class="">args</a></span> <span id="m:857" class="id"><a name="m:857" class="">m</a></span> <span id="ts:858" class="id"><a name="ts:858" class="">ts</a></span> <span id="tf:859" class="id"><a name="tf:859" class="">tf</a></span> <span id="ls:860" class="id"><a name="ls:860" class="">ls</a></span> <span id="m':861" class="id"><a name="m':861" class="">m'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="STACKS:862" class="id"><a name="STACKS:862" class="">STACKS:</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:854">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:858">ts</a></span> (<span class="id"><a href="compcert.backend.LTL.html#funsig">funsig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:859">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="FUN:863" class="id"><a name="FUN:863" class="">FUN:</a></span> <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:855">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:859">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ARGS:865" class="id"><a name="ARGS:865" class="">ARGS:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:856">args</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="gallina-kwd">fun</span> <span id="p:864" class="id"><a name="p:864" class="">p</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p:864">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:860">ls</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="compcert.backend.LTL.html#funsig">funsig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:859">tf</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="AG:866" class="id"><a name="AG:866" class="">AG:</a></span> <span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> (<span class="id"><a href="compcert.backend.LTL.html#parent_locset">parent_locset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:858">ts</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:860">ls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MEM:867" class="id"><a name="MEM:867" class="">MEM:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:857">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m':861">m'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WTARGS:868" class="id"><a name="WTARGS:868" class="">WTARGS:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.has_type_list">Val.has_type_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:856">args</a></span> (<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="compcert.backend.LTL.html#funsig">funsig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:859">tf</a></span>)))<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states:831">match_states</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Callstate">RTL.Callstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:854">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:855">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:856">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:857">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Callstate">LTL.Callstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:858">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf:859">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:860">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m':861">m'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_states_return" class="id"><a name="match_states_return" class="">match_states_return:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:869" class="id"><a name="s:869" class="">s</a></span> <span id="res:870" class="id"><a name="res:870" class="">res</a></span> <span id="m:871" class="id"><a name="m:871" class="">m</a></span> <span id="ts:872" class="id"><a name="ts:872" class="">ts</a></span> <span id="ls:873" class="id"><a name="ls:873" class="">ls</a></span> <span id="m':874" class="id"><a name="m':874" class="">m'</a></span> <span id="sg:875" class="id"><a name="sg:875" class="">sg</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="STACKS:876" class="id"><a name="STACKS:876" class="">STACKS:</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:869">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:872">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:875">sg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="RES:877" class="id"><a name="RES:877" class="">RES:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:870">res</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:875">sg</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls:873">ls</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="AG:878" class="id"><a name="AG:878" class="">AG:</a></span> <span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> (<span class="id"><a href="compcert.backend.LTL.html#parent_locset">parent_locset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:872">ts</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls:873">ls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MEM:879" class="id"><a name="MEM:879" class="">MEM:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:871">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m':874">m'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WTRES:880" class="id"><a name="WTRES:880" class="">WTRES:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:870">res</a></span> (<span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:875">sg</a></span>))<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states:831">match_states</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Returnstate">RTL.Returnstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:869">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res:870">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m:871">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Returnstate">LTL.Returnstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:872">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls:873">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m':874">m'</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_stackframes_change_sig" class="id"><a name="match_stackframes_change_sig" class="">match_stackframes_change_sig:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:881" class="id"><a name="s:881" class="">s</a></span> <span id="ts:882" class="id"><a name="ts:882" class="">ts</a></span> <span id="sg:883" class="id"><a name="sg:883" class="">sg</a></span> <span id="sg':884" class="id"><a name="sg':884" class="">sg',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:881">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:882">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:883">sg</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#sg':884">sg'</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg:883">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:881">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts:882">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg':884">sg'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_exten">loc_result_exten</a></span> <span class="id">sg'</span> <span class="id">sg</span>) <span class="gallina-kwd">in</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Ltac</span> <span class="id">UseShape</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">WT:</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id">_</span> <span class="id">_,</span> <span class="id">CODE:</span> (<span class="id"><a href="compcert.backend.RTL.html#fn_code">RTL.fn_code</a></span> <span class="id">_</span>)<span class="id">!_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_,</span> <span class="id">EQ:</span> <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#invert_code">invert_code</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WT</span> <span class="id">CODE</span> <span class="id">EQ</span>) <span class="gallina-kwd">as</span> (<span class="id">eafter</span> &amp; <span class="id">bsh</span> &amp; <span class="id">bb</span> &amp; <span class="id">AFTER</span> &amp; <span class="id">BSH</span> &amp; <span class="id">TCODE</span> &amp; <span class="id">EBS</span> &amp; <span class="id">TR</span> &amp; <span class="id">WTI</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EBS;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transfer_aux">transfer_aux</a></span> <span class="gallina-kwd">in</span> <span class="id">TR;</span> <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="addressing_not_long" class="id"><a name="addressing_not_long" class="">addressing_not_long:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="env:885" class="id"><a name="env:885" class="">env</a></span> <span id="f:886" class="id"><a name="f:886" class="">f</a></span> <span id="addr:887" class="id"><a name="addr:887" class="">addr</a></span> <span id="args:888" class="id"><a name="args:888" class="">args</a></span> <span id="dst:889" class="id"><a name="dst:889" class="">dst</a></span> <span id="s:890" class="id"><a name="s:890" class="">s</a></span> <span id="r:891" class="id"><a name="r:891" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_instr">wt_instr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f:886">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env:885">env</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr:887">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:888">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:889">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:890">s</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:891">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args:888">args</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:891">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst:889">dst</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="ty:893" class="id"><span id="ty:892" class="id"><a name="ty:893" class="">ty,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty:892">ty</a></span> (<span class="id"><a href="compcert.x86.Op.html#type_of_addressing">type_of_addressing</a></span> <span class="id">addr</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty:892">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">addr;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">intuition</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">env</span> <span class="id">r</span>) (<span class="id"><a href="compcert.x86.Op.html#type_of_addressing">type_of_addressing</a></span> <span class="id">addr</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H5</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map;</a></span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id">env</span> <span class="id">r</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id">A</span> <span class="gallina-kwd">in</span> <span class="id">B</span>. <span class="id">rewrite</span> <span class="id">B</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">r</span>. <span class="id">rewrite</span> <span class="id">C</span> <span class="gallina-kwd">in</span> <span class="id">H8;</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The proof of semantic preservation is a simulation argument of the
    "plus" kind. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_simulation" class="id"><a name="step_simulation" class="">step_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S1:894" class="id"><a name="S1:894" class="">S1</a></span> <span id="t:895" class="id"><a name="t:895" class="">t</a></span> <span id="S2:896" class="id"><a name="S2:896" class="">S2,</a></span> <span class="id"><a href="compcert.backend.RTL.html#step">RTL.step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1:894">S1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#t:895">t</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S2:896">S2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1:894">S1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S1':897" class="id"><a name="S1':897" class="">S1',</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1:894">S1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1':897">S1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="S2':898" class="id"><a name="S2':898" class="">S2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.backend.LTL.html#step">LTL.step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1':897">S1'</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#t:895">t</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S2':898">S2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S2:896">S2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S2':898">S2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">WT</span> <span class="id">S1'</span> <span class="id">MS;</span> <span class="id">inv</span> <span class="id">MS;</span> <span class="id">try</span> <span class="id">UseShape</span>.<br/>
<br/>
<span class="comment">(*&nbsp;nop&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;move&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_satisf">subst_reg_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;makelong&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_kind_satisf_makelong">subst_reg_kind_satisf_makelong</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;lowlong&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_kind_satisf_lowlong">subst_reg_kind_satisf_lowlong</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;highlong&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_kind_satisf_highlong">subst_reg_kind_satisf_highlong</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;regular&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#transfer_use_def_satisf">transfer_use_def_satisf;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[X</span> <span class="id">Y]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_operation_lessdef">eval_operation_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[v'</span> <span class="id">[F</span> <span class="id">G]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls2</span> <span class="id">[A2</span> <span class="id">B2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">v'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_operation_preserved">eval_operation_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;dead&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_satisf">reg_unconstrained_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;regular&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#transfer_use_def_satisf">transfer_use_def_satisf;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[X</span> <span class="id">Y]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[a'</span> <span class="id">[F</span> <span class="id">G]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[v'</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls2</span> <span class="id">[A2</span> <span class="id">B2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">a'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;pair&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loadv_int64_split">loadv_int64_split;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">v2'</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id">v2</span> <span class="gallina-kwd">else</span> <span class="id">v1</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">v1'</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id">v1</span> <span class="gallina-kwd">else</span> <span class="id">v2</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LD1:</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs##args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args1'</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[a1'</span> <span class="id">[F1</span> <span class="id">G1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">LOAD1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="id">intros</span> (<span class="id">v1''</span> &amp; <span class="id">LOAD1'</span> &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ls2</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst1'</span>) <span class="id">v1''</span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAT2:</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs#dst</span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e2</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">v1';</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val;</a></span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word;</a></span> <span class="id">unfold</span> <span class="id">v1';</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls3</span> <span class="id">[A3</span> <span class="id">B3]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LD3:</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs##args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls3</span> <span class="id">args2'</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">replace</span> (<span class="id">rs##args</span>) <span class="gallina-kwd">with</span> ((<span class="id">rs#dst&lt;-v</span>)<span class="id">##args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_exten">list_map_exten;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#addressing_not_long">addressing_not_long;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD3</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.x86.Op.html#eval_offset_addressing">eval_offset_addressing;</a></span> <span class="id">eauto;</span> <span class="id">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[a2'</span> <span class="id">[F2</span> <span class="id">G2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LOADX:</span> <span class="gallina-kwd">exists</span> <span id="v2'':900" class="id"><span id="v2'':899" class="id"><a name="v2'':900" class="">v2'',</a></span></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">m'</span> <span class="id">a2'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v2'':899">v2''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">v2'</span> <span class="id"><a href="compcert.backend.Allocproof.html#v2'':899">v2''</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">discriminate</span> <span class="id">||</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span><span class="id">;</span> <span class="id">[eauto|eexact</span> <span class="id">LOAD2|eexact</span> <span class="id">G2]</span>). <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">LOADX</span> <span class="gallina-kwd">as</span> (<span class="id">v2''</span> &amp; <span class="id">LOAD2'</span> &amp; <span class="id">LD4</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ls4</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst2'</span>) <span class="id">v2''</span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr2</span>) <span class="id">ls3</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAT4:</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs#dst</span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id">v</span>) <span class="id">ls4</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">v2';</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val;</a></span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word;</a></span> <span class="id">unfold</span> <span class="id">v2';</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv3</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls5</span> <span class="id">[A5</span> <span class="id">B5]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">a1'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD1'</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">ls2</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">a2'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD2'</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">ls4</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A5</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[W</span> <span class="id">Z]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;first&nbsp;word&nbsp;of&nbsp;a&nbsp;pair&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loadv_int64_split">loadv_int64_split;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">v2'</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id">v2</span> <span class="gallina-kwd">else</span> <span class="id">v1</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">v1'</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id">v1</span> <span class="gallina-kwd">else</span> <span class="id">v2</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LD1:</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs##args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args'</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[a1'</span> <span class="id">[F1</span> <span class="id">G1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">LOAD1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="id">intros</span> (<span class="id">v1''</span> &amp; <span class="id">LOAD1'</span> &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ls2</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst'</span>) <span class="id">v1''</span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAT2:</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs#dst</span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">v1';</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val;</a></span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word;</a></span> <span class="id">unfold</span> <span class="id">v1';</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls3</span> <span class="id">[A3</span> <span class="id">B3]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">a1'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD1'</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">ls2</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[W</span> <span class="id">Z]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;second&nbsp;word&nbsp;of&nbsp;a&nbsp;pair&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="id">intros</span> <span class="id">WTRS'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loadv_int64_split">loadv_int64_split;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">v2'</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id">v2</span> <span class="gallina-kwd">else</span> <span class="id">v1</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">v1'</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id">v1</span> <span class="gallina-kwd">else</span> <span class="id">v2</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LD1:</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs##args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args'</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.x86.Op.html#eval_offset_addressing">eval_offset_addressing;</a></span> <span class="id">eauto;</span> <span class="id">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[a1'</span> <span class="id">[F1</span> <span class="id">G1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LOADX:</span> <span class="gallina-kwd">exists</span> <span id="v2'':902" class="id"><span id="v2'':901" class="id"><a name="v2'':902" class="">v2'',</a></span></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">m'</span> <span class="id">a1'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v2'':901">v2''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">v2'</span> <span class="id"><a href="compcert.backend.Allocproof.html#v2'':901">v2''</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">discriminate</span> <span class="id">||</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span><span class="id">;</span> <span class="id">[eauto|eexact</span> <span class="id">LOAD2|eexact</span> <span class="id">G1]</span>). <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">LOADX</span> <span class="gallina-kwd">as</span> (<span class="id">v2''</span> &amp; <span class="id">LOAD2'</span> &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ls2</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst'</span>) <span class="id">v2''</span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr2</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAT2:</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs#dst</span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">v2';</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val;</a></span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word;</a></span> <span class="id">unfold</span> <span class="id">v2';</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls3</span> <span class="id">[A3</span> <span class="id">B3]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">a1'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD2'</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">ls2</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[W</span> <span class="id">Z]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;dead&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_satisf">reg_unconstrained_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;store&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">LD</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">LD</span>. <span class="id">inv</span> <span class="id">LD</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[a'</span> <span class="id">[F</span> <span class="id">G]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_extends">Mem.storev_extends</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[m''</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_two">star_two</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">a'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;store&nbsp;2&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">SF:</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span><span class="id">;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_int64_split">Mem.storev_int64_split</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id">rs#src</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id">rs#src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word</a></span> <span class="id">rs#src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word;</a></span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span><span class="id">;</span> <span class="id">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id">rs#src</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id">rs#src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word</a></span> <span class="id">rs#src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word;</a></span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span><span class="id">;</span> <span class="id">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[m1</span> <span class="id">[STORE1</span> <span class="id">STORE2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[X</span> <span class="id">Y]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>. <span class="id">eexact</span> <span class="id">Heqo1</span>. <span class="id">eexact</span> <span class="id">Y</span>. <span class="id">intros</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>. <span class="id">eexact</span> <span class="id">Heqo1</span>. <span class="id">eexact</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">intros</span> <span class="id">LD2</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ls2</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_store">destroyed_by_store</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAT2:</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id">rs</span> <span class="id">ls2</span> <span class="id">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[a1'</span> <span class="id">[F1</span> <span class="id">G1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">F1':</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> <span class="id">sp</span> <span class="id">addr</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args1'</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_extends">Mem.storev_extends</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">STORE1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[m1'</span> <span class="id">[STORE1'</span> <span class="id">EXT1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls3</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>. <span class="id">eexact</span> <span class="id">Heqo</span>. <span class="id">eexact</span> <span class="id">V</span>. <span class="id">intros</span> <span class="id">LD3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>. <span class="id">eexact</span> <span class="id">Heqo</span>. <span class="id">eexact</span> <span class="id">V</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">intros</span> <span class="id">LD4</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD3</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[a2'</span> <span class="id">[F2</span> <span class="id">G2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">F2':</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span> <span class="id">sp</span> <span class="id">addr</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls3</span> <span class="id">args2'</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">F2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.Op.html#eval_offset_addressing">eval_offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tge">tge</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">F2''</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">STOREX:</span> <span class="gallina-kwd">exists</span> <span id="m2':904" class="id"><span id="m2':903" class="id"><a name="m2':904" class="">m2',</a></span></span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">m1'</span> (<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id">a2'</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">4</span>))) (<span class="id">ls3</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">src2'</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2':903">m2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m'</span> <span class="id"><a href="compcert.backend.Allocproof.html#m2':903">m2'</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">try</span> <span class="id">discriminate;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_extends">Mem.storev_extends</a></span><span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[eexact</span> <span class="id">EXT1</span> <span class="id">|</span> <span class="id">eexact</span> <span class="id">STORE2</span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_lessdef">Val.add_lessdef</a></span><span class="id">;</span> <span class="id">[eexact</span> <span class="id">G2|eauto]</span> <span class="id">|</span> <span class="id">eauto]</span>). <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">STOREX</span> <span class="gallina-kwd">as</span> <span class="id">[m2'</span> <span class="id">[STORE2'</span> <span class="id">EXT2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eexact</span> <span class="id">F1'</span>. <span class="id">eexact</span> <span class="id">STORE1'</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">ls2</span>). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_two">star_two</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.LTL.html#exec_Lstore">exec_Lstore</a></span> <span class="gallina-kwd">with</span> (<span class="id">m'</span> <span class="id">:=</span> <span class="id">m2'</span>). <span class="id">eexact</span> <span class="id">F2''</span>. <span class="id">discriminate||exact</span> <span class="id">STORE2'</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">set</span> (<span class="id">sg</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.RTL.html#funsig">RTL.funsig</a></span> <span class="id">fd</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">args'</span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">res'</span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id">sg</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#find_function_translated">find_function_translated</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tfd</span> <span class="id">[E</span> <span class="id">F]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SIG:</span> <span class="id"><a href="compcert.backend.LTL.html#funsig">funsig</a></span> <span class="id">tfd</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">sg</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#sig_function_translated">sig_function_translated;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#analyze_successors">analyze_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">left;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>). <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#function_return_satisf">function_return_satisf</a></span> <span class="gallina-kwd">with</span> (<span class="id">v</span> <span class="id">:=</span> <span class="id">v</span>) (<span class="id">ls_before</span> <span class="id">:=</span> <span class="id">ls1</span>) (<span class="id">ls_after</span> <span class="id">:=</span> <span class="id">ls0</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_ros_satisf">add_equation_ros_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_assign">wt_regset_assign;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls2</span> <span class="id">[A2</span> <span class="id">B2]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">ls2;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr</a></span> <span class="gallina-kwd">with</span> <span class="id">eafter;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">SIG</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_lessdef">add_equations_args_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H7</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">red;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="id">rewrite</span> <span class="id">SIG</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H7</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list;</a></span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;tailcall&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">set</span> (<span class="id">sg</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.RTL.html#funsig">RTL.funsig</a></span> <span class="id">fd</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">args'</span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[m''</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#find_function_translated">find_function_translated</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tfd</span> <span class="id">[E</span> <span class="id">F]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SIG:</span> <span class="id"><a href="compcert.backend.LTL.html#funsig">funsig</a></span> <span class="id">tfd</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">sg</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#sig_function_translated">sig_function_translated;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">E</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#find_function_tailcall">find_function_tailcall;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.backend.LTL.html#fn_stacksize">fn_stacksize</a></span> <span class="id">tf</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.RTL.html#fn_stacksize">RTL.fn_stacksize</a></span> <span class="id">f</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes_change_sig">match_stackframes_change_sig;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">SIG</span>. <span class="id">rewrite</span> <span class="id">e0</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">SIG</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_arg_values">return_regs_arg_values;</a></span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_lessdef">add_equations_args_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H6</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">SIG</span>. <span class="id">inv</span> <span class="id">WTI</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H6</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list;</a></span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_eval">add_equations_builtin_eval;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">C</span> &amp; <span class="id">vargs'</span> &amp; <span class="id">vres'</span> &amp; <span class="id">m''</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span> &amp; <span class="id">G</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">WTRS':</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id">env</span> (<span class="id"><a href="compcert.backend.Registers.html#regmap_setres">regmap_setres</a></span> <span class="id">res</span> <span class="id">vres</span> <span class="id">rs</span>)) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Ibuiltin">wt_exec_Ibuiltin;</a></span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ls2</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id">res'</span> <span class="id">vres'</span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_builtin">destroyed_by_builtin</a></span> <span class="id">ef</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Registers.html#regmap_setres">regmap_setres</a></span> <span class="id">res</span> <span class="id">vres</span> <span class="id">rs</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_set_builtin_res_satisf">parallel_set_builtin_res_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls3</span> <span class="id">[A3</span> <span class="id">B3]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#eval_builtin_args_preserved">eval_builtin_args_preserved</a></span> <span class="gallina-kwd">with</span> (<span class="id">ge1</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#senv_preserved">senv_preserved</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">ls2</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;cond&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.x86.Op.html#eval_condition_lessdef">eval_condition_lessdef;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id">b</span> <span class="gallina-kwd">then</span> <span class="id">ifso</span> <span class="gallina-kwd">else</span> <span class="id">ifnot</span>). <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;jumptable&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span>) (<span class="id">ls1</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">arg'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="gallina-kwd">with</span> (<span class="id">q</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">arg</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">arg'</span>))<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">pc'</span>). <span class="id">simpl</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[enext</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H10</span>. <span class="id">intros</span> <span class="id">[m''</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI;</span> <span class="id">MonadInv</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;without&nbsp;an&nbsp;argument&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;with&nbsp;an&nbsp;argument&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> (<span class="id"><a href="compcert.backend.LTL.html#parent_locset">parent_locset</a></span> <span class="id">ts</span>) <span class="id">ls1</span>))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>))) <span class="id">ls1</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_res_lessdef">add_equations_res_lessdef;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H14</span>. <span class="id">apply</span> <span class="id">WTRS</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_caller_save">loc_result_caller_save</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>))<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[A</span> <span class="id">B];</span> <span class="id">rewrite</span> <span class="id">A,</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H11,</span> <span class="id">&lt;-</span> <span class="id">H14</span>. <span class="id">apply</span> <span class="id">WTRS</span>.<br/>
<br/>
<span class="comment">(*&nbsp;internal&nbsp;function&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">FUN</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>. <span class="id">rewrite</span> <span class="id">H8;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[m''</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">WTRS:</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id">env</span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id">args</span> (<span class="id"><a href="compcert.backend.RTL.html#fn_params">fn_params</a></span> <span class="id">f</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_init_regs">wt_init_regs</a></span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id">wt_params</span>. <span class="id">rewrite</span> <span class="id">H9</span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>). <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#compat_entry_satisf">compat_entry_satisf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#call_regs_param_values">call_regs_param_values</a></span>. <span class="id">eexact</span> <span class="id">ARGS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">WTRS</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ls1</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;external&nbsp;function&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_extends">external_call_mem_extends;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[v'</span> <span class="id">[m''</span> <span class="id">[F</span> <span class="id">[G</span> <span class="id">[J</span> <span class="id">K]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">FUN;</span> <span class="id">inv</span> <span class="id">FUN</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span> <span class="gallina-kwd">with</span> (<span class="id">ge1</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.ge">ge</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)) <span class="id">eqn:RES;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_pair">loc_result_pair</a></span> (<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id">RES;</span> <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">WTRES':</span> <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id">v'</span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_well_typed">external_call_well_typed;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="gallina-kwd">by</span> (<span class="id">red;</span> <span class="id">auto</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id">AG</span> <span class="id">l</span> <span class="id">H0</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Conventions.html#locmap_get_set_loc_result_callee_save">locmap_get_set_loc_result_callee_save</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.LTL.html#undef_caller_save_regs">undef_caller_save_regs</a></span>. <span class="id">destruct</span> <span class="id">l;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">sl;</span> <span class="id">auto;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_well_typed">external_call_well_typed;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">STACKS</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">STEPS;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">WTRES0;</span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[ls2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_assign">wt_regset_assign;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">WTRES0;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="initial_states_simulation" class="id"><a name="initial_states_simulation" class="">initial_states_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="st1:905" class="id"><a name="st1:905" class="">st1,</a></span> <span class="id"><a href="compcert.backend.RTL.html#initial_state">RTL.initial_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1:905">st1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="st2:906" class="id"><a name="st2:906" class="">st2,</a></span> <span class="id"><a href="compcert.backend.LTL.html#initial_state">LTL.initial_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2:906">st2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1:905">st1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2:906">st2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#function_ptr_translated">function_ptr_translated;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tf</span> <span class="id">[FIND</span> <span class="id">TR]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#sig_function_translated">sig_function_translated;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">SIG</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.backend.LTL.html#Callstate">LTL.Callstate</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">tf</span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.init">Locmap.init</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>) <span class="id">m0</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_transf_partial">Genv.init_mem_transf_partial</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Linking.html#match_program_main">match_program_main</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>).  <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">rewrite</span> <span class="id">SIG;</span> <span class="id">rewrite</span> <span class="id">H3;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">SIG,</span> <span class="id">H3,</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_main">loc_arguments_main</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends_refl">Mem.extends_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">SIG,</span> <span class="id">H3</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="final_states_simulation" class="id"><a name="final_states_simulation" class="">final_states_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="st1:907" class="id"><a name="st1:907" class="">st1</a></span> <span id="st2:908" class="id"><a name="st2:908" class="">st2</a></span> <span id="r:909" class="id"><a name="r:909" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1:907">st1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2:908">st2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.RTL.html#final_state">RTL.final_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1:907">st1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:909">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.LTL.html#final_state">LTL.final_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2:908">st2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r:909">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">STACKS</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_exten">loc_result_exten</a></span> <span class="id">sg</span>). <span class="id">inv</span> <span class="id">RES;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="wt_prog" class="id"><a name="wt_prog" class="">wt_prog:</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_program">wt_program</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_forall2_in_left">list_forall2_in_left</a></span>. <span class="id">eexact</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>). <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">[i'</span> <span class="id">gd]</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">subst</span> <span class="id">i'</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">C</span>. <span class="id">destruct</span> <span class="id">f;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#type_function">type_function</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[env|]</span> <span class="id">eqn:TF;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#type_function_correct">type_function_correct;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="transf_program_correct" class="id"><a name="transf_program_correct" class="">transf_program_correct:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.backend.RTL.html#semantics">RTL.semantics</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>) (<span class="id"><a href="compcert.backend.LTL.html#semantics">LTL.semantics</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ms</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:912" class="id"><span id="s:910" class="id"><a name="s:912" class="">s</a></span></span> <span id="s':913" class="id"><span id="s':911" class="id"><a name="s':913" class="">s'</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:910">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s:910">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s':911">s'</a></span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_plus">forward_simulation_plus</a></span> <span class="gallina-kwd">with</span> (<span class="id">match_states</span> <span class="id">:=</span> <span class="id">ms</span>).<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#senv_preserved">senv_preserved</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#initial_states_simulation">initial_states_simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[st2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">st2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_initial_state">wt_initial_state</a></span> <span class="gallina-kwd">with</span> (<span class="id">p</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#wt_prog">wt_prog</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#final_states_simulation">final_states_simulation;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#step_simulation">step_simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split</span>. <span class="id">exact</span> <span class="id">A</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#subject_reduction">subject_reduction;</a></span> <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id"><a href="compcert.backend.Allocproof.html#wt_prog">wt_prog</a></span>. <span class="id">eexact</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION">PRESERVATION</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
