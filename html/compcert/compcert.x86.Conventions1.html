
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Conventions1</title>
<meta name="description" content="Documentation of Coq module Conventions1" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Conventions1</h1>
<br/>
<div class="doc">Function calling conventions and other conventions regarding the use of
    machine registers and stack slots. </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Decidableplus.html">Decidableplus</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.x86.Machregs.html">Machregs</a></span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span>.<br/>
<br/>
<h1> Classification of machine registers </h1>
<br/>
<div class="doc">Machine registers (type <span class="bracket"><span class="id">mreg</span></span> in module <span class="bracket"><span class="id">Locations</span></span>) are divided in
  the following groups:
<ul>
<li>
 Callee-save registers, whose value is preserved across a function call.
</li>
<li>
 Caller-save registers that can be modified during a function call.
</li>
</ul>
  We follow the x86-32 and x86-64 application binary interfaces (ABI)
  in our choice of callee- and caller-save registers.
</div>
<br/>
<span class="vernacular">Definition</span> <span id="is_callee_save" class="id"><a name="is_callee_save" class="">is_callee_save</a></span> (<span id="r:1" class="id"><a name="r:1" class="">r:</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#r:1">r</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span> <span class="docright">(* callee-save in ELF 64 bits  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R10">R10</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R11">R11</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R12">R12</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R13">R13</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R14">R14</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R15">R15</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X8">X8</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X9">X9</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X10">X10</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X11">X11</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X12">X12</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X13">X13</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X14">X14</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X15">X15</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#FP0">FP0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="int_caller_save_regs" class="id"><a name="int_caller_save_regs" class="">int_caller_save_regs</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R10">R10</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R11">R11</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R10">R10</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R11">R11</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="float_caller_save_regs" class="id"><a name="float_caller_save_regs" class="">float_caller_save_regs</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Machregs.html#X8">X8</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X9">X9</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X10">X10</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X11">X11</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X12">X12</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X13">X13</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X14">X14</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X15">X15</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="int_callee_save_regs" class="id"><a name="int_callee_save_regs" class="">int_callee_save_regs</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R12">R12</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R13">R13</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R14">R14</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R15">R15</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R12">R12</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R13">R13</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R14">R14</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R15">R15</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="float_callee_save_regs" class="id"><a name="float_callee_save_regs" class="">float_callee_save_regs</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> &amp;&amp; <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X8">X8</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X9">X9</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X10">X10</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X11">X11</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X12">X12</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X13">X13</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X14">X14</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X15">X15</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="destroyed_at_call" class="id"><a name="destroyed_at_call" class="">destroyed_at_call</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> (<span class="gallina-kwd">fun</span> <span id="r:3" class="id"><a name="r:3" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:3">r</a></span>)) <span class="id"><a href="compcert.x86.Machregs.html#all_mregs">all_mregs</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="is_float_reg" class="id"><a name="is_float_reg" class="">is_float_reg</a></span> (<span id="r:4" class="id"><a name="r:4" class="">r:</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#r:4">r</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R10">R10</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R11">R11</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R12">R12</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R13">R13</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R14">R14</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#R15">R15</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X8">X8</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X9">X9</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X10">X10</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X11">X11</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X12">X12</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X13">X13</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X14">X14</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#X15">X15</a></span> <span class="id">|</span> <span class="id"><a href="compcert.x86.Machregs.html#FP0">FP0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="dummy_int_reg" class="id"><a name="dummy_int_reg" class="">dummy_int_reg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span>.     <span class="docright">(* Used in <span class="bracket"><span class="id">Regalloc</span></span>.  *)</span><br/>
<span class="vernacular">Definition</span> <span id="dummy_float_reg" class="id"><a name="dummy_float_reg" class="">dummy_float_reg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span>.   <span class="docright">(* Used in <span class="bracket"><span class="id">Regalloc</span></span>.  *)</span><br/>
<br/>
<span class="vernacular">Definition</span> <span id="callee_save_type" class="id"><a name="callee_save_type" class="">callee_save_type</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span>.<br/>
<br/>
<div class="doc">How to use registers for register allocation.
    We favor the use of caller-save registers, using callee-save registers
    only when no caller-save is available. </div>
<br/>
<span class="vernacular">Record</span> <span id="alloc_regs" class="id"><a name="alloc_regs" class="">alloc_regs</a></span> <span class="id">:=</span> <span class="id">mk_alloc_regs</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="preferred_int_regs" class="id"><a name="preferred_int_regs" class="">preferred_int_regs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg;</a></span><br/>
&nbsp;&nbsp;<span id="remaining_int_regs" class="id"><a name="remaining_int_regs" class="">remaining_int_regs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg;</a></span><br/>
&nbsp;&nbsp;<span id="preferred_float_regs" class="id"><a name="preferred_float_regs" class="">preferred_float_regs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg;</a></span><br/>
&nbsp;&nbsp;<span id="remaining_float_regs" class="id"><a name="remaining_float_regs" class="">remaining_float_regs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="allocatable_registers" class="id"><a name="allocatable_registers" class="">allocatable_registers</a></span> (<span class="id">_:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.x86.Conventions1.html#preferred_int_regs">preferred_int_regs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Conventions1.html#int_caller_save_regs">int_caller_save_regs;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#remaining_int_regs">remaining_int_regs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Conventions1.html#int_callee_save_regs">int_callee_save_regs;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#preferred_float_regs">preferred_float_regs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Conventions1.html#float_caller_save_regs">float_caller_save_regs;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#remaining_float_regs">remaining_float_regs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Conventions1.html#float_callee_save_regs">float_callee_save_regs</a></span> <span class="id">|}</span>.<br/>
<br/>
<h1> Function calling conventions </h1>
<br/>
<div class="doc">The functions in this section determine the locations (machine registers
  and stack slots) used to communicate arguments and results between the
  caller and the callee during function calls.  These locations are functions
  of the signature of the function and of the call instruction.
  Agreement between the caller and the callee on the locations to use
  is guaranteed by our dynamic semantics for Cminor and RTL, which demand
  that the signature of the call instruction is identical to that of the
  called function.
  Calling conventions are largely arbitrary: they must respect the properties
  proved in this section (such as no overlapping between the locations
  of function arguments), but this leaves much liberty in choosing actual
  locations.  To ensure binary interoperability of code generated by our
  compiler with libraries compiled by another compiler, we
  implement the standard x86-32 and x86-64 conventions. </div>
<br/>
<h2> Location of function result </h2>
<br/>
<div class="doc">In 32 bit mode, the result value of a function is passed back to the
  caller in registers <span class="bracket"><span class="id">AX</span></span> or <span class="bracket"><span class="id">DX</span>:<span class="id">AX</span></span> or <span class="bracket"><span class="id">FP0</span></span>, depending on the type
  of the returned value.  We treat a function without result as a
  function with one integer result. </div>
<br/>
<span class="vernacular">Definition</span> <span id="loc_result_32" class="id"><a name="loc_result_32" class="">loc_result_32</a></span> (<span id="s:11" class="id"><a name="s:11" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s:11">s</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#FP0">FP0</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#Twolong">Twolong</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">In 64 bit mode, he result value of a function is passed back to
  the caller in registers <span class="bracket"><span class="id">AX</span></span> or <span class="bracket"><span class="id">X0</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="loc_result_64" class="id"><a name="loc_result_64" class="">loc_result_64</a></span> (<span id="s:12" class="id"><a name="s:12" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s:12">s</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="loc_result" class="id"><a name="loc_result" class="">loc_result</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32</a></span>.<br/>
<br/>
<div class="doc">The result registers have types compatible with that given in the signature. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_result_type" class="id"><a name="loc_result_type" class="">loc_result_type:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sig:13" class="id"><a name="sig:13" class="">sig,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#sig:13">sig</a></span>) (<span class="id"><a href="compcert.common.AST.html#typ_rpair">typ_rpair</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#sig:13">sig</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64,</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type;</a></span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id">sig</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The result locations are caller-save registers </div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_result_caller_save" class="id"><a name="loc_result_caller_save" class="">loc_result_caller_save:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="s:14" class="id"><a name="s:14" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="gallina-kwd">fun</span> <span id="r:15" class="id"><a name="r:15" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:15">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s:14">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save;</a></span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id">s</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">If the result is in a pair of registers, those registers are distinct and have type <span class="bracket"><span class="id">Tint</span></span> at least. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_result_pair" class="id"><a name="loc_result_pair" class="">loc_result_pair:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sg:16" class="id"><a name="sg:16" class="">sg,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#sg:16">sg</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Twolong">Twolong</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">r1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">r2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#sg:16">sg</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span> <span class="id">r1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span> <span class="id">r2</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>. <br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64,</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type;</a></span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id">sg</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The location of the result depends only on the result part of the signature </div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_result_exten" class="id"><a name="loc_result_exten" class="">loc_result_exten:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:17" class="id"><a name="s1:17" class="">s1</a></span> <span id="s2:18" class="id"><a name="s2:18" class="">s2,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s1:17">s1</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s2:18">s2</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s1:17">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s2:18">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64,</a></span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Location of function arguments </h2>
<br/>
<div class="doc">In the x86-32 ABI, all arguments are passed on stack. (Snif.) </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="loc_arguments_32" class="id"><a name="loc_arguments_32" class="">loc_arguments_32</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="tyl:19" class="id"><a name="tyl:19" class="">tyl:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span id="ofs:20" class="id"><a name="ofs:20" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">{struct</span> <span class="id">tyl}</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl:19">tyl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">tys</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">ty</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#Twolong">Twolong</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs:20">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:20">ofs</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>     <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:20">ofs</a></span> <span class="id">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">::</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32:21">loc_arguments_32</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs:20">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id">ty</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">In the x86-64 ELF ABI:
<ul>
<li>
 The first 6 integer arguments are passed in registers <span class="bracket"><span class="id">DI</span></span>, <span class="bracket"><span class="id">SI</span></span>, <span class="bracket"><span class="id">DX</span></span>, <span class="bracket"><span class="id">CX</span></span>, <span class="bracket"><span class="id">R8</span></span>, <span class="bracket"><span class="id">R9</span></span>.
</li>
<li>
 The first 8 floating-point arguments are passed in registers <span class="bracket"><span class="id">X0</span></span> to <span class="bracket"><span class="id">X7</span></span>.
</li>
<li>
 Extra arguments are passed on the stack, in <span class="bracket"><span class="id">Outgoing</span></span> slots.
  Consecutive stack slots are separated by 8 bytes, even if only 4 bytes
  of data is used in a slot.
</li>
</ul>
</div>
<br/>
<span class="vernacular">Definition</span> <span id="int_param_regs_elf64" class="id"><a name="int_param_regs_elf64" class="">int_param_regs_elf64</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="float_param_regs_elf64" class="id"><a name="float_param_regs_elf64" class="">float_param_regs_elf64</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="loc_arguments_elf64" class="id"><a name="loc_arguments_elf64" class="">loc_arguments_elf64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="tyl:24" class="id"><a name="tyl:24" class="">tyl:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span id="ir:25" class="id"><a name="ir:25" class="">ir</a></span> <span id="fr:26" class="id"><a name="fr:26" class="">fr</a></span> <span id="ofs:27" class="id"><a name="ofs:27" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">{struct</span> <span class="id">tyl}</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl:24">tyl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span>) <span class="gallina-kwd">as</span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">tys</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_elf64">int_param_regs_elf64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir:25">ir</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:27">ofs</a></span> <span class="id">ty</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64:28">loc_arguments_elf64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir:25">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr:26">fr</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs:27">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64:28">loc_arguments_elf64</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#ir:25">ir</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id"><a href="compcert.x86.Conventions1.html#fr:26">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:27">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span>) <span class="gallina-kwd">as</span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">tys</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_elf64">float_param_regs_elf64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr:26">fr</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:27">ofs</a></span> <span class="id">ty</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64:28">loc_arguments_elf64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir:25">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr:26">fr</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs:27">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">freg</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">freg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64:28">loc_arguments_elf64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir:25">ir</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#fr:26">fr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id"><a href="compcert.x86.Conventions1.html#ofs:27">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">In the x86-64 Win64 ABI:
<ul>
<li>
 The first 4 arguments are passed in registers <span class="bracket"><span class="id">RCX</span></span>, <span class="bracket"><span class="id">RDX</span></span>, <span class="bracket"><span class="id">R8</span></span>, and <span class="bracket"><span class="id">R9</span></span>
  (for integer arguments) and <span class="bracket"><span class="id">X0</span></span> to <span class="bracket"><span class="id">X3</span></span> (for floating-point arguments).
  Each argument "burns" both an integer register and a FP integer.
</li>
<li>
 The first 8 floating-point arguments are passed in registers <span class="bracket"><span class="id">X0</span></span> to <span class="bracket"><span class="id">X7</span></span>.
</li>
<li>
 Extra arguments are passed on the stack, in <span class="bracket"><span class="id">Outgoing</span></span> slots.
  Consecutive stack slots are separated by 8 bytes, even if only 4 bytes
  of data is used in a slot.
</li>
<li>
 Four 8-byte words are always reserved at the bottom of the outgoing area
  so that the callee can use them to save the registers containing the
  first four arguments.  This is handled in the Stacking phase.
</li>
</ul>
</div>
<br/>
<span class="vernacular">Definition</span> <span id="int_param_regs_win64" class="id"><a name="int_param_regs_win64" class="">int_param_regs_win64</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="float_param_regs_win64" class="id"><a name="float_param_regs_win64" class="">float_param_regs_win64</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="loc_arguments_win64" class="id"><a name="loc_arguments_win64" class="">loc_arguments_win64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="tyl:30" class="id"><a name="tyl:30" class="">tyl:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span id="r:31" class="id"><a name="r:31" class="">r</a></span> <span id="ofs:32" class="id"><a name="ofs:32" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">{struct</span> <span class="id">tyl}</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl:30">tyl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span>) <span class="gallina-kwd">as</span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">tys</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_win64">int_param_regs_win64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:31">r</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:32">ofs</a></span> <span class="id">ty</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64:33">loc_arguments_win64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#r:31">r</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs:32">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64:33">loc_arguments_win64</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#r:31">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id"><a href="compcert.x86.Conventions1.html#ofs:32">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span>) <span class="gallina-kwd">as</span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">tys</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_win64">float_param_regs_win64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:31">r</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:32">ofs</a></span> <span class="id">ty</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64:33">loc_arguments_win64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#r:31">r</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs:32">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">freg</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">freg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64:33">loc_arguments_win64</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#r:31">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id"><a href="compcert.x86.Conventions1.html#ofs:32">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">loc_arguments</span> <span class="id">s</span></span> returns the list of locations where to store arguments
  when calling a function with signature <span class="bracket"><span class="id">s</span></span>.  </div>
<br/>
<span class="vernacular">Definition</span> <span id="loc_arguments" class="id"><a name="loc_arguments" class="">loc_arguments</a></span> (<span id="s:35" class="id"><a name="s:35" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64">loc_arguments_win64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s:35">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>) <span class="id">0</span> <span class="id">0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64">loc_arguments_elf64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s:35">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>) <span class="id">0</span> <span class="id">0</span> <span class="id">0</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32">loc_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s:35">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>) <span class="id">0</span>.<br/>
<br/>
<div class="doc">Argument locations are either caller-save registers or <span class="bracket"><span class="id">Outgoing</span></span>
  stack slots at nonnegative offsets. </div>
<br/>
<span class="vernacular">Definition</span> <span id="loc_argument_acceptable" class="id"><a name="loc_argument_acceptable" class="">loc_argument_acceptable</a></span> (<span id="l:36" class="id"><a name="l:36" class="">l:</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#l:36">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id">r</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">=&gt;</span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id"><a href="compcert.backend.Locations.html#typealign">typealign</a></span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="loc_argument_32_charact" class="id"><a name="loc_argument_32_charact" class="">loc_argument_32_charact</a></span> (<span id="ofs:38" class="id"><a name="ofs:38" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="l:39" class="id"><a name="l:39" class="">l:</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#l:39">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs'</span> <span class="id">ty</span> <span class="id">=&gt;</span> <span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:38">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.Locations.html#typealign">typealign</a></span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="loc_argument_elf64_charact" class="id"><a name="loc_argument_elf64_charact" class="">loc_argument_elf64_charact</a></span> (<span id="ofs:41" class="id"><a name="ofs:41" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="l:42" class="id"><a name="l:42" class="">l:</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#l:42">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">r</span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_elf64">int_param_regs_elf64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">r</span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_elf64">float_param_regs_elf64</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs'</span> <span class="id">ty</span> <span class="id">=&gt;</span> <span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:41">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id">ofs'</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="loc_argument_win64_charact" class="id"><a name="loc_argument_win64_charact" class="">loc_argument_win64_charact</a></span> (<span id="ofs:44" class="id"><a name="ofs:44" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="l:45" class="id"><a name="l:45" class="">l:</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#l:45">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">r</span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_win64">int_param_regs_win64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">r</span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_win64">float_param_regs_win64</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs'</span> <span class="id">ty</span> <span class="id">=&gt;</span> <span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:44">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id">ofs'</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="loc_arguments_32_charact" class="id"><a name="loc_arguments_32_charact" class="">loc_arguments_32_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tyl:47" class="id"><a name="tyl:47" class="">tyl</a></span> <span id="ofs:48" class="id"><a name="ofs:48" class="">ofs</a></span> <span id="p:49" class="id"><a name="p:49" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p:49">p</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32">loc_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl:47">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:48">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:48">ofs</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p:49">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">X:</span> <span class="gallina-kwd">forall</span> <span id="ofs1:53" class="id"><span id="ofs1:50" class="id"><a name="ofs1:53" class="">ofs1</a></span></span> <span id="ofs2:54" class="id"><span id="ofs2:51" class="id"><a name="ofs2:54" class="">ofs2</a></span></span> <span id="l:55" class="id"><span id="l:52" class="id"><a name="l:55" class="">l,</a></span></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:51">ofs2</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:52">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:50">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:51">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:50">ofs1</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:52">l</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">sl;</span> <span class="id">auto</span>. <span class="id">intuition</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">tyl</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">ty</span> <span class="id">tyl];</span> <span class="id">simpl</span> <span class="id">loc_arguments_32;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">contradiction</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">H</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> <span class="id">ty;</span> <span class="id">subst</span> <span class="id">p;</span> <span class="id">simpl;</span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id">IHtyl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.Locations.html#typesize_pos">typesize_pos</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">p;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
<span class="id">*</span> <span class="id">eapply</span> <span class="id">X;</span> <span class="id">eauto;</span> <span class="id">lia</span>.<br/>
<span class="id">*</span> <span class="id">destruct</span> <span class="id">H;</span> <span class="id">split;</span> <span class="id">eapply</span> <span class="id">X;</span> <span class="id">eauto;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="loc_arguments_elf64_charact" class="id"><a name="loc_arguments_elf64_charact" class="">loc_arguments_elf64_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tyl:56" class="id"><a name="tyl:56" class="">tyl</a></span> <span id="ir:57" class="id"><a name="ir:57" class="">ir</a></span> <span id="fr:58" class="id"><a name="fr:58" class="">fr</a></span> <span id="ofs:59" class="id"><a name="ofs:59" class="">ofs</a></span> <span id="p:60" class="id"><a name="p:60" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p:60">p</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64">loc_arguments_elf64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl:56">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir:57">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr:58">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:59">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:59">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:59">ofs</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p:60">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">X:</span> <span class="gallina-kwd">forall</span> <span id="ofs1:64" class="id"><span id="ofs1:61" class="id"><a name="ofs1:64" class="">ofs1</a></span></span> <span id="ofs2:65" class="id"><span id="ofs2:62" class="id"><a name="ofs2:65" class="">ofs2</a></span></span> <span id="l:66" class="id"><span id="l:63" class="id"><a name="l:66" class="">l,</a></span></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:62">ofs2</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:63">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:61">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:62">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:61">ofs1</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:63">l</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">sl;</span> <span class="id">auto</span>. <span class="id">intuition</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Y:</span> <span class="gallina-kwd">forall</span> <span id="ofs1:70" class="id"><span id="ofs1:67" class="id"><a name="ofs1:70" class="">ofs1</a></span></span> <span id="ofs2:71" class="id"><span id="ofs2:68" class="id"><a name="ofs2:71" class="">ofs2</a></span></span> <span id="p:72" class="id"><span id="p:69" class="id"><a name="p:72" class="">p,</a></span></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:68">ofs2</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p:69">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:67">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:68">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:67">ofs1</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p:69">p</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">simpl;</span> <span class="id">intuition</span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Z:</span> <span class="gallina-kwd">forall</span> <span id="ofs:74" class="id"><span id="ofs:73" class="id"><a name="ofs:74" class="">ofs,</a></span></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:73">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:73">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_add_r">Z.divide_add_r</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_refl">Z.divide_refl</a></span>. <span class="id">}</span><br/>
<span class="vernacular">Opaque</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">tyl;</span> <span class="id">simpl</span> <span class="id">loc_arguments_elf64;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="ty:76" class="id"><span id="ty:75" class="id"><a name="ty:76" class="">ty,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_elf64">int_param_regs_elf64</a></span> <span class="id">ir</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64">loc_arguments_elf64</a></span> <span class="id">tyl</span> (<span class="id">ir</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id">fr</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty:75">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64">loc_arguments_elf64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id">ofs</span>) <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_elf64">int_param_regs_elf64</a></span> <span class="id">ir</span>) <span class="gallina-kwd">as</span> <span class="id">[r|]</span> <span class="id">eqn:E;</span> <span class="id">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHtyl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">split</span>. <span class="id">lia</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">Y;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="gallina-kwd">forall</span> <span id="ty:78" class="id"><span id="ty:77" class="id"><a name="ty:78" class="">ty,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_elf64">float_param_regs_elf64</a></span> <span class="id">fr</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64">loc_arguments_elf64</a></span> <span class="id">tyl</span> <span class="id">ir</span> (<span class="id">fr</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty:77">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64">loc_arguments_elf64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id">ofs</span>) <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_elf64">float_param_regs_elf64</a></span> <span class="id">fr</span>) <span class="gallina-kwd">as</span> <span class="id">[r|]</span> <span class="id">eqn:E;</span> <span class="id">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">right</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHtyl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">split</span>. <span class="id">lia</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">Y;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="loc_arguments_win64_charact" class="id"><a name="loc_arguments_win64_charact" class="">loc_arguments_win64_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tyl:79" class="id"><a name="tyl:79" class="">tyl</a></span> <span id="r:80" class="id"><a name="r:80" class="">r</a></span> <span id="ofs:81" class="id"><a name="ofs:81" class="">ofs</a></span> <span id="p:82" class="id"><a name="p:82" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p:82">p</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64">loc_arguments_win64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl:79">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:80">r</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:81">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:81">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:81">ofs</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p:82">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">X:</span> <span class="gallina-kwd">forall</span> <span id="ofs1:86" class="id"><span id="ofs1:83" class="id"><a name="ofs1:86" class="">ofs1</a></span></span> <span id="ofs2:87" class="id"><span id="ofs2:84" class="id"><a name="ofs2:87" class="">ofs2</a></span></span> <span id="l:88" class="id"><span id="l:85" class="id"><a name="l:88" class="">l,</a></span></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:84">ofs2</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:85">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:83">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:84">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:83">ofs1</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:85">l</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">sl;</span> <span class="id">auto</span>. <span class="id">intuition</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Y:</span> <span class="gallina-kwd">forall</span> <span id="ofs1:92" class="id"><span id="ofs1:89" class="id"><a name="ofs1:92" class="">ofs1</a></span></span> <span id="ofs2:93" class="id"><span id="ofs2:90" class="id"><a name="ofs2:93" class="">ofs2</a></span></span> <span id="p:94" class="id"><span id="p:91" class="id"><a name="p:94" class="">p,</a></span></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:90">ofs2</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p:91">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:89">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2:90">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1:89">ofs1</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p:91">p</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">simpl;</span> <span class="id">intuition</span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Z:</span> <span class="gallina-kwd">forall</span> <span id="ofs:96" class="id"><span id="ofs:95" class="id"><a name="ofs:96" class="">ofs,</a></span></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:95">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs:95">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_add_r">Z.divide_add_r</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_refl">Z.divide_refl</a></span>. <span class="id">}</span><br/>
<span class="vernacular">Opaque</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">tyl;</span> <span class="id">simpl</span> <span class="id">loc_arguments_win64;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="ty:98" class="id"><span id="ty:97" class="id"><a name="ty:98" class="">ty,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_win64">int_param_regs_win64</a></span> <span class="id">r</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64">loc_arguments_win64</a></span> <span class="id">tyl</span> (<span class="id">r</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty:97">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64">loc_arguments_win64</a></span> <span class="id">tyl</span> <span class="id">r</span> (<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id">ofs</span>) <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_win64">int_param_regs_win64</a></span> <span class="id">r</span>) <span class="gallina-kwd">as</span> <span class="id">[r'|]</span> <span class="id">eqn:E;</span> <span class="id">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHtyl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">split</span>. <span class="id">lia</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">Y;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="gallina-kwd">forall</span> <span id="ty:100" class="id"><span id="ty:99" class="id"><a name="ty:100" class="">ty,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_win64">float_param_regs_win64</a></span> <span class="id">r</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64">loc_arguments_win64</a></span> <span class="id">tyl</span> (<span class="id">r</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty:99">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64">loc_arguments_win64</a></span> <span class="id">tyl</span> <span class="id">r</span> (<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id">ofs</span>) <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_win64">float_param_regs_win64</a></span> <span class="id">r</span>) <span class="gallina-kwd">as</span> <span class="id">[r'|]</span> <span class="id">eqn:E;</span> <span class="id">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">right</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHtyl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">split</span>. <span class="id">lia</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">Y;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_arguments_acceptable" class="id"><a name="loc_arguments_acceptable" class="">loc_arguments_acceptable:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="s:101" class="id"><a name="s:101" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) (<span id="p:102" class="id"><a name="p:102" class="">p:</a></span> <span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p:102">p</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s:101">s</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p:102">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">[destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span> <span class="id">eqn:W64|]</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;WIN&nbsp;64&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="r:104" class="id"><span id="r:103" class="id"><a name="r:104" class="">r,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:103">r</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_win64">int_param_regs_win64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:103">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save;</a></span> <span class="id">rewrite</span> <span class="id">SF;</span> <span class="id">decide_goal</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="gallina-kwd">forall</span> <span id="r:106" class="id"><span id="r:105" class="id"><a name="r:106" class="">r,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:105">r</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_win64">float_param_regs_win64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:105">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save;</a></span> <span class="id">decide_goal</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">X:</span> <span class="gallina-kwd">forall</span> <span id="l:108" class="id"><span id="l:107" class="id"><a name="l:108" class="">l,</a></span></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact</a></span> <span class="id">0</span> <span class="id"><a href="compcert.x86.Conventions1.html#l:107">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:107">l</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_win64_charact">loc_argument_win64_charact,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[r</span> <span class="id">|</span> <span class="id">[]</span> <span class="id">ofs</span> <span class="id">ty];</span> <span class="id">auto</span>.  <span class="id">intros</span> <span class="id">[C|C];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>. <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_trans">Z.divide_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">2;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="compcert.backend.Locations.html#typealign">typealign</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">destruct</span> <span class="id">ty;</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_win64_charact">loc_arguments_win64_charact;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair;</a></span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ELF&nbsp;64&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="r:110" class="id"><span id="r:109" class="id"><a name="r:110" class="">r,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:109">r</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs_elf64">int_param_regs_elf64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:109">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save;</a></span> <span class="id">rewrite</span> <span class="id">SF,</span> <span class="id">W64;</span> <span class="id">decide_goal</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="gallina-kwd">forall</span> <span id="r:112" class="id"><span id="r:111" class="id"><a name="r:112" class="">r,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:111">r</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs_elf64">float_param_regs_elf64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r:111">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save;</a></span> <span class="id">rewrite</span> <span class="id">W64;</span> <span class="id">decide_goal</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">X:</span> <span class="gallina-kwd">forall</span> <span id="l:114" class="id"><span id="l:113" class="id"><a name="l:114" class="">l,</a></span></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact</a></span> <span class="id">0</span> <span class="id"><a href="compcert.x86.Conventions1.html#l:113">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:113">l</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_elf64_charact">loc_argument_elf64_charact,</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[r</span> <span class="id">|</span> <span class="id">[]</span> <span class="id">ofs</span> <span class="id">ty];</span> <span class="id">auto</span>.  <span class="id">intros</span> <span class="id">[C|C];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>. <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_trans">Z.divide_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">2;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="compcert.backend.Locations.html#typealign">typealign</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">destruct</span> <span class="id">ty;</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_elf64_charact">loc_arguments_elf64_charact;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair;</a></span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;32&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">X:</span> <span class="gallina-kwd">forall</span> <span id="l:116" class="id"><span id="l:115" class="id"><a name="l:116" class="">l,</a></span></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> <span class="id">0</span> <span class="id"><a href="compcert.x86.Conventions1.html#l:115">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l:115">l</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[r</span> <span class="id">|</span> <span class="id">[]</span> <span class="id">ofs</span> <span class="id">ty];</span> <span class="id">simpl;</span> <span class="id">intuition</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H2;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_1_l">Z.divide_1_l</a></span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32_charact">loc_arguments_32_charact;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair;</a></span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">loc_arguments_acceptable:</span> <span class="id">locs</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="loc_arguments_main" class="id"><a name="loc_arguments_main" class="">loc_arguments_main:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.common.AST.html#signature_main">signature_main</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments;</a></span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#win64">Archi.win64</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Normalization of function results and parameters </h2>
<br/>
<div class="doc">In the x86 ABI, a return value of type "char" is returned in
    register AL, leaving the top 24 bits of EAX unspecified.
    Likewise, a return value of type "short" is returned in register
    AH, leaving the top 16 bits of EAX unspecified.  Hence, return
    values of small integer types need re-normalization after calls. </div>
<br/>
<span class="vernacular">Definition</span> <span id="return_value_needs_normalization" class="id"><a name="return_value_needs_normalization" class="">return_value_needs_normalization</a></span> (<span id="t:117" class="id"><a name="t:117" class="">t:</a></span> <span class="id"><a href="compcert.common.AST.html#rettype">rettype</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#t:117">t</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tint8signed">Tint8signed</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tint8unsigned">Tint8unsigned</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tint16signed">Tint16signed</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Tint16unsigned">Tint16unsigned</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Function parameters are passed in normalized form and do not need
    to be re-normalized at function entry. </div>
<br/>
<span class="vernacular">Definition</span> <span id="parameter_needs_normalization" class="id"><a name="parameter_needs_normalization" class="">parameter_needs_normalization</a></span> (<span id="t:119" class="id"><a name="t:119" class="">t:</a></span> <span class="id"><a href="compcert.common.AST.html#rettype">rettype</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
