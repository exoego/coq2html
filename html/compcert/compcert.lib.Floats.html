
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Floats</title>
<meta name="description" content="Documentation of Coq module Floats" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Floats</h1>
<br/>
<div class="doc">Formalization of floating-point numbers, using the Flocq library. </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Reals.html">Reals</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Zbits.html">Zbits</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">Flocq</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html">Binary</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html">Bits</a></span> <span class="id"><a href="Flocq.Core.Core.html">Core</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Program.Program.html">Program</a></span>.<br/>
<span class="vernacular">Require</span> <span class="id"><a href="compcert.x86_64.Archi.html">Archi</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ListNotations">ListNotations</a></span>.<br/>
<br/>
<span class="vernacular">Close</span> <span class="vernacular">Scope</span> <span class="id">R_scope</span>.<br/>
<span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">Z_scope</span>.<br/>
<span class="gallina-kwd">Set</span> <span class="id">Asymmetric</span> <span class="id">Patterns</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="float" class="id"><a name="float" class="">float</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary64">binary64</a></span>. <span class="docright">(* the type of IEE754 double-precision FP numbers  *)</span><br/>
<span class="vernacular">Definition</span> <span id="float32" class="id"><a name="float32" class="">float32</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary32">binary32</a></span>. <span class="docright">(* the type of IEE754 single-precision FP numbers  *)</span><br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integer_representable_n" class="id"><a name="integer_representable_n" class="">integer_representable_n</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1" class="id"><a name="n:1" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43">^</a></span> <span class="id">53</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:1">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43">^</a></span> <span class="id">53</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable">integer_representable</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#n:1">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">now</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n">integer_representable_n</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Boolean-valued comparisons </div>
<br/>
<span class="vernacular">Definition</span> <span id="cmp_of_comparison" class="id"><a name="cmp_of_comparison" class="">cmp_of_comparison</a></span> (<span id="c:2" class="id"><a name="c:2" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="x:3" class="id"><a name="x:3" class="">x:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#c:2">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:3">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:3">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:3">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:3">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt|Eq</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:3">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:3">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt|Eq</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ordered_of_comparison" class="id"><a name="ordered_of_comparison" class="">ordered_of_comparison</a></span> (<span id="x:11" class="id"><a name="x:11" class="">x:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:11">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_of_comparison_swap" class="id"><a name="cmp_of_comparison_swap" class="">cmp_of_comparison_swap:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:13" class="id"><a name="c:13" class="">c</a></span> <span id="x:14" class="id"><a name="x:14" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:13">c</a></span>) <span class="id"><a href="compcert.lib.Floats.html#x:14">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:13">c</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:14">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#CompOpp">CompOpp</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:14">x</a></span>) <span class="gallina-kwd">end</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">c;</span> <span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_of_comparison_ne_eq" class="id"><a name="cmp_of_comparison_ne_eq" class="">cmp_of_comparison_ne_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:16" class="id"><a name="x:16" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:16">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:16">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_of_comparison_lt_eq_false" class="id"><a name="cmp_of_comparison_lt_eq_false" class="">cmp_of_comparison_lt_eq_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:17" class="id"><a name="x:17" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:17">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:17">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_of_comparison_le_lt_eq" class="id"><a name="cmp_of_comparison_le_lt_eq" class="">cmp_of_comparison_le_lt_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:18" class="id"><a name="x:18" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:18">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:18">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:18">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_of_comparison_gt_eq_false" class="id"><a name="cmp_of_comparison_gt_eq_false" class="">cmp_of_comparison_gt_eq_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:19" class="id"><a name="x:19" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:19">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:19">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_of_comparison_ge_gt_eq" class="id"><a name="cmp_of_comparison_ge_gt_eq" class="">cmp_of_comparison_ge_gt_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:20" class="id"><a name="x:20" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:20">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:20">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:20">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_of_comparison_lt_gt_false" class="id"><a name="cmp_of_comparison_lt_gt_false" class="">cmp_of_comparison_lt_gt_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:21" class="id"><a name="x:21" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:21">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:21">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Normalization of NaN payloads </div>
<br/>
<span class="vernacular">Lemma</span> <span id="normalized_nan" class="id"><a name="normalized_nan" class="">normalized_nan:</a></span> <span class="gallina-kwd">forall</span> <span id="prec:22" class="id"><a name="prec:22" class="">prec</a></span> <span id="n:23" class="id"><a name="n:23" class="">n</a></span> <span id="p:24" class="id"><a name="p:24" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:23">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#prec:22">prec</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#prec:22">prec</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#prec:22">prec</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#P_mod_two_p">P_mod_two_p</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:24">p</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:23">n</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ltb_lt">Z.ltb_lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="Flocq.Core.Digits.html#Zpos_digits2_pos">Digits.Zpos_digits2_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">p'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Zbits.html#P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">p'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43">^</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_equiv">two_power_nat_equiv;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#P_mod_two_p_range">P_mod_two_p_range</a></span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id"><a href="Flocq.Core.Digits.html#Zdigits">Digits.Zdigits</a></span> <span class="id"><a href="Flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">p'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">prec</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="Flocq.Core.Digits.html#Zdigits_le_Zpower">Digits.Zdigits_le_Zpower</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_eq">Z.abs_eq</a></span><span class="id">;</span> <span class="id">tauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">p'</span> <span class="id">0</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">e</span>. <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z2Pos.id">Z2Pos.id</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Transform a Nan payload to a quiet Nan payload. </div>
<br/>
<span class="vernacular">Definition</span> <span id="quiet_nan_64_payload" class="id"><a name="quiet_nan_64_payload" class="">quiet_nan_64_payload</a></span> (<span id="p:25" class="id"><a name="p:25" class="">p:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#P_mod_two_p">P_mod_two_p</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:25">p</a></span> ((<span class="id"><a href="Flocq.Core.Zaux.html#iter_nat">iter_nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> <span class="id">51</span> <span class="id">1</span>%<span class="id">positive</span>))) <span class="id">52</span>%<span class="id">nat</span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="quiet_nan_64_proof" class="id"><a name="quiet_nan_64_proof" class="">quiet_nan_64_proof:</a></span> <span class="gallina-kwd">forall</span> <span id="p:26" class="id"><a name="p:26" class="">p,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> <span class="id">53</span> (<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64_payload">quiet_nan_64_payload</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:26">p</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#normalized_nan">normalized_nan;</a></span> <span class="id">auto;</span> <span class="id">lia</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="quiet_nan_64" class="id"><a name="quiet_nan_64" class="">quiet_nan_64</a></span> (<span id="sp:27" class="id"><a name="sp:27" class="">sp:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:28">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> (<span id="s:29" class="id"><a name="s:29" class="">s,</a></span> <span id="p:30" class="id"><a name="p:30" class="">p</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#sp:27">sp</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#s:29">s</a></span> (<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64_payload">quiet_nan_64_payload</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:30">p</a></span>) (<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64_proof">quiet_nan_64_proof</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:30">p</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="default_nan_64" class="id"><a name="default_nan_64" class="">default_nan_64</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64">quiet_nan_64</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#default_nan_64">Archi.default_nan_64</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="quiet_nan_32_payload" class="id"><a name="quiet_nan_32_payload" class="">quiet_nan_32_payload</a></span> (<span id="p:31" class="id"><a name="p:31" class="">p:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_pos">Z.to_pos</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#P_mod_two_p">P_mod_two_p</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:31">p</a></span> ((<span class="id"><a href="Flocq.Core.Zaux.html#iter_nat">iter_nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> <span class="id">22</span> <span class="id">1</span>%<span class="id">positive</span>))) <span class="id">23</span>%<span class="id">nat</span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="quiet_nan_32_proof" class="id"><a name="quiet_nan_32_proof" class="">quiet_nan_32_proof:</a></span> <span class="gallina-kwd">forall</span> <span id="p:32" class="id"><a name="p:32" class="">p,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> <span class="id">24</span> (<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32_payload">quiet_nan_32_payload</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:32">p</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#normalized_nan">normalized_nan;</a></span> <span class="id">auto;</span> <span class="id">lia</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="quiet_nan_32" class="id"><a name="quiet_nan_32" class="">quiet_nan_32</a></span> (<span id="sp:33" class="id"><a name="sp:33" class="">sp:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:34">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> (<span id="s:35" class="id"><a name="s:35" class="">s,</a></span> <span id="p:36" class="id"><a name="p:36" class="">p</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#sp:33">sp</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#s:35">s</a></span> (<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32_payload">quiet_nan_32_payload</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:36">p</a></span>) (<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32_proof">quiet_nan_32_proof</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:36">p</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="default_nan_32" class="id"><a name="default_nan_32" class="">default_nan_32</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32">quiet_nan_32</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#default_nan_32">Archi.default_nan_32</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="__" class="id"><a name="__" class="">__</a></span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Datatypes.Lt</a></span>).<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">1</span> (<span class="id"><a href="Flocq.Core.FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">exact</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Datatypes.Lt</a></span>) <span class="id">:</span> <span class="id">core</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">1</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">exact</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Datatypes.Lt</a></span>) <span class="id">:</span> <span class="id">core</span>.<br/>
<br/>
<h1> Double-precision FP numbers </h1>
<br/>
<span class="vernacular">Module</span> <span id="Float" class="id"><a name="Float" class="">Float</a></span>.<br/>
<br/>
<h2> NaN payload manipulations </h2>
<br/>
<div class="doc">The following definitions are not part of the IEEE754 standard but
    apply to all architectures supported by CompCert. </div>
<br/>
<div class="doc">Nan payload operations for single &lt;-&gt; double conversions. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.expand_nan_payload" class="id"><a name="Float.expand_nan_payload" class="">expand_nan_payload</a></span> (<span id="p:37" class="id"><a name="p:37" class="">p:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.shiftl_nat">Pos.shiftl_nat</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:37">p</a></span> <span class="id">29</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.expand_nan_proof" class="id"><a name="Float.expand_nan_proof" class="">expand_nan_proof</a></span> (<span id="p:38" class="id"><a name="p:38" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> <span class="id">24</span> <span class="id"><a href="compcert.lib.Floats.html#p:38">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#nan_pl">nan_pl</a></span> <span class="id">53</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.expand_nan_payload">expand_nan_payload</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:38">p</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#nan_pl">nan_pl,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.expand_nan_payload">expand_nan_payload</a></span>. <span class="id">intros</span> <span class="id">K</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ltb_lt">Z.ltb_lt</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.shiftl_nat">Pos.shiftl_nat</a></span><span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat_rect">nat_rect,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Floats.SpecFloat.html#digits2_pos">Digits.digits2_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="Flocq.Core.Digits.html#digits2_pos">Digits.digits2_pos</a></span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="id">zify;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.expand_nan" class="id"><a name="Float.expand_nan" class="">expand_nan</a></span> <span id="s:39" class="id"><a name="s:39" class="">s</a></span> <span id="p:40" class="id"><a name="p:40" class="">p</a></span> <span id="H:41" class="id"><a name="H:41" class="">H</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:42">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#s:39">s</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.expand_nan_payload">expand_nan_payload</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:40">p</a></span>) (<span class="id"><a href="compcert.lib.Floats.html#Float.expand_nan_proof">expand_nan_proof</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:40">p</a></span> <span class="id"><a href="compcert.lib.Floats.html#H:41">H</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.of_single_nan" class="id"><a name="Float.of_single_nan" class="">of_single_nan</a></span> (<span id="f:43" class="id"><a name="f:43" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{</a></span> <span id="x:44" class="id"><a name="x:44" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:44">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#f:43">f</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">H</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#float_conversion_default_nan">Archi.float_conversion_default_nan</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_64">default_nan_64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#float_of_single_preserves_sNaN">Archi.float_of_single_preserves_sNaN</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Floats.html#Float.expand_nan">expand_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64">quiet_nan_64</a></span> (<span class="id">s,</span> <span class="id"><a href="compcert.lib.Floats.html#Float.expand_nan_payload">expand_nan_payload</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_64">default_nan_64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.reduce_nan_payload" class="id"><a name="Float.reduce_nan_payload" class="">reduce_nan_payload</a></span> (<span id="p:46" class="id"><a name="p:46" class="">p:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.shiftr_nat">Pos.shiftr_nat</a></span> (<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64_payload">quiet_nan_64_payload</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:46">p</a></span>) <span class="id">29</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.to_single_nan" class="id"><a name="Float.to_single_nan" class="">to_single_nan</a></span> (<span id="f:47" class="id"><a name="f:47" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{</a></span> <span id="x:48" class="id"><a name="x:48" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:48">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#f:47">f</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">H</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#float_conversion_default_nan">Archi.float_conversion_default_nan</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_32">default_nan_32</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32">quiet_nan_32</a></span> (<span class="id">s,</span> <span class="id"><a href="compcert.lib.Floats.html#Float.reduce_nan_payload">reduce_nan_payload</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_32">default_nan_32</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">NaN payload operations for opposite and absolute value. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.neg_nan" class="id"><a name="Float.neg_nan" class="">neg_nan</a></span> (<span id="f:50" class="id"><a name="f:50" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{</a></span> <span id="x:51" class="id"><a name="x:51" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:51">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#f:50">f</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">H</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">53</span> <span class="id">1024</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">s</span>) <span class="id">p</span> <span class="id">H</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_64">default_nan_64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.abs_nan" class="id"><a name="Float.abs_nan" class="">abs_nan</a></span> (<span id="f:53" class="id"><a name="f:53" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{</a></span> <span id="x:54" class="id"><a name="x:54" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:54">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#f:53">f</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">H</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">p</span> <span class="id">H</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_64">default_nan_64</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">When an arithmetic operation returns a NaN, the sign and payload
  of this NaN are not fully specified by the IEEE standard, and vary
  among the architectures supported by CompCert.  However, the following
  behavior applies to all the supported architectures: the payload is either
<ul>
<li>
 a default payload, independent of the arguments, or
</li>
<li>
 the payload of one of the NaN arguments, if any.
</li>
</ul>
For each supported architecture, the functions <span class="bracket"><span class="id">Archi.choose_nan_64</span></span>
and <span class="bracket"><span class="id">Archi.choose_nan_32</span></span> determine the payload of the result as a
function of the payloads of the NaN arguments.
Additionally, signaling NaNs are converted to quiet NaNs, as required by the standard.
</div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.cons_pl" class="id"><a name="Float.cons_pl" class="">cons_pl</a></span> (<span id="x:56" class="id"><a name="x:56" class="">x:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) (<span id="l:57" class="id"><a name="l:57" class="">l:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:56">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id">s,</span> <span class="id">p</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:57">l</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#l:57">l</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.unop_nan" class="id"><a name="Float.unop_nan" class="">unop_nan</a></span> (<span id="x:59" class="id"><a name="x:59" class="">x:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:60">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64">quiet_nan_64</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_64">Archi.choose_nan_64</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:59">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.binop_nan" class="id"><a name="Float.binop_nan" class="">binop_nan</a></span> (<span id="x:61" class="id"><a name="x:61" class="">x</a></span> <span id="y:62" class="id"><a name="y:62" class="">y:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:63">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64">quiet_nan_64</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_64">Archi.choose_nan_64</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:61">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:62">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>))).<br/>
<br/>
<div class="doc">For fused multiply-add, the order in which arguments are examined
  to select a NaN payload varies across platforms.  E.g. in <span class="bracket"><span class="id">fma</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span></span>,
  x86 considers <span class="bracket"><span class="id">x</span></span> first, then <span class="bracket"><span class="id">y</span></span>, then <span class="bracket"><span class="id">z</span></span>, while ARM considers <span class="bracket"><span class="id">z</span></span> first,
  then <span class="bracket"><span class="id">x</span></span>, then <span class="bracket"><span class="id">y</span></span>.  The corresponding permutation is defined
  for each target, as function <span class="bracket"><span class="id">Archi.fma_order</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.fma_nan_1" class="id"><a name="Float.fma_nan_1" class="">fma_nan_1</a></span> (<span id="x:64" class="id"><a name="x:64" class="">x</a></span> <span id="y:65" class="id"><a name="y:65" class="">y</a></span> <span id="z:66" class="id"><a name="z:66" class="">z:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:67">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id">'</span>(<span class="id">a,</span> <span class="id">b,</span> <span class="id">c</span>) <span class="id">:=</span> <span class="id"><a href="compcert.x86_64.Archi.html#fma_order">Archi.fma_order</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:64">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:65">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:66">z</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64">quiet_nan_64</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_64">Archi.choose_nan_64</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cons_pl">cons_pl</a></span> <span class="id">a</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cons_pl">cons_pl</a></span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cons_pl">cons_pl</a></span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>)))).<br/>
<br/>
<div class="doc">One last wrinkle for fused multiply-add: <span class="bracket"><span class="id">fma</span> <span class="id">zero</span> <span class="id">infinity</span> <span class="id">nan</span></span>
  can return either the quiesced <span class="bracket"><span class="id">nan</span></span>, or the default NaN arising out
  of the invalid operation <span class="bracket"><span class="id">zero</span> * <span class="id">infinity</span></span>.  Of our target platforms,
  only ARM honors the latter case.  The choice between the default NaN
  and <span class="bracket"><span class="id">nan</span></span> is done as in the case of two-argument arithmetic operations. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.fma_nan" class="id"><a name="Float.fma_nan" class="">fma_nan</a></span> (<span id="x:68" class="id"><a name="x:68" class="">x</a></span> <span id="y:69" class="id"><a name="y:69" class="">y</a></span> <span id="z:70" class="id"><a name="z:70" class="">z:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:71">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:68">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:69">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_,</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_,</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#fma_invalid_mul_is_nan">Archi.fma_invalid_mul_is_nan</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Floats.html#quiet_nan_64">quiet_nan_64</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_64">Archi.choose_nan_64</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#default_nan_64">Archi.default_nan_64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:70">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Floats.html#Float.fma_nan_1">fma_nan_1</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:68">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:69">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:70">z</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.fma_nan_1">fma_nan_1</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:68">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:69">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:70">z</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<h2> Operations over double-precision floats </h2>
<br/>
<span class="vernacular">Definition</span> <span id="Float.zero" class="id"><a name="Float.zero" class="">zero:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="docright">(* the float <span class="bracket">+0.0</span>  *)</span><br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.eq_dec" class="id"><a name="Float.eq_dec" class="">eq_dec:</a></span> <span class="gallina-kwd">forall</span> (<span id="f1:74" class="id"><a name="f1:74" class="">f1</a></span> <span id="f2:75" class="id"><a name="f2:75" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da">{f1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:75">f2}</a></span> <span class="id">+</span> <span class="id">{f1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:75">f2}</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Beq_dec">Beq_dec</a></span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<div class="doc">Arithmetic operations </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.neg" class="id"><a name="Float.neg" class="">neg:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float.neg_nan">neg_nan</a></span>. <span class="docright">(* opposite (change sign)  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.abs" class="id"><a name="Float.abs" class="">abs:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float.abs_nan">abs_nan</a></span>. <span class="docright">(* absolute value (set sign to <span class="bracket">+</span>)  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.sqrt" class="id"><a name="Float.sqrt" class="">sqrt:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bsqrt">Bsqrt</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.unop_nan">unop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>.  <span class="docright">(* square root  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.add" class="id"><a name="Float.add" class="">add:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bplus">Bplus</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* addition  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.sub" class="id"><a name="Float.sub" class="">sub:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bminus">Bminus</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* subtraction  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.mul" class="id"><a name="Float.mul" class="">mul:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bmult">Bmult</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* multiplication  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.div" class="id"><a name="Float.div" class="">div:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bdiv">Bdiv</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* division  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.fma" class="id"><a name="Float.fma" class="">fma:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bfma">Bfma</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.fma_nan">fma_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* fused multiply-add <span class="bracket"><span class="id">x</span> * <span class="id">y</span> + <span class="id">z</span></span>  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.compare" class="id"><a name="Float.compare" class="">compare</a></span> (<span id="f1:76" class="id"><a name="f1:76" class="">f1</a></span> <span id="f2:77" class="id"><a name="f2:77" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span> <span class="id">:=</span> <span class="docright">(* general comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#f1:76">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:77">f2</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Float.cmp" class="id"><a name="Float.cmp" class="">cmp</a></span> (<span id="c:78" class="id"><a name="c:78" class="">c:comparison</a></span>) (<span id="f1:79" class="id"><a name="f1:79" class="">f1</a></span> <span id="f2:80" class="id"><a name="f2:80" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span> <span class="docright">(* Boolean comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:78">c</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:79">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:80">f2</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float.ordered" class="id"><a name="Float.ordered" class="">ordered</a></span> (<span id="f1:81" class="id"><a name="f1:81" class="">f1</a></span> <span id="f2:82" class="id"><a name="f2:82" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#ordered_of_comparison">ordered_of_comparison</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:81">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:82">f2</a></span>).<br/>
<br/>
<div class="doc">Conversions </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.of_single" class="id"><a name="Float.of_single" class="">of_single:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv">Bconv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_single_nan">of_single_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Float.to_single" class="id"><a name="Float.to_single" class="">to_single:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv">Bconv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_single_nan">to_single_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.to_int" class="id"><a name="Float.to_int" class="">to_int</a></span> (<span id="f:83" class="id"><a name="f:83" class="">f:float</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id">:=</span> <span class="docright">(* conversion to signed 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:83">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float.to_intu" class="id"><a name="Float.to_intu" class="">to_intu</a></span> (<span id="f:84" class="id"><a name="f:84" class="">f:float</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id">:=</span> <span class="docright">(* conversion to unsigned 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:84">f</a></span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float.to_long" class="id"><a name="Float.to_long" class="">to_long</a></span> (<span id="f:85" class="id"><a name="f:85" class="">f:float</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id">:=</span> <span class="docright">(* conversion to signed 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:85">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float.to_longu" class="id"><a name="Float.to_longu" class="">to_longu</a></span> (<span id="f:86" class="id"><a name="f:86" class="">f:float</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id">:=</span> <span class="docright">(* conversion to unsigned 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:86">f</a></span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.of_int" class="id"><a name="Float.of_int" class="">of_int</a></span> (<span id="n:87" class="id"><a name="n:87" class="">n:int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="docright">(* conversion from signed 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:87">n</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float.of_intu" class="id"><a name="Float.of_intu" class="">of_intu</a></span> (<span id="n:88" class="id"><a name="n:88" class="">n:int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float:=</a></span> <span class="docright">(* conversion from unsigned 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:88">n</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.of_long" class="id"><a name="Float.of_long" class="">of_long</a></span> (<span id="n:89" class="id"><a name="n:89" class="">n:int64</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="docright">(* conversion from signed 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:89">n</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float.of_longu" class="id"><a name="Float.of_longu" class="">of_longu</a></span> (<span id="n:90" class="id"><a name="n:90" class="">n:int64</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float:=</a></span> <span class="docright">(* conversion from unsigned 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:90">n</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.from_parsed" class="id"><a name="Float.from_parsed" class="">from_parsed</a></span> (<span id="base:91" class="id"><a name="base:91" class="">base:positive</a></span>) (<span id="intPart:92" class="id"><a name="intPart:92" class="">intPart:positive</a></span>) (<span id="expPart:93" class="id"><a name="expPart:93" class="">expPart:Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#Bparse">Bparse</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#base:91">base</a></span> <span class="id"><a href="compcert.lib.Floats.html#intPart:92">intPart</a></span> <span class="id"><a href="compcert.lib.Floats.html#expPart:93">expPart</a></span>.<br/>
<br/>
<div class="doc">Conversions between floats and their concrete in-memory representation
    as a sequence of 64 bits. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.to_bits" class="id"><a name="Float.to_bits" class="">to_bits</a></span> (<span id="f:94" class="id"><a name="f:94" class="">f:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_b64">bits_of_b64</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:94">f</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float.of_bits" class="id"><a name="Float.of_bits" class="">of_bits</a></span> (<span id="b:95" class="id"><a name="b:95" class="">b:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b64_of_bits">b64_of_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#b:95">b</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float.from_words" class="id"><a name="Float.from_words" class="">from_words</a></span> (<span id="hi:96" class="id"><a name="hi:96" class="">hi</a></span> <span id="lo:97" class="id"><a name="lo:97" class="">lo:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="compcert.lib.Floats.html#hi:96">hi</a></span> <span class="id"><a href="compcert.lib.Floats.html#lo:97">lo</a></span>).<br/>
<br/>
<h2> Properties </h2>
<br/>
<div class="doc">Below are the only properties of floating-point arithmetic that we
  rely on in the compiler proof. </div>
<br/>
<div class="doc">Some tactics *</div>
<br/>
<span class="vernacular">Ltac</span> <span class="id">compute_this</span> <span class="id">val</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id">x</span> <span class="id">:=</span> <span class="id">fresh</span> <span class="gallina-kwd">in</span> <span class="id">set</span> <span class="id">val</span> <span class="gallina-kwd">as</span> <span class="id">x</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">vm_compute</span> <span class="gallina-kwd">in</span> <span class="id">x;</span> <span class="id">subst</span> <span class="id">x</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">smart_omega</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="id">radix_val</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">simpl</span> <span class="id">Z.pow</span> <span class="gallina-kwd">in</span> <span class="id">*;</span><br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int.modulus</span><span class="id">;</span> <span class="id">compute_this</span> <span class="id">Int.half_modulus</span><span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int.max_unsigned</span><span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int.min_signed</span><span class="id">;</span> <span class="id">compute_this</span> <span class="id">Int.max_signed</span><span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int64.modulus</span><span class="id">;</span> <span class="id">compute_this</span> <span class="id">Int64.half_modulus</span><span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int64.max_unsigned</span><span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">2</span> <span class="id">1024</span>)<span class="id">;</span> <span class="id">compute_this</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">2</span> <span class="id">53</span>)<span class="id">;</span> <span class="id">compute_this</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">2</span> <span class="id">52</span>)<span class="id">;</span> <span class="id">compute_this</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">2</span> <span class="id">32</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">zify;</span> <span class="id">lia</span>.<br/>
<br/>
<div class="doc">Commutativity properties of addition and multiplication. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.add_commut" class="id"><a name="Float.add_commut" class="">add_commut:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:98" class="id"><a name="x:98" class="">x</a></span> <span id="y:99" class="id"><a name="y:99" class="">y,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:98">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y:99">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:98">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:99">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:99">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:98">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bplus_commut">Bplus_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">try</span> <span class="id">reflexivity;</span> <span class="id">now</span> <span class="id">destruct</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.mul_commut" class="id"><a name="Float.mul_commut" class="">mul_commut:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:100" class="id"><a name="x:100" class="">x</a></span> <span id="y:101" class="id"><a name="y:101" class="">y,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:100">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y:101">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:100">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:101">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:101">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:100">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bmult_commut">Bmult_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">try</span> <span class="id">reflexivity;</span> <span class="id">now</span> <span class="id">destruct</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Multiplication by 2 is diagonal addition. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.mul2_add" class="id"><a name="Float.mul2_add" class="">mul2_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:102" class="id"><a name="f:102" class="">f,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:102">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:102">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:102">f</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">2</span>%<span class="id">Z</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bmult2_Bplus">Bmult2_Bplus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hx</span> <span class="id">Hy</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_nan">binop_nan</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_64_idem">Archi.choose_nan_64_idem</a></span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">y;</span> <span class="id">reflexivity</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Divisions that can be turned into multiplication by an inverse. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.exact_inverse" class="id"><a name="Float.exact_inverse" class="">exact_inverse</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bexact_inverse">Bexact_inverse</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.div_mul_inverse" class="id"><a name="Float.div_mul_inverse" class="">div_mul_inverse:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:103" class="id"><a name="x:103" class="">x</a></span> <span id="y:104" class="id"><a name="y:104" class="">y</a></span> <span id="z:105" class="id"><a name="z:105" class="">z,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.exact_inverse">exact_inverse</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:104">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:105">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.div">div</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:103">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:104">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:103">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:105">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bdiv_mult_inverse">Bdiv_mult_inverse</a></span>. <span class="id">2:</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">x0</span> <span class="id">y0</span> <span class="id">z0</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">Hz</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_nan">binop_nan</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x0;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">y0,</span> <span class="id">z0;</span> <span class="id">reflexivity</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of comparisons. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.cmp_swap" class="id"><a name="Float.cmp_swap" class="">cmp_swap:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:106" class="id"><a name="c:106" class="">c</a></span> <span id="x:107" class="id"><a name="x:107" class="">x</a></span> <span id="y:108" class="id"><a name="y:108" class="">y,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:106">c</a></span>) <span class="id"><a href="compcert.lib.Floats.html#x:107">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:108">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:106">c</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:108">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:107">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare_swap">Bcompare_swap</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_swap">cmp_of_comparison_swap</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.cmp_ne_eq" class="id"><a name="Float.cmp_ne_eq" class="">cmp_ne_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:109" class="id"><a name="f1:109" class="">f1</a></span> <span id="f2:110" class="id"><a name="f2:110" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:109">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:110">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:109">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:110">f2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ne_eq">cmp_of_comparison_ne_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.cmp_lt_eq_false" class="id"><a name="Float.cmp_lt_eq_false" class="">cmp_lt_eq_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:111" class="id"><a name="f1:111" class="">f1</a></span> <span id="f2:112" class="id"><a name="f2:112" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:111">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:112">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:111">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:112">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_eq_false">cmp_of_comparison_lt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.cmp_le_lt_eq" class="id"><a name="Float.cmp_le_lt_eq" class="">cmp_le_lt_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:113" class="id"><a name="f1:113" class="">f1</a></span> <span id="f2:114" class="id"><a name="f2:114" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:113">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:114">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:113">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:114">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:113">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:114">f2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_le_lt_eq">cmp_of_comparison_le_lt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.cmp_gt_eq_false" class="id"><a name="Float.cmp_gt_eq_false" class="">cmp_gt_eq_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:115" class="id"><a name="x:115" class="">x</a></span> <span id="y:116" class="id"><a name="y:116" class="">y,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:115">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:116">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:115">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:116">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_gt_eq_false">cmp_of_comparison_gt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.cmp_ge_gt_eq" class="id"><a name="Float.cmp_ge_gt_eq" class="">cmp_ge_gt_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:117" class="id"><a name="f1:117" class="">f1</a></span> <span id="f2:118" class="id"><a name="f2:118" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:117">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:118">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:117">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:118">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:117">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:118">f2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ge_gt_eq">cmp_of_comparison_ge_gt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.cmp_lt_gt_false" class="id"><a name="Float.cmp_lt_gt_false" class="">cmp_lt_gt_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:119" class="id"><a name="f1:119" class="">f1</a></span> <span id="f2:120" class="id"><a name="f2:120" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:119">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:120">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:119">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:120">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_gt_false">cmp_of_comparison_lt_gt_false</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of conversions to/from in-memory representation.
  The conversions are bijective (one-to-one). </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_to_bits" class="id"><a name="Float.of_to_bits" class="">of_to_bits:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:121" class="id"><a name="f:121" class="">f,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:121">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:121">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_b64">bits_of_b64,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b64_of_bits">b64_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span><span class="id">,</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary_float_of_bits_of_binary_float">binary_float_of_bits_of_binary_float;</a></span> <span class="id">[reflexivity|]</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_binary_float_range">bits_of_binary_float_range</a></span> <span class="id">52</span> <span class="id">11</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">2^</span>(<span class="id">52+11+1</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>). <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.to_of_bits" class="id"><a name="Float.to_of_bits" class="">to_of_bits:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:122" class="id"><a name="b:122" class="">b,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#b:122">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#b:122">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_b64">bits_of_b64,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b64_of_bits">b64_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_binary_float_of_bits">bits_of_binary_float_of_bits</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions between floats and unsigned ints can be defined
  in terms of conversions between floats and signed ints.
  (Most processors provide only the latter, forcing the compiler
  to emulate the former.)   </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.ox8000_0000" class="id"><a name="Float.ox8000_0000" class="">ox8000_0000</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.  <span class="docright">(* <span class="bracket">0<span class="id">x8000_0000</span></span>  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float.ox7FFF_FFFF" class="id"><a name="Float.ox7FFF_FFFF" class="">ox7FFF_FFFF</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>.    <span class="docright">(* <span class="bracket">0<span class="id">x7FFF_FFFF</span></span>  *)</span><br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_intu_of_int_1" class="id"><a name="Float.of_intu_of_int_1" class="">of_intu_of_int_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:123" class="id"><a name="x:123" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:123">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:123">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:123">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span><span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>)<span class="id">;</span> <span class="id">now</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_intu_of_int_2" class="id"><a name="Float.of_intu_of_int_2" class="">of_intu_of_int_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:124" class="id"><a name="x:124" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:124">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:124">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:124">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Ry:</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable">integer_representable</a></span> <span class="id">53</span> <span class="id">1024</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">R8:</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable">integer_representable</a></span> <span class="id">53</span> <span class="id">1024</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_2p">integer_representable_2p</a></span> <span class="gallina-kwd">with</span> (<span class="id">p</span> <span class="id">:=</span> <span class="id">31</span>)<span class="id">;</span> <span class="id">easy</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_plus">BofZ_plus</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">y,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_repr">Int.signed_repr</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)<span class="id">;</span> <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_intu_of_int_3" class="id"><a name="Float.of_intu_of_int_3" class="">of_intu_of_int_3:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:125" class="id"><a name="x:125" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:125">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:125">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox7FFF_FFFF">ox7FFF_FFFF</a></span>)) (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:125">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">hi</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">lo</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox7FFF_FFFF">ox7FFF_FFFF</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">R:</span> <span class="gallina-kwd">forall</span> <span id="n:127" class="id"><span id="n:126" class="id"><a name="n:127" class="">n,</a></span></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable">integer_representable</a></span> <span class="id">53</span> <span class="id">1024</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:126">n</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_minus">BofZ_minus</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">hi</span> <span class="id">lo</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">hi,</span> <span class="id">lo</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_is_or">Int.add_is_or</a></span>. <br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_or_distrib">Int.and_or_distrib</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_mone">Int.and_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_assoc">Int.and_assoc</a></span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_assoc">Int.and_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox7FFF_FFFF">ox7FFF_FFFF</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_zero">Int.and_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">RNG:</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">lo</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">31</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">lo</span>. <span class="id">change</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox7FFF_FFFF">ox7FFF_FFFF</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">31</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext_and">Int.zero_ext_and</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext_range">Int.zero_ext_range</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="gallina-kwd">forall</span> <span id="i:129" class="id"><span id="i:128" class="id"><a name="i:129" class="">i,</a></span></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:128">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:128">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:128">i</a></span> <span class="id">31</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="gallina-kwd">with</span> (<span class="id">2^31</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">31</span>). <span class="id">subst</span> <span class="id">i;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow2_bits_false">Z.pow2_bits_false</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span> <br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EITHER:</span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">hi;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">x</span> <span class="id">31</span>) <span class="id">eqn:B31;</span> <span class="id">[right|left];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Int.bit_solve</span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">31</span>). <span class="id">subst</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">B31;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">31</span>). <span class="id">subst</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id">B31;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SU:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">hi</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">EITHER</span> <span class="gallina-kwd">as</span> <span class="id">[EQ|EQ];</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">reflexivity</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Z.sub</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">SU,</span> <span class="id">&lt;-</span> <span class="id">E</span>. <br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_eq_unsigned">Int.signed_eq_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">31</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">31</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">destruct</span> <span class="id">EITHER</span> <span class="gallina-kwd">as</span> <span class="id">[EQ|EQ];</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">[left|right];</span> <span class="id">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">31</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">31</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.to_intu_to_int_1" class="id"><a name="Float.to_intu_to_int_1" class="">to_intu_to_int_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:130" class="id"><a name="x:130" class="">x</a></span> <span id="n:131" class="id"><a name="n:131" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:130">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:130">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:131">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:130">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:131">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">x</span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">as</span> <span class="id">[p|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_inversion">ZofB_range_inversion;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int,</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span>. <span class="id">rewrite</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Flocq.Core.Zaux.html#Zle_bool_true">Zle_bool_true</a></span> <span class="gallina-kwd">by</span> <span class="id">smart_omega</span>. <span class="id">rewrite</span> <span class="id"><a href="Flocq.Core.Zaux.html#Zle_bool_true">Zle_bool_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_exact">BofZ_exact</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">vm_compute;</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) <span class="gallina-kwd">with</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">EQy</span> &amp; <span class="id">FINy</span> &amp; <span class="id">SIGNy</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">FINx:</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_correct">ZofB_correct</a></span> <span class="gallina-kwd">in</span> <span class="id">C</span>. <span class="id">destruct</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span>) <span class="id">eqn:FINx;</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">p</span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">p;</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_pos">ZofB_range_pos</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id">x</span> <span class="id">p</span> <span class="id">C</span>) <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">Q]</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">CMP:</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span>) <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">auto;</span> <span class="id">discriminate</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare_correct">Bcompare_correct</a></span> <span class="gallina-kwd">in</span> <span class="id">CMP</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">CMP</span>. <span class="id">apply</span> <span class="id"><a href="Flocq.Core.Raux.html#Rcompare_Lt_inv">Rcompare_Lt_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">EQy</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#lt_IZR">lt_IZR</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">P</span>) (<span class="id">2</span> <span class="id">:=</span> <span class="id">H1</span>). <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>). <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.to_intu_to_int_2" class="id"><a name="Float.to_intu_to_int_2" class="">to_intu_to_int_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:132" class="id"><a name="x:132" class="">x</a></span> <span id="n:133" class="id"><a name="n:133" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:132">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:132">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:133">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:132">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:133">n</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">as</span> <span class="id">[p|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_inversion">ZofB_range_inversion;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_exact">BofZ_exact</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">vm_compute;</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) <span class="gallina-kwd">with</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">EQy</span> &amp; <span class="id">FINy</span> &amp; <span class="id">SIGNy</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">FINx:</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_correct">ZofB_correct</a></span> <span class="gallina-kwd">in</span> <span class="id">C</span>. <span class="id">destruct</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span>) <span class="id">eqn:FINx;</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">GE:</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7">&gt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>))%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">EQy</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp,</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare_correct">Bcompare_correct</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Flocq.Core.Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">x</span>) (<span class="id"><a href="Flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">y</span>)) <span class="id">eqn:CMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_ge">Req_ge;</a></span> <span class="id">apply</span> <span class="id"><a href="Flocq.Core.Raux.html#Rcompare_Eq_inv">Rcompare_Eq_inv;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_ge">Rgt_ge;</a></span> <span class="id">apply</span> <span class="id"><a href="Flocq.Core.Raux.html#Rcompare_Gt_inv">Rcompare_Gt_inv;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EQ:</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_minus">ZofB_range_minus</a></span>. <span class="id">exact</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>). <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#Rge_le">Rge_le;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int;</a></span> <span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from ints to floats can be defined as bitwise manipulations
  over the in-memory representation.  This is what the PowerPC port does.
  The trick is that <span class="bracket"><span class="id">from_words</span> 0<span class="id">x4330_0000</span> <span class="id">x</span></span> is the float
  <span class="bracket">2^52 + <span class="id">of_intu</span> <span class="id">x</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.ox4330_0000" class="id"><a name="Float.ox4330_0000" class="">ox4330_0000</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">1127219200</span>.        <span class="docright">(* <span class="bracket">0<span class="id">x4330_0000</span></span>  *)</span><br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.split_bits_or" class="id"><a name="Float.split_bits_or" class="">split_bits_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:134" class="id"><a name="x:134" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Bits.html#split_bits">split_bits</a></span> <span class="id">52</span> <span class="id">11</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:134">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:134">x,</a></span> <span class="id">1075</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#split_bits">split_bits</a></span> <span class="id">52</span> <span class="id">11</span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#join_bits">join_bits</a></span> <span class="id">52</span> <span class="id">11</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) <span class="id">1075</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">Int64.ofwords_add</a></span><span class="id">'</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#split_join_bits">split_join_bits</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span><span class="id">;</span> <span class="id">compute_this</span> (<span class="id">2^52</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id">2^11</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.from_words_value" class="id"><a name="Float.from_words_value" class="">from_words_value:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:135" class="id"><a name="x:135" class="">x,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:135">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="Flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="Flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:135">x</a></span>))%<span class="id">R</span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:135">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:135">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b64_of_bits">b64_of_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary_float_of_bits">binary_float_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary_float_of_bits_aux">binary_float_of_bits_aux;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.split_bits_or">split_bits_or;</a></span> <span class="id">simpl;</span> <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">2</span> <span class="id">52</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso;</span> <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">Heqz;</span>  <span class="id">unfold</span> <span class="id"><a href="Flocq.Core.Defs.html#F2R">F2R;</a></span> <span class="id">simpl</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_comm">Rplus_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso;</span> <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.from_words_eq" class="id"><a name="Float.from_words_eq" class="">from_words_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:136" class="id"><a name="x:136" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:136">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id">2^52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:136">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words_value">from_words_value</a></span> <span class="id">x</span>) <span class="gallina-kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_exact">BofZ_exact</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id">2^52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>)) <span class="gallina-kwd">as</span> (<span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B2R_Bsign_inj">B2R_Bsign_inj;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A,</span> <span class="id">D</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">C,</span> <span class="id">F</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="Flocq.Core.Zaux.html#Zlt_bool_false">Zlt_bool_false</a></span>. <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_intu_from_words" class="id"><a name="Float.of_intu_from_words" class="">of_intu_from_words:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:137" class="id"><a name="x:137" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:137">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:137">x</a></span>) (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>. <span class="id">apply</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span>)). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.ox8000_0000_signed_unsigned" class="id"><a name="Float.ox8000_0000_signed_unsigned" class="">ox8000_0000_signed_unsigned:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:138" class="id"><a name="x:138" class="">x,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:138">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:138">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">intro;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span><span class="id">;</span> <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">;</span> <span class="id">compute_this</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)<span class="id">;</span> <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">-2147483648</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">;</span> <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span><span class="id">;</span> <span class="id">[now</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span><span class="id">|exists</span> <span class="id">1;reflexivity]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_int_from_words" class="id"><a name="Float.of_int_from_words" class="">of_int_from_words:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:139" class="id"><a name="x:139" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:139">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:139">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000_signed_unsigned">ox8000_0000_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="Float.ox4530_0000" class="id"><a name="Float.ox4530_0000" class="">ox4530_0000</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">1160773632</span>.        <span class="docright">(* <span class="bracket">0<span class="id">x4530_0000</span></span>  *)</span><br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.split_bits_or'" class="id"><a name="Float.split_bits_or'" class="">split_bits_or':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:140" class="id"><a name="x:140" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Bits.html#split_bits">split_bits</a></span> <span class="id">52</span> <span class="id">11</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:140">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:140">x,</a></span> <span class="id">1107</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#split_bits">split_bits</a></span> <span class="id">52</span> <span class="id">11</span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#join_bits">join_bits</a></span> <span class="id">52</span> <span class="id">11</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) <span class="id">1107</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">Int64.ofwords_add</a></span><span class="id">'</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#split_join_bits">split_join_bits</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span><span class="id">;</span> <span class="id">compute_this</span> (<span class="id">2^52</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id">2^11</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.from_words_value'" class="id"><a name="Float.from_words_value'" class="">from_words_value':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:141" class="id"><a name="x:141" class="">x,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#B2R">B2R</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:141">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="Flocq.Core.Raux.html#bpow">bpow</a></span> <span class="id"><a href="Flocq.Core.Zaux.html#radix2">radix2</a></span> <span class="id">84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#IZR">IZR</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:141">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>))%<span class="id">R</span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:141">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bsign">Bsign</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:141">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b64_of_bits">b64_of_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary_float_of_bits">binary_float_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B2R_FF2B">B2R_FF2B,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_finite_FF2B">is_finite_FF2B,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bsign_FF2B">Bsign_FF2B</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary_float_of_bits_aux">binary_float_of_bits_aux;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.split_bits_or'">split_bits_or';</a></span> <span class="id">simpl;</span> <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> <span class="id">2</span> <span class="id">52</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso;</span> <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">Heqz;</span>  <span class="id">unfold</span> <span class="id"><a href="Flocq.Core.Defs.html#F2R">F2R;</a></span> <span class="id">simpl</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r,</a></span> <span class="id">&lt;-</span> <span class="id">2!mult_IZR,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_comm">Rplus_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso;</span> <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Float.from_words_eq'" class="id"><a name="Float.from_words_eq'" class="">from_words_eq':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:142" class="id"><a name="x:142" class="">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:142">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:142">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words_value'">from_words_value'</a></span> <span class="id">x</span>) <span class="gallina-kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_representable">BofZ_representable</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>)) <span class="gallina-kwd">as</span> (<span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span>  ((<span class="id">2^52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) <span class="id">*</span> <span class="id">2^32</span>) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">try</span> <span class="id">easy</span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B2R_Bsign_inj">B2R_Bsign_inj;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A,</span> <span class="id">D</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="Flocq.Core.Raux.html#IZR_Zpower">IZR_Zpower</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Reals.RIneq.html#plus_IZR">plus_IZR</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">C,</span> <span class="id">F</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="Flocq.Core.Zaux.html#Zlt_bool_false">Zlt_bool_false</a></span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id">2^84</span>)<span class="id">;</span> <span class="id">compute_this</span> (<span class="id">2^32</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_longu_from_words" class="id"><a name="Float.of_longu_from_words" class="">of_longu_from_words:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:143" class="id"><a name="l:143" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:143">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:143">l</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">20</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:143">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq,</a></span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq'">from_words_eq'</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">p20</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">20</span>))).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">l</span>) <span class="gallina-kwd">in</span> <span class="id">*;</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">xl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*;</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">xh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">p20</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id">xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">p20</span>) <span class="id">*</span> <span class="id">2^32</span>) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_plus">BofZ_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>) <span class="gallina-kwd">at</span> <span class="id">1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">Int64.ofwords_add</a></span><span class="id">'</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">xh;</span> <span class="id">fold</span> <span class="id">xl</span>. <span class="id">compute_this</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>)<span class="id">;</span> <span class="id">compute_this</span> <span class="id">p20;</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">p20;</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>) <span class="gallina-kwd">with</span> ((<span class="id">2^52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">xh</span>) <span class="id">*</span> <span class="id">2^32</span>) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">try</span> <span class="id">easy</span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">p20</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>) <span class="gallina-kwd">with</span> ((<span class="id">2^52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1048576</span>) <span class="id">*</span> <span class="id">2^32</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_long_from_words" class="id"><a name="Float.of_long_from_words" class="">of_long_from_words:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:144" class="id"><a name="l:144" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:144">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:144">l</a></span>) <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">20+two_p</span> <span class="id">31</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:144">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq,</a></span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq'">from_words_eq'</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">p</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">20</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">31</span>))).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">l</span>) <span class="gallina-kwd">in</span> <span class="id">*;</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">xl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*;</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">xh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000_signed_unsigned">ox8000_0000_signed_unsigned</a></span>. <span class="id">fold</span> <span class="id">xh</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>) <span class="id">*</span> <span class="id">2^32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id">xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">2^20</span>) <span class="id">*</span> <span class="id">2^32</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">compute_this</span> <span class="id">p;</span> <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span><span class="id">;</span> <span class="id">ring</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_plus">BofZ_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>) <span class="gallina-kwd">at</span> <span class="id">1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add''">Int64.ofwords_add</a></span><span class="id">''</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">xh;</span> <span class="id">fold</span> <span class="id">xl</span>. <span class="id">compute_this</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>)<span class="id">;</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id">2^20</span>)<span class="id">;</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>) <span class="id">*</span> <span class="id">2^32</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id">2^52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>) <span class="id">*</span> <span class="id">2^32</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span><span class="id">;</span> <span class="id">ring</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">try</span> <span class="id">easy</span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">2^84</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span>) <span class="gallina-kwd">with</span> ((<span class="id">2^52</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">p</span>) <span class="id">*</span> <span class="id">2^32</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from 64-bit integers can be expressed in terms of
  conversions from their 32-bit halves. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_longu_decomp" class="id"><a name="Float.of_longu_decomp" class="">of_longu_decomp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:145" class="id"><a name="l:145" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:145">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:145">l</a></span>)) (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id">2^32</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:145">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">l</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">yl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">yh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DECOMP:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">yh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">x</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">Int64.ofwords_add</a></span><span class="id">'</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_mult">BofZ_mult</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_plus">BofZ_plus</a></span>. <span class="id">rewrite</span> <span class="id">DECOMP;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">try</span> <span class="id">easy</span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_long_decomp" class="id"><a name="Float.of_long_decomp" class="">of_long_decomp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:146" class="id"><a name="l:146" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:146">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:146">l</a></span>)) (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id">2^32</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:146">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">l</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">yl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">yh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DECOMP:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">yh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">x</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>)<span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add''">Int64.ofwords_add</a></span><span class="id">''</span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_mult">BofZ_mult</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_plus">BofZ_plus</a></span>. <span class="id">rewrite</span> <span class="id">DECOMP;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p">integer_representable_n2p;</a></span> <span class="id">try</span> <span class="id">easy</span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">easy</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from unsigned longs can be expressed in terms of conversions from signed longs.
    If the unsigned long is too big, a round-to-odd must be performed on it
    to avoid double rounding. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_longu_of_long_1" class="id"><a name="Float.of_longu_of_long_1" class="">of_longu_of_long_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:147" class="id"><a name="x:147" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:147">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:147">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:147">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span><span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>)) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>)<span class="id">;</span> <span class="id">now</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_longu_of_long_2" class="id"><a name="Float.of_longu_of_long_2" class="">of_longu_of_long_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:148" class="id"><a name="x:148" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:148">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:148">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:148">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:148">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">2</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">2</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id">2^1</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>)) <span class="gallina-kwd">with</span> (<span class="id">2^63</span>) <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) (<span class="id">2^63</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">2^1024</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">2^</span>(<span class="id">1024-53</span>)) <span class="gallina-kwd">by</span> (<span class="id">vm_compute;</span> <span class="id">intuition</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">n</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">NB:</span> <span class="gallina-kwd">forall</span> <span id="i:150" class="id"><span id="i:149" class="id"><a name="i:150" class="">i,</a></span></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:149">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id">64</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Floats.html#i:149">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:149">i</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> <span class="id">0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:149">i</a></span> <span class="id">63</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Floats.html#i:149">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros;</span> <span class="id">unfold</span> <span class="id">n;</span> <span class="id">autorewrite</span> <span class="gallina-kwd">with</span> <span class="id">ints;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_one">Int64.unsigned_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_one">Int64.bits_one</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="id">proj_sumbool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>. <span class="id">subst</span> <span class="id">i;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">63</span>). <span class="id">subst</span> <span class="id">i</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">NB2:</span> <span class="gallina-kwd">forall</span> <span id="i:152" class="id"><span id="i:151" class="id"><a name="i:152" class="">i,</a></span></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:151">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^1</span>) <span class="id"><a href="compcert.lib.Floats.html#i:151">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:151">i</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:151">i</a></span> <span class="id">1</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> <span class="id">0</span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Floats.html#i:151">i</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_pow2_bits">Z.mul_pow2_bits</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_neg_r">Z.testbit_neg_r</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_signed">Int64.bits_signed</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i-1</span>) <span class="id">64</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">NB</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">63</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_above">Int64.bits_above</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">NB</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_above">Int64.bits_above</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EQ:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_bits">int_round_odd_bits</a></span>. <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">NB2</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">replace</span> <span class="id">i</span> <span class="gallina-kwd">with</span> <span class="id">0</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">NB2</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span>. <span class="id">change</span> (<span class="id">2^1</span>) <span class="gallina-kwd">with</span> <span class="id">2</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) <span class="id">0</span>) <span class="id">eqn:B0;</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_true">Z.testbit_true</a></span> <span class="gallina-kwd">in</span> <span class="id">B0</span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_false">Z.testbit_false</a></span> <span class="gallina-kwd">in</span> <span class="id">B0</span> <span class="gallina-kwd">by</span> <span class="id">lia];</span><br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">2^0</span>) <span class="gallina-kwd">with</span> <span class="id">1</span> <span class="gallina-kwd">in</span> <span class="id">B0;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zdiv_1_r">Zdiv_1_r</a></span> <span class="gallina-kwd">in</span> <span class="id">B0;</span> <span class="id">rewrite</span> <span class="id">B0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">NB2</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_mult_2p">BofZ_mult_2p</a></span>.<br/>
<span class="id">-</span> <span class="id">change</span> (<span class="id">2^1</span>) <span class="gallina-kwd">with</span> <span class="id">2</span>. <span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_round_odd">BofZ_round_odd</a></span> <span class="gallina-kwd">with</span> (<span class="id">p</span> <span class="id">:=</span> <span class="id">1</span>).<br/>
<span class="id">+</span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span><span class="id">;</span> <span class="id">trivial</span>. <span class="id">smart_omega</span>.<br/>
<span class="id">+</span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">2^63</span>). <span class="id">compute;</span> <span class="id">intuition</span> <span class="id">congruence</span>. <span class="id">extlia</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span><span class="id">;</span> <span class="id">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span><span class="id">;</span> <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span><span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span><span class="id">;</span> <span class="id">extlia</span>.<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">2^63</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">change</span> (<span class="id">2^63</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id">2^63</span>) <span class="id">1</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_le">int_round_odd_le;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">EQ</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">compute_this</span> (<span class="id">2^63</span>). <span class="id">compute_this</span> (<span class="id">2^53</span>). <span class="id">extlia</span>.<br/>
<span class="id">-</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions to/from 32-bit integers can be implemented by going through 64-bit integers. </div>
<br/>
<span class="vernacular">Remark</span> <span id="Float.ZofB_range_widen" class="id"><a name="Float.ZofB_range_widen" class="">ZofB_range_widen:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="f:153" class="id"><a name="f:153" class="">f:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span id="n:154" class="id"><a name="n:154" class="">n</a></span> <span id="min1:155" class="id"><a name="min1:155" class="">min1</a></span> <span id="max1:156" class="id"><a name="max1:156" class="">max1</a></span> <span id="min2:157" class="id"><a name="min2:157" class="">min2</a></span> <span id="max2:158" class="id"><a name="max2:158" class="">max2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:153">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#min1:155">min1</a></span> <span class="id"><a href="compcert.lib.Floats.html#max1:156">max1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:154">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#min2:157">min2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#min1:155">min1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#max1:156">max1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#max2:158">max2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:153">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#min2:157">min2</a></span> <span class="id"><a href="compcert.lib.Floats.html#max2:158">max2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:154">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_inversion">ZofB_range_inversion;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range;</a></span> <span class="id">rewrite</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">min2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e">&lt;=?</a></span> <span class="id">n</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>. <span class="id">replace</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#90a0b0fc12252358f48538aa18bc4b8e">&lt;=?</a></span> <span class="id">max2</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb_le">Z.leb_le</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb_le">Z.leb_le</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.to_int_to_long" class="id"><a name="Float.to_int_to_long" class="">to_int_to_long:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:159" class="id"><a name="f:159" class="">f</a></span> <span id="n:160" class="id"><a name="n:160" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:159">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:160">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:159">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:160">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>) <span class="gallina-kwd">as</span> <span class="id">[z|]</span> <span class="id">eqn:Z;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_inversion">ZofB_range_inversion;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_repr">Int.signed_repr</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ZofB_range_widen">ZofB_range_widen;</a></span> <span class="id">eauto</span>. <span class="id">compute;</span> <span class="id">congruence</span>. <span class="id">compute;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.to_intu_to_longu" class="id"><a name="Float.to_intu_to_longu" class="">to_intu_to_longu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:161" class="id"><a name="f:161" class="">f</a></span> <span id="n:162" class="id"><a name="n:162" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:161">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:162">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">to_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:161">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:162">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">to_longu;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">f</span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">as</span> <span class="id">[z|]</span> <span class="id">eqn:Z;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_inversion">ZofB_range_inversion;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">f</span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ZofB_range_widen">ZofB_range_widen;</a></span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">compute;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.to_intu_to_long" class="id"><a name="Float.to_intu_to_long" class="">to_intu_to_long:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:163" class="id"><a name="f:163" class="">f</a></span> <span id="n:164" class="id"><a name="n:164" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:163">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:164">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:163">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:164">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">f</span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">as</span> <span class="id">[z|]</span> <span class="id">eqn:Z;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_inversion">ZofB_range_inversion;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ZofB_range_widen">ZofB_range_widen;</a></span> <span class="id">eauto</span>. <span class="id">compute;</span> <span class="id">congruence</span>. <span class="id">compute;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_int_of_long" class="id"><a name="Float.of_int_of_long" class="">of_int_of_long:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:165" class="id"><a name="n:165" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:165">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:165">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>. <span class="id">intros</span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">n</span>). <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>. <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_intu_of_longu" class="id"><a name="Float.of_intu_of_longu" class="">of_intu_of_longu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:166" class="id"><a name="n:166" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:166">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:166">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>. <span class="id">intros</span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>). <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float.of_intu_of_long" class="id"><a name="Float.of_intu_of_long" class="">of_intu_of_long:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:167" class="id"><a name="n:167" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:167">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:167">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>. <span class="id">intros</span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>). <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span><span class="id">;</span> <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span><span class="id">;</span> <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Floats.html#Float">Float</a></span>.<br/>
<br/>
<h1> Single-precision FP numbers </h1>
<br/>
<span class="vernacular">Module</span> <span id="Float32" class="id"><a name="Float32" class="">Float32</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.neg_nan" class="id"><a name="Float32.neg_nan" class="">neg_nan</a></span> (<span id="f:168" class="id"><a name="f:168" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{</a></span> <span id="x:169" class="id"><a name="x:169" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:169">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#f:168">f</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">H</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">24</span> <span class="id">128</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">s</span>) <span class="id">p</span> <span class="id">H</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_32">default_nan_32</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.abs_nan" class="id"><a name="Float32.abs_nan" class="">abs_nan</a></span> (<span id="f:171" class="id"><a name="f:171" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{</a></span> <span id="x:172" class="id"><a name="x:172" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:172">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#f:171">f</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">H</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">p</span> <span class="id">H</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#default_nan_32">default_nan_32</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.cons_pl" class="id"><a name="Float32.cons_pl" class="">cons_pl</a></span> (<span id="x:174" class="id"><a name="x:174" class="">x:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) (<span id="l:175" class="id"><a name="l:175" class="">l:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:174">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">p</span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id">s,</span> <span class="id">p</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.lib.Floats.html#l:175">l</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#l:175">l</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.unop_nan" class="id"><a name="Float32.unop_nan" class="">unop_nan</a></span> (<span id="x:177" class="id"><a name="x:177" class="">x:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:178">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32">quiet_nan_32</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_32">Archi.choose_nan_32</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:177">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.binop_nan" class="id"><a name="Float32.binop_nan" class="">binop_nan</a></span> (<span id="x:179" class="id"><a name="x:179" class="">x</a></span> <span id="y:180" class="id"><a name="y:180" class="">y:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:181">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32">quiet_nan_32</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_32">Archi.choose_nan_32</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:179">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:180">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>))).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.fma_nan_1" class="id"><a name="Float32.fma_nan_1" class="">fma_nan_1</a></span> (<span id="x:182" class="id"><a name="x:182" class="">x</a></span> <span id="y:183" class="id"><a name="y:183" class="">y</a></span> <span id="z:184" class="id"><a name="z:184" class="">z:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:185">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id">'</span>(<span class="id">a,</span> <span class="id">b,</span> <span class="id">c</span>) <span class="id">:=</span> <span class="id"><a href="compcert.x86_64.Archi.html#fma_order">Archi.fma_order</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:182">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:183">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:184">z</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32">quiet_nan_32</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_32">Archi.choose_nan_32</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cons_pl">cons_pl</a></span> <span class="id">a</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cons_pl">cons_pl</a></span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cons_pl">cons_pl</a></span> <span class="id">c</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>)))).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.fma_nan" class="id"><a name="Float32.fma_nan" class="">fma_nan</a></span> (<span id="x:186" class="id"><a name="x:186" class="">x</a></span> <span id="y:187" class="id"><a name="y:187" class="">y</a></span> <span id="z:188" class="id"><a name="z:188" class="">z:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#6556914db359db999889decec6a4a562">|</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:189">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x:186">x,</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:187">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_,</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_,</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#fma_invalid_mul_is_nan">Archi.fma_invalid_mul_is_nan</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Floats.html#quiet_nan_32">quiet_nan_32</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_32">Archi.choose_nan_32</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#default_nan_32">Archi.default_nan_32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cons_pl">cons_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:188">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.fma_nan_1">fma_nan_1</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:186">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:187">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:188">z</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.fma_nan_1">fma_nan_1</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:186">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:187">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:188">z</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<h2> Operations over single-precision floats </h2>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.zero" class="id"><a name="Float32.zero" class="">zero:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#B754_zero">B754_zero</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="docright">(* the float <span class="bracket">+0.0</span>  *)</span><br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.eq_dec" class="id"><a name="Float32.eq_dec" class="">eq_dec:</a></span> <span class="gallina-kwd">forall</span> (<span id="f1:192" class="id"><a name="f1:192" class="">f1</a></span> <span id="f2:193" class="id"><a name="f2:193" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da">{f1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:193">f2}</a></span> <span class="id">+</span> <span class="id">{f1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:193">f2}</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Beq_dec">Beq_dec</a></span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<div class="doc">Arithmetic operations </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.neg" class="id"><a name="Float32.neg" class="">neg:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Bopp">Bopp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.neg_nan">neg_nan</a></span>. <span class="docright">(* opposite (change sign)  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.abs" class="id"><a name="Float32.abs" class="">abs:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Binary.html#Babs">Babs</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.abs_nan">abs_nan</a></span>. <span class="docright">(* absolute value (set sign to <span class="bracket">+</span>)  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.sqrt" class="id"><a name="Float32.sqrt" class="">sqrt:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bsqrt">Bsqrt</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.unop_nan">unop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>.  <span class="docright">(* square root  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.add" class="id"><a name="Float32.add" class="">add:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bplus">Bplus</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* addition  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.sub" class="id"><a name="Float32.sub" class="">sub:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bminus">Bminus</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* subtraction  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.mul" class="id"><a name="Float32.mul" class="">mul:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bmult">Bmult</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* multiplication  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.div" class="id"><a name="Float32.div" class="">div:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bdiv">Bdiv</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_nan">binop_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* division  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.fma" class="id"><a name="Float32.fma" class="">fma:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bfma">Bfma</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.fma_nan">fma_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span>. <span class="docright">(* fused multiply-add <span class="bracket"><span class="id">x</span> * <span class="id">y</span> + <span class="id">z</span></span>  *)</span><br/>
<span class="vernacular">Definition</span> <span id="Float32.compare" class="id"><a name="Float32.compare" class="">compare</a></span> (<span id="f1:194" class="id"><a name="f1:194" class="">f1</a></span> <span id="f2:195" class="id"><a name="f2:195" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span> <span class="id">:=</span> <span class="docright">(* general comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare">Bcompare</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#f1:194">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:195">f2</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Float32.cmp" class="id"><a name="Float32.cmp" class="">cmp</a></span> (<span id="c:196" class="id"><a name="c:196" class="">c:comparison</a></span>) (<span id="f1:197" class="id"><a name="f1:197" class="">f1</a></span> <span id="f2:198" class="id"><a name="f2:198" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span> <span class="docright">(* comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:196">c</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:197">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:198">f2</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float32.ordered" class="id"><a name="Float32.ordered" class="">ordered</a></span> (<span id="f1:199" class="id"><a name="f1:199" class="">f1</a></span> <span id="f2:200" class="id"><a name="f2:200" class="">f2:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#ordered_of_comparison">ordered_of_comparison</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:199">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:200">f2</a></span>).<br/>
<br/>
<div class="doc">Conversions </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.of_double" class="id"><a name="Float32.of_double" class="">of_double</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Float32.to_double" class="id"><a name="Float32.to_double" class="">to_double</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.to_int" class="id"><a name="Float32.to_int" class="">to_int</a></span> (<span id="f:201" class="id"><a name="f:201" class="">f:float32</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id">:=</span> <span class="docright">(* conversion to signed 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:201">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float32.to_intu" class="id"><a name="Float32.to_intu" class="">to_intu</a></span> (<span id="f:202" class="id"><a name="f:202" class="">f:float32</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id">:=</span> <span class="docright">(* conversion to unsigned 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:202">f</a></span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float32.to_long" class="id"><a name="Float32.to_long" class="">to_long</a></span> (<span id="f:203" class="id"><a name="f:203" class="">f:float32</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id">:=</span> <span class="docright">(* conversion to signed 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:203">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float32.to_longu" class="id"><a name="Float32.to_longu" class="">to_longu</a></span> (<span id="f:204" class="id"><a name="f:204" class="">f:float32</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id">:=</span> <span class="docright">(* conversion to unsigned 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f:204">f</a></span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.of_int" class="id"><a name="Float32.of_int" class="">of_int</a></span> (<span id="n:205" class="id"><a name="n:205" class="">n:int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="docright">(* conversion from signed 32-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:205">n</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float32.of_intu" class="id"><a name="Float32.of_intu" class="">of_intu</a></span> (<span id="n:206" class="id"><a name="n:206" class="">n:int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="docright">(* conversion from unsigned 32-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:206">n</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.of_long" class="id"><a name="Float32.of_long" class="">of_long</a></span> (<span id="n:207" class="id"><a name="n:207" class="">n:int64</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="docright">(* conversion from signed 64-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:207">n</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float32.of_longu" class="id"><a name="Float32.of_longu" class="">of_longu</a></span> (<span id="n:208" class="id"><a name="n:208" class="">n:int64</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="docright">(* conversion from unsigned 64-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:208">n</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.from_parsed" class="id"><a name="Float32.from_parsed" class="">from_parsed</a></span> (<span id="base:209" class="id"><a name="base:209" class="">base:positive</a></span>) (<span id="intPart:210" class="id"><a name="intPart:210" class="">intPart:positive</a></span>) (<span id="expPart:211" class="id"><a name="expPart:211" class="">expPart:Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#Bparse">Bparse</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#base:209">base</a></span> <span class="id"><a href="compcert.lib.Floats.html#intPart:210">intPart</a></span> <span class="id"><a href="compcert.lib.Floats.html#expPart:211">expPart</a></span>.<br/>
<br/>
<div class="doc">Conversions between floats and their concrete in-memory representation
    as a sequence of 32 bits. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.to_bits" class="id"><a name="Float32.to_bits" class="">to_bits</a></span> (<span id="f:212" class="id"><a name="f:212" class="">f:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_b32">bits_of_b32</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:212">f</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Float32.of_bits" class="id"><a name="Float32.of_bits" class="">of_bits</a></span> (<span id="b:213" class="id"><a name="b:213" class="">b:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b32_of_bits">b32_of_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#b:213">b</a></span>).<br/>
<br/>
<h2> Properties </h2>
<br/>
<div class="doc">Commutativity properties of addition and multiplication. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.add_commut" class="id"><a name="Float32.add_commut" class="">add_commut:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:214" class="id"><a name="x:214" class="">x</a></span> <span id="y:215" class="id"><a name="y:215" class="">y,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:214">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y:215">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:214">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:215">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:215">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:214">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bplus_commut">Bplus_commut</a></span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">try</span> <span class="id">reflexivity;</span> <span class="id">now</span> <span class="id">destruct</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.mul_commut" class="id"><a name="Float32.mul_commut" class="">mul_commut:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:216" class="id"><a name="x:216" class="">x</a></span> <span id="y:217" class="id"><a name="y:217" class="">y,</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x:216">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="Flocq.IEEE754.Binary.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y:217">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:216">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:217">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:217">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:216">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bmult_commut">Bmult_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">try</span> <span class="id">reflexivity;</span> <span class="id">now</span> <span class="id">destruct</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Multiplication by 2 is diagonal addition. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.mul2_add" class="id"><a name="Float32.mul2_add" class="">mul2_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:218" class="id"><a name="f:218" class="">f,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:218">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:218">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:218">f</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">2</span>%<span class="id">Z</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bmult2_Bplus">Bmult2_Bplus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hx</span> <span class="id">Hy</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_nan">binop_nan</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86_64.Archi.html#choose_nan_32_idem">Archi.choose_nan_32_idem</a></span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">y;</span> <span class="id">reflexivity</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Divisions that can be turned into multiplication by an inverse. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Float32.exact_inverse" class="id"><a name="Float32.exact_inverse" class="">exact_inverse</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bexact_inverse">Bexact_inverse</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.div_mul_inverse" class="id"><a name="Float32.div_mul_inverse" class="">div_mul_inverse:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:219" class="id"><a name="x:219" class="">x</a></span> <span id="y:220" class="id"><a name="y:220" class="">y</a></span> <span id="z:221" class="id"><a name="z:221" class="">z,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.exact_inverse">exact_inverse</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:220">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:221">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.div">div</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:219">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:220">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:219">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#z:221">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bdiv_mult_inverse">Bdiv_mult_inverse</a></span>. <span class="id">2:</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">x0</span> <span class="id">y0</span> <span class="id">z0</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">Hz</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_nan">binop_nan</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x0;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">y0,</span> <span class="id">z0;</span> <span class="id">reflexivity</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of comparisons. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_swap" class="id"><a name="Float32.cmp_swap" class="">cmp_swap:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:222" class="id"><a name="c:222" class="">c</a></span> <span id="x:223" class="id"><a name="x:223" class="">x</a></span> <span id="y:224" class="id"><a name="y:224" class="">y,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:222">c</a></span>) <span class="id"><a href="compcert.lib.Floats.html#x:223">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:224">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:222">c</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:224">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:223">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.compare">compare;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="Flocq.IEEE754.Binary.html#Bcompare_swap">Bcompare_swap</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_swap">cmp_of_comparison_swap</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_ne_eq" class="id"><a name="Float32.cmp_ne_eq" class="">cmp_ne_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:225" class="id"><a name="f1:225" class="">f1</a></span> <span id="f2:226" class="id"><a name="f2:226" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:225">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:226">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:225">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:226">f2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ne_eq">cmp_of_comparison_ne_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_lt_eq_false" class="id"><a name="Float32.cmp_lt_eq_false" class="">cmp_lt_eq_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:227" class="id"><a name="f1:227" class="">f1</a></span> <span id="f2:228" class="id"><a name="f2:228" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:227">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:228">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:227">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:228">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_eq_false">cmp_of_comparison_lt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_le_lt_eq" class="id"><a name="Float32.cmp_le_lt_eq" class="">cmp_le_lt_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:229" class="id"><a name="f1:229" class="">f1</a></span> <span id="f2:230" class="id"><a name="f2:230" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:229">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:230">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:229">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:230">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:229">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:230">f2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_le_lt_eq">cmp_of_comparison_le_lt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_gt_eq_false" class="id"><a name="Float32.cmp_gt_eq_false" class="">cmp_gt_eq_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:231" class="id"><a name="x:231" class="">x</a></span> <span id="y:232" class="id"><a name="y:232" class="">y,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:231">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:232">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x:231">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y:232">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_gt_eq_false">cmp_of_comparison_gt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_ge_gt_eq" class="id"><a name="Float32.cmp_ge_gt_eq" class="">cmp_ge_gt_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:233" class="id"><a name="f1:233" class="">f1</a></span> <span id="f2:234" class="id"><a name="f2:234" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:233">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:234">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:233">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:234">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:233">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:234">f2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ge_gt_eq">cmp_of_comparison_ge_gt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_lt_gt_false" class="id"><a name="Float32.cmp_lt_gt_false" class="">cmp_lt_gt_false:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:235" class="id"><a name="f1:235" class="">f1</a></span> <span id="f2:236" class="id"><a name="f2:236" class="">f2,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:235">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:236">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:235">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:236">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">f1</span> <span class="id">f2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_gt_false">cmp_of_comparison_lt_gt_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.cmp_double" class="id"><a name="Float32.cmp_double" class="">cmp_double:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:237" class="id"><a name="f1:237" class="">f1</a></span> <span id="f2:238" class="id"><a name="f2:238" class="">f2</a></span> <span id="c:239" class="id"><a name="c:239" class="">c,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:239">c</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:237">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:238">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c:239">c</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1:237">f1</a></span>) (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2:238">f2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">f_equal</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bcompare_Bconv_widen">Bcompare_Bconv_widen</a></span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of conversions to/from in-memory representation.
  The conversions are bijective (one-to-one). </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.of_to_bits" class="id"><a name="Float32.of_to_bits" class="">of_to_bits:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:240" class="id"><a name="f:240" class="">f,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:240">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:240">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_b32">bits_of_b32,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b32_of_bits">b32_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">,</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#binary_float_of_bits_of_binary_float">binary_float_of_bits_of_binary_float;</a></span> <span class="id">[reflexivity|]</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_binary_float_range">bits_of_binary_float_range</a></span> <span class="id">23</span> <span class="id">8</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">2^</span>(<span class="id">23+8+1</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>). <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.to_of_bits" class="id"><a name="Float32.to_of_bits" class="">to_of_bits:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:241" class="id"><a name="b:241" class="">b,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#b:241">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#b:241">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_b32">bits_of_b32,</a></span> <span class="id"><a href="Flocq.IEEE754.Bits.html#b32_of_bits">b32_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="Flocq.IEEE754.Bits.html#bits_of_binary_float_of_bits">bits_of_binary_float_of_bits</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from 32-bit integers to single-precision floats can
  be decomposed into a conversion to a double-precision float,
  followed by a <span class="bracket"><span class="id">Float32.of_double</span></span> conversion.  No double rounding occurs. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.of_int_double" class="id"><a name="Float32.of_int_double" class="">of_int_double:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:242" class="id"><a name="n:242" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:242">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">Float.of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:242">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">Float.smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.of_intu_double" class="id"><a name="Float32.of_intu_double" class="">of_intu_double:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:243" class="id"><a name="n:243" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:243">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:243">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n;</a></span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">Float.smart_omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversion of single-precision floats to integers can be decomposed
  into a <span class="bracket"><span class="id">Float32.to_double</span></span> extension, followed by a double-precision-to-int
  conversion. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.to_int_double" class="id"><a name="Float32.to_int_double" class="">to_int_double:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:244" class="id"><a name="f:244" class="">f</a></span> <span id="n:245" class="id"><a name="n:245" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:244">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:245">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">Float.to_int</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:244">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:245">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_int">to_int</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>) <span class="gallina-kwd">as</span> <span class="id">[n'|]</span> <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">Float.to_int</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_Bconv">ZofB_range_Bconv;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.to_intu_double" class="id"><a name="Float32.to_intu_double" class="">to_intu_double:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:246" class="id"><a name="f:246" class="">f</a></span> <span id="n:247" class="id"><a name="n:247" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:246">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:247">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:246">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:247">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">to_intu</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">as</span> <span class="id">[n'|]</span> <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_Bconv">ZofB_range_Bconv;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.to_long_double" class="id"><a name="Float32.to_long_double" class="">to_long_double:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:248" class="id"><a name="f:248" class="">f</a></span> <span id="n:249" class="id"><a name="n:249" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_long">to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:248">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:249">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">Float.to_long</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:248">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:249">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_long">to_long</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>) <span class="gallina-kwd">as</span> <span class="id">[n'|]</span> <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">Float.to_long</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_Bconv">ZofB_range_Bconv;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.to_longu_double" class="id"><a name="Float32.to_longu_double" class="">to_longu_double:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:250" class="id"><a name="f:250" class="">f</a></span> <span id="n:251" class="id"><a name="n:251" class="">n,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_longu">to_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:250">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:251">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">Float.to_longu</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f:250">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:251">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_longu">to_longu</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id">0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="gallina-kwd">as</span> <span class="id">[n'|]</span> <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">Float.to_longu</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#ZofB_range_Bconv">ZofB_range_Bconv;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from 64-bit integers to single-precision floats can be expressed
  as conversion to a double-precision float followed by a <span class="bracket"><span class="id">Float32.of_double</span></span> conversion.
  To avoid double rounding when the integer is large (above <span class="bracket">2^53</span>), a round
  to odd must be performed on the integer before conversion to double-precision float. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Float32.int_round_odd_plus" class="id"><a name="Float32.int_round_odd_plus" class="">int_round_odd_plus:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:252" class="id"><a name="p:252" class="">p</a></span> <span id="n:253" class="id"><a name="n:253" class="">n,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:252">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:253">n</a></span> <span class="id"><a href="compcert.lib.Floats.html#p:252">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:253">n</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:253">n</a></span> (<span class="id">2^p-1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">2^p-1</span>))) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span>(<span class="id">2^p</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">POS:</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">2^p</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> (<span class="id"><a href="Flocq.Core.Zaux.html#Zpower_gt_0">Zpower_gt_0</a></span> <span class="id"><a href="Flocq.Core.Zaux.html#radix2">radix2</a></span>)<span class="id">;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> <span class="id">n</span> (<span class="id">2^p-1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_ones">Z.land_ones</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_equiv">Z.ones_equiv</a></span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id">2^p</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">m</span> <span class="id">:=</span> <span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">2^p-1</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id">2^p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span>) <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id">0</span> <span class="gallina-kwd">else</span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">m</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span>) <span class="id">0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_small">Z.div_small</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_unique">Coqlib.Zdiv_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>). <span class="id">ring</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">D:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id">m</span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span>) <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span>) <span class="id">0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_false">Z.testbit_false</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">C;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_true">Z.testbit_true</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">C;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E:</span> <span class="gallina-kwd">forall</span> <span id="i:255" class="id"><span id="i:254" class="id"><a name="i:255" class="">i,</a></span></span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:254">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id">m</span> <span class="id"><a href="compcert.lib.Floats.html#i:254">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_false">Z.testbit_false</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id">2^i</span>) <span class="gallina-kwd">with</span> <span class="id">0</span>. <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_small">Z.div_small</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">m</span>. <span class="id">split</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_le_trans">Z.lt_le_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">2^p</span>). <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> <span class="id">2</span> <span class="gallina-kwd">with</span> (<span class="id">2^1</span>) <span class="gallina-kwd">at</span> <span class="id">1</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="Flocq.Core.Zaux.html#Zpower_plus">Zpower_plus</a></span> <span class="id"><a href="Flocq.Core.Zaux.html#radix2">radix2</a></span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="Flocq.Core.Zaux.html#Zpower_le">Zpower_le</a></span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">F:</span> <span class="gallina-kwd">forall</span> <span id="i:257" class="id"><span id="i:256" class="id"><a name="i:257" class="">i,</a></span></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:256">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-2^p</a></span>) <span class="id"><a href="compcert.lib.Floats.html#i:256">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Floats.html#i:256">i</a></span> <span class="id">p</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.bits_opp">Z.bits_opp</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_equiv">Z.ones_equiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_spec_low">Z.ones_spec_low</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_spec_high">Z.ones_spec_high</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_bits">int_round_odd_bits;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span><span class="id">,</span> <span class="id">F,</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span><span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span><span class="id">,</span> <span class="id">D,</span> <span class="id">F,</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eqb">Z.eqb</a></span> (<span class="id">n</span> <span class="id">mod</span> <span class="id">2^p</span>) <span class="id">0</span>) <span class="id">eqn:Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eqb_eq">Z.eqb_eq</a></span> <span class="gallina-kwd">in</span> <span class="id">Z</span>. <span class="id">rewrite</span> <span class="id">Z,</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eqb_neq">Z.eqb_neq</a></span> <span class="gallina-kwd">in</span> <span class="id">Z</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span><span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span><span class="id">,</span> <span class="id">E,</span> <span class="id">F,</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Float32.of_long_round_odd" class="id"><a name="Float32.of_long_round_odd" class="">of_long_round_odd:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:258" class="id"><a name="n:258" class="">n</a></span> <span id="conv_nan:259" class="id"><a name="conv_nan:259" class="">conv_nan,</a></span><br/>
&nbsp;&nbsp;<span class="id">2^36</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:258">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id">2^64</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:258">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv">Bconv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">24</span> <span class="id">128</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#conv_nan:259">conv_nan</a></span> <span class="id"><a href="Flocq.IEEE754.BinarySingleNaN.html#mode_NE">mode_NE</a></span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ">BofZ</a></span> <span class="id">53</span> <span class="id">1024</span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:258">n</a></span> ((<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:258">n</a></span> <span class="id">2047</span>) <span class="id">+</span> <span class="id">2047</span>)) (<span class="id">-2048</span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.int_round_odd_plus">int_round_odd_plus</a></span> <span class="id">11</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-2^64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> <span class="id">n</span> <span class="id">11</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-2^64</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-2^64</a></span>) <span class="id">11</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_le">int_round_odd_le;</a></span> <span class="id">extlia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> <span class="id">n</span> <span class="id">11</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">2^64</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">change</span> (<span class="id">2^64</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id">2^64</span>) <span class="id">11</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_le">int_round_odd_le;</a></span> <span class="id">extlia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#BofZ_round_odd">BofZ_round_odd</a></span> <span class="gallina-kwd">with</span> (<span class="id">p</span> <span class="id">:=</span> <span class="id">11</span>).<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">2^64</span>). <span class="id">lia</span>. <span class="id">compute;</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#integer_representable_n2p_wide">integer_representable_n2p_wide;</a></span> <span class="id">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> <span class="gallina-kwd">in</span> <span class="id">H0,</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zmult_le_reg_r">Zmult_le_reg_r</a></span> <span class="gallina-kwd">with</span> (<span class="id">2^11</span>)<span class="id">;</span> <span class="id">[compute;</span> <span class="id">auto</span> <span class="id">|</span> <span class="id">assumption]</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.of_longu_double_1" class="id"><a name="Float32.of_longu_double_1" class="">of_longu_double_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:260" class="id"><a name="n:260" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:260">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">2^53</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:260">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">Float.of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:260">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">symmetry;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.of_longu_double_2" class="id"><a name="Float32.of_longu_double_2" class="">of_longu_double_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:261" class="id"><a name="n:261" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">2^36</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:261">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:261">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">Float.of_longu</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:261">n</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.add">Int64.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:261">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id">-2048</span>)))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_longu">of_longu</a></span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_long_round_odd">of_long_round_odd</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_single_nan">Float.to_single_nan</a></span>).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">Float.of_longu</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">n'</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) <span class="id">2047</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2047</span>)) (<span class="id">-2048</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) <span class="id">11</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">n'</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.int_round_odd_plus">int_round_odd_plus;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">n'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span>. <span class="id">change</span> <span class="id">0</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> <span class="id">0</span> <span class="id">11</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_le">int_round_odd_le;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">n'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_lt_trans">Z.le_lt_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">11</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_le">int_round_odd_le;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span> <span class="id">n'</span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">Int64.bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id">n'</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span><span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add_unsigned">Int64.add_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>))) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="id">change</span> <span class="id">2047</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones">Z.ones</a></span> <span class="id">11</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_ones">Z.land_ones</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) (<span class="id">2^11</span>)). <span class="id">compute;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">2^11</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="gallina-kwd">by</span> (<span class="id">compute;</span> <span class="id">auto</span>). <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eqm">Int64.same_bits_eqm</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="gallina-kwd">exists</span> (<span class="id">-1</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">extlia</span>. <span class="id">change</span> (<span class="id">2^64</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.of_long_double_1" class="id"><a name="Float32.of_long_double_1" class="">of_long_double_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:262" class="id"><a name="n:262" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:262">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">2^53</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:262">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">Float.of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:262">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">symmetry;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#integer_representable_n">integer_representable_n;</a></span> <span class="id">auto</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Float32.of_long_double_2" class="id"><a name="Float32.of_long_double_2" class="">of_long_double_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:263" class="id"><a name="n:263" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">2^36</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:263">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:263">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">Float.of_long</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:263">n</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.add">Int64.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#n:263">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id">-2048</span>)))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_long">of_long</a></span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_long_round_odd">of_long_round_odd</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double,</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_single_nan">Float.to_single_nan</a></span>).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">Float.of_long</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">n'</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span>) <span class="id">2047</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">2047</span>)) (<span class="id">-2048</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span>) <span class="id">11</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">n'</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.int_round_odd_plus">int_round_odd_plus;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">n'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span>. <span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id">11</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_le">int_round_odd_le;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">n'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd">int_round_odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span> <span class="id">11</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.IEEE754_extra.html#int_round_odd_le">int_round_odd_le;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute;</span> <span class="id">intuition</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span> <span class="id">n'</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">Int64.bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id">n'</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span><span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_signed">Int64.bits_signed</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add_unsigned">Int64.add_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>))) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">2047</span>)) <span class="gallina-kwd">with</span> <span class="id">2047</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id">2047</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones">Z.ones</a></span> <span class="id">11</span>). <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_ones">Z.land_ones</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod_eq">eqmod_mod_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_gt">Z.lt_gt</a></span>. <span class="id">apply</span> (<span class="id"><a href="Flocq.Core.Zaux.html#Zpower_gt_0">Zpower_gt_0</a></span> <span class="id"><a href="Flocq.Core.Zaux.html#radix2">radix2</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_divides">eqmod_divides</a></span> <span class="gallina-kwd">with</span> (<span class="id">2^64</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_signed_unsigned">Int64.eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">2^</span>(<span class="id">64-11</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) (<span class="id">2^11</span>)). <span class="id">compute;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">2^11</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="gallina-kwd">by</span> (<span class="id">compute;</span> <span class="id">auto</span>). <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eqm">Int64.same_bits_eqm</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="gallina-kwd">exists</span> (<span class="id">-1</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-2^64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) <span class="gallina-kwd">by</span> (<span class="id">compute;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">2^64</span>) <span class="gallina-kwd">by</span> (<span class="id">compute;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Floats.html#Float32">Float32</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Opaque</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#zero">Float.zero</a></span> <span class="id"><a href="compcert.lib.Floats.html#eq_dec">Float.eq_dec</a></span> <span class="id"><a href="compcert.lib.Floats.html#neg">Float.neg</a></span> <span class="id"><a href="compcert.lib.Floats.html#abs">Float.abs</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_single">Float.of_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_single">Float.to_single</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#of_int">Float.of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_intu">Float.of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_long">Float.of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_longu">Float.of_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_int">Float.to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_intu">Float.to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_long">Float.to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_longu">Float.to_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#add">Float.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#sub">Float.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#mul">Float.mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#div">Float.div</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#ordered">Float.ordered</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_bits">Float.to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_bits">Float.of_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#from_words">Float.from_words</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Opaque</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#zero">Float32.zero</a></span> <span class="id"><a href="compcert.lib.Floats.html#eq_dec">Float32.eq_dec</a></span> <span class="id"><a href="compcert.lib.Floats.html#neg">Float32.neg</a></span> <span class="id"><a href="compcert.lib.Floats.html#abs">Float32.abs</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#of_int">Float32.of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_intu">Float32.of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_long">Float32.of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_longu">Float32.of_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_int">Float32.to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_intu">Float32.to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_long">Float32.to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_longu">Float32.to_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#add">Float32.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#sub">Float32.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#mul">Float32.mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#div">Float32.div</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#ordered">Float32.ordered</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_bits">Float32.to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_bits">Float32.of_bits</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
