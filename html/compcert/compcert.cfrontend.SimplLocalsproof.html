
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SimplLocalsproof</title>
<meta name="description" content="Documentation of Coq module SimplLocalsproof" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module SimplLocalsproof</h1>
<br/>
<div class="doc">Semantic preservation for the SimplLocals pass. </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Ordered.html">Ordered</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html">Clight</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="VSF" class="id"><a name="VSF" class="">VSF</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet">VSet</a></span>).<br/>
<span class="vernacular">Module</span> <span id="VSP" class="id"><a name="VSP" class="">VSP</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetProperties.html#Properties">FSetProperties.Properties</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet">VSet</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="match_prog" class="id"><a name="match_prog" class="">match_prog</a></span> (<span id="p:1" class="id"><a name="p:1" class="">p</a></span> <span id="tp:2" class="id"><a name="tp:2" class="">tp:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">program</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#match_program">match_program</a></span> (<span class="gallina-kwd">fun</span> <span id="ctx:3" class="id"><a name="ctx:3" class="">ctx</a></span> <span id="f:4" class="id"><a name="f:4" class="">f</a></span> <span id="tf:5" class="id"><a name="tf:5" class="">tf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:4">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tf:5">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#p:1">p</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tp:2">tp</a></span><br/>
&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tp:2">tp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#p:1">p</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_transf_program" class="id"><a name="match_transf_program" class="">match_transf_program:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:6" class="id"><a name="p:6" class="">p</a></span> <span id="tp:7" class="id"><a name="tp:7" class="">tp,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_program">transf_program</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#p:6">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tp:7">tp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#p:6">p</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tp:7">tp</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_program">transf_program;</a></span> <span class="id">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Linking.html#match_transform_partial_program">match_transform_partial_program</a></span>. <span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="PRESERVATION" class="id"><a name="PRESERVATION" class="">PRESERVATION</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.prog" class="id"><a name="PRESERVATION.prog" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">program</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.tprog" class="id"><a name="PRESERVATION.tprog" class="">tprog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">program</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="PRESERVATION.TRANSF" class="id"><a name="PRESERVATION.TRANSF" class="">TRANSF:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tprog">tprog</a></span>.<br/>
<span class="vernacular">Let</span> <span id="PRESERVATION.ge" class="id"><a name="PRESERVATION.ge" class="">ge</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.prog">prog</a></span>.<br/>
<span class="vernacular">Let</span> <span id="PRESERVATION.tge" class="id"><a name="PRESERVATION.tge" class="">tge</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tprog">tprog</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="comp_env_preserved" class="id"><a name="comp_env_preserved" class="">comp_env_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#genv_cenv">genv_cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#genv_cenv">genv_cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tge">tge,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge">ge</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.prog">prog,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tprog">tprog;</a></span> <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.TRANSF">TRANSF</a></span> <span class="gallina-kwd">as</span> <span class="id">[_</span> <span class="id">EQ]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">EQ</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="symbols_preserved" class="id"><a name="symbols_preserved" class="">symbols_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="s:11" class="id"><a name="s:11" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:11">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:11">s</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_match">Genv.find_symbol_match</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.TRANSF">TRANSF</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="senv_preserved" class="id"><a name="senv_preserved" class="">senv_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.senv_match">Genv.senv_match</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.TRANSF">TRANSF</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="functions_translated" class="id"><a name="functions_translated" class="">functions_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="v:12" class="id"><a name="v:12" class="">v:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span id="f:13" class="id"><a name="f:13" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#fundef">fundef</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:12">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:13">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tf:14" class="id"><a name="tf:14" class="">tf,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:12">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tf:14">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:13">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tf:14">tf</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_transf_partial">Genv.find_funct_transf_partial</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.TRANSF">TRANSF</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="function_ptr_translated" class="id"><a name="function_ptr_translated" class="">function_ptr_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="b:15" class="id"><a name="b:15" class="">b:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="f:16" class="id"><a name="f:16" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#fundef">fundef</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:15">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:16">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tf:17" class="id"><a name="tf:17" class="">tf,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:15">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tf:17">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:16">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tf:17">tf</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_transf_partial">Genv.find_funct_ptr_transf_partial</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.TRANSF">TRANSF</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="type_of_fundef_preserved" class="id"><a name="type_of_fundef_preserved" class="">type_of_fundef_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fd:18" class="id"><a name="fd:18" class="">fd</a></span> <span id="tfd:19" class="id"><a name="tfd:19" class="">tfd,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:18">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfd:19">tfd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfd:19">tfd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:18">fd</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">fd;</span> <span class="id">monadInv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">EQ</span>. <span class="id">simpl;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_function">type_of_function;</a></span> <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Matching between environments before and after </div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_var" class="id"><a name="match_var" class="">match_var</a></span> (<span id="f:20" class="id"><a name="f:20" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="cenv:21" class="id"><a name="cenv:21" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#compilenv">compilenv</a></span>) (<span id="e:22" class="id"><a name="e:22" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">env</a></span>) (<span id="m:23" class="id"><a name="m:23" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="te:24" class="id"><a name="te:24" class="">te:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">env</a></span>) (<span id="tle:25" class="id"><a name="tle:25" class="">tle:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#temp_env">temp_env</a></span>) (<span id="id:26" class="id"><a name="id:26" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_var_lifted" class="id"><a name="match_var_lifted" class="">match_var_lifted:</a></span> <span class="gallina-kwd">forall</span> <span id="b:29" class="id"><a name="b:29" class="">b</a></span> <span id="ty:30" class="id"><a name="ty:30" class="">ty</a></span> <span id="chunk:31" class="id"><a name="chunk:31" class="">chunk</a></span> <span id="v:32" class="id"><a name="v:32" class="">v</a></span> <span id="tv:33" class="id"><a name="tv:33" class="">tv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ENV:34" class="id"><a name="ENV:34" class="">ENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:22">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:29">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:30">ty</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TENV:35" class="id"><a name="TENV:35" class="">TENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:24">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="LIFTED:36" class="id"><a name="LIFTED:36" class="">LIFTED:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:26">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:21">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MAPPED:37" class="id"><a name="MAPPED:37" class="">MAPPED:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:20">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:29">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MODE:38" class="id"><a name="MODE:38" class="">MODE:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:30">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:31">chunk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="LOAD:39" class="id"><a name="LOAD:39" class="">LOAD:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:31">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:23">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:29">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:32">v</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TLENV:40" class="id"><a name="TLENV:40" class="">TLENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:25">tle!</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:26">id</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:33">tv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="VINJ:41" class="id"><a name="VINJ:41" class="">VINJ:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:20">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:32">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:33">tv</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var:27">match_var</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:20">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:21">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:22">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:23">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:24">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:25">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:26">id</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_var_not_lifted" class="id"><a name="match_var_not_lifted" class="">match_var_not_lifted:</a></span> <span class="gallina-kwd">forall</span> <span id="b:42" class="id"><a name="b:42" class="">b</a></span> <span id="ty:43" class="id"><a name="ty:43" class="">ty</a></span> <span id="b':44" class="id"><a name="b':44" class="">b'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ENV:45" class="id"><a name="ENV:45" class="">ENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:22">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:42">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:43">ty</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TENV:46" class="id"><a name="TENV:46" class="">TENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:24">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':44">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:43">ty</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="LIFTED:47" class="id"><a name="LIFTED:47" class="">LIFTED:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:26">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:21">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MAPPED:48" class="id"><a name="MAPPED:48" class="">MAPPED:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:20">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:42">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':44">b',</a></span> <span class="id">0</span>))<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var:27">match_var</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:20">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:21">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:22">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:23">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:24">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:25">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:26">id</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_var_not_local" class="id"><a name="match_var_not_local" class="">match_var_not_local:</a></span> <span class="gallina-kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ENV:49" class="id"><a name="ENV:49" class="">ENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:22">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TENV:50" class="id"><a name="TENV:50" class="">TENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:24">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="LIFTED:51" class="id"><a name="LIFTED:51" class="">LIFTED:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:26">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:21">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var:27">match_var</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:20">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:21">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:22">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:23">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:24">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:25">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:26">id</a></span>.<br/>
<br/>
<span class="vernacular">Record</span> <span id="match_envs" class="id"><a name="match_envs" class="">match_envs</a></span> (<span id="f:52" class="id"><a name="f:52" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="cenv:53" class="id"><a name="cenv:53" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#compilenv">compilenv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="e:54" class="id"><a name="e:54" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">env</a></span>) (<span id="le:55" class="id"><a name="le:55" class="">le:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#temp_env">temp_env</a></span>) (<span id="m:56" class="id"><a name="m:56" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="lo:57" class="id"><a name="lo:57" class="">lo</a></span> <span id="hi:58" class="id"><a name="hi:58" class="">hi:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="te:59" class="id"><a name="te:59" class="">te:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">env</a></span>) (<span id="tle:60" class="id"><a name="tle:60" class="">tle:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#temp_env">temp_env</a></span>) (<span id="tlo:61" class="id"><a name="tlo:61" class="">tlo</a></span> <span id="thi:62" class="id"><a name="thi:62" class="">thi:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">mk_match_envs</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_vars" class="id"><a name="me_vars" class="">me_vars:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:64" class="id"><a name="id:64" class="">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var">match_var</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:52">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:53">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:54">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:56">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:59">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:60">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:64">id;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_temps" class="id"><a name="me_temps" class="">me_temps:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:66" class="id"><a name="id:66" class="">id</a></span> <span id="v:67" class="id"><a name="v:67" class="">v,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:55">le!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:67">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="tv:68" class="id"><a name="tv:68" class="">tv,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:60">tle!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:68">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:52">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:67">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:68">tv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:66">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:53">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:67">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_inj" class="id"><a name="me_inj" class="">me_inj:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id1:70" class="id"><a name="id1:70" class="">id1</a></span> <span id="b1:71" class="id"><a name="b1:71" class="">b1</a></span> <span id="ty1:72" class="id"><a name="ty1:72" class="">ty1</a></span> <span id="id2:73" class="id"><a name="id2:73" class="">id2</a></span> <span id="b2:74" class="id"><a name="b2:74" class="">b2</a></span> <span id="ty2:75" class="id"><a name="ty2:75" class="">ty2,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:54">e!id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:71">b1,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty1:72">ty1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:54">e!id2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:74">b2,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty2:75">ty2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id1:70">id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id2:73">id2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:71">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:74">b2;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_range" class="id"><a name="me_range" class="">me_range:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:77" class="id"><a name="id:77" class="">id</a></span> <span id="b:78" class="id"><a name="b:78" class="">b</a></span> <span id="ty:79" class="id"><a name="ty:79" class="">ty,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:54">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:78">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:79">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:57">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:78">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:78">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:58">hi;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_trange" class="id"><a name="me_trange" class="">me_trange:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:81" class="id"><a name="id:81" class="">id</a></span> <span id="b:82" class="id"><a name="b:82" class="">b</a></span> <span id="ty:83" class="id"><a name="ty:83" class="">ty,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:59">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:82">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:83">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:61">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:82">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:82">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:62">thi;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_mapped" class="id"><a name="me_mapped" class="">me_mapped:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:85" class="id"><a name="id:85" class="">id</a></span> <span id="b':86" class="id"><a name="b':86" class="">b'</a></span> <span id="ty:87" class="id"><a name="ty:87" class="">ty,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:59">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':86">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:87">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="b:88" class="id"><a name="b:88" class="">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:52">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:88">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':86">b',</a></span> <span class="id">0</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:54">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:88">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:87">ty</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_flat" class="id"><a name="me_flat" class="">me_flat:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:90" class="id"><a name="id:90" class="">id</a></span> <span id="b':91" class="id"><a name="b':91" class="">b'</a></span> <span id="ty:92" class="id"><a name="ty:92" class="">ty</a></span> <span id="b:93" class="id"><a name="b:93" class="">b</a></span> <span id="delta:94" class="id"><a name="delta:94" class="">delta,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:59">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':91">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:92">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:52">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:93">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':91">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:94">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:54">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:93">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:92">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:94">delta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_incr" class="id"><a name="me_incr" class="">me_incr:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:57">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:58">hi;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_tincr" class="id"><a name="me_tincr" class="">me_tincr:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:61">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:62">thi</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<div class="doc">Invariance by change of memory and injection </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_envs_invariant" class="id"><a name="match_envs_invariant" class="">match_envs_invariant:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:98" class="id"><a name="f:98" class="">f</a></span> <span id="cenv:99" class="id"><a name="cenv:99" class="">cenv</a></span> <span id="e:100" class="id"><a name="e:100" class="">e</a></span> <span id="le:101" class="id"><a name="le:101" class="">le</a></span> <span id="m:102" class="id"><a name="m:102" class="">m</a></span> <span id="lo:103" class="id"><a name="lo:103" class="">lo</a></span> <span id="hi:104" class="id"><a name="hi:104" class="">hi</a></span> <span id="te:105" class="id"><a name="te:105" class="">te</a></span> <span id="tle:106" class="id"><a name="tle:106" class="">tle</a></span> <span id="tlo:107" class="id"><a name="tlo:107" class="">tlo</a></span> <span id="thi:108" class="id"><a name="thi:108" class="">thi</a></span> <span id="f':109" class="id"><a name="f':109" class="">f'</a></span> <span id="m':110" class="id"><a name="m':110" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:98">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:99">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:100">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:101">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:102">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:103">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:104">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:105">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:106">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:107">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:108">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:111" class="id"><a name="b:111" class="">b</a></span> <span id="chunk:112" class="id"><a name="chunk:112" class="">chunk</a></span> <span id="v:113" class="id"><a name="v:113" class="">v,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:98">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:111">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:103">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:111">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:111">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:104">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:112">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:102">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:111">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:113">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:112">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':110">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:111">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:113">v</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:98">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':109">f'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:114" class="id"><a name="b:114" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:103">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:114">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:114">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:104">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':109">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:114">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:98">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:114">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:115" class="id"><a name="b:115" class="">b</a></span> <span id="b':116" class="id"><a name="b':116" class="">b'</a></span> <span id="delta:117" class="id"><a name="delta:117" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':109">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:115">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':116">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:117">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:107">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':116">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':116">b'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:108">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':109">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:115">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:98">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:115">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':109">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:99">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:100">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:101">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':110">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:103">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:104">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:105">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:106">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:107">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:108">thi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m';</span> <span class="id">intros</span> <span class="id">ME</span> <span class="id">LD</span> <span class="id">INCR</span> <span class="id">INV1</span> <span class="id">INV2</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">ME;</span> <span class="id">constructor;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id">me_vars0</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">MV;</span> <span class="id">inv</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_lifted">match_var_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">MAPPED;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_lifted">match_var_not_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_local">match_var_not_local;</a></span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;temps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id">me_temps0;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[v'</span> <span class="id">[A</span> <span class="id">B]]</span> <span class="id">C]</span>. <span class="id">split;</span> <span class="id">auto</span>. <span class="gallina-kwd">exists</span> <span class="id">v';</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;mapped&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id">me_mapped0;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[b</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">b;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;flat&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">me_flat0;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id">INV2;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Invariance by external call </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_envs_extcall" class="id"><a name="match_envs_extcall" class="">match_envs_extcall:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:118" class="id"><a name="f:118" class="">f</a></span> <span id="cenv:119" class="id"><a name="cenv:119" class="">cenv</a></span> <span id="e:120" class="id"><a name="e:120" class="">e</a></span> <span id="le:121" class="id"><a name="le:121" class="">le</a></span> <span id="m:122" class="id"><a name="m:122" class="">m</a></span> <span id="lo:123" class="id"><a name="lo:123" class="">lo</a></span> <span id="hi:124" class="id"><a name="hi:124" class="">hi</a></span> <span id="te:125" class="id"><a name="te:125" class="">te</a></span> <span id="tle:126" class="id"><a name="tle:126" class="">tle</a></span> <span id="tlo:127" class="id"><a name="tlo:127" class="">tlo</a></span> <span id="thi:128" class="id"><a name="thi:128" class="">thi</a></span> <span id="tm:129" class="id"><a name="tm:129" class="">tm</a></span> <span id="f':130" class="id"><a name="f':130" class="">f'</a></span> <span id="m':131" class="id"><a name="m':131" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:118">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:119">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:120">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:121">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:122">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:123">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:124">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:125">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:126">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:127">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:128">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:118">f</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:122">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':131">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:118">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':130">f'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:118">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':130">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:122">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:129">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:124">hi</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:122">m</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:128">thi</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:129">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':130">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:119">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:120">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:121">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':131">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:123">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:124">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:125">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:126">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:127">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:128">thi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_invariant">match_envs_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_unchanged_on">Mem.load_unchanged_on</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">f</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">delta]|]</span> <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H1;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">f'</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">delta]|]</span> <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">f</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b''</span> <span class="id">delta']|]</span> <span class="id">eqn:?</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of values resulting from a cast </div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_casted_load_result" class="id"><a name="val_casted_load_result" class="">val_casted_load_result:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:132" class="id"><a name="v:132" class="">v</a></span> <span id="ty:133" class="id"><a name="ty:133" class="">ty</a></span> <span id="chunk:134" class="id"><a name="chunk:134" class="">chunk,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:132">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:133">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:133">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:134">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:134">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:132">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:132">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inversion</span> <span class="id">H;</span> <span class="id">clear</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">v</span> <span class="id">ty;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">sz</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si;</span> <span class="id">inversion</span> <span class="id">H0;</span> <span class="id">clear</span> <span class="id">H0;</span> <span class="id">subst</span> <span class="id">chunk;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si;</span> <span class="id">inversion</span> <span class="id">H0;</span> <span class="id">clear</span> <span class="id">H0;</span> <span class="id">subst</span> <span class="id">chunk;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">clear</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">H0;</span> <span class="id">clear</span> <span class="id">H0;</span> <span class="id">subst</span> <span class="id">chunk</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">subst</span> <span class="id">n;</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span><span class="id">;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>. <br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="val_casted_inject" class="id"><a name="val_casted_inject" class="">val_casted_inject:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:135" class="id"><a name="f:135" class="">f</a></span> <span id="v:136" class="id"><a name="v:136" class="">v</a></span> <span id="v':137" class="id"><a name="v':137" class="">v'</a></span> <span id="ty:138" class="id"><a name="ty:138" class="">ty,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:135">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:136">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v':137">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:136">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:138">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v':137">v'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:138">ty</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="forall2_val_casted_inject" class="id"><a name="forall2_val_casted_inject" class="">forall2_val_casted_inject:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:139" class="id"><a name="f:139" class="">f</a></span> <span id="vl:140" class="id"><a name="vl:140" class="">vl</a></span> <span id="vl':141" class="id"><a name="vl':141" class="">vl',</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:139">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:140">vl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl':141">vl'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tyl:142" class="id"><a name="tyl:142" class="">tyl,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:140">vl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tyl:142">tyl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl':141">vl'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tyl:142">tyl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">tyl</span> <span class="id">F;</span> <span class="id">inv</span> <span class="id">F;</span> <span class="id">constructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_inject">val_casted_inject;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Inductive</span> <span id="val_casted_list" class="id"><a name="val_casted_list" class="">val_casted_list:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#typelist">typelist</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vcl_nil" class="id"><a name="vcl_nil" class="">vcl_nil:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_list:143">val_casted_list</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vcl_cons" class="id"><a name="vcl_cons" class="">vcl_cons:</a></span> <span class="gallina-kwd">forall</span> <span id="v1:145" class="id"><a name="v1:145" class="">v1</a></span> <span id="vl:146" class="id"><a name="vl:146" class="">vl</a></span> <span id="ty1:147" class="id"><a name="ty1:147" class="">ty1</a></span> <span id="tyl:148" class="id"><a name="tyl:148" class="">tyl,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v1:145">v1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty1:147">ty1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_list:143">val_casted_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:146">vl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tyl:148">tyl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_list:143">val_casted_list</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v1:145">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:146">vl</a></span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tcons">Tcons</a></span>  <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty1:147">ty1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tyl:148">tyl</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="val_casted_list_params" class="id"><a name="val_casted_list_params" class="">val_casted_list_params:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="params:149" class="id"><a name="params:149" class="">params</a></span> <span id="vl:150" class="id"><a name="vl:150" class="">vl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_list">val_casted_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:150">vl</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:149">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:150">vl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:149">params</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">params;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty]</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Correctness of <span class="bracket"><span class="id">make_cast</span></span> </div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_cast_correct" class="id"><a name="make_cast_correct" class="">make_cast_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:151" class="id"><a name="e:151" class="">e</a></span> <span id="le:152" class="id"><a name="le:152" class="">le</a></span> <span id="m:153" class="id"><a name="m:153" class="">m</a></span> <span id="a:154" class="id"><a name="a:154" class="">a</a></span> <span id="v1:155" class="id"><a name="v1:155" class="">v1</a></span> <span id="tto:156" class="id"><a name="tto:156" class="">tto</a></span> <span id="v2:157" class="id"><a name="v2:157" class="">v2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:151">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:152">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:153">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:154">a</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v1:155">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v1:155">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:154">a</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tto:156">tto</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:153">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v2:157">v2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:151">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:152">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:153">m</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#make_cast">make_cast</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:154">a</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tto:156">tto</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v2:157">v2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Ecast">Ecast</a></span> <span class="id">a</span> <span class="id">tto</span>) <span class="id">v2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#make_cast">make_cast</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_cast">classify_cast</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a</span>) <span class="id">tto</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">sz2;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">v1;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Debug annotations. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="cast_typeconv" class="id"><a name="cast_typeconv" class="">cast_typeconv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:158" class="id"><a name="v:158" class="">v</a></span> <span id="ty:159" class="id"><a name="ty:159" class="">ty</a></span> <span id="m:160" class="id"><a name="m:160" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:158">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:159">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:158">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:159">ty</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#typeconv">typeconv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:159">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:160">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:158">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#classify_cast">classify_cast;</a></span> <span class="id">destruct</span> <span class="id">sz,</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#classify_cast">classify_cast;</a></span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast;</a></span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast;</a></span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast;</a></span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast;</a></span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast;</a></span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_Sdebug_temp" class="id"><a name="step_Sdebug_temp" class="">step_Sdebug_temp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:161" class="id"><a name="f:161" class="">f</a></span> <span id="id:162" class="id"><a name="id:162" class="">id</a></span> <span id="ty:163" class="id"><a name="ty:163" class="">ty</a></span> <span id="k:164" class="id"><a name="k:164" class="">k</a></span> <span id="e:165" class="id"><a name="e:165" class="">e</a></span> <span id="le:166" class="id"><a name="le:166" class="">le</a></span> <span id="m:167" class="id"><a name="m:167" class="">m</a></span> <span id="v:168" class="id"><a name="v:168" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:166">le!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:168">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:168">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:163">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:161">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#Sdebug_temp">Sdebug_temp</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:162">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:163">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:164">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:165">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:166">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:167">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:161">f</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:164">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:165">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:166">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:167">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#Sdebug_temp">Sdebug_temp</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_builtin">step_builtin</a></span> <span class="gallina-kwd">with</span> (<span class="id">optid</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>. <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cast_typeconv">cast_typeconv;</a></span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_Sdebug_var" class="id"><a name="step_Sdebug_var" class="">step_Sdebug_var:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:169" class="id"><a name="f:169" class="">f</a></span> <span id="id:170" class="id"><a name="id:170" class="">id</a></span> <span id="ty:171" class="id"><a name="ty:171" class="">ty</a></span> <span id="k:172" class="id"><a name="k:172" class="">k</a></span> <span id="e:173" class="id"><a name="e:173" class="">e</a></span> <span id="le:174" class="id"><a name="le:174" class="">le</a></span> <span id="m:175" class="id"><a name="m:175" class="">m</a></span> <span id="b:176" class="id"><a name="b:176" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:173">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:176">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:171">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:169">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#Sdebug_var">Sdebug_var</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:170">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:171">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:172">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:173">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:174">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:175">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:169">f</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:172">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:173">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:174">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:175">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#Sdebug_var">Sdebug_var</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_builtin">step_builtin</a></span> <span class="gallina-kwd">with</span> (<span class="id">optid</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>. <span class="id">constructor</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">reflexivity</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_Sset_debug" class="id"><a name="step_Sset_debug" class="">step_Sset_debug:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:177" class="id"><a name="f:177" class="">f</a></span> <span id="id:178" class="id"><a name="id:178" class="">id</a></span> <span id="ty:179" class="id"><a name="ty:179" class="">ty</a></span> <span id="a:180" class="id"><a name="a:180" class="">a</a></span> <span id="k:181" class="id"><a name="k:181" class="">k</a></span> <span id="e:182" class="id"><a name="e:182" class="">e</a></span> <span id="le:183" class="id"><a name="le:183" class="">le</a></span> <span id="m:184" class="id"><a name="m:184" class="">m</a></span> <span id="v:185" class="id"><a name="v:185" class="">v</a></span> <span id="v':186" class="id"><a name="v':186" class="">v',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:182">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:183">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:184">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:180">a</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:185">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:185">v</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:180">a</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:179">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:184">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v':186">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:177">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#Sset_debug">Sset_debug</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:178">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:179">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:180">a</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:181">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:182">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:183">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:184">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:177">f</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:181">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:182">e</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:178">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v':186">v'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:183">le</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:184">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#Sset_debug">Sset_debug</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="k:188" class="id"><span id="k:187" class="id"><a name="k:188" class="">k,</a></span></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Sset">Sset</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#make_cast">make_cast</a></span> <span class="id">a</span> <span class="id">ty</span>)) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:187">k</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Clight.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:187">k</a></span> <span class="id">e</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> <span class="id">v'</span> <span class="id">le</span>) <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_set">step_set</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#make_cast_correct">make_cast_correct;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.driver.Compopts.html#debug">Compopts.debug</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">apply</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#step_Sdebug_temp">step_Sdebug_temp</a></span> <span class="gallina-kwd">with</span> (<span class="id">v</span> <span class="id">:=</span> <span class="id">v'</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_val_is_casted">cast_val_is_casted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">apply</span> <span class="id">H1</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_add_debug_vars" class="id"><a name="step_add_debug_vars" class="">step_add_debug_vars:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:189" class="id"><a name="f:189" class="">f</a></span> <span id="s:190" class="id"><a name="s:190" class="">s</a></span> <span id="e:191" class="id"><a name="e:191" class="">e</a></span> <span id="le:192" class="id"><a name="le:192" class="">le</a></span> <span id="m:193" class="id"><a name="m:193" class="">m</a></span> <span id="vars:194" class="id"><a name="vars:194" class="">vars</a></span> <span id="k:195" class="id"><a name="k:195" class="">k,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:196" class="id"><a name="id:196" class="">id</a></span> <span id="ty:197" class="id"><a name="ty:197" class="">ty,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:196">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:197">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:194">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="b:198" class="id"><a name="b:198" class="">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:191">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:198">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:197">ty</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:189">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_vars">add_debug_vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:194">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:190">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:195">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:191">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:192">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:193">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:189">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:190">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:195">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:191">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:192">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:193">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_vars">add_debug_vars</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.driver.Compopts.html#debug">Compopts.debug</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<span class="id">-</span> <span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">b</span> &amp; <span class="id">TE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#step_Sdebug_var">step_Sdebug_var;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHvars;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="bind_parameter_temps_inv" class="id"><a name="bind_parameter_temps_inv" class="">bind_parameter_temps_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:199" class="id"><a name="id:199" class="">id</a></span> <span id="params:200" class="id"><a name="params:200" class="">params</a></span> <span id="args:201" class="id"><a name="args:201" class="">args</a></span> <span id="le:202" class="id"><a name="le:202" class="">le</a></span> <span id="le':203" class="id"><a name="le':203" class="">le',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:200">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#args:201">args</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:202">le</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le':203">le'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:199">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:200">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le':203">le'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:202">le!id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">params;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">args;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">ty1]</span>. <span class="id">destruct</span> <span class="id">args;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> ((<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id1</span> <span class="id">v</span> <span class="id">le</span>)<span class="id">!id</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHparams;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_add_debug_params" class="id"><a name="step_add_debug_params" class="">step_add_debug_params:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:204" class="id"><a name="f:204" class="">f</a></span> <span id="s:205" class="id"><a name="s:205" class="">s</a></span> <span id="k:206" class="id"><a name="k:206" class="">k</a></span> <span id="e:207" class="id"><a name="e:207" class="">e</a></span> <span id="le:208" class="id"><a name="le:208" class="">le</a></span> <span id="m:209" class="id"><a name="m:209" class="">m</a></span> <span id="params:210" class="id"><a name="params:210" class="">params</a></span> <span id="vl:211" class="id"><a name="vl:211" class="">vl</a></span> <span id="le1:212" class="id"><a name="le1:212" class="">le1,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:210">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:211">vl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:210">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:210">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:211">vl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le1:212">le1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:208">le</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:204">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_params">add_debug_params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:210">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:205">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:206">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:207">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:208">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:209">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:204">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:205">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:206">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:207">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:208">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:209">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_params">add_debug_params</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.driver.Compopts.html#debug">Compopts.debug</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<span class="id">-</span> <span class="id">induction</span> <span class="id">params</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">[id</span> <span class="id">ty]</span> <span class="id">params</span> <span class="id">];</span> <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">le1;</span> <span class="id">intros</span> <span class="id">NR</span> <span class="id">CAST</span> <span class="id">BIND;</span> <span class="id">inv</span> <span class="id">CAST;</span> <span class="id">inv</span> <span class="id">NR</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">assert</span> (<span class="id">le!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a1</span>). <span class="id">{</span> <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bind_parameter_temps_inv">bind_parameter_temps_inv</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#step_Sdebug_temp">step_Sdebug_temp;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHparams;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Preservation by assignment to lifted variable. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_envs_assign_lifted" class="id"><a name="match_envs_assign_lifted" class="">match_envs_assign_lifted:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:213" class="id"><a name="f:213" class="">f</a></span> <span id="cenv:214" class="id"><a name="cenv:214" class="">cenv</a></span> <span id="e:215" class="id"><a name="e:215" class="">e</a></span> <span id="le:216" class="id"><a name="le:216" class="">le</a></span> <span id="m:217" class="id"><a name="m:217" class="">m</a></span> <span id="lo:218" class="id"><a name="lo:218" class="">lo</a></span> <span id="hi:219" class="id"><a name="hi:219" class="">hi</a></span> <span id="te:220" class="id"><a name="te:220" class="">te</a></span> <span id="tle:221" class="id"><a name="tle:221" class="">tle</a></span> <span id="tlo:222" class="id"><a name="tlo:222" class="">tlo</a></span> <span id="thi:223" class="id"><a name="thi:223" class="">thi</a></span> <span id="b:224" class="id"><a name="b:224" class="">b</a></span> <span id="ty:225" class="id"><a name="ty:225" class="">ty</a></span> <span id="v:226" class="id"><a name="v:226" class="">v</a></span> <span id="m':227" class="id"><a name="m':227" class="">m'</a></span> <span id="id:228" class="id"><a name="id:228" class="">id</a></span> <span id="tv:229" class="id"><a name="tv:229" class="">tv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:213">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:214">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:215">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:216">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:217">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:218">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:219">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:220">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:221">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:222">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:223">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:215">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:224">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:225">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:226">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:225">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:213">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:226">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:229">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:225">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:217">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:224">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Full">Full</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:226">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':227">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:228">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:214">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:213">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:214">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:215">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:216">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':227">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:218">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:219">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:220">te</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:228">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:229">tv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:221">tle</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:222">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:223">thi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">generalize</span> (<span class="id">me_vars0</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">MV;</span> <span class="id">inv</span> <span class="id">MV;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ENV</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H3;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_zero">Ptrofs.unsigned_zero</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">eauto;</span> <span class="id">intros</span>.<br/>
<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>). <span class="id">subst</span> <span class="id">id0</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_lifted">match_var_lifted</a></span> <span class="gallina-kwd">with</span> (<span class="id">v</span> <span class="id">:=</span> <span class="id">v</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_same">Mem.load_store_same</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_load_result">val_casted_load_result;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">me_vars0</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">MV;</span> <span class="id">inv</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_lifted">match_var_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">LOAD0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_lifted">match_var_not_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_local">match_var_not_local;</a></span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;temps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">me_temps0;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[tv1</span> <span class="id">[A</span> <span class="id">B]]</span> <span class="id">C]</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0</span>. <span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">C;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv1;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Preservation by assignment to a temporary </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_envs_set_temp" class="id"><a name="match_envs_set_temp" class="">match_envs_set_temp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:230" class="id"><a name="f:230" class="">f</a></span> <span id="cenv:231" class="id"><a name="cenv:231" class="">cenv</a></span> <span id="e:232" class="id"><a name="e:232" class="">e</a></span> <span id="le:233" class="id"><a name="le:233" class="">le</a></span> <span id="m:234" class="id"><a name="m:234" class="">m</a></span> <span id="lo:235" class="id"><a name="lo:235" class="">lo</a></span> <span id="hi:236" class="id"><a name="hi:236" class="">hi</a></span> <span id="te:237" class="id"><a name="te:237" class="">te</a></span> <span id="tle:238" class="id"><a name="tle:238" class="">tle</a></span> <span id="tlo:239" class="id"><a name="tlo:239" class="">tlo</a></span> <span id="thi:240" class="id"><a name="thi:240" class="">thi</a></span> <span id="id:241" class="id"><a name="id:241" class="">id</a></span> <span id="v:242" class="id"><a name="v:242" class="">v</a></span> <span id="tv:243" class="id"><a name="tv:243" class="">tv</a></span> <span id="x:244" class="id"><a name="x:244" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:230">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:231">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:232">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:233">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:234">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:235">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:236">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:237">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:238">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:239">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:240">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:230">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:242">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:243">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#check_temp">check_temp</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:231">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:241">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#x:244">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:230">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:231">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:232">e</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:241">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:242">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:233">le</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:234">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:235">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:236">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:237">te</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:241">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:243">tv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:238">tle</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:239">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:240">thi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#check_temp">check_temp</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">cenv</span>) <span class="id">eqn:?;</span> <span class="id">monadInv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">eauto;</span> <span class="id">intros</span>.<br/>
<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">me_vars0</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">MV;</span> <span class="id">inv</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_lifted">match_var_lifted;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_lifted">match_var_not_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_local">match_var_not_local;</a></span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;temps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">split</span>. <span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">auto</span>. <span class="id">intros;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">me_temps0;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_envs_set_opttemp" class="id"><a name="match_envs_set_opttemp" class="">match_envs_set_opttemp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:245" class="id"><a name="f:245" class="">f</a></span> <span id="cenv:246" class="id"><a name="cenv:246" class="">cenv</a></span> <span id="e:247" class="id"><a name="e:247" class="">e</a></span> <span id="le:248" class="id"><a name="le:248" class="">le</a></span> <span id="m:249" class="id"><a name="m:249" class="">m</a></span> <span id="lo:250" class="id"><a name="lo:250" class="">lo</a></span> <span id="hi:251" class="id"><a name="hi:251" class="">hi</a></span> <span id="te:252" class="id"><a name="te:252" class="">te</a></span> <span id="tle:253" class="id"><a name="tle:253" class="">tle</a></span> <span id="tlo:254" class="id"><a name="tlo:254" class="">tlo</a></span> <span id="thi:255" class="id"><a name="thi:255" class="">thi</a></span> <span id="optid:256" class="id"><a name="optid:256" class="">optid</a></span> <span id="v:257" class="id"><a name="v:257" class="">v</a></span> <span id="tv:258" class="id"><a name="tv:258" class="">tv</a></span> <span id="x:259" class="id"><a name="x:259" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:245">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:246">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:247">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:248">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:249">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:250">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:251">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:252">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:253">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:254">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:255">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:245">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:257">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:258">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#check_opttemp">check_opttemp</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:246">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#optid:256">optid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#x:259">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:245">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:246">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:247">e</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#set_opttemp">set_opttemp</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#optid:256">optid</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:257">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:248">le</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:249">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:250">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:251">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:252">te</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#set_opttemp">set_opttemp</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#optid:256">optid</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:258">tv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:253">tle</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:254">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:255">thi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#set_opttemp">set_opttemp</a></span>. <span class="id">destruct</span> <span class="id">optid;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_set_temp">match_envs_set_temp;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Extensionality with respect to temporaries </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_envs_temps_exten" class="id"><a name="match_envs_temps_exten" class="">match_envs_temps_exten:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:260" class="id"><a name="f:260" class="">f</a></span> <span id="cenv:261" class="id"><a name="cenv:261" class="">cenv</a></span> <span id="e:262" class="id"><a name="e:262" class="">e</a></span> <span id="le:263" class="id"><a name="le:263" class="">le</a></span> <span id="m:264" class="id"><a name="m:264" class="">m</a></span> <span id="lo:265" class="id"><a name="lo:265" class="">lo</a></span> <span id="hi:266" class="id"><a name="hi:266" class="">hi</a></span> <span id="te:267" class="id"><a name="te:267" class="">te</a></span> <span id="tle:268" class="id"><a name="tle:268" class="">tle</a></span> <span id="tlo:269" class="id"><a name="tlo:269" class="">tlo</a></span> <span id="thi:270" class="id"><a name="thi:270" class="">thi</a></span> <span id="tle':271" class="id"><a name="tle':271" class="">tle',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:260">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:261">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:262">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:263">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:264">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:265">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:266">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:267">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:268">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:269">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:270">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:272" class="id"><a name="id:272" class="">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle':271">tle'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:268">tle!id</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:260">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:261">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:262">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:263">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:264">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:265">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:266">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:267">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle':271">tle'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:269">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:270">thi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">auto;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">me_vars0</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">MV;</span> <span class="id">inv</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_lifted">match_var_lifted;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_lifted">match_var_not_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_local">match_var_not_local;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;temps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Invariance by assignment to an irrelevant temporary </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_envs_change_temp" class="id"><a name="match_envs_change_temp" class="">match_envs_change_temp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:273" class="id"><a name="f:273" class="">f</a></span> <span id="cenv:274" class="id"><a name="cenv:274" class="">cenv</a></span> <span id="e:275" class="id"><a name="e:275" class="">e</a></span> <span id="le:276" class="id"><a name="le:276" class="">le</a></span> <span id="m:277" class="id"><a name="m:277" class="">m</a></span> <span id="lo:278" class="id"><a name="lo:278" class="">lo</a></span> <span id="hi:279" class="id"><a name="hi:279" class="">hi</a></span> <span id="te:280" class="id"><a name="te:280" class="">te</a></span> <span id="tle:281" class="id"><a name="tle:281" class="">tle</a></span> <span id="tlo:282" class="id"><a name="tlo:282" class="">tlo</a></span> <span id="thi:283" class="id"><a name="thi:283" class="">thi</a></span> <span id="id:284" class="id"><a name="id:284" class="">id</a></span> <span id="v:285" class="id"><a name="v:285" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:273">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:274">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:275">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:276">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:277">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:278">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:279">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:280">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:281">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:282">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:283">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:276">le!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:284">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:274">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:273">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:274">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:275">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:276">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:277">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:278">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:279">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:280">te</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:284">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:285">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:281">tle</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:282">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:283">thi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">auto;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">me_vars0</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">MV;</span> <span class="id">inv</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_lifted">match_var_lifted;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_lifted">match_var_not_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_local">match_var_not_local;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;temps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of <span class="bracket"><span class="id">cenv_for</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="cenv_for_gen" class="id"><a name="cenv_for_gen" class="">cenv_for_gen</a></span> (<span id="atk:286" class="id"><a name="atk:286" class="">atk:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.t">VSet.t</a></span>) (<span id="vars:287" class="id"><a name="vars:287" class="">vars:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) <span class="id">:</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#compilenv">compilenv</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_right">List.fold_right</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_local_variable">add_local_variable</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:286">atk</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.empty">VSet.empty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:287">vars</a></span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="add_local_variable_charact" class="id"><a name="add_local_variable_charact" class="">add_local_variable_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:288" class="id"><a name="id:288" class="">id</a></span> <span id="ty:289" class="id"><a name="ty:289" class="">ty</a></span> <span id="atk:290" class="id"><a name="atk:290" class="">atk</a></span> <span id="cenv:291" class="id"><a name="cenv:291" class="">cenv</a></span> <span id="id1:292" class="id"><a name="id1:292" class="">id1,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.In">VSet.In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id1:292">id1</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_local_variable">add_local_variable</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:290">atk</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:288">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:289">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:291">cenv</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.In">VSet.In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id1:292">id1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:291">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="gallina-kwd">exists</span> <span id="chunk:293" class="id"><a name="chunk:293" class="">chunk,</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:289">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:293">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:288">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id1:292">id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:288">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:290">atk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_local_variable">add_local_variable</a></span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">ty</span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">atk</span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#add_iff">VSF.add_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[chunk</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">atk</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#add_iff">VSF.add_iff</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B</span>. <span class="id">rewrite</span> <span class="id">C</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.add_1">VSet.add_1</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cenv_for_gen_domain" class="id"><a name="cenv_for_gen_domain" class="">cenv_for_gen_domain:</a></span><br/>
&nbsp;<span class="gallina-kwd">forall</span> <span id="atk:294" class="id"><a name="atk:294" class="">atk</a></span> <span id="id:295" class="id"><a name="id:295" class="">id</a></span> <span id="vars:296" class="id"><a name="vars:296" class="">vars,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.In">VSet.In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:295">id</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen">cenv_for_gen</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:294">atk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:296">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:295">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:296">vars</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#empty_iff">VSF.empty_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">ty1]</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#add_local_variable_charact">add_local_variable_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[chunk</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]];</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cenv_for_gen_by_value" class="id"><a name="cenv_for_gen_by_value" class="">cenv_for_gen_by_value:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="atk:297" class="id"><a name="atk:297" class="">atk</a></span> <span id="id:298" class="id"><a name="id:298" class="">id</a></span> <span id="ty:299" class="id"><a name="ty:299" class="">ty</a></span> <span id="vars:300" class="id"><a name="vars:300" class="">vars,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:298">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:299">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:300">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:300">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.In">VSet.In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:298">id</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen">cenv_for_gen</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:297">atk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:300">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="chunk:301" class="id"><a name="chunk:301" class="">chunk,</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:299">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:301">chunk</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">ty1]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#add_local_variable_charact">add_local_variable_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H;</span> <span class="id">destruct</span> <span class="id">H1</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[chunk</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">elim</span> <span class="id">H4</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen_domain">cenv_for_gen_domain;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="gallina-kwd">exists</span> <span class="id">chunk;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id1</span>. <span class="id">elim</span> <span class="id">H4</span>. <span class="id">change</span> <span class="id">id</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id,</span> <span class="id">ty</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cenv_for_gen_compat" class="id"><a name="cenv_for_gen_compat" class="">cenv_for_gen_compat:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="atk:302" class="id"><a name="atk:302" class="">atk</a></span> <span id="id:303" class="id"><a name="id:303" class="">id</a></span> <span id="vars:304" class="id"><a name="vars:304" class="">vars,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.In">VSet.In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:303">id</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen">cenv_for_gen</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:302">atk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:304">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:303">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:302">atk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#empty_iff">VSF.empty_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">ty1]</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#add_local_variable_charact">add_local_variable_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[chunk</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Compatibility between a compilation environment and an address-taken set. </div>
<br/>
<span class="vernacular">Definition</span> <span id="compat_cenv" class="id"><a name="compat_cenv" class="">compat_cenv</a></span> (<span id="atk:305" class="id"><a name="atk:305" class="">atk:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.t">VSet.t</a></span>) (<span id="cenv:306" class="id"><a name="cenv:306" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#compilenv">compilenv</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:307" class="id"><a name="id:307" class="">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.In">VSet.In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:307">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk:305">atk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.In">VSet.In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:307">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:306">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="compat_cenv_for" class="id"><a name="compat_cenv_for" class="">compat_cenv_for:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:308" class="id"><a name="f:308" class="">f,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:308">f</a></span>.(<span class="id"><a href="compcert.cfrontend.Clight.html#fn_body">fn_body</a></span>)) (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:308">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_body">fn_body</a></span> <span class="id">f</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen_compat">cenv_for_gen_compat</a></span>. <span class="id">eexact</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#mem_iff">VSF.mem_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="compat_cenv_union_l" class="id"><a name="compat_cenv_union_l" class="">compat_cenv_union_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="atk1:309" class="id"><a name="atk1:309" class="">atk1</a></span> <span id="atk2:310" class="id"><a name="atk2:310" class="">atk2</a></span> <span id="cenv:311" class="id"><a name="cenv:311" class="">cenv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.union">VSet.union</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk1:309">atk1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk2:310">atk2</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:311">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk1:309">atk1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:311">cenv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.union_2">VSet.union_2</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="compat_cenv_union_r" class="id"><a name="compat_cenv_union_r" class="">compat_cenv_union_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="atk1:312" class="id"><a name="atk1:312" class="">atk1</a></span> <span id="atk2:313" class="id"><a name="atk2:313" class="">atk2</a></span> <span id="cenv:314" class="id"><a name="cenv:314" class="">cenv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.union">VSet.union</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk1:312">atk1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk2:313">atk2</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:314">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#atk2:313">atk2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:314">cenv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.union_3">VSet.union_3</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="compat_cenv_empty" class="id"><a name="compat_cenv_empty" class="">compat_cenv_empty:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:315" class="id"><a name="cenv:315" class="">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.empty">VSet.empty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:315">cenv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.empty_1">VSet.empty_1</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">compat_cenv_union_l</span> <span class="id">compat_cenv_union_r</span> <span class="id">compat_cenv_empty:</span> <span class="id">compat</span>.<br/>
<br/>
<div class="doc">Allocation and initialization of parameters </div>
<br/>
<span class="vernacular">Lemma</span> <span id="alloc_variables_nextblock" class="id"><a name="alloc_variables_nextblock" class="">alloc_variables_nextblock:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:316" class="id"><a name="ge:316" class="">ge</a></span> <span id="e:317" class="id"><a name="e:317" class="">e</a></span> <span id="m:318" class="id"><a name="m:318" class="">m</a></span> <span id="vars:319" class="id"><a name="vars:319" class="">vars</a></span> <span id="e':320" class="id"><a name="e':320" class="">e'</a></span> <span id="m':321" class="id"><a name="m':321" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:316">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:317">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:318">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:319">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':320">e'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':321">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:318">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':321">m'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_refl">Ple_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_trans">Ple_trans;</a></span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EQ;</span> <span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_succ">Ple_succ</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="alloc_variables_range" class="id"><a name="alloc_variables_range" class="">alloc_variables_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:322" class="id"><a name="ge:322" class="">ge</a></span> <span id="id:323" class="id"><a name="id:323" class="">id</a></span> <span id="b:324" class="id"><a name="b:324" class="">b</a></span> <span id="ty:325" class="id"><a name="ty:325" class="">ty</a></span> <span id="e:326" class="id"><a name="e:326" class="">e</a></span> <span id="m:327" class="id"><a name="m:327" class="">m</a></span> <span id="vars:328" class="id"><a name="vars:328" class="">vars</a></span> <span id="e':329" class="id"><a name="e':329" class="">e'</a></span> <span id="m':330" class="id"><a name="m':330" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:322">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:326">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:327">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:328">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':329">e'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':330">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':329">e'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:324">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:325">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:326">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:324">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:325">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:327">m</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:324">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:324">b</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':330">m'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHalloc_variables;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">intros</span> <span class="id">[A|A]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_nextblock">alloc_variables_nextblock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span>). <span class="id">intros</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">b</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_refl">Ple_refl</a></span>. <span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_le_trans">Pos.lt_le_trans</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">B</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_succ">Plt_succ</a></span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">B</span>. <span class="id">rewrite</span> <span class="id">B</span> <span class="gallina-kwd">in</span> <span class="id">A</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="alloc_variables_injective" class="id"><a name="alloc_variables_injective" class="">alloc_variables_injective:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:331" class="id"><a name="ge:331" class="">ge</a></span> <span id="id1:332" class="id"><a name="id1:332" class="">id1</a></span> <span id="b1:333" class="id"><a name="b1:333" class="">b1</a></span> <span id="ty1:334" class="id"><a name="ty1:334" class="">ty1</a></span> <span id="id2:335" class="id"><a name="id2:335" class="">id2</a></span> <span id="b2:336" class="id"><a name="b2:336" class="">b2</a></span> <span id="ty2:337" class="id"><a name="ty2:337" class="">ty2</a></span> <span id="e:338" class="id"><a name="e:338" class="">e</a></span> <span id="m:339" class="id"><a name="m:339" class="">m</a></span> <span id="vars:340" class="id"><a name="vars:340" class="">vars</a></span> <span id="e':341" class="id"><a name="e':341" class="">e'</a></span> <span id="m':342" class="id"><a name="m':342" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:331">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:338">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:339">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:340">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':341">e'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':342">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:338">e!id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:333">b1,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty1:334">ty1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:338">e!id2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:336">b2,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty2:337">ty2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id1:332">id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id2:335">id2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:333">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:336">b2</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:343" class="id"><a name="id:343" class="">id</a></span> <span id="b:344" class="id"><a name="b:344" class="">b</a></span> <span id="ty:345" class="id"><a name="ty:345" class="">ty,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:338">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:344">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:345">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:344">b</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:339">m</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':341">e'!id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:333">b1,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty1:334">ty1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':341">e'!id2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:336">b2,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty2:337">ty2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id1:332">id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id2:335">id2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:333">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:336">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHalloc_variables;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id2</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H7</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>). <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_alloc_variables" class="id"><a name="match_alloc_variables" class="">match_alloc_variables:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:346" class="id"><a name="cenv:346" class="">cenv</a></span> <span id="e:347" class="id"><a name="e:347" class="">e</a></span> <span id="m:348" class="id"><a name="m:348" class="">m</a></span> <span id="vars:349" class="id"><a name="vars:349" class="">vars</a></span> <span id="e':350" class="id"><a name="e':350" class="">e'</a></span> <span id="m':351" class="id"><a name="m':351" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:347">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:348">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:349">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':350">e'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':351">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="j:352" class="id"><a name="j:352" class="">j</a></span> <span id="tm:353" class="id"><a name="tm:353" class="">tm</a></span> <span id="te:354" class="id"><a name="te:354" class="">te,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:349">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:352">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:348">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:353">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="j':355" class="id"><a name="j':355" class="">j',</a></span> <span class="gallina-kwd">exists</span> <span id="te':356" class="id"><a name="te':356" class="">te',</a></span> <span class="gallina-kwd">exists</span> <span id="tm':357" class="id"><a name="tm':357" class="">tm',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:354">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:353">tm</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#remove_lifted">remove_lifted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:346">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:349">vars</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te':356">te'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':357">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':351">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':357">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:352">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="b:358" class="id"><a name="b:358" class="">b,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:348">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:358">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:358">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:352">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:358">b</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="b:359" class="id"><a name="b:359" class="">b</a></span> <span id="b':360" class="id"><a name="b':360" class="">b'</a></span> <span id="delta:361" class="id"><a name="delta:361" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:359">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':360">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:361">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:353">tm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':360">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:359">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:352">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:359">b</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="b:362" class="id"><a name="b:362" class="">b</a></span> <span id="b':363" class="id"><a name="b':363" class="">b'</a></span> <span id="delta:364" class="id"><a name="delta:364" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:362">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':363">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:364">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~Mem</a></span>.<span class="id">valid_block</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:353">tm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':363">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="id:365" class="id"><a name="id:365" class="">id,</a></span> <span class="gallina-kwd">exists</span> <span id="ty:366" class="id"><a name="ty:366" class="">ty,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':350">e'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:362">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:366">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te':356">te'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':363">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:366">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:364">delta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="id:367" class="id"><a name="id:367" class="">id</a></span> <span id="ty:368" class="id"><a name="ty:368" class="">ty,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:367">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:368">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:349">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="b:369" class="id"><a name="b:369" class="">b,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':350">e'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:369">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:368">ty</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:367">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:346">cenv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te':356">te'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:354">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:369">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">exists</span> <span id="tb:370" class="id"><a name="tb:370" class="">tb,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te':356">te'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tb:370">tb,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:368">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':355">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:369">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tb:370">tb,</a></span> <span class="id">0</span>))<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="id:371" class="id"><a name="id:371" class="">id,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:371">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:349">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':350">e'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:347">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te':356">te'!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:354">te!id</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">j;</span> <span class="gallina-kwd">exists</span> <span class="id">te;</span> <span class="gallina-kwd">exists</span> <span class="id">tm</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">split</span>. <span class="id">auto</span>.  <span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">elim</span> <span class="id">H2</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_mappedblocks">Mem.mi_mappedblocks</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">tauto</span>. <span class="id">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">cenv</span>) <span class="id">eqn:?</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;variable&nbsp;is&nbsp;lifted&nbsp;out&nbsp;of&nbsp;memory&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_left_unmapped_inject">Mem.alloc_left_unmapped_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j1</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">D]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHalloc_variables;</span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">te</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j'</span> <span class="id">[te'</span> <span class="id">[tm'</span> <span class="id">[J</span> <span class="id">[K</span> <span class="id">[L</span> <span class="id">[M</span> <span class="id">[N</span> <span class="id">[Q</span> <span class="id">[O</span> <span class="id">P]]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">j';</span> <span class="gallina-kwd">exists</span> <span class="id">te';</span> <span class="gallina-kwd">exists</span> <span class="id">tm'</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#inject_incr_trans">inject_incr_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id">j1</span> <span class="id">b</span>). <span class="id">apply</span> <span class="id">M</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">D</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_not_valid_diff">Mem.valid_not_valid_diff</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id">j1</span> <span class="id">b</span>). <span class="id">eapply</span> <span class="id">N;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b1</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">j'</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">j1</span> <span class="id">b1</span>). <span class="id">apply</span> <span class="id">M</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_new_block">Mem.valid_new_block</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">exact</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;same&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">ty0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">ty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H1</span>. <span class="id">congruence</span>. <span class="id">elim</span> <span class="id">H5</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span>. <span class="id">change</span> <span class="id">id</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id,</span> <span class="id">ty0</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">ty0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">P;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[X</span> <span class="id">Y]</span>. <span class="id">rewrite</span> <span class="id">Heqb</span>. <span class="id">rewrite</span> <span class="id">X</span>. <span class="id">rewrite</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">b1</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">M</span>. <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_new_block">Mem.valid_new_block</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;other&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">O;</span> <span class="id">eauto</span>. <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">congruence</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id">P</span> <span class="id">id0</span>). <span class="id">tauto</span>. <span class="id">intros</span> <span class="id">[X</span> <span class="id">Y]</span>. <span class="id">rewrite</span> <span class="id">X;</span> <span class="id">rewrite</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">intuition</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;variable&nbsp;is&nbsp;not&nbsp;lifted&nbsp;out&nbsp;of&nbsp;memory&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_parallel_inject">Mem.alloc_parallel_inject</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j1</span> <span class="id">[tm1</span> <span class="id">[tb1</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">[D</span> <span class="id">E]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHalloc_variables;</span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id">tb1,</span> <span class="id">ty</span>) <span class="id">te</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j'</span> <span class="id">[te'</span> <span class="id">[tm'</span> <span class="id">[J</span> <span class="id">[K</span> <span class="id">[L</span> <span class="id">[M</span> <span class="id">[N</span> <span class="id">[Q</span> <span class="id">[O</span> <span class="id">P]]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">j';</span> <span class="gallina-kwd">exists</span> <span class="id">te';</span> <span class="gallina-kwd">exists</span> <span class="id">tm'</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">simpl</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#inject_incr_trans">inject_incr_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id">j1</span> <span class="id">b</span>). <span class="id">apply</span> <span class="id">M</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">E</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_not_valid_diff">Mem.valid_not_valid_diff</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id">j1</span> <span class="id">b</span>). <span class="id">eapply</span> <span class="id">N;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b1</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">j'</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">j1</span> <span class="id">b1</span>). <span class="id">apply</span> <span class="id">M</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_new_block">Mem.valid_new_block</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">D</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">eelim</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b'</span> <span class="id">tb1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">b'</span>. <span class="id">rewrite</span> (<span class="id">N</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>) <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b1</span>). <span class="id">subst</span> <span class="id">b</span>. <span class="id">rewrite</span> <span class="id">D</span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">P</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[X</span> <span class="id">Y]</span>. <span class="gallina-kwd">exists</span> <span class="id">id;</span> <span class="gallina-kwd">exists</span> <span class="id">ty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">X;</span> <span class="id">rewrite</span> <span class="id">Y</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">E</span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">auto</span>. <span class="id">elim</span> <span class="id">H3</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_mappedblocks">Mem.mi_mappedblocks</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_new_block">Mem.valid_new_block</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">Q;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;same&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">ty0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">ty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H1</span>. <span class="id">congruence</span>. <span class="id">elim</span> <span class="id">H5</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span>. <span class="id">change</span> <span class="id">id</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id,</span> <span class="id">ty0</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">ty0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">P;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[X</span> <span class="id">Y]</span>. <span class="id">rewrite</span> <span class="id">Heqb</span>. <span class="id">rewrite</span> <span class="id">X</span>. <span class="id">rewrite</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">b1</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tb1;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">M</span>. <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_new_block">Mem.valid_new_block</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;other&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">O</span> <span class="id">id0</span> <span class="id">ty0</span>). <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">congruence</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id">P</span> <span class="id">id0</span>). <span class="id">tauto</span>. <span class="id">intros</span> <span class="id">[X</span> <span class="id">Y]</span>. <span class="id">rewrite</span> <span class="id">X;</span> <span class="id">rewrite</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="alloc_variables_load" class="id"><a name="alloc_variables_load" class="">alloc_variables_load:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:372" class="id"><a name="e:372" class="">e</a></span> <span id="m:373" class="id"><a name="m:373" class="">m</a></span> <span id="vars:374" class="id"><a name="vars:374" class="">vars</a></span> <span id="e':375" class="id"><a name="e':375" class="">e'</a></span> <span id="m':376" class="id"><a name="m':376" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:372">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:373">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:374">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':375">e'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':376">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:377" class="id"><a name="chunk:377" class="">chunk</a></span> <span id="b:378" class="id"><a name="b:378" class="">b</a></span> <span id="ofs:379" class="id"><a name="ofs:379" class="">ofs</a></span> <span id="v:380" class="id"><a name="v:380" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:377">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:373">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:378">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:379">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:380">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:377">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':376">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:378">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:379">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:380">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHalloc_variables</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_alloc_other">Mem.load_alloc_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sizeof_by_value" class="id"><a name="sizeof_by_value" class="">sizeof_by_value:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ty:381" class="id"><a name="ty:381" class="">ty</a></span> <span id="chunk:382" class="id"><a name="chunk:382" class="">chunk,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:381">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:382">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:382">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:381">ty</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id">chunk</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id">ty</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">ty;</span> <span class="id">try</span> <span class="id">destruct</span> <span class="id">i;</span> <span class="id">try</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">try</span> <span class="id">destruct</span> <span class="id">f;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr;</a></span> <span class="id">simpl;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="env_initial_value" class="id"><a name="env_initial_value" class="">env_initial_value</a></span> (<span id="e:383" class="id"><a name="e:383" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">env</a></span>) (<span id="m:384" class="id"><a name="m:384" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:385" class="id"><a name="id:385" class="">id</a></span> <span id="b:386" class="id"><a name="b:386" class="">b</a></span> <span id="ty:387" class="id"><a name="ty:387" class="">ty</a></span> <span id="chunk:388" class="id"><a name="chunk:388" class="">chunk,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:383">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:386">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:387">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:387">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:388">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:388">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:384">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:386">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="alloc_variables_initial_value" class="id"><a name="alloc_variables_initial_value" class="">alloc_variables_initial_value:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:389" class="id"><a name="e:389" class="">e</a></span> <span id="m:390" class="id"><a name="m:390" class="">m</a></span> <span id="vars:391" class="id"><a name="vars:391" class="">vars</a></span> <span id="e':392" class="id"><a name="e':392" class="">e'</a></span> <span id="m':393" class="id"><a name="m':393" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:389">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:390">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:391">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':392">e'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':393">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#env_initial_value">env_initial_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:389">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:390">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#env_initial_value">env_initial_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e':392">e'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':393">m'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHalloc_variables</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>). <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_alloc_same'">Mem.load_alloc_same</a></span><span class="id">';</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_l">Z.add_0_l</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#sizeof_by_value">sizeof_by_value;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_alloc_other">Mem.load_alloc_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="create_undef_temps_charact" class="id"><a name="create_undef_temps_charact" class="">create_undef_temps_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:394" class="id"><a name="id:394" class="">id</a></span> <span id="ty:395" class="id"><a name="ty:395" class="">ty</a></span> <span id="vars:396" class="id"><a name="vars:396" class="">vars,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:394">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:395">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:396">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:396">vars</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span>. <span class="id">subst</span> <span class="id">a</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">ty1]</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id1</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="create_undef_temps_inv" class="id"><a name="create_undef_temps_inv" class="">create_undef_temps_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vars:397" class="id"><a name="vars:397" class="">vars</a></span> <span id="id:398" class="id"><a name="id:398" class="">id</a></span> <span id="v:399" class="id"><a name="v:399" class="">v,</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:397">vars</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:399">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:399">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:398">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:397">vars</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">ty1]</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id1</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHvars;</span> <span class="id">eauto</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="create_undef_temps_exten" class="id"><a name="create_undef_temps_exten" class="">create_undef_temps_exten:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:400" class="id"><a name="id:400" class="">id</a></span> <span id="l1:401" class="id"><a name="l1:401" class="">l1</a></span> <span id="l2:402" class="id"><a name="l2:402" class="">l2,</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:400">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l1:401">l1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:400">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l2:402">l2</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l1:401">l1</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l2:402">l2</a></span>)<span class="id">!id</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="id:406" class="id"><span id="id:403" class="id"><a name="id:406" class="">id</a></span></span> <span id="l1:407" class="id"><span id="l1:404" class="id"><a name="l1:407" class="">l1</a></span></span> <span id="l2:408" class="id"><span id="l2:405" class="id"><a name="l2:408" class="">l2,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:403">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l1:404">l1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:403">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l2:405">l2</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l1:404">l1</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l1:404">l1</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l2:405">l2</a></span>)<span class="id">!id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> ((<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id">l1</span>)<span class="id">!id</span>) <span class="gallina-kwd">as</span> <span class="id">[v1|]</span> <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_inv">create_undef_temps_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">subst</span> <span class="id">v1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[id1</span> <span class="id">ty1]</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">P;</span> <span class="id">subst</span> <span class="id">id1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right;</span> <span class="id">symmetry;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_charact">create_undef_temps_charact;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">H</span> <span class="id">id</span> <span class="id">l1</span> <span class="id">l2</span>). <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">H</span> <span class="id">id</span> <span class="id">l2</span> <span class="id">l1</span>). <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intuition</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="var_names_app" class="id"><a name="var_names_app" class="">var_names_app:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vars1:409" class="id"><a name="vars1:409" class="">vars1</a></span> <span id="vars2:410" class="id"><a name="vars2:410" class="">vars2,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars1:409">vars1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars2:410">vars2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars1:409">vars1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars2:410">vars2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="filter_app" class="id"><a name="filter_app" class="">filter_app:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="A:411" class="id"><a name="A:411" class="">A:</a></span> <span class="gallina-kwd">Type</span>) (<span id="f:412" class="id"><a name="f:412" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#A:411">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) <span id="l1:413" class="id"><a name="l1:413" class="">l1</a></span> <span id="l2:414" class="id"><a name="l2:414" class="">l2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:412">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l1:413">l1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l2:414">l2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:412">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l1:413">l1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:412">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l2:414">l2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l1;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">f</span> <span class="id">a</span>). <span class="id">simpl</span>. <span class="id">decEq;</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="filter_charact" class="id"><a name="filter_charact" class="">filter_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="A:415" class="id"><a name="A:415" class="">A:</a></span> <span class="gallina-kwd">Type</span>) (<span id="f:416" class="id"><a name="f:416" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#A:415">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) <span id="x:417" class="id"><a name="x:417" class="">x</a></span> <span id="l:418" class="id"><a name="l:418" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#x:417">x</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:416">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:418">l</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#x:417">x</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:418">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:416">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#x:417">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl</span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">f</span> <span class="id">a</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">IHl</span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intuition</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="filter_norepet" class="id"><a name="filter_norepet" class="">filter_norepet:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="A:419" class="id"><a name="A:419" class="">A:</a></span> <span class="gallina-kwd">Type</span>) (<span id="f:420" class="id"><a name="f:420" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#A:419">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) <span id="l:421" class="id"><a name="l:421" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:421">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:420">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:421">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">f</span> <span class="id">hd</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#filter_charact">filter_charact</a></span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="filter_map" class="id"><a name="filter_map" class="">filter_map:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="A:422" class="id"><a name="A:422" class="">A</a></span> <span id="B:423" class="id"><a name="B:423" class="">B:</a></span> <span class="gallina-kwd">Type</span>) (<span id="f:424" class="id"><a name="f:424" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#A:422">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#B:423">B</a></span>) (<span id="pa:425" class="id"><a name="pa:425" class="">pa:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#A:422">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span id="pb:426" class="id"><a name="pb:426" class="">pb:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#B:423">B</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="a:427" class="id"><a name="a:427" class="">a,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#pb:426">pb</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:424">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:427">a</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#pa:425">pa</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:427">a</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:428" class="id"><a name="l:428" class="">l,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:424">f</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#pa:425">pa</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:428">l</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#pb:426">pb</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:424">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:428">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id">pa</span> <span class="id">a</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="create_undef_temps_lifted" class="id"><a name="create_undef_temps_lifted" class="">create_undef_temps_lifted:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:429" class="id"><a name="id:429" class="">id</a></span> <span id="f:430" class="id"><a name="f:430" class="">f,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:429">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span>))) <span class="id">!</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:429">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:430">f</a></span>))) <span class="id">!</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:429">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_exten">create_undef_temps_exten</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#filter_app">filter_app</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#in_app">in_app</a></span>. <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[id1</span> <span class="id">ty1]</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">P</span>. <span class="id">subst</span> <span class="id">id</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#filter_charact">filter_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">Q</span>. <span class="id">destruct</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">H</span>. <span class="id">change</span> <span class="id">id1</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id1,</span> <span class="id">ty1</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">List.in_map</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vars_and_temps_properties" class="id"><a name="vars_and_temps_properties" class="">vars_and_temps_properties:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:431" class="id"><a name="cenv:431" class="">cenv</a></span> <span id="params:432" class="id"><a name="params:432" class="">params</a></span> <span id="vars:433" class="id"><a name="vars:433" class="">vars</a></span> <span id="temps:434" class="id"><a name="temps:434" class="">temps,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:432">params</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:433">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:432">params</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#temps:434">temps</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:432">params</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#remove_lifted">remove_lifted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:431">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:432">params</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:433">vars</a></span>)))<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:432">params</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:431">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:433">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#temps:434">temps</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet_app">list_norepet_app</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#remove_lifted">remove_lifted</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#filter_map">filter_map</a></span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="a:435" class="id"><a name="a:435" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:435">a</a></span> <span class="id">cenv</span>)). <span class="id">2:</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#filter_norepet">filter_norepet</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet_append">list_norepet_append;</a></span> <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#var_names_app">var_names_app</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="gallina-kwd">at</span> <span class="id">2</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#filter_map">filter_map</a></span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="a:436" class="id"><a name="a:436" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:436">a</a></span> <span class="id">cenv</span>). <span class="id">2:</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">vars</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id">vars</span>).<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#in_app">in_app</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#filter_charact">filter_charact</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id">C;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="match_envs_alloc_variables" class="id"><a name="match_envs_alloc_variables" class="">match_envs_alloc_variables:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:437" class="id"><a name="cenv:437" class="">cenv</a></span> <span id="m:438" class="id"><a name="m:438" class="">m</a></span> <span id="vars:439" class="id"><a name="vars:439" class="">vars</a></span> <span id="e:440" class="id"><a name="e:440" class="">e</a></span> <span id="m':441" class="id"><a name="m':441" class="">m'</a></span> <span id="temps:442" class="id"><a name="temps:442" class="">temps</a></span> <span id="j:443" class="id"><a name="j:443" class="">j</a></span> <span id="tm:444" class="id"><a name="tm:444" class="">tm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:438">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:439">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:440">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':441">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:439">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:443">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:438">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:444">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:445" class="id"><a name="id:445" class="">id</a></span> <span id="ty:446" class="id"><a name="ty:446" class="">ty,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:445">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:446">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:439">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:445">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:437">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="chunk:447" class="id"><a name="chunk:447" class="">chunk,</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:446">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:447">chunk</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:448" class="id"><a name="id:448" class="">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:448">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:437">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:448">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:439">vars</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="j':449" class="id"><a name="j':449" class="">j',</a></span> <span class="gallina-kwd">exists</span> <span id="te:450" class="id"><a name="te:450" class="">te,</a></span> <span class="gallina-kwd">exists</span> <span id="tm':451" class="id"><a name="tm':451" class="">tm',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:444">tm</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#remove_lifted">remove_lifted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:437">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:439">vars</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:450">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':451">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':449">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:437">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:440">e</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#temps:442">temps</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':441">m'</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:438">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':441">m'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:450">te</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:437">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:439">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#temps:442">temps</a></span>)) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:444">tm</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':451">tm'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':449">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':441">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':451">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:443">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':449">j'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="b:452" class="id"><a name="b:452" class="">b,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:438">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:452">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':449">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:452">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:443">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:452">b</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="b:453" class="id"><a name="b:453" class="">b</a></span> <span id="b':454" class="id"><a name="b':454" class="">b'</a></span> <span id="delta:455" class="id"><a name="delta:455" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':449">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:453">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':454">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:455">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:444">tm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':454">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j':449">j'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:453">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:443">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:453">b</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="id:456" class="id"><a name="id:456" class="">id</a></span> <span id="ty:457" class="id"><a name="ty:457" class="">ty,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:456">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:457">ty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:439">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:456">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:437">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="b:458" class="id"><a name="b:458" class="">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:450">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:458">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:457">ty</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_alloc_variables">match_alloc_variables</a></span> <span class="id">cenv</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">empty_env</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j'</span> <span class="id">[te</span> <span class="id">[tm'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">[D</span> <span class="id">[E</span> <span class="id">[K</span> <span class="id">[F</span> <span class="id">G]]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">j';</span> <span class="gallina-kwd">exists</span> <span class="id">te;</span> <span class="gallina-kwd">exists</span> <span class="id">tm'</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In_dec">In_dec</a></span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id">vars</span>)).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="gallina-kwd">in</span> <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[id'</span> <span class="id">ty]</span> <span class="id">[EQ</span> <span class="id">IN]];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">EQ;</span> <span class="id">subst</span> <span class="id">id'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">F;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[b</span> <span class="id">[P</span> <span class="id">R]]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">cenv</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;local&nbsp;var,&nbsp;lifted&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">R</span> <span class="gallina-kwd">as</span> <span class="id">[U</span> <span class="id">V]</span>. <span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[chunk</span> <span class="id">X]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_lifted">match_var_lifted</a></span> <span class="gallina-kwd">with</span> (<span class="id">v</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>) (<span class="id">tv</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_initial_value">alloc_variables_initial_value;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">empty_env;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_charact">create_undef_temps_charact</a></span> <span class="gallina-kwd">with</span> <span class="id">ty</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter_In">filter_In</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;local&nbsp;var,&nbsp;not&nbsp;lifted&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">R</span> <span class="gallina-kwd">as</span> <span class="id">[tb</span> <span class="id">[U</span> <span class="id">V]]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_lifted">match_var_not_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;non-local&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">G;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">empty_env</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">intros</span> <span class="id">[U</span> <span class="id">V]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_var_not_local">match_var_not_local;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">cenv</span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">n;</span> <span class="id">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;temps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_inv">create_undef_temps_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">Q]</span>. <span class="id">subst</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="gallina-kwd">in</span> <span class="id">Q</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[id1</span> <span class="id">ty]</span> <span class="id">[EQ</span> <span class="id">IN]];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">EQ;</span> <span class="id">subst</span> <span class="id">id1</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="gallina-kwd">exists</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef;</a></span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_charact">create_undef_temps_charact</a></span> <span class="gallina-kwd">with</span> <span class="id">ty</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_lifted">add_lifted</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app;</a></span> <span class="id">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;injective&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_injective">alloc_variables_injective</a></span>. <span class="id">eexact</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H7</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;range&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_range">alloc_variables_range</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;trange&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_range">alloc_variables_range</a></span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;mapped&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In_dec">In_dec</a></span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id">vars</span>)).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="gallina-kwd">in</span> <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[id'</span> <span class="id">ty']</span> <span class="id">[EQ</span> <span class="id">IN]];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">EQ;</span> <span class="id">subst</span> <span class="id">id'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">F;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[b</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">cenv</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">Q</span>. <span class="id">destruct</span> <span class="id">Q;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Q</span> <span class="gallina-kwd">as</span> <span class="id">[tb</span> <span class="id">[U</span> <span class="id">V]]</span>. <span class="gallina-kwd">exists</span> <span class="id">b;</span> <span class="id">split;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">G;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;flat&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_range">alloc_variables_range</a></span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">intros</span> <span class="id">[P|P]</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">K;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[id0</span> <span class="id">[ty0</span> <span class="id">[U</span> <span class="id">[V</span> <span class="id">W]]]]</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">b'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">b'</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_injective">alloc_variables_injective</a></span> <span class="gallina-kwd">with</span> (<span class="id">e'</span> <span class="id">:=</span> <span class="id">te</span>) (<span class="id">id1</span> <span class="id">:=</span> <span class="id">id</span>) (<span class="id">id2</span> <span class="id">:=</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span><span class="id">;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">ty1;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span><span class="id">;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;incr&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_nextblock">alloc_variables_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_nextblock">alloc_variables_nextblock;</a></span> <span class="id">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;other&nbsp;properties&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intuition</span> <span class="id">auto</span>. <span class="id">edestruct</span> <span class="id">F</span> <span class="gallina-kwd">as</span> (<span class="id">b</span> &amp; <span class="id">X</span> &amp; <span class="id">Y</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H5</span> <span class="gallina-kwd">in</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Y</span> <span class="gallina-kwd">as</span> (<span class="id">tb</span> &amp; <span class="id">U</span> &amp; <span class="id">V</span>). <span class="gallina-kwd">exists</span> <span class="id">tb;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="assign_loc_inject" class="id"><a name="assign_loc_inject" class="">assign_loc_inject:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:459" class="id"><a name="f:459" class="">f</a></span> <span id="ty:460" class="id"><a name="ty:460" class="">ty</a></span> <span id="m:461" class="id"><a name="m:461" class="">m</a></span> <span id="loc:462" class="id"><a name="loc:462" class="">loc</a></span> <span id="ofs:463" class="id"><a name="ofs:463" class="">ofs</a></span> <span id="bf:464" class="id"><a name="bf:464" class="">bf</a></span> <span id="v:465" class="id"><a name="v:465" class="">v</a></span> <span id="m':466" class="id"><a name="m':466" class="">m'</a></span> <span id="tm:467" class="id"><a name="tm:467" class="">tm</a></span> <span id="loc':468" class="id"><a name="loc':468" class="">loc'</a></span> <span id="ofs':469" class="id"><a name="ofs':469" class="">ofs'</a></span> <span id="v':470" class="id"><a name="v':470" class="">v',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:460">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:461">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc:462">loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:463">ofs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:464">bf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:465">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':466">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:459">f</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc:462">loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:463">ofs</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc':468">loc'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs':469">ofs'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:459">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:465">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v':470">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:459">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:461">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:467">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tm':471" class="id"><a name="tm':471" class="">tm',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:460">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:467">tm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc':468">loc'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs':469">ofs'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:464">bf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v':470">v'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':471">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:459">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':466">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':471">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="b:472" class="id"><a name="b:472" class="">b</a></span> <span id="chunk:473" class="id"><a name="chunk:473" class="">chunk</a></span> <span id="v:474" class="id"><a name="v:474" class="">v,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:459">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:472">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:473">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:461">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:472">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:474">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:473">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':466">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:472">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:474">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;value&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_mapped_inject">Mem.storev_mapped_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tm';</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc_value">assign_loc_value;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H5</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;copy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">rename</span> <span class="id">b'</span> <span class="id">into</span> <span class="id">bsrc</span>. <span class="id">rename</span> <span class="id">ofs'0</span> <span class="id">into</span> <span class="id">osrc</span>.<br/>
&nbsp;&nbsp;<span class="id">rename</span> <span class="id">loc</span> <span class="id">into</span> <span class="id">bdst</span>. <span class="id">rename</span> <span class="id">ofs</span> <span class="id">into</span> <span class="id">odst</span>.<br/>
&nbsp;&nbsp;<span class="id">rename</span> <span class="id">loc'</span> <span class="id">into</span> <span class="id">bdst'</span>. <span class="id">rename</span> <span class="id">b2</span> <span class="id">into</span> <span class="id">bsrc'</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">ty</span>) <span class="id">0</span>).<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;special&nbsp;case&nbsp;size&nbsp;=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">bytes</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_empty">Mem.loadbytes_empty</a></span> <span class="id">m</span> <span class="id">bsrc</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">osrc</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">ty</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_storebytes">Mem.range_perm_storebytes</a></span> <span class="id">tm</span> <span class="id">bdst'</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">odst</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>))) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">as</span> <span class="id">[tm'</span> <span class="id">SB]</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">red;</span> <span class="id">intros;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tm'</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc_copy">assign_loc_copy;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e;</span> <span class="id">right;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_empty">Mem.loadbytes_empty</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storebytes_empty_inject">Mem.storebytes_empty_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_storebytes_other">Mem.load_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">congruence</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;general&nbsp;case&nbsp;size&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_length">Mem.loadbytes_length</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">LEN</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SZPOS:</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_pos">sizeof_pos</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">RPSRC:</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id">m</span> <span class="id">bsrc</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">osrc</span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">osrc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_implies">Mem.range_perm_implies</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_range_perm">Mem.loadbytes_range_perm</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">RPDST:</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id">m</span> <span class="id">bdst</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">odst</span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">odst</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">ty</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">List.length</a></span> <span class="id">bytes</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_implies">Mem.range_perm_implies</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storebytes_range_perm">Mem.storebytes_range_perm</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">LEN</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">PSRC:</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">m</span> <span class="id">bsrc</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">osrc</span>) <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">RPSRC</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">PDST:</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">m</span> <span class="id">bdst</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">odst</span>) <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">RPDST</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.address_inject">Mem.address_inject</a></span>.  <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">PSRC</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.address_inject">Mem.address_inject</a></span>.  <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">PDST</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_inject">Mem.loadbytes_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[bytes2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storebytes_mapped_inject">Mem.storebytes_mapped_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tm'</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc_copy">assign_loc_copy;</a></span> <span class="id">try</span> <span class="id">rewrite</span> <span class="id">EQ1;</span> <span class="id">try</span> <span class="id">rewrite</span> <span class="id">EQ2;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.aligned_area_inject">Mem.aligned_area_inject</a></span> <span class="gallina-kwd">with</span> (<span class="id">m</span> <span class="id">:=</span> <span class="id">m</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy_1248">alignof_blockcopy_1248</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_alignof_blockcopy_compat">sizeof_alignof_blockcopy_compat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.aligned_area_inject">Mem.aligned_area_inject</a></span> <span class="gallina-kwd">with</span> (<span class="id">m</span> <span class="id">:=</span> <span class="id">m</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy_1248">alignof_blockcopy_1248</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_alignof_blockcopy_compat">sizeof_alignof_blockcopy_compat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.disjoint_or_equal_inject">Mem.disjoint_or_equal_inject</a></span> <span class="gallina-kwd">with</span> (<span class="id">m</span> <span class="id">:=</span> <span class="id">m</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_max">Mem.range_perm_max</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_max">Mem.range_perm_max</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_storebytes_other">Mem.load_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;bitfield&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_inject">Mem.loadv_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">vc'</span> &amp; <span class="id">LD'</span> &amp; <span class="id">INJ</span>). <span class="id">inv</span> <span class="id">INJ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_mapped_inject">Mem.storev_mapped_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tm';</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc_bitfield">assign_loc_bitfield;</a></span> <span class="id">eauto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H3</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="assign_loc_nextblock" class="id"><a name="assign_loc_nextblock" class="">assign_loc_nextblock:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:475" class="id"><a name="ge:475" class="">ge</a></span> <span id="ty:476" class="id"><a name="ty:476" class="">ty</a></span> <span id="m:477" class="id"><a name="m:477" class="">m</a></span> <span id="b:478" class="id"><a name="b:478" class="">b</a></span> <span id="ofs:479" class="id"><a name="ofs:479" class="">ofs</a></span> <span id="bf:480" class="id"><a name="bf:480" class="">bf</a></span> <span id="v:481" class="id"><a name="v:481" class="">v</a></span> <span id="m':482" class="id"><a name="m':482" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:475">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:476">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:477">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:478">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:479">ofs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:480">bf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:481">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':482">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':482">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:477">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_storebytes">Mem.nextblock_storebytes</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="store_params_correct" class="id"><a name="store_params_correct" class="">store_params_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="j:483" class="id"><a name="j:483" class="">j</a></span> <span id="f:484" class="id"><a name="f:484" class="">f</a></span> <span id="k:485" class="id"><a name="k:485" class="">k</a></span> <span id="cenv:486" class="id"><a name="cenv:486" class="">cenv</a></span> <span id="le:487" class="id"><a name="le:487" class="">le</a></span> <span id="lo:488" class="id"><a name="lo:488" class="">lo</a></span> <span id="hi:489" class="id"><a name="hi:489" class="">hi</a></span> <span id="te:490" class="id"><a name="te:490" class="">te</a></span> <span id="tlo:491" class="id"><a name="tlo:491" class="">tlo</a></span> <span id="thi:492" class="id"><a name="thi:492" class="">thi</a></span> <span id="e:493" class="id"><a name="e:493" class="">e</a></span> <span id="m:494" class="id"><a name="m:494" class="">m</a></span> <span id="params:495" class="id"><a name="params:495" class="">params</a></span> <span id="args:496" class="id"><a name="args:496" class="">args</a></span> <span id="m':497" class="id"><a name="m':497" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:493">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:494">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:495">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#args:496">args</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':497">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:498" class="id"><a name="s:498" class="">s</a></span> <span id="tm:499" class="id"><a name="tm:499" class="">tm</a></span> <span id="tle1:500" class="id"><a name="tle1:500" class="">tle1</a></span> <span id="tle2:501" class="id"><a name="tle2:501" class="">tle2</a></span> <span id="targs:502" class="id"><a name="targs:502" class="">targs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:495">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#args:496">args</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:495">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:483">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#args:496">args</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#targs:502">targs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:483">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:486">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:493">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:487">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:494">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:488">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:489">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:490">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle1:500">tle1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:491">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:492">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:483">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:494">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:499">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:503" class="id"><a name="id:503" class="">id,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:503">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:495">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle2:501">tle2!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle1:500">tle1!id</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:504" class="id"><a name="id:504" class="">id,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:504">id</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:495">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:487">le!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tle:505" class="id"><a name="tle:505" class="">tle,</a></span> <span class="gallina-kwd">exists</span> <span id="tm':506" class="id"><a name="tm':506" class="">tm',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:484">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#store_params">store_params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:486">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:495">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:498">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:485">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:490">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:505">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:499">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:484">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:498">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:485">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:490">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:505">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':506">tm'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:495">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#targs:502">targs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle2:501">tle2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:505">tle</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:483">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':497">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':506">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:483">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:486">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:493">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:487">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':497">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:488">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:489">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:490">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:505">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:491">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:492">thi</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':506">tm'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:499">tm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="vernacular">Local</span> <span class="vernacular">Opaque</span> <span class="id"><a href="compcert.x86.Conventions1.html#parameter_needs_normalization">Conventions1.parameter_needs_normalization</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">targs;</span> <span class="id">intros</span> <span class="id">NOREPET</span> <span class="id">CASTED</span> <span class="id">VINJ</span> <span class="id">MENV</span> <span class="id">MINJ</span> <span class="id">TLE</span> <span class="id">LE</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">VINJ</span>. <span class="gallina-kwd">exists</span> <span class="id">tle2;</span> <span class="gallina-kwd">exists</span> <span class="id">tm;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_temps_exten">match_envs_temps_exten</a></span> <span class="gallina-kwd">with</span> <span class="id">tle1;</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">NOREPET</span>. <span class="id">inv</span> <span class="id">CASTED</span>. <span class="id">inv</span> <span class="id">VINJ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_vars">me_vars;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id">cenv</span>) <span class="id">eqn:LIFTED</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;lifted&nbsp;to&nbsp;temp&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHbind_parameters</span> <span class="id">s</span> <span class="id">tm</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> <span class="id">v'</span> <span class="id">tle1</span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> <span class="id">v'</span> <span class="id">tle2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_assign_lifted">match_envs_assign_lifted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MV;</span> <span class="id">try</span> <span class="id">congruence</span>. <span class="id">rewrite</span> <span class="id">ENV</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_unmapped_inject">Mem.store_unmapped_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">TLE</span>. <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">tle</span> &amp; <span class="id">tm'</span> &amp; <span class="id">U</span> &amp; <span class="id">V</span> &amp; <span class="id">X</span> &amp; <span class="id">Y</span> &amp; <span class="id">Z</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tle,</span> <span class="id">tm';</span> <span class="id">split;</span> <span class="id">[|auto]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#parameter_needs_normalization">Conventions1.parameter_needs_normalization</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#rettype_of_type">rettype_of_type</a></span> <span class="id">ty</span>))<span class="id">;</span> <span class="id">[|assumption]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id">tle!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bind_parameter_temps_inv">bind_parameter_temps_inv</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#make_cast_correct">make_cast_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_val_casted">cast_val_casted;</a></span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_inject">val_casted_inject;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsident">PTree.gsident</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>. <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id">traceEq</span>. <span class="id">traceEq</span>. <span class="id">traceEq</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;still&nbsp;in&nbsp;memory&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MV;</span> <span class="id">try</span> <span class="id">congruence</span>. <span class="id">rewrite</span> <span class="id">ENV</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#assign_loc_inject">assign_loc_inject;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tm1</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHbind_parameters</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> <span class="id">v'</span> <span class="id">tle1</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_change_temp">match_envs_change_temp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_invariant">match_envs_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">LE;</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> <span class="id">v'</span> <span class="id">tle2</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">TLE</span>. <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">LE</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">s</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tle</span> <span class="id">[tm'</span> <span class="id">[U</span> <span class="id">[V</span> <span class="id">[X</span> <span class="id">[Y</span> <span class="id">Z]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tle;</span> <span class="gallina-kwd">exists</span> <span class="id">tm';</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_Evar_local">eval_Evar_local</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_Etempvar">eval_Etempvar</a></span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bind_parameter_temps_inv">bind_parameter_temps_inv;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">v'</span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_val_casted">cast_val_casted</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_inject">val_casted_inject</a></span> <span class="gallina-kwd">with</span> (<span class="id">v</span> <span class="id">:=</span> <span class="id">v1</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#assign_loc_nextblock">assign_loc_nextblock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span>) <span class="gallina-kwd">in</span> <span class="id">Z</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bind_parameters_nextblock" class="id"><a name="bind_parameters_nextblock" class="">bind_parameters_nextblock:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:507" class="id"><a name="ge:507" class="">ge</a></span> <span id="e:508" class="id"><a name="e:508" class="">e</a></span> <span id="m:509" class="id"><a name="m:509" class="">m</a></span> <span id="params:510" class="id"><a name="params:510" class="">params</a></span> <span id="args:511" class="id"><a name="args:511" class="">args</a></span> <span id="m':512" class="id"><a name="m':512" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:507">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:508">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:509">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:510">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#args:511">args</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':512">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':512">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:509">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHbind_parameters</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#assign_loc_nextblock">assign_loc_nextblock;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bind_parameters_load" class="id"><a name="bind_parameters_load" class="">bind_parameters_load:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:513" class="id"><a name="ge:513" class="">ge</a></span> <span id="e:514" class="id"><a name="e:514" class="">e</a></span> <span id="chunk:515" class="id"><a name="chunk:515" class="">chunk</a></span> <span id="b:516" class="id"><a name="b:516" class="">b</a></span> <span id="ofs:517" class="id"><a name="ofs:517" class="">ofs,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:518" class="id"><a name="id:518" class="">id</a></span> <span id="b':519" class="id"><a name="b':519" class="">b'</a></span> <span id="ty:520" class="id"><a name="ty:520" class="">ty,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:514">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':519">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:520">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:516">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':519">b'</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:521" class="id"><a name="m:521" class="">m</a></span> <span id="params:522" class="id"><a name="params:522" class="">params</a></span> <span id="args:523" class="id"><a name="args:523" class="">args</a></span> <span id="m':524" class="id"><a name="m':524" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:513">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:514">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:521">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:522">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#args:523">args</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':524">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:515">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':524">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:516">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:517">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:515">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:521">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:516">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:517">ofs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">2</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHbind_parameters</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">b0</span>) <span class="gallina-kwd">by</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_storebytes_other">Mem.load_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Freeing of local variables </div>
<br/>
<span class="vernacular">Lemma</span> <span id="free_blocks_of_env_perm_1" class="id"><a name="free_blocks_of_env_perm_1" class="">free_blocks_of_env_perm_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:525" class="id"><a name="ce:525" class="">ce</a></span> <span id="m:526" class="id"><a name="m:526" class="">m</a></span> <span id="e:527" class="id"><a name="e:527" class="">e</a></span> <span id="m':528" class="id"><a name="m':528" class="">m'</a></span> <span id="id:529" class="id"><a name="id:529" class="">id</a></span> <span id="b:530" class="id"><a name="b:530" class="">b</a></span> <span id="ty:531" class="id"><a name="ty:531" class="">ty</a></span> <span id="ofs:532" class="id"><a name="ofs:532" class="">ofs</a></span> <span id="k:533" class="id"><a name="k:533" class="">k</a></span> <span id="p:534" class="id"><a name="p:534" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:526">m</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ce:525">ce</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:527">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':528">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:527">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:530">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:531">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':528">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:530">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:532">ofs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:533">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#p:534">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:532">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ce:525">ce</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:531">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_list">Mem.perm_free_list</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">B</span> <span class="gallina-kwd">with</span> <span class="id">0</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id">ce</span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span>. <span class="id">change</span> (<span class="id">b,</span> <span class="id">0,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id">ce</span> <span class="id">ty</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">block_of_binding</a></span> <span class="id">ce</span> (<span class="id">id,</span> (<span class="id">b,</span> <span class="id">ty</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="free_list_perm'" class="id"><a name="free_list_perm'" class="">free_list_perm':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:535" class="id"><a name="b:535" class="">b</a></span> <span id="lo:536" class="id"><a name="lo:536" class="">lo</a></span> <span id="hi:537" class="id"><a name="hi:537" class="">hi</a></span> <span id="l:538" class="id"><a name="l:538" class="">l</a></span> <span id="m:539" class="id"><a name="m:539" class="">m</a></span> <span id="m':540" class="id"><a name="m':540" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:539">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:538">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':540">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:535">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:536">lo,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:537">hi</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:538">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:539">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:535">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:536">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:537">hi</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[[b1</span> <span class="id">lo1]</span> <span class="id">hi1]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b1</span> <span class="id">lo1</span> <span class="id">hi1</span>) <span class="gallina-kwd">as</span> <span class="id">[m1|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id">IHl;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="free_blocks_of_env_perm_2" class="id"><a name="free_blocks_of_env_perm_2" class="">free_blocks_of_env_perm_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:541" class="id"><a name="ce:541" class="">ce</a></span> <span id="m:542" class="id"><a name="m:542" class="">m</a></span> <span id="e:543" class="id"><a name="e:543" class="">e</a></span> <span id="m':544" class="id"><a name="m':544" class="">m'</a></span> <span id="id:545" class="id"><a name="id:545" class="">id</a></span> <span id="b:546" class="id"><a name="b:546" class="">b</a></span> <span id="ty:547" class="id"><a name="ty:547" class="">ty,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:542">m</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ce:541">ce</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:543">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':544">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:543">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:546">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:547">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:542">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:546">b</a></span> <span class="id">0</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ce:541">ce</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:547">ty</a></span>) <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_list_perm'">free_list_perm';</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span>. <span class="id">change</span> (<span class="id">b,</span> <span class="id">0,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id">ce</span> <span class="id">ty</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">block_of_binding</a></span> <span class="id">ce</span> (<span class="id">id,</span> (<span class="id">b,</span> <span class="id">ty</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="freelist_no_overlap" class="id"><a name="freelist_no_overlap" class="">freelist_no_overlap</a></span> (<span id="l:548" class="id"><a name="l:548" class="">l:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:548">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id">b,</span> <span class="id">lo,</span> <span class="id">hi</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">l'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#freelist_no_overlap:549">freelist_no_overlap</a></span> <span class="id">l'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':551" class="id"><a name="b':551" class="">b'</a></span> <span id="lo':552" class="id"><a name="lo':552" class="">lo'</a></span> <span id="hi':553" class="id"><a name="hi':553" class="">hi',</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':551">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo':552">lo',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi':553">hi'</a></span>) <span class="id">l'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':551">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi':553">hi'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">lo</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo':552">lo'</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="can_free_list" class="id"><a name="can_free_list" class="">can_free_list:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:554" class="id"><a name="l:554" class="">l</a></span> <span id="m:555" class="id"><a name="m:555" class="">m,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:556" class="id"><a name="b:556" class="">b</a></span> <span id="lo:557" class="id"><a name="lo:557" class="">lo</a></span> <span id="hi:558" class="id"><a name="hi:558" class="">hi,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:556">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:557">lo,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:558">hi</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:554">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:555">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:556">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:557">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:558">hi</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#freelist_no_overlap">freelist_no_overlap</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:554">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="m':559" class="id"><a name="m':559" class="">m',</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:555">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:554">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':559">m'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[[b</span> <span class="id">lo]</span> <span class="id">hi]</span>. <span class="id">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_free">Mem.range_perm_free</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span>) <span class="gallina-kwd">as</span> <span class="id">[m1</span> <span class="id">A];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="id">apply</span> <span class="id">IHl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_1">Mem.perm_free_1</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[B|B]</span>. <span class="id">auto</span>. <span class="id">right;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="blocks_of_env_no_overlap" class="id"><a name="blocks_of_env_no_overlap" class="">blocks_of_env_no_overlap:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="ge:560" class="id"><a name="ge:560" class="">ge:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#genv">genv</a></span>) <span id="j:561" class="id"><a name="j:561" class="">j</a></span> <span id="cenv:562" class="id"><a name="cenv:562" class="">cenv</a></span> <span id="e:563" class="id"><a name="e:563" class="">e</a></span> <span id="le:564" class="id"><a name="le:564" class="">le</a></span> <span id="m:565" class="id"><a name="m:565" class="">m</a></span> <span id="lo:566" class="id"><a name="lo:566" class="">lo</a></span> <span id="hi:567" class="id"><a name="hi:567" class="">hi</a></span> <span id="te:568" class="id"><a name="te:568" class="">te</a></span> <span id="tle:569" class="id"><a name="tle:569" class="">tle</a></span> <span id="tlo:570" class="id"><a name="tlo:570" class="">tlo</a></span> <span id="thi:571" class="id"><a name="thi:571" class="">thi</a></span> <span id="tm:572" class="id"><a name="tm:572" class="">tm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:561">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:562">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:563">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:564">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:565">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:566">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:567">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:568">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:569">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:570">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:571">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:561">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:565">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:572">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:573" class="id"><a name="id:573" class="">id</a></span> <span id="b:574" class="id"><a name="b:574" class="">b</a></span> <span id="ty:575" class="id"><a name="ty:575" class="">ty,</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:563">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:574">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:575">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:565">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:574">b</a></span> <span class="id">0</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:560">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:575">ty</a></span>) <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:576" class="id"><a name="l:576" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:576">l</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:577" class="id"><a name="id:577" class="">id</a></span> <span id="bty:578" class="id"><a name="bty:578" class="">bty,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:577">id,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bty:578">bty</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:576">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:568">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bty:578">bty</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#freelist_no_overlap">freelist_no_overlap</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">block_of_binding</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge:560">ge</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:576">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">tm;</span> <span class="id">intros</span> <span class="id">ME</span> <span class="id">MINJ</span> <span class="id">PERMS</span>. <span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">[b</span> <span class="id">ty]]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id">IHl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[id'</span> <span class="id">[b''</span> <span class="id">ty']]</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="id">rename</span> <span class="id">b''</span> <span class="id">into</span> <span class="id">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">TE:</span> <span class="id">te!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b,</span> <span class="id">ty</span>)) <span class="gallina-kwd">by</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">TE':</span> <span class="id">te!id'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b',</span> <span class="id">ty'</span>)) <span class="gallina-kwd">by</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_mapped">me_mapped</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">TE</span>. <span class="id">intros</span> <span class="id">[b0</span> <span class="id">[INJ</span> <span class="id">E]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_mapped">me_mapped</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">TE'</span>. <span class="id">intros</span> <span class="id">[b0'</span> <span class="id">[INJ'</span> <span class="id">E']]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id">ge0</span> <span class="id">ty</span>) <span class="id">0</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id">ge0</span> <span class="id">ty'</span>) <span class="id">0</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">b0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">b0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_inj">me_inj;</a></span> <span class="id">eauto</span>. <span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst;</span> <span class="id">elim</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> <span class="id">id'</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id',</span> (<span class="id">b',</span> <span class="id">ty'</span>))). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">List.in_map</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">m</span> <span class="id">b0</span> <span class="id">0</span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur_max">Mem.perm_cur_max</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">PERMS;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">m</span> <span class="id">b0'</span> <span class="id">0</span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur_max">Mem.perm_cur_max</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">PERMS;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_no_overlap">Mem.mi_no_overlap</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A|A]</span>. <span class="id">auto</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="free_list_right_inject" class="id"><a name="free_list_right_inject" class="">free_list_right_inject:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="j:579" class="id"><a name="j:579" class="">j</a></span> <span id="m1:580" class="id"><a name="m1:580" class="">m1</a></span> <span id="l:581" class="id"><a name="l:581" class="">l</a></span> <span id="m2:582" class="id"><a name="m2:582" class="">m2</a></span> <span id="m2':583" class="id"><a name="m2':583" class="">m2',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:579">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m1:580">m1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m2:582">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m2:582">m2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:581">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m2':583">m2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b1:584" class="id"><a name="b1:584" class="">b1</a></span> <span id="b2:585" class="id"><a name="b2:585" class="">b2</a></span> <span id="delta:586" class="id"><a name="delta:586" class="">delta</a></span> <span id="lo:587" class="id"><a name="lo:587" class="">lo</a></span> <span id="hi:588" class="id"><a name="hi:588" class="">hi</a></span> <span id="ofs:589" class="id"><a name="ofs:589" class="">ofs</a></span> <span id="k:590" class="id"><a name="k:590" class="">k</a></span> <span id="p:591" class="id"><a name="p:591" class="">p,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:579">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:584">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:585">b2,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:586">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:585">b2,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:587">lo,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:588">hi</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:581">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m1:580">m1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:584">b1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:589">ofs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:590">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#p:591">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:587">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:589">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:586">delta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:588">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:579">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m1:580">m1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m2':583">m2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[[b</span> <span class="id">lo]</span> <span class="id">hi]</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m2</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span>) <span class="gallina-kwd">as</span> <span class="id">[m21|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHl</span> <span class="gallina-kwd">with</span> (<span class="id">m2</span> <span class="id">:=</span> <span class="id">m21</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_right_inject">Mem.free_right_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="blocks_of_env_translated" class="id"><a name="blocks_of_env_translated" class="">blocks_of_env_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:592" class="id"><a name="e:592" class="">e,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:592">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:592">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">block_of_binding</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="match_envs_free_blocks" class="id"><a name="match_envs_free_blocks" class="">match_envs_free_blocks:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="j:593" class="id"><a name="j:593" class="">j</a></span> <span id="cenv:594" class="id"><a name="cenv:594" class="">cenv</a></span> <span id="e:595" class="id"><a name="e:595" class="">e</a></span> <span id="le:596" class="id"><a name="le:596" class="">le</a></span> <span id="m:597" class="id"><a name="m:597" class="">m</a></span> <span id="lo:598" class="id"><a name="lo:598" class="">lo</a></span> <span id="hi:599" class="id"><a name="hi:599" class="">hi</a></span> <span id="te:600" class="id"><a name="te:600" class="">te</a></span> <span id="tle:601" class="id"><a name="tle:601" class="">tle</a></span> <span id="tlo:602" class="id"><a name="tlo:602" class="">tlo</a></span> <span id="thi:603" class="id"><a name="thi:603" class="">thi</a></span> <span id="m':604" class="id"><a name="m':604" class="">m'</a></span> <span id="tm:605" class="id"><a name="tm:605" class="">tm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:593">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:594">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:595">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:596">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:597">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:598">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:599">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:600">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:601">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:602">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:603">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:593">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:597">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:605">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:597">m</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:595">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':604">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tm':606" class="id"><a name="tm':606" class="">tm',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:605">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:600">te</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':606">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:593">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':604">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':606">tm'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Opaque</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tge">tge</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">X:</span> <span class="gallina-kwd">exists</span> <span id="tm':608" class="id"><span id="tm':607" class="id"><a name="tm':608" class="">tm',</a></span></span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id">tm</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id">te</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':607">tm'</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#blocks_of_env_translated">blocks_of_env_translated</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#can_free_list">can_free_list</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="comment">(*&nbsp;permissions&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[id</span> <span class="id">[b'</span> <span class="id">ty]]</span> <span class="id">[EQ</span> <span class="id">IN]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">block_of_binding</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ;</span> <span class="id">inv</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_mapped">me_mapped;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[b</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> <span class="id">0</span> <span class="gallina-kwd">with</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">0</span>). <span class="id">replace</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id">ty</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id">ty</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">0</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_inject">Mem.range_perm_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_blocks_of_env_perm_2">free_blocks_of_env_perm_2;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="comment">(*&nbsp;no&nbsp;overlap&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env;</a></span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#blocks_of_env_no_overlap">blocks_of_env_no_overlap;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_blocks_of_env_perm_2">free_blocks_of_env_perm_2;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_keys_norepet">PTree.elements_keys_norepet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">X</span> <span class="gallina-kwd">as</span> <span class="id">[tm'</span> <span class="id">FREE]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tm';</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_list_right_inject">free_list_right_inject;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list_left_inject">Mem.free_list_left_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="gallina-kwd">in</span> <span class="id">H3</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[id</span> <span class="id">[b'</span> <span class="id">ty]]</span> <span class="id">[EQ</span> <span class="id">IN]]</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">block_of_binding</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ</span>. <span class="id">inv</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_flat">me_flat;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[P</span> <span class="id">Q]</span>. <span class="id">subst</span> <span class="id">delta</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_blocks_of_env_perm_1">free_blocks_of_env_perm_1</a></span> <span class="gallina-kwd">with</span> (<span class="id">m</span> <span class="id">:=</span> <span class="id">m</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Matching global environments </div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_globalenvs" class="id"><a name="match_globalenvs" class="">match_globalenvs</a></span> (<span id="f:609" class="id"><a name="f:609" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="bound:610" class="id"><a name="bound:610" class="">bound:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>)<span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="mk_match_globalenvs" class="id"><a name="mk_match_globalenvs" class="">mk_match_globalenvs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="DOMAIN:614" class="id"><a name="DOMAIN:614" class="">DOMAIN:</a></span> <span class="gallina-kwd">forall</span> <span id="b:613" class="id"><a name="b:613" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:613">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:610">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:609">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:613">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:613">b,</a></span> <span class="id">0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="IMAGE:618" class="id"><a name="IMAGE:618" class="">IMAGE:</a></span> <span class="gallina-kwd">forall</span> <span id="b1:615" class="id"><a name="b1:615" class="">b1</a></span> <span id="b2:616" class="id"><a name="b2:616" class="">b2</a></span> <span id="delta:617" class="id"><a name="delta:617" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:609">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:615">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:616">b2,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:617">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:616">b2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:610">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b1:615">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b2:616">b2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="SYMBOLS:621" class="id"><a name="SYMBOLS:621" class="">SYMBOLS:</a></span> <span class="gallina-kwd">forall</span> <span id="id:619" class="id"><a name="id:619" class="">id</a></span> <span id="b:620" class="id"><a name="b:620" class="">b,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:619">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:620">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:620">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:610">bound</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="FUNCTIONS:624" class="id"><a name="FUNCTIONS:624" class="">FUNCTIONS:</a></span> <span class="gallina-kwd">forall</span> <span id="b:622" class="id"><a name="b:622" class="">b</a></span> <span id="fd:623" class="id"><a name="fd:623" class="">fd,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:622">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:623">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:622">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:610">bound</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="VARINFOS:627" class="id"><a name="VARINFOS:627" class="">VARINFOS:</a></span> <span class="gallina-kwd">forall</span> <span id="b:625" class="id"><a name="b:625" class="">b</a></span> <span id="gv:626" class="id"><a name="gv:626" class="">gv,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:625">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#gv:626">gv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:625">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:610">bound</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_globalenvs_preserves_globals" class="id"><a name="match_globalenvs_preserves_globals" class="">match_globalenvs_preserves_globals:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:628" class="id"><a name="f:628" class="">f,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="bound:629" class="id"><a name="bound:629" class="">bound,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:628">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:629">bound</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#meminj_preserves_globals">meminj_preserves_globals</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:628">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[bound</span> <span class="id">MG]</span>. <span class="id">inv</span> <span class="id">MG</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">intros</span>. <span class="id">eauto</span>. <span class="id">split;</span> <span class="id">intros</span>. <span class="id">eauto</span>. <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id">IMAGE;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Evaluation of expressions </div>
<br/>
<span class="vernacular">Section</span> <span id="PRESERVATION.EVAL_EXPR" class="id"><a name="PRESERVATION.EVAL_EXPR" class="">EVAL_EXPR</a></span>.<br/>
<br/>
<span class="vernacular">Variables</span> <span id="PRESERVATION.EVAL_EXPR.e" class="id"><a name="PRESERVATION.EVAL_EXPR.e" class="">e</a></span> <span id="PRESERVATION.EVAL_EXPR.te" class="id"><a name="PRESERVATION.EVAL_EXPR.te" class="">te:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">env</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="PRESERVATION.EVAL_EXPR.le" class="id"><a name="PRESERVATION.EVAL_EXPR.le" class="">le</a></span> <span id="PRESERVATION.EVAL_EXPR.tle" class="id"><a name="PRESERVATION.EVAL_EXPR.tle" class="">tle:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#temp_env">temp_env</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="PRESERVATION.EVAL_EXPR.m" class="id"><a name="PRESERVATION.EVAL_EXPR.m" class="">m</a></span> <span id="PRESERVATION.EVAL_EXPR.tm" class="id"><a name="PRESERVATION.EVAL_EXPR.tm" class="">tm:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.EVAL_EXPR.f" class="id"><a name="PRESERVATION.EVAL_EXPR.f" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.EVAL_EXPR.cenv" class="id"><a name="PRESERVATION.EVAL_EXPR.cenv" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#compilenv">compilenv</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="PRESERVATION.EVAL_EXPR.lo" class="id"><a name="PRESERVATION.EVAL_EXPR.lo" class="">lo</a></span> <span id="PRESERVATION.EVAL_EXPR.hi" class="id"><a name="PRESERVATION.EVAL_EXPR.hi" class="">hi</a></span> <span id="PRESERVATION.EVAL_EXPR.tlo" class="id"><a name="PRESERVATION.EVAL_EXPR.tlo" class="">tlo</a></span> <span id="PRESERVATION.EVAL_EXPR.thi" class="id"><a name="PRESERVATION.EVAL_EXPR.thi" class="">thi:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="PRESERVATION.EVAL_EXPR.MATCH" class="id"><a name="PRESERVATION.EVAL_EXPR.MATCH" class="">MATCH:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.lo">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.hi">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tle">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tlo">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.thi">thi</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="PRESERVATION.EVAL_EXPR.MEMINJ" class="id"><a name="PRESERVATION.EVAL_EXPR.MEMINJ" class="">MEMINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tm">tm</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="PRESERVATION.EVAL_EXPR.GLOB" class="id"><a name="PRESERVATION.EVAL_EXPR.GLOB" class="">GLOB:</a></span> <span class="gallina-kwd">exists</span> <span id="bound:644" class="id"><a name="bound:644" class="">bound,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:644">bound</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="typeof_simpl_expr" class="id"><a name="typeof_simpl_expr" class="">typeof_simpl_expr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:646" class="id"><a name="a:646" class="">a,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_expr">simpl_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:646">a</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:646">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">i</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="deref_loc_inject" class="id"><a name="deref_loc_inject" class="">deref_loc_inject:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ty:647" class="id"><a name="ty:647" class="">ty</a></span> <span id="loc:648" class="id"><a name="loc:648" class="">loc</a></span> <span id="ofs:649" class="id"><a name="ofs:649" class="">ofs</a></span> <span id="bf:650" class="id"><a name="bf:650" class="">bf</a></span> <span id="v:651" class="id"><a name="v:651" class="">v</a></span> <span id="loc':652" class="id"><a name="loc':652" class="">loc'</a></span> <span id="ofs':653" class="id"><a name="ofs':653" class="">ofs',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:647">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc:648">loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:649">ofs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:650">bf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:651">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc:648">loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:649">ofs</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc':652">loc'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs':653">ofs'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:654" class="id"><a name="tv:654" class="">tv,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:647">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tm">tm</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc':652">loc'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs':653">ofs'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:650">bf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:654">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:651">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:654">tv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;value&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_inject">Mem.loadv_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc_value">deref_loc_value;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;reference&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">loc'</span> <span class="id">ofs'</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc_reference">deref_loc_reference;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;copy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">loc'</span> <span class="id">ofs'</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc_copy">deref_loc_copy;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;bitfield&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.   <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_inject">Mem.loadv_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tc</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="id">inv</span> <span class="id">B</span>. <br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc_bitfield">deref_loc_bitfield</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_simpl_expr" class="id"><a name="eval_simpl_expr" class="">eval_simpl_expr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:655" class="id"><a name="a:655" class="">a</a></span> <span id="v:656" class="id"><a name="v:656" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:655">a</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:656">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_expr">addr_taken_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:655">a</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:657" class="id"><a name="tv:657" class="">tv,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tle">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tm">tm</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_expr">simpl_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:655">a</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:657">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:656">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:657">tv</a></span><br/>
<br/>
<span class="gallina-kwd">with</span> <span id="eval_simpl_lvalue" class="id"><a name="eval_simpl_lvalue" class="">eval_simpl_lvalue:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:658" class="id"><a name="a:658" class="">a</a></span> <span id="b:659" class="id"><a name="b:659" class="">b</a></span> <span id="ofs:660" class="id"><a name="ofs:660" class="">ofs</a></span> <span id="bf:661" class="id"><a name="bf:661" class="">bf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:658">a</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:659">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:660">ofs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:661">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_expr">addr_taken_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:658">a</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:658">a</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ty</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="b':663" class="id"><a name="b':663" class="">b',</a></span> <span class="gallina-kwd">exists</span> <span id="ofs':664" class="id"><a name="ofs':664" class="">ofs',</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tle">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tm">tm</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_expr">simpl_expr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:658">a</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':663">b'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs':664">ofs'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:661">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:659">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:660">ofs</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':663">b'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs':664">ofs'</a></span>).<br/>
<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="comment">(*&nbsp;const&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;tempvar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_temps">me_temps;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[tv</span> <span class="id">[A</span> <span class="id">B]]</span> <span class="id">C]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;addrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_lvalue;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">i</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> (<span class="id">H0</span> <span class="id">i</span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.singleton_2">VSet.singleton_2</a></span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem_2">VSet.mem_2</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[b'</span> <span class="id">[ofs'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b'</span> <span class="id">ofs'</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_expr;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation_inject">sem_unary_operation_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_expr</span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_expr</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation_inject">sem_binary_operation_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[E</span> <span class="id">F]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved;</a></span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_expr;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast_inject">sem_cast_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;sizeof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">constructor</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved;</a></span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;alignof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">constructor</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved;</a></span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;rval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EITHER:</span> (<span class="gallina-kwd">exists</span> <span id="id:668" class="id"><span id="id:665" class="id"><a name="id:668" class="">id,</a></span></span> <span class="gallina-kwd">exists</span> <span id="ty:669" class="id"><span id="ty:666" class="id"><a name="ty:669" class="">ty,</a></span></span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:665">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:666">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#id:665">id</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">match</span> <span class="id">a</span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="gallina-kwd">end</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">i</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span>) <span class="id">eqn:?;</span> <span class="id">auto</span>. <span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">t;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">EITHER</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">[id</span> <span class="id">[ty</span> <span class="id">[EQ</span> <span class="id">OPT]]]</span> <span class="id">|</span> <span class="id">NONOPT</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;a&nbsp;variable&nbsp;pulled&nbsp;out&nbsp;of&nbsp;memory&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">a</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">OPT</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_vars">me_vars;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">id</span>). <span class="id">intros</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">MV;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ENV</span> <span class="gallina-kwd">in</span> <span class="id">H7;</span> <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">chunk0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">chunk</span>). <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>. <span class="id">subst</span> <span class="id">chunk0</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">v0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">v</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_zero">Ptrofs.unsigned_zero</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">congruence</span>. <span class="id">subst</span> <span class="id">v0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;any&nbsp;other&nbsp;l-value&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_lvalue;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[loc'</span> <span class="id">[ofs'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#deref_loc_inject">deref_loc_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;lvalues&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="comment">(*&nbsp;local&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_vars">me_vars;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">id</span>). <span class="id">intros</span> <span class="id">MV</span>. <span class="id">inv</span> <span class="id">MV;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ENV</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">b';</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span><span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_Evar_local">eval_Evar_local;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;global&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_vars">me_vars;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">id</span>). <span class="id">intros</span> <span class="id">MV</span>. <span class="id">inv</span> <span class="id">MV;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">l;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span><span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_Evar_global">eval_Evar_global</a></span>. <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.GLOB">GLOB</a></span> <span class="gallina-kwd">as</span> <span class="id">[bound</span> <span class="id">GLOB1]</span>. <span class="id">inv</span> <span class="id">GLOB1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_expr;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">B</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">econstructor;</span> <span class="id">split;</span> <span class="id">eauto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_expr;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">B</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_Efield_struct">eval_Efield_struct;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>. <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_commut">Ptrofs.add_commut</a></span>.<br/>
<span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#comp_env_preserved">comp_env_preserved</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">eval_simpl_expr;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">B</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_Efield_union">eval_Efield_union;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>. <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_commut">Ptrofs.add_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_simpl_exprlist" class="id"><a name="eval_simpl_exprlist" class="">eval_simpl_exprlist:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="al:671" class="id"><a name="al:671" class="">al</a></span> <span id="tyl:672" class="id"><a name="tyl:672" class="">tyl</a></span> <span id="vl:673" class="id"><a name="vl:673" class="">vl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#al:671">al</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tyl:672">tyl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:673">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_exprlist">addr_taken_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#al:671">al</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_list">val_casted_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:673">vl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tyl:672">tyl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tvl:674" class="id"><a name="tvl:674" class="">tvl,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tle">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.tm">tm</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_exprlist">simpl_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#al:671">al</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tyl:672">tyl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tvl:674">tvl</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vl:673">vl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tvl:674">tvl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">constructor</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast_inject">sem_cast_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_exprlist;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[E</span> <span class="id">[tvl</span> <span class="id">[F</span> <span class="id">G]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_val_is_casted">cast_val_is_casted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">tv2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">tvl</span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.EVAL_EXPR">EVAL_EXPR</a></span>.<br/>
<br/>
<div class="doc">Matching continuations </div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_cont" class="id"><a name="match_cont" class="">match_cont</a></span> (<span id="f:675" class="id"><a name="f:675" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#compilenv">compilenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#cont">cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#cont">cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kstop" class="id"><a name="match_Kstop" class="">match_Kstop:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:678" class="id"><a name="cenv:678" class="">cenv</a></span> <span id="m:679" class="id"><a name="m:679" class="">m</a></span> <span id="bound:680" class="id"><a name="bound:680" class="">bound</a></span> <span id="tbound:681" class="id"><a name="tbound:681" class="">tbound</a></span> <span id="hi:682" class="id"><a name="hi:682" class="">hi,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:682">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:682">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:680">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:682">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:681">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:678">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:679">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:680">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:681">tbound</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kseq" class="id"><a name="match_Kseq" class="">match_Kseq:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:683" class="id"><a name="cenv:683" class="">cenv</a></span> <span id="s:684" class="id"><a name="s:684" class="">s</a></span> <span id="k:685" class="id"><a name="k:685" class="">k</a></span> <span id="ts:686" class="id"><a name="ts:686" class="">ts</a></span> <span id="tk:687" class="id"><a name="tk:687" class="">tk</a></span> <span id="m:688" class="id"><a name="m:688" class="">m</a></span> <span id="bound:689" class="id"><a name="bound:689" class="">bound</a></span> <span id="tbound:690" class="id"><a name="tbound:690" class="">tbound,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:683">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:684">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts:686">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:683">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:685">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:687">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:688">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:689">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:690">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:684">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:683">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:683">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:684">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:685">k</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts:686">ts</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:687">tk</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:688">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:689">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:690">tbound</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kloop1" class="id"><a name="match_Kloop1" class="">match_Kloop1:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:691" class="id"><a name="cenv:691" class="">cenv</a></span> <span id="s1:692" class="id"><a name="s1:692" class="">s1</a></span> <span id="s2:693" class="id"><a name="s2:693" class="">s2</a></span> <span id="k:694" class="id"><a name="k:694" class="">k</a></span> <span id="ts1:695" class="id"><a name="ts1:695" class="">ts1</a></span> <span id="ts2:696" class="id"><a name="ts2:696" class="">ts2</a></span> <span id="tk:697" class="id"><a name="tk:697" class="">tk</a></span> <span id="m:698" class="id"><a name="m:698" class="">m</a></span> <span id="bound:699" class="id"><a name="bound:699" class="">bound</a></span> <span id="tbound:700" class="id"><a name="tbound:700" class="">tbound,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:691">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s1:692">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts1:695">ts1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:691">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s2:693">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts2:696">ts2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:691">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:694">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:697">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:698">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:699">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:700">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.union">VSet.union</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s1:692">s1</a></span>) (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s2:693">s2</a></span>)) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:691">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:691">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s1:692">s1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s2:693">s2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:694">k</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts1:695">ts1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts2:696">ts2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:697">tk</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:698">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:699">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:700">tbound</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kloop2" class="id"><a name="match_Kloop2" class="">match_Kloop2:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:701" class="id"><a name="cenv:701" class="">cenv</a></span> <span id="s1:702" class="id"><a name="s1:702" class="">s1</a></span> <span id="s2:703" class="id"><a name="s2:703" class="">s2</a></span> <span id="k:704" class="id"><a name="k:704" class="">k</a></span> <span id="ts1:705" class="id"><a name="ts1:705" class="">ts1</a></span> <span id="ts2:706" class="id"><a name="ts2:706" class="">ts2</a></span> <span id="tk:707" class="id"><a name="tk:707" class="">tk</a></span> <span id="m:708" class="id"><a name="m:708" class="">m</a></span> <span id="bound:709" class="id"><a name="bound:709" class="">bound</a></span> <span id="tbound:710" class="id"><a name="tbound:710" class="">tbound,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:701">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s1:702">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts1:705">ts1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:701">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s2:703">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts2:706">ts2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:701">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:704">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:707">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:708">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:709">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:710">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.union">VSet.union</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s1:702">s1</a></span>) (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s2:703">s2</a></span>)) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:701">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:701">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop2">Kloop2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s1:702">s1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s2:703">s2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:704">k</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop2">Kloop2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts1:705">ts1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts2:706">ts2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:707">tk</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:708">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:709">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:710">tbound</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kswitch" class="id"><a name="match_Kswitch" class="">match_Kswitch:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:711" class="id"><a name="cenv:711" class="">cenv</a></span> <span id="k:712" class="id"><a name="k:712" class="">k</a></span> <span id="tk:713" class="id"><a name="tk:713" class="">tk</a></span> <span id="m:714" class="id"><a name="m:714" class="">m</a></span> <span id="bound:715" class="id"><a name="bound:715" class="">bound</a></span> <span id="tbound:716" class="id"><a name="tbound:716" class="">tbound,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:711">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:712">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:713">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:714">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:715">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:716">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:711">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kswitch">Kswitch</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:712">k</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#Kswitch">Kswitch</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:713">tk</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:714">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:715">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:716">tbound</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kcall" class="id"><a name="match_Kcall" class="">match_Kcall:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:717" class="id"><a name="cenv:717" class="">cenv</a></span> <span id="optid:718" class="id"><a name="optid:718" class="">optid</a></span> <span id="fn:719" class="id"><a name="fn:719" class="">fn</a></span> <span id="e:720" class="id"><a name="e:720" class="">e</a></span> <span id="le:721" class="id"><a name="le:721" class="">le</a></span> <span id="k:722" class="id"><a name="k:722" class="">k</a></span> <span id="tfn:723" class="id"><a name="tfn:723" class="">tfn</a></span> <span id="te:724" class="id"><a name="te:724" class="">te</a></span> <span id="tle:725" class="id"><a name="tle:725" class="">tle</a></span> <span id="tk:726" class="id"><a name="tk:726" class="">tk</a></span> <span id="m:727" class="id"><a name="m:727" class="">m</a></span> <span id="hi:728" class="id"><a name="hi:728" class="">hi</a></span> <span id="thi:729" class="id"><a name="thi:729" class="">thi</a></span> <span id="lo:730" class="id"><a name="lo:730" class="">lo</a></span> <span id="tlo:731" class="id"><a name="tlo:731" class="">tlo</a></span> <span id="bound:732" class="id"><a name="bound:732" class="">bound</a></span> <span id="tbound:733" class="id"><a name="tbound:733" class="">tbound</a></span> <span id="x:734" class="id"><a name="x:734" class="">x,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fn:719">fn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfn:723">tfn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fn:719">fn</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:720">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:721">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:727">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:730">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:728">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:724">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:725">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:731">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:729">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fn:719">fn</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:722">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:726">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:727">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:730">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:731">tlo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#check_opttemp">check_opttemp</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fn:719">fn</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#optid:718">optid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#x:734">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:728">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:732">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:729">thi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:733">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont:676">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:675">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:717">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kcall">Kcall</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#optid:718">optid</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fn:719">fn</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:720">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:721">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:722">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kcall">Kcall</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#optid:718">optid</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfn:723">tfn</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:724">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:725">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:726">tk</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:727">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:732">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:733">tbound</a></span>.<br/>
<br/>
<div class="doc">Invariance property by change of memory and injection </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_invariant" class="id"><a name="match_cont_invariant" class="">match_cont_invariant:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f':735" class="id"><a name="f':735" class="">f'</a></span> <span id="m':736" class="id"><a name="m':736" class="">m'</a></span> <span id="f:737" class="id"><a name="f:737" class="">f</a></span> <span id="cenv:738" class="id"><a name="cenv:738" class="">cenv</a></span> <span id="k:739" class="id"><a name="k:739" class="">k</a></span> <span id="tk:740" class="id"><a name="tk:740" class="">tk</a></span> <span id="m:741" class="id"><a name="m:741" class="">m</a></span> <span id="bound:742" class="id"><a name="bound:742" class="">bound</a></span> <span id="tbound:743" class="id"><a name="tbound:743" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:737">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:738">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:739">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:740">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:741">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:742">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:743">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:744" class="id"><a name="b:744" class="">b</a></span> <span id="chunk:745" class="id"><a name="chunk:745" class="">chunk</a></span> <span id="v:746" class="id"><a name="v:746" class="">v,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:737">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:744">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:744">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:742">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:745">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:741">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:744">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:746">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:745">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':736">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:744">b</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:746">v</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:737">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':735">f'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:747" class="id"><a name="b:747" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:747">b</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:742">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':735">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:747">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:737">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:747">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:748" class="id"><a name="b:748" class="">b</a></span> <span id="b':749" class="id"><a name="b':749" class="">b'</a></span> <span id="delta:750" class="id"><a name="delta:750" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':735">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:748">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':749">b',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#delta:750">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':749">b'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:743">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':735">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:748">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:737">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:748">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':735">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:738">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:739">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:740">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':736">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:742">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:743">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">LOAD</span> <span class="id">INCR</span> <span class="id">INJ1</span> <span class="id">INJ2;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;globalenvs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">intros;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">f</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b2,</span> <span class="id">delta</span>)). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H;</span> <span class="id">symmetry;</span> <span class="id">eapply</span> <span class="id">INJ2;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IMAGE;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_invariant">match_envs_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">LOAD;</span> <span class="id">auto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">INJ1;</span> <span class="id">auto;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">INJ2;</span> <span class="id">eauto;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHmatch_cont;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id">LOAD;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id">INJ1</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id">INJ2;</span> <span class="id">eauto</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Invariance by assignment to location "above" </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_assign_loc" class="id"><a name="match_cont_assign_loc" class="">match_cont_assign_loc:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:751" class="id"><a name="f:751" class="">f</a></span> <span id="cenv:752" class="id"><a name="cenv:752" class="">cenv</a></span> <span id="k:753" class="id"><a name="k:753" class="">k</a></span> <span id="tk:754" class="id"><a name="tk:754" class="">tk</a></span> <span id="m:755" class="id"><a name="m:755" class="">m</a></span> <span id="bound:756" class="id"><a name="bound:756" class="">bound</a></span> <span id="tbound:757" class="id"><a name="tbound:757" class="">tbound</a></span> <span id="ty:758" class="id"><a name="ty:758" class="">ty</a></span> <span id="loc:759" class="id"><a name="loc:759" class="">loc</a></span> <span id="ofs:760" class="id"><a name="ofs:760" class="">ofs</a></span> <span id="bf:761" class="id"><a name="bf:761" class="">bf</a></span> <span id="v:762" class="id"><a name="v:762" class="">v</a></span> <span id="m':763" class="id"><a name="m':763" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:751">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:752">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:753">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:754">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:755">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:756">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:757">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:758">ty</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:755">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc:759">loc</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ofs:760">ofs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bf:761">bf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:762">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':763">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:756">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#loc:759">loc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:751">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:752">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:753">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:754">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':763">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:756">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:757">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_invariant">match_cont_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;scalar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;block&nbsp;copy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_storebytes_other">Mem.load_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;bitfield&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Invariance by external calls </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_extcall" class="id"><a name="match_cont_extcall" class="">match_cont_extcall:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:764" class="id"><a name="f:764" class="">f</a></span> <span id="cenv:765" class="id"><a name="cenv:765" class="">cenv</a></span> <span id="k:766" class="id"><a name="k:766" class="">k</a></span> <span id="tk:767" class="id"><a name="tk:767" class="">tk</a></span> <span id="m:768" class="id"><a name="m:768" class="">m</a></span> <span id="bound:769" class="id"><a name="bound:769" class="">bound</a></span> <span id="tbound:770" class="id"><a name="tbound:770" class="">tbound</a></span> <span id="tm:771" class="id"><a name="tm:771" class="">tm</a></span> <span id="f':772" class="id"><a name="f':772" class="">f'</a></span> <span id="m':773" class="id"><a name="m':773" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:764">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:765">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:766">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:767">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:768">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:769">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:770">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:764">f</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:768">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':773">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:764">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':772">f'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:764">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':772">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:768">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:771">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:769">bound</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:768">m</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:770">tbound</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:771">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f':772">f'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:765">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:766">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:767">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':773">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:769">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:770">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_invariant">match_cont_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_unchanged_on">Mem.load_unchanged_on</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">f</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">delta]</span> <span class="id">|</span> <span class="id">]</span> <span class="id">eqn:?</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">f'</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">delta]</span> <span class="id">|</span> <span class="id">]</span> <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">f</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b''</span> <span class="id">delta'']</span> <span class="id">|</span> <span class="id">]</span> <span class="id">eqn:?</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Invariance by change of bounds </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_incr_bounds" class="id"><a name="match_cont_incr_bounds" class="">match_cont_incr_bounds:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:774" class="id"><a name="f:774" class="">f</a></span> <span id="cenv:775" class="id"><a name="cenv:775" class="">cenv</a></span> <span id="k:776" class="id"><a name="k:776" class="">k</a></span> <span id="tk:777" class="id"><a name="tk:777" class="">tk</a></span> <span id="m:778" class="id"><a name="m:778" class="">m</a></span> <span id="bound:779" class="id"><a name="bound:779" class="">bound</a></span> <span id="tbound:780" class="id"><a name="tbound:780" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:774">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:775">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:776">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:777">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:778">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:779">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:780">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bound':781" class="id"><a name="bound':781" class="">bound'</a></span> <span id="tbound':782" class="id"><a name="tbound':782" class="">tbound',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:779">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound':781">bound'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:780">tbound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound':782">tbound'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:774">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:775">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:776">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:777">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:778">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound':781">bound'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound':782">tbound'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros;</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">match_cont</span></span> and call continuations. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_change_cenv" class="id"><a name="match_cont_change_cenv" class="">match_cont_change_cenv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:783" class="id"><a name="f:783" class="">f</a></span> <span id="cenv:784" class="id"><a name="cenv:784" class="">cenv</a></span> <span id="k:785" class="id"><a name="k:785" class="">k</a></span> <span id="tk:786" class="id"><a name="tk:786" class="">tk</a></span> <span id="m:787" class="id"><a name="m:787" class="">m</a></span> <span id="bound:788" class="id"><a name="bound:788" class="">bound</a></span> <span id="tbound:789" class="id"><a name="tbound:789" class="">tbound</a></span> <span id="cenv':790" class="id"><a name="cenv':790" class="">cenv',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:783">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:784">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:785">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:786">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:787">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:788">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:789">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#is_call_cont">is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:785">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:783">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv':790">cenv'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:785">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:786">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:787">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:788">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:789">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">contradiction;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_is_call_cont" class="id"><a name="match_cont_is_call_cont" class="">match_cont_is_call_cont:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:791" class="id"><a name="f:791" class="">f</a></span> <span id="cenv:792" class="id"><a name="cenv:792" class="">cenv</a></span> <span id="k:793" class="id"><a name="k:793" class="">k</a></span> <span id="tk:794" class="id"><a name="tk:794" class="">tk</a></span> <span id="m:795" class="id"><a name="m:795" class="">m</a></span> <span id="bound:796" class="id"><a name="bound:796" class="">bound</a></span> <span id="tbound:797" class="id"><a name="tbound:797" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:791">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:792">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:793">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:794">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:795">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:796">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:797">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#is_call_cont">is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:793">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#is_call_cont">is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:794">tk</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_call_cont" class="id"><a name="match_cont_call_cont" class="">match_cont_call_cont:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:798" class="id"><a name="f:798" class="">f</a></span> <span id="cenv:799" class="id"><a name="cenv:799" class="">cenv</a></span> <span id="k:800" class="id"><a name="k:800" class="">k</a></span> <span id="tk:801" class="id"><a name="tk:801" class="">tk</a></span> <span id="m:802" class="id"><a name="m:802" class="">m</a></span> <span id="bound:803" class="id"><a name="bound:803" class="">bound</a></span> <span id="tbound:804" class="id"><a name="tbound:804" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:798">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:799">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:800">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:801">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:802">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:803">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:804">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv':805" class="id"><a name="cenv':805" class="">cenv',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:798">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv':805">cenv'</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#call_cont">call_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:800">k</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#call_cont">call_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:801">tk</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:802">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:803">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:804">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto;</span> <span class="id">intros;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">match_cont</span></span> and freeing of environment blocks </div>
<br/>
<span class="vernacular">Remark</span> <span id="free_list_nextblock" class="id"><a name="free_list_nextblock" class="">free_list_nextblock:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:806" class="id"><a name="l:806" class="">l</a></span> <span id="m:807" class="id"><a name="m:807" class="">m</a></span> <span id="m':808" class="id"><a name="m':808" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:807">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:806">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':808">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':808">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:807">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span>. <span class="id">destruct</span> <span class="id">p</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">z0</span> <span class="id">z</span>) <span class="gallina-kwd">as</span> <span class="id">[m1|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m1</span>). <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="free_list_load" class="id"><a name="free_list_load" class="">free_list_load:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:809" class="id"><a name="chunk:809" class="">chunk</a></span> <span id="b':810" class="id"><a name="b':810" class="">b'</a></span> <span id="l:811" class="id"><a name="l:811" class="">l</a></span> <span id="m:812" class="id"><a name="m:812" class="">m</a></span> <span id="m':813" class="id"><a name="m':813" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:812">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:811">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':813">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:814" class="id"><a name="b:814" class="">b</a></span> <span id="lo:815" class="id"><a name="lo:815" class="">lo</a></span> <span id="hi:816" class="id"><a name="hi:816" class="">hi,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:814">b,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:815">lo,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:816">hi</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#l:811">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':810">b'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b:814">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:809">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':813">m'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':810">b'</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#chunk:809">chunk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:812">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#b':810">b'</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span>. <span class="id">destruct</span> <span class="id">p</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">z0</span> <span class="id">z</span>) <span class="gallina-kwd">as</span> <span class="id">[m1|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id">chunk</span> <span class="id">m1</span> <span class="id">b'</span> <span class="id">0</span>). <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_free">Mem.load_free</a></span>. <span class="id">eauto</span>. <span class="id">left</span>. <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id">b'</span> <span class="id">b</span>) <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_free_env" class="id"><a name="match_cont_free_env" class="">match_cont_free_env:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:817" class="id"><a name="f:817" class="">f</a></span> <span id="cenv:818" class="id"><a name="cenv:818" class="">cenv</a></span> <span id="e:819" class="id"><a name="e:819" class="">e</a></span> <span id="le:820" class="id"><a name="le:820" class="">le</a></span> <span id="m:821" class="id"><a name="m:821" class="">m</a></span> <span id="lo:822" class="id"><a name="lo:822" class="">lo</a></span> <span id="hi:823" class="id"><a name="hi:823" class="">hi</a></span> <span id="te:824" class="id"><a name="te:824" class="">te</a></span> <span id="tle:825" class="id"><a name="tle:825" class="">tle</a></span> <span id="tm:826" class="id"><a name="tm:826" class="">tm</a></span> <span id="tlo:827" class="id"><a name="tlo:827" class="">tlo</a></span> <span id="thi:828" class="id"><a name="thi:828" class="">thi</a></span> <span id="k:829" class="id"><a name="k:829" class="">k</a></span> <span id="tk:830" class="id"><a name="tk:830" class="">tk</a></span> <span id="m':831" class="id"><a name="m':831" class="">m'</a></span> <span id="tm':832" class="id"><a name="tm':832" class="">tm',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:817">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:818">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:819">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:820">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:821">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:822">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:823">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:824">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:825">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:827">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:828">thi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:817">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:818">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:829">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:830">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:821">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:822">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:827">tlo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:823">hi</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:821">m</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:828">thi</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:826">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:821">m</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:819">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':831">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:826">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:824">te</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':832">tm'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:817">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:818">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:829">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:830">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':831">m'</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m':831">m'</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm':832">tm'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_incr_bounds">match_cont_incr_bounds</a></span> <span class="gallina-kwd">with</span> <span class="id">lo</span> <span class="id">tlo</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_invariant">match_cont_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H7</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_list_load">free_list_load;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">blocks_of_env;</a></span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[id</span> <span class="id">[b1</span> <span class="id">ty]]</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">P</span>. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_range">me_range;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_list_nextblock">free_list_nextblock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span>). <span class="id">inv</span> <span class="id">H;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#free_list_nextblock">free_list_nextblock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H4</span>). <span class="id">inv</span> <span class="id">H;</span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Matching of global environments </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_globalenv" class="id"><a name="match_cont_globalenv" class="">match_cont_globalenv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:833" class="id"><a name="f:833" class="">f</a></span> <span id="cenv:834" class="id"><a name="cenv:834" class="">cenv</a></span> <span id="k:835" class="id"><a name="k:835" class="">k</a></span> <span id="tk:836" class="id"><a name="tk:836" class="">tk</a></span> <span id="m:837" class="id"><a name="m:837" class="">m</a></span> <span id="bound:838" class="id"><a name="bound:838" class="">bound</a></span> <span id="tbound:839" class="id"><a name="tbound:839" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:833">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:834">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:835">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:836">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:837">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:838">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:839">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="bound:840" class="id"><a name="bound:840" class="">bound,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:833">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:840">bound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">auto</span>. <span class="gallina-kwd">exists</span> <span class="id">hi;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">match_cont_globalenv:</span> <span class="id">compat</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_find_funct" class="id"><a name="match_cont_find_funct" class="">match_cont_find_funct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:841" class="id"><a name="f:841" class="">f</a></span> <span id="cenv:842" class="id"><a name="cenv:842" class="">cenv</a></span> <span id="k:843" class="id"><a name="k:843" class="">k</a></span> <span id="tk:844" class="id"><a name="tk:844" class="">tk</a></span> <span id="m:845" class="id"><a name="m:845" class="">m</a></span> <span id="bound:846" class="id"><a name="bound:846" class="">bound</a></span> <span id="tbound:847" class="id"><a name="tbound:847" class="">tbound</a></span> <span id="vf:848" class="id"><a name="vf:848" class="">vf</a></span> <span id="fd:849" class="id"><a name="fd:849" class="">fd</a></span> <span id="tvf:850" class="id"><a name="tvf:850" class="">tvf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:841">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:842">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:843">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:844">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:845">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bound:846">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tbound:847">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vf:848">vf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:849">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:841">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vf:848">vf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tvf:850">tvf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tfd:851" class="id"><a name="tfd:851" class="">tfd,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tvf:850">tvf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfd:851">tfd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:849">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfd:851">tfd</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_globalenv">match_cont_globalenv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[bound1</span> <span class="id">MG]</span>. <span class="id">destruct</span> <span class="id">MG</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs1</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">ofs1</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">f</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b1,</span> <span class="id">0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">DOMAIN</span>. <span class="id">eapply</span> <span class="id">FUNCTIONS;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#function_ptr_translated">function_ptr_translated;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Relating execution states </div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_states" class="id"><a name="match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_regular_states" class="id"><a name="match_regular_states" class="">match_regular_states:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:854" class="id"><a name="f:854" class="">f</a></span> <span id="s:855" class="id"><a name="s:855" class="">s</a></span> <span id="k:856" class="id"><a name="k:856" class="">k</a></span> <span id="e:857" class="id"><a name="e:857" class="">e</a></span> <span id="le:858" class="id"><a name="le:858" class="">le</a></span> <span id="m:859" class="id"><a name="m:859" class="">m</a></span> <span id="tf:860" class="id"><a name="tf:860" class="">tf</a></span> <span id="ts:861" class="id"><a name="ts:861" class="">ts</a></span> <span id="tk:862" class="id"><a name="tk:862" class="">tk</a></span> <span id="te:863" class="id"><a name="te:863" class="">te</a></span> <span id="tle:864" class="id"><a name="tle:864" class="">tle</a></span> <span id="tm:865" class="id"><a name="tm:865" class="">tm</a></span> <span id="j:866" class="id"><a name="j:866" class="">j</a></span> <span id="lo:867" class="id"><a name="lo:867" class="">lo</a></span> <span id="hi:868" class="id"><a name="hi:868" class="">hi</a></span> <span id="tlo:869" class="id"><a name="tlo:869" class="">tlo</a></span> <span id="thi:870" class="id"><a name="thi:870" class="">thi</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TRF:871" class="id"><a name="TRF:871" class="">TRF:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:854">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tf:860">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TRS:872" class="id"><a name="TRS:872" class="">TRS:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:854">f</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:855">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts:861">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MENV:873" class="id"><a name="MENV:873" class="">MENV:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs">match_envs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:866">j</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:854">f</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:857">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:858">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:859">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:867">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:868">hi</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:863">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:864">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:869">tlo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:870">thi</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCONT:874" class="id"><a name="MCONT:874" class="">MCONT:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:866">j</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:854">f</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:856">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:862">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:859">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#lo:867">lo</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tlo:869">tlo</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:875" class="id"><a name="MINJ:875" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:866">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:859">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:865">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="COMPAT:876" class="id"><a name="COMPAT:876" class="">COMPAT:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:855">s</a></span>) (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:854">f</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="BOUND:877" class="id"><a name="BOUND:877" class="">BOUND:</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#hi:868">hi</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:859">m</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TBOUND:878" class="id"><a name="TBOUND:878" class="">TBOUND:</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#thi:870">thi</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:865">tm</a></span>))<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_states:852">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#f:854">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:855">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:856">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#e:857">e</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#le:858">le</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:859">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tf:860">tf</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts:861">ts</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:862">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#te:863">te</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tle:864">tle</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:865">tm</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_call_state" class="id"><a name="match_call_state" class="">match_call_state:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fd:879" class="id"><a name="fd:879" class="">fd</a></span> <span id="vargs:880" class="id"><a name="vargs:880" class="">vargs</a></span> <span id="k:881" class="id"><a name="k:881" class="">k</a></span> <span id="m:882" class="id"><a name="m:882" class="">m</a></span> <span id="tfd:883" class="id"><a name="tfd:883" class="">tfd</a></span> <span id="tvargs:884" class="id"><a name="tvargs:884" class="">tvargs</a></span> <span id="tk:885" class="id"><a name="tk:885" class="">tk</a></span> <span id="tm:886" class="id"><a name="tm:886" class="">tm</a></span> <span id="j:887" class="id"><a name="j:887" class="">j</a></span> <span id="targs:888" class="id"><a name="targs:888" class="">targs</a></span> <span id="tres:889" class="id"><a name="tres:889" class="">tres</a></span> <span id="cconv:890" class="id"><a name="cconv:890" class="">cconv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TRFD:891" class="id"><a name="TRFD:891" class="">TRFD:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:879">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfd:883">tfd</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCONT:893" class="id"><a name="MCONT:893" class="">MCONT:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:892" class="id"><a name="cenv:892" class="">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:887">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:892">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:881">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:885">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:882">m</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:882">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:886">tm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:894" class="id"><a name="MINJ:894" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:887">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:882">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:886">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="AINJ:895" class="id"><a name="AINJ:895" class="">AINJ:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:887">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vargs:880">vargs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tvargs:884">tvargs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="FUNTY:896" class="id"><a name="FUNTY:896" class="">FUNTY:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:879">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#targs:888">targs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tres:889">tres</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cconv:890">cconv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ANORM:897" class="id"><a name="ANORM:897" class="">ANORM:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_list">val_casted_list</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vargs:880">vargs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#targs:888">targs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_states:852">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#fd:879">fd</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vargs:880">vargs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:881">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:882">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tfd:883">tfd</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tvargs:884">tvargs</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:885">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:886">tm</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_return_state" class="id"><a name="match_return_state" class="">match_return_state:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:898" class="id"><a name="v:898" class="">v</a></span> <span id="k:899" class="id"><a name="k:899" class="">k</a></span> <span id="m:900" class="id"><a name="m:900" class="">m</a></span> <span id="tv:901" class="id"><a name="tv:901" class="">tv</a></span> <span id="tk:902" class="id"><a name="tk:902" class="">tk</a></span> <span id="tm:903" class="id"><a name="tm:903" class="">tm</a></span> <span id="j:904" class="id"><a name="j:904" class="">j</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCONT:906" class="id"><a name="MCONT:906" class="">MCONT:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:905" class="id"><a name="cenv:905" class="">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:904">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:905">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:899">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:902">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:900">m</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:900">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:903">tm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:907" class="id"><a name="MINJ:907" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:904">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:900">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:903">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="RINJ:908" class="id"><a name="RINJ:908" class="">RINJ:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#j:904">j</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:898">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:901">tv</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_states:852">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Returnstate">Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#v:898">v</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:899">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#m:900">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Returnstate">Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tv:901">tv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:902">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tm:903">tm</a></span>).<br/>
<br/>
<div class="doc">The simulation diagrams </div>
<br/>
<span class="vernacular">Remark</span> <span id="is_liftable_var_charact" class="id"><a name="is_liftable_var_charact" class="">is_liftable_var_charact:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:909" class="id"><a name="cenv:909" class="">cenv</a></span> <span id="a:910" class="id"><a name="a:910" class="">a,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#is_liftable_var">is_liftable_var</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:909">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:910">a</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">exists</span> <span id="ty:911" class="id"><a name="ty:911" class="">ty,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:910">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ty:911">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:909">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#a:910">a</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.cfrontend.Clight.html#Evar">Evar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ty</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:909">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">a;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">i</span> <span class="id">cenv</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">t;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="simpl_select_switch" class="id"><a name="simpl_select_switch" class="">simpl_select_switch:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:913" class="id"><a name="cenv:913" class="">cenv</a></span> <span id="n:914" class="id"><a name="n:914" class="">n</a></span> <span id="ls:915" class="id"><a name="ls:915" class="">ls</a></span> <span id="tls:916" class="id"><a name="tls:916" class="">tls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:913">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:915">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:916">tls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:913">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">select_switch</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#n:914">n</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:915">ls</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">select_switch</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#n:914">n</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:916">tls</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">cenv</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ls:919" class="id"><span id="ls:917" class="id"><a name="ls:919" class="">ls</a></span></span> <span id="tls:920" class="id"><span id="tls:918" class="id"><a name="tls:920" class="">tls,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id">cenv</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:917">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:918">tls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id">cenv</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_default">select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:917">ls</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_default">select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:918">tls</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">destruct</span> <span class="id">o</span>. <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ,</span> <span class="id">EQ1</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">CASE:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ls:924" class="id"><span id="ls:921" class="id"><a name="ls:924" class="">ls</a></span></span> <span id="tls:925" class="id"><span id="tls:922" class="id"><a name="tls:925" class="">tls,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id">cenv</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:921">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:922">tls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:921">ls</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:922">tls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ls'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tls':926" class="id"><span id="tls':923" class="id"><a name="tls':926" class="">tls',</a></span></span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:922">tls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls':923">tls'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id">cenv</span> <span class="id">ls'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls':923">tls'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">monadInv</span> <span class="id">H;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">z</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ,</span> <span class="id">EQ1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHls</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHls</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">select_switch</a></span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">CASE</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id">ls</span>) <span class="gallina-kwd">as</span> <span class="id">[ls'|]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">CASE</span> <span class="gallina-kwd">as</span> <span class="id">[tls'</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">rewrite</span> <span class="id">P,</span> <span class="id">Q</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">CASE</span>. <span class="id">apply</span> <span class="id">DFL;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="simpl_seq_of_labeled_statement" class="id"><a name="simpl_seq_of_labeled_statement" class="">simpl_seq_of_labeled_statement:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:927" class="id"><a name="cenv:927" class="">cenv</a></span> <span id="ls:928" class="id"><a name="ls:928" class="">ls</a></span> <span id="tls:929" class="id"><a name="tls:929" class="">tls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:927">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:928">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:929">tls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:927">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:928">ls</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:929">tls</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">monadInv</span> <span class="id">H;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">simpl</span>. <span class="id">erewrite</span> <span class="id">IHls;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="compat_cenv_select_switch" class="id"><a name="compat_cenv_select_switch" class="">compat_cenv_select_switch:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:930" class="id"><a name="cenv:930" class="">cenv</a></span> <span id="n:931" class="id"><a name="n:931" class="">n</a></span> <span id="ls:932" class="id"><a name="ls:932" class="">ls,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:932">ls</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:930">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">select_switch</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#n:931">n</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:932">ls</a></span>)) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv:930">cenv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">cenv</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="gallina-kwd">forall</span> <span id="ls:934" class="id"><span id="ls:933" class="id"><a name="ls:934" class="">ls,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:933">ls</a></span>) <span class="id">cenv</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_default">select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:933">ls</a></span>)) <span class="id">cenv</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o;</span> <span class="id">simpl;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">CASE:</span> <span class="gallina-kwd">forall</span> <span id="ls:937" class="id"><span id="ls:935" class="id"><a name="ls:937" class="">ls</a></span></span> <span id="ls':938" class="id"><span id="ls':936" class="id"><a name="ls':938" class="">ls',</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:935">ls</a></span>) <span class="id">cenv</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:935">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls':936">ls'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls':936">ls'</a></span>) <span class="id">cenv</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">z</span> <span class="id">n</span>). <span class="id">inv</span> <span class="id">H0</span>. <span class="id">auto</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">specialize</span> (<span class="id">CASE</span> <span class="id">ls</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">select_switch</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id">ls</span>) <span class="gallina-kwd">as</span> <span class="id">[ls'|];</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="addr_taken_seq_of_labeled_statement" class="id"><a name="addr_taken_seq_of_labeled_statement" class="">addr_taken_seq_of_labeled_statement:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ls:939" class="id"><a name="ls:939" class="">ls,</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:939">ls</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:939">ls</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">simpl;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="PRESERVATION.FIND_LABEL" class="id"><a name="PRESERVATION.FIND_LABEL" class="">FIND_LABEL</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.FIND_LABEL.f" class="id"><a name="PRESERVATION.FIND_LABEL.f" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.FIND_LABEL.cenv" class="id"><a name="PRESERVATION.FIND_LABEL.cenv" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#compilenv">compilenv</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.FIND_LABEL.m" class="id"><a name="PRESERVATION.FIND_LABEL.m" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="PRESERVATION.FIND_LABEL.bound" class="id"><a name="PRESERVATION.FIND_LABEL.bound" class="">bound</a></span> <span id="PRESERVATION.FIND_LABEL.tbound" class="id"><a name="PRESERVATION.FIND_LABEL.tbound" class="">tbound:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="PRESERVATION.FIND_LABEL.lbl" class="id"><a name="PRESERVATION.FIND_LABEL.lbl" class="">lbl:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="simpl_find_label" class="id"><a name="simpl_find_label" class="">simpl_find_label:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:946" class="id"><a name="s:946" class="">s</a></span> <span id="k:947" class="id"><a name="k:947" class="">k</a></span> <span id="ts:948" class="id"><a name="ts:948" class="">ts</a></span> <span id="tk:949" class="id"><a name="tk:949" class="">tk,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:946">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts:948">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:947">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:949">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.bound">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.tbound">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:946">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:946">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:947">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts:948">ts</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:949">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">s',</span> <span class="id">k'</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ts':950" class="id"><a name="ts':950" class="">ts',</a></span> <span class="gallina-kwd">exists</span> <span id="tk':951" class="id"><a name="tk':951" class="">tk',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts:948">ts</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:949">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts':950">ts',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk':951">tk'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id">s'</span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id">s'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts':950">ts'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id">k'</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk':951">tk'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.bound">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.tbound">tbound</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
<br/>
<span class="gallina-kwd">with</span> <span id="simpl_find_label_ls" class="id"><a name="simpl_find_label_ls" class="">simpl_find_label_ls:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ls:952" class="id"><a name="ls:952" class="">ls</a></span> <span id="k:953" class="id"><a name="k:953" class="">k</a></span> <span id="tls:954" class="id"><a name="tls:954" class="">tls</a></span> <span id="tk:955" class="id"><a name="tk:955" class="">tk,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_lblstmt">simpl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:952">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:954">tls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:953">k</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:955">tk</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.bound">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.tbound">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_lblstmt">addr_taken_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:952">ls</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ls:952">ls</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:953">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:954">tls</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:955">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">s',</span> <span class="id">k'</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ts':956" class="id"><a name="ts':956" class="">ts',</a></span> <span class="gallina-kwd">exists</span> <span id="tk':957" class="id"><a name="tk':957" class="">tk',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tls:954">tls</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk:955">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts':956">ts',</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk':957">tk'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv">compat_cenv</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id">s'</span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#simpl_stmt">simpl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id">s'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#ts':956">ts'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.f">f</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id">k'</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#tk':957">tk'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.m">m</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.bound">bound</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.tbound">tbound</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">s;</span> <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">tk;</span> <span class="id">intros</span> <span class="id">TS</span> <span class="id">MC</span> <span class="id">COMPAT;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;skip&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#is_liftable_var">is_liftable_var</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id">e</span>)<span class="id">;</span> <span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#Sset_debug">Sset_debug</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.driver.Compopts.html#debug">Compopts.debug</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;set&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHs1</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Kseq</a></span> <span class="id">s2</span> <span class="id">k</span>) <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Kseq</a></span> <span class="id">x0</span> <span class="id">tk</span>))<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">s1</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Kseq</a></span> <span class="id">s2</span> <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']|]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">[R</span> <span class="id">S]]]]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk'</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">P</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">E</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">eapply</span> <span class="id">IHs2;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHs1</span> <span class="id">k</span> <span class="id">x</span> <span class="id">tk</span>)<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">s1</span> <span class="id">k</span>) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']|]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">[R</span> <span class="id">S]]]]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk'</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">P</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">E</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">eapply</span> <span class="id">IHs2;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHs1</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span>) <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id">x</span> <span class="id">x0</span> <span class="id">tk</span>))<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">s1</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']|]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">[R</span> <span class="id">S]]]]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk'</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">P</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">E</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">eapply</span> <span class="id">IHs2;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;break&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;continue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">simpl_find_label_ls;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">tk;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHs;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TS;</span> <span class="id">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;nil&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;cons&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">simpl_find_label</span> <span class="id">s</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">ls</span>) <span class="id">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#simpl_seq_of_labeled_statement">simpl_seq_of_labeled_statement;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#addr_taken_seq_of_labeled_statement">addr_taken_seq_of_labeled_statement</a></span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">s</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">ls</span>) <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']|]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">[R</span> <span class="id">S]]]]]</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="id">split</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">P</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">E</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">eapply</span> <span class="id">IHls;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="find_label_store_params" class="id"><a name="find_label_store_params" class="">find_label_store_params:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:958" class="id"><a name="s:958" class="">s</a></span> <span id="k:959" class="id"><a name="k:959" class="">k</a></span> <span id="params:960" class="id"><a name="params:960" class="">params,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#store_params">store_params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#params:960">params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:958">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:959">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:958">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:959">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">params;</span> <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty]</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.mem">VSet.mem</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.cenv">cenv</a></span>)<span class="id">;</span> <span class="id">[destruct</span> <span class="id"><a href="compcert.x86.Conventions1.html#parameter_needs_normalization">Conventions1.parameter_needs_normalization</a></span><span class="id">|];</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="find_label_add_debug_vars" class="id"><a name="find_label_add_debug_vars" class="">find_label_add_debug_vars:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:961" class="id"><a name="s:961" class="">s</a></span> <span id="k:962" class="id"><a name="k:962" class="">k</a></span> <span id="vars:963" class="id"><a name="vars:963" class="">vars,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_vars">add_debug_vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:963">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:961">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:962">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:961">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:962">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_vars">add_debug_vars</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.driver.Compopts.html#debug">Compopts.debug</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty];</span> <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="find_label_add_debug_params" class="id"><a name="find_label_add_debug_params" class="">find_label_add_debug_params:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:964" class="id"><a name="s:964" class="">s</a></span> <span id="k:965" class="id"><a name="k:965" class="">k</a></span> <span id="vars:966" class="id"><a name="vars:966" class="">vars,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_params">add_debug_params</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars:966">vars</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:964">s</a></span>) <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:965">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#s:964">s</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#k:965">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#add_debug_params">add_debug_params</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.driver.Compopts.html#debug">Compopts.debug</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty];</span> <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.FIND_LABEL">FIND_LABEL</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="step_simulation" class="id"><a name="step_simulation" class="">step_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S1:967" class="id"><a name="S1:967" class="">S1</a></span> <span id="t:968" class="id"><a name="t:968" class="">t</a></span> <span id="S2:969" class="id"><a name="S2:969" class="">S2,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step1">step1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S1:967">S1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#t:968">t</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S2:969">S2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S1':970" class="id"><a name="S1':970" class="">S1'</a></span> (<span id="MS:971" class="id"><a name="MS:971" class="">MS:</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S1:967">S1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S1':970">S1'</a></span>)<span class="id">,</span> <span class="gallina-kwd">exists</span> <span id="S2':972" class="id"><a name="S2':972" class="">S2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step2">step2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S1':970">S1'</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#t:968">t</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S2':972">S2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S2:969">S2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S2':972">S2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">inv</span> <span class="id">MS;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">try</span> (<span class="id">monadInv</span> <span class="id">TRS</span>).<br/>
<br/>
<span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#is_liftable_var_charact">is_liftable_var_charact</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id">f</span>) <span class="id">a1</span>)<span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#is_liftable_var">is_liftable_var</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id">f</span>) <span class="id">a1</span>) <span class="gallina-kwd">as</span> <span class="id">[id|];</span> <span class="id">monadInv</span> <span class="id">TRS</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;liftable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ty</span> <span class="id">[P</span> <span class="id">Q]];</span> <span class="id">subst</span> <span class="id">a1;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast_inject">sem_cast_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_vars">me_vars;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">id</span>). <span class="id">intros</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;local&nbsp;variable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#step_Sset_debug">step_Sset_debug</a></span>. <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_assign_lifted">match_envs_assign_lifted;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_val_is_casted">cast_val_is_casted;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_assign_loc">match_cont_assign_loc;</a></span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#me_range">me_range;</a></span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MV;</span> <span class="id">try</span> <span class="id">congruence</span>. <span class="id">inv</span> <span class="id">H2;</span> <span class="id">try</span> <span class="id">congruence</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="gallina-kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_unmapped_inject">Mem.store_unmapped_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#assign_loc_nextblock">assign_loc_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;global&nbsp;variable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MV;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;not&nbsp;liftable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_lvalue">eval_simpl_lvalue;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tb</span> <span class="id">[tofs</span> <span class="id">[E</span> <span class="id">F]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast_inject">sem_cast_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#assign_loc_inject">assign_loc_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[X</span> <span class="id">[Y</span> <span class="id">Z]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">eexact</span> <span class="id">E</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr</a></span>. <span class="id">eexact</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr;</a></span> <span class="id">auto</span>. <span class="id">eexact</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_invariant">match_envs_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_invariant">match_cont_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#assign_loc_nextblock">assign_loc_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#assign_loc_nextblock">assign_loc_nextblock;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;set&nbsp;temporary&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_set_temp">match_envs_set_temp;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tvf</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_exprlist">eval_simpl_exprlist;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[CASTED</span> <span class="id">[tvargs</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_find_funct">match_cont_find_funct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tfd</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_call">step_call</a></span> <span class="gallina-kwd">with</span> (<span class="id">fd</span> <span class="id">:=</span> <span class="id">tfd</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#type_of_fundef_preserved">type_of_fundef_preserved;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_exprlist">eval_simpl_exprlist;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[CASTED</span> <span class="id">[tvargs</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_inject">external_call_mem_inject;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_globalenvs_preserves_globals">match_globalenvs_preserves_globals;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j'</span> <span class="id">[tvres</span> <span class="id">[tm'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">[R</span> <span class="id">[S</span> <span class="id">[T</span> <span class="id">[U</span> <span class="id">V]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_set_opttemp">match_envs_set_opttemp;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_extcall">match_envs_extcall;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_extcall">match_cont_extcall;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MENV;</span> <span class="id">extlia</span>. <span class="id">inv</span> <span class="id">MENV;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_trans">Ple_trans;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_trans">Ple_trans;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;sequence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
<br/>
<span class="comment">(*&nbsp;skip&nbsp;sequence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;continue&nbsp;sequence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;break&nbsp;sequence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_ifthenelse">step_ifthenelse</a></span> <span class="gallina-kwd">with</span> (<span class="id">v1</span> <span class="id">:=</span> <span class="id">tv</span>) (<span class="id">b</span> <span class="id">:=</span> <span class="id">b</span>). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val_inject">bool_val_inject;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
<br/>
<span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
<br/>
<span class="comment">(*&nbsp;skip-or-continue&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">destruct</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">x;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
<br/>
<span class="comment">(*&nbsp;break&nbsp;loop1&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_break_loop1">step_break_loop1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;skip&nbsp;loop2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_skip_loop2">step_skip_loop2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">H2;</span> <span class="id">rewrite</span> <span class="id">H4;</span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;break&nbsp;loop2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_break_loop2">step_break_loop2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;none&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_free_blocks">match_envs_free_blocks;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_free_env">match_cont_free_env;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;some&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast_inject">sem_cast_inject;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv'</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_free_blocks">match_envs_free_blocks;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr</a></span>. <span class="id">monadInv</span> <span class="id">TRF;</span> <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_free_env">match_cont_free_env;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;skip&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_free_blocks">match_envs_free_blocks;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_is_call_cont">match_cont_is_call_cont;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TRF;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_change_cenv">match_cont_change_cenv</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id">f</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_free_env">match_cont_free_env;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#eval_simpl_expr">eval_simpl_expr;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#typeof_simpl_expr">typeof_simpl_expr</a></span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_switch_arg">sem_switch_arg</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_switch">classify_switch</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate;</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">B;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#simpl_seq_of_labeled_statement">simpl_seq_of_labeled_statement</a></span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#simpl_select_switch">simpl_select_switch;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#addr_taken_seq_of_labeled_statement">addr_taken_seq_of_labeled_statement</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv_select_switch">compat_cenv_select_switch</a></span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
<br/>
<span class="comment">(*&nbsp;skip-break&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_skip_break_switch">step_skip_break_switch</a></span>. <span class="id">destruct</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">x;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
<br/>
<span class="comment">(*&nbsp;continue&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MCONT</span>. <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#step_continue_switch">step_continue_switch</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
<br/>
<span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">TRF;</span> <span class="id">intros</span> <span class="id">TRF'</span>. <span class="id">monadInv</span> <span class="id">TRF'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#simpl_find_label">simpl_find_label</a></span> <span class="id">j</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id">f</span>) <span class="id">m</span> <span class="id">lo</span> <span class="id">tlo</span> <span class="id">lbl</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_body">fn_body</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#call_cont">call_cont</a></span> <span class="id">k</span>) <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#call_cont">call_cont</a></span> <span class="id">tk</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv_for">compat_cenv_for</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span>. <span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">D]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#find_label_add_debug_params">find_label_add_debug_params</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#find_label_store_params">find_label_store_params</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#find_label_add_debug_vars">find_label_add_debug_vars</a></span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;internal&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TRFD</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">EQ;</span> <span class="id">intro</span> <span class="id">EQ';</span> <span class="id">monadInv</span> <span class="id">EQ'</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_alloc_variables">match_envs_alloc_variables;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen">cenv_for_gen</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> <span class="id">f</span>.(<span class="id"><a href="compcert.cfrontend.Clight.html#fn_body">fn_body</a></span>)) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen_by_value">cenv_for_gen_by_value;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#mem_iff">VSF.mem_iff</a></span>. <span class="id">eexact</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen_domain">cenv_for_gen_domain</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#mem_iff">VSF.mem_iff</a></span>. <span class="id">eexact</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j'</span> <span class="id">[te</span> <span class="id">[tm0</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">[D</span> <span class="id">[E</span> <span class="id">[F</span> <span class="id">G]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">K:</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#val_casted">val_casted</a></span> <span class="id">vargs</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id">f</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#val_casted_list_params">val_casted_list_params</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_function">type_of_function</a></span> <span class="gallina-kwd">in</span> <span class="id">FUNTY</span>. <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#store_params_correct">store_params_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet_append_left">list_norepet_append_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#val_inject_list_incr">val_inject_list_incr</a></span> <span class="gallina-kwd">with</span> <span class="id">j';</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">B</span>. <span class="id">eexact</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_lifted">create_undef_temps_lifted</a></span> <span class="id">id</span> <span class="id">f</span>). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">create_undef_temps</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> <span class="id">f</span>))<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[v|]</span> <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#create_undef_temps_inv">create_undef_temps_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">Q]</span>. <span class="id">elim</span> (<span class="id">l</span> <span class="id">id</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tel</span> <span class="id">[tm1</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">[R</span> <span class="id">[S</span> <span class="id">T]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#cenv_for_gen">cenv_for_gen</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#addr_taken_stmt">addr_taken_stmt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_body">fn_body</a></span> <span class="id">f</span>)) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id">f</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#vars_and_temps_properties">vars_and_temps_properties</a></span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_params">fn_params</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_vars">fn_vars</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_temps">fn_temps</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[X</span> <span class="id">[Y</span> <span class="id">Z]]</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">exact</span> <span class="id">Y</span>. <span class="id">exact</span> <span class="id">X</span>. <span class="id">exact</span> <span class="id">Z</span>. <span class="id">simpl</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">simpl</span>. <span class="id">eexact</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#step_add_debug_params">step_add_debug_params</a></span>. <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#forall2_val_casted_inject">forall2_val_casted_inject;</a></span> <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">P</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#step_add_debug_vars">step_add_debug_vars</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#remove_lifted">remove_lifted;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#filter_In">List.filter_In</a></span> <span class="gallina-kwd">in</span> <span class="id">H3</span>. <span class="id">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_true_iff">negb_true_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_invariant">match_cont_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id">chunk</span> <span class="id">m0</span> <span class="id">b</span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bind_parameters_load">bind_parameters_load;</a></span> <span class="id">eauto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_range">alloc_variables_range</a></span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">empty_env</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">intros</span> <span class="id">[?|?]</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">b'</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#alloc_variables_load">alloc_variables_load;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#compat_cenv_for">compat_cenv_for</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#bind_parameters_nextblock">bind_parameters_nextblock</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>). <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">T;</span> <span class="id">extlia</span>.<br/>
<br/>
<span class="comment">(*&nbsp;external&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TRFD</span>. <span class="id">inv</span> <span class="id">FUNTY</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_inject">external_call_mem_inject;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_globalenvs_preserves_globals">match_globalenvs_preserves_globals</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_globalenv">match_cont_globalenv</a></span>. <span class="id">eexact</span> (<span class="id">MCONT</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.empty">VSet.empty</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[j'</span> <span class="id">[tvres</span> <span class="id">[tm'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">[R</span> <span class="id">[S</span> <span class="id">[T</span> <span class="id">[U</span> <span class="id">V]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_incr_bounds">match_cont_incr_bounds</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_cont_extcall">match_cont_extcall;</a></span> <span class="id">eauto</span>. <span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">MCONT</span> (<span class="id"><a href="compcert.cfrontend.SimplLocals.html#cenv_for">cenv_for</a></span> <span class="id">f</span>)). <span class="id">inv</span> <span class="id">MCONT</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">compat</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_envs_set_opttemp">match_envs_set_opttemp;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="initial_states_simulation" class="id"><a name="initial_states_simulation" class="">initial_states_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S:973" class="id"><a name="S:973" class="">S,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S:973">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="R:974" class="id"><a name="R:974" class="">R,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tprog">tprog</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#R:974">R</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S:973">S</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#R:974">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#function_ptr_translated">function_ptr_translated;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tf</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_transf_partial">Genv.init_mem_transf_partial</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.TRANSF">TRANSF</a></span>)). <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tprog">tprog</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.prog">prog</a></span>). <br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">b</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.common.Linking.html#match_program_main">match_program_main</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.TRANSF">TRANSF</a></span>)). <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H3;</span> <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#type_of_fundef_preserved">type_of_fundef_preserved;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Memory.html#Mem.flat_inj">Mem.flat_inj</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m0</span>)).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m0</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.flat_inj">Mem.flat_inj</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#pred_dec_true">pred_dec_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.flat_inj">Mem.flat_inj</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id">b1</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m0</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_not_fresh">Genv.find_symbol_not_fresh</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_not_fresh">Genv.find_funct_ptr_not_fresh</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info_not_fresh">Genv.find_var_info_not_fresh</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.initmem_inject">Genv.initmem_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="final_states_simulation" class="id"><a name="final_states_simulation" class="">final_states_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S:975" class="id"><a name="S:975" class="">S</a></span> <span id="R:976" class="id"><a name="R:976" class="">R</a></span> <span id="r:977" class="id"><a name="r:977" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S:975">S</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#R:976">R</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#final_state">final_state</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#S:975">S</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#r:977">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#final_state">final_state</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#R:976">R</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#r:977">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">MCONT</span> <span class="id"><a href="compcert.cfrontend.SimplLocals.html#VSet.empty">VSet.empty</a></span>). <span class="id">inv</span> <span class="id">MCONT</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RINJ</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="transf_program_correct" class="id"><a name="transf_program_correct" class="">transf_program_correct:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#semantics1">semantics1</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.prog">prog</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#semantics2">semantics2</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION.tprog">tprog</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_plus">forward_simulation_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#initial_states_simulation">initial_states_simulation</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#final_states_simulation">final_states_simulation</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#step_simulation">step_simulation</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<h2> Commutation with linking </h2>
<br/>
<span class="id">Global</span> <span class="vernacular">Instance</span> <span id="TransfSimplLocalsLink" class="id"><a name="TransfSimplLocalsLink" class="">TransfSimplLocalsLink</a></span> <span class="id">:</span> <span class="id"><a href="compcert.common.Linking.html#TransfLink">TransfLink</a></span> <span class="id"><a href="compcert.cfrontend.SimplLocalsproof.html#match_prog">match_prog</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#link_match_program">Ctypes.link_match_program</a></span><span class="id">;</span> <span class="id">eauto</span>. <br/>
<span class="id">-</span> <span class="id">intros</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Transparent</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Linker_fundef">Linker_fundef</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#link_fundef">link_fundef</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">f1;</span> <span class="id">monadInv</span> <span class="id">H3;</span> <span class="id">destruct</span> <span class="id">f2;</span> <span class="id">monadInv</span> <span class="id">H4;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">e;</span> <span class="id">inv</span> <span class="id">H2</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">e;</span> <span class="id">inv</span> <span class="id">H2</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#external_function_eq">external_function_eq</a></span> <span class="id">e</span> <span class="id">e0</span> &amp;&amp; <span class="id"><a href="compcert.cfrontend.Ctypes.html#typelist_eq">typelist_eq</a></span> <span class="id">t</span> <span class="id">t1</span> &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">t0</span> <span class="id">t2</span> &amp;&amp; <span class="id"><a href="compcert.common.AST.html#calling_convention_eq">calling_convention_eq</a></span> <span class="id">c</span> <span class="id">c0</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split;</span> <span class="id">eauto</span>. <br/>
Qed.</div>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
