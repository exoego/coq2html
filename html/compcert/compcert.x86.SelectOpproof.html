
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SelectOpproof</title>
<meta name="description" content="Documentation of Coq module SelectOpproof" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module SelectOpproof</h1>
<br/>
<div class="doc">Correctness of instruction selection for operators </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Builtins.html">Builtins</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.backend.Cminor.html">Cminor</a></span> <span class="id"><a href="compcert.x86.Op.html">Op</a></span> <span class="id"><a href="compcert.backend.CminorSel.html">CminorSel</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.x86.SelectOp.html">SelectOp</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">cminorsel_scope</span>.<br/>
<br/>
<h1> Useful lemmas and tactics </h1>
<br/>
<div class="doc">The following are trivial lemmas and custom tactics that help
  perform backward (inversion) and forward reasoning over the evaluation
  of operator applications. </div>
<br/>
<span class="vernacular">Ltac</span> <span class="id">EvalOp</span> <span class="id">:=</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_Eop">eval_Eop;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">evalexpr</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">InvEval1</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> <span class="id">_</span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>) <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> <span class="id">_</span> (<span class="id">_</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>)) <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> <span class="id">_</span> (<span class="id">_</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id">_</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>)) <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span> <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id">_</span>) <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">InvEval2</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.x86.Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.x86.Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.x86.Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> (<span class="id"><a href="compcert.x86.Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">InvEval</span> <span class="id">:=</span> <span class="id">InvEval1;</span> <span class="id">InvEval2;</span> <span class="id">InvEval2;</span> <span class="id">subst</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">TrivialExists</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">|-</span> <span class="gallina-kwd">exists</span> <span id="v:2" class="id"><span id="v:1" class="id"><a name="v:2" class="">v,</a></span></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">?a</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:1">v</a></span> <span class="id">]</span> <span class="id">=&gt;</span> <span class="gallina-kwd">exists</span> <span class="id">a;</span> <span class="id">split;</span> <span class="id">[EvalOp</span> <span class="id">|</span> <span class="id">auto]</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<h1> Correctness of the smart constructors </h1>
<br/>
<span class="vernacular">Section</span> <span id="CMCONSTR" class="id"><a name="CMCONSTR" class="">CMCONSTR</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="CMCONSTR.ge" class="id"><a name="CMCONSTR.ge" class="">ge:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#genv">genv</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CMCONSTR.sp" class="id"><a name="CMCONSTR.sp" class="">sp:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CMCONSTR.e" class="id"><a name="CMCONSTR.e" class="">e:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#env">env</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CMCONSTR.m" class="id"><a name="CMCONSTR.m" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>.<br/>
<br/>
<div class="doc">We now show that the code generated by "smart constructor" functions
  such as <span class="bracket"><span class="id">SelectOp.notint</span></span> behaves as expected.  Continuing the
  <span class="bracket"><span class="id">notint</span></span> example, we show that if the expression <span class="bracket"><span class="id">e</span></span>
  evaluates to some integer value <span class="bracket"><span class="id">Vint</span> <span class="id">n</span></span>, then <span class="bracket"><span class="id">SelectOp.notint</span> <span class="id">e</span></span>
  evaluates to a value <span class="bracket"><span class="id">Vint</span> (<span class="id">Int.not</span> <span class="id">n</span>)</span> which is indeed the integer
  negation of the value of <span class="bracket"><span class="id">e</span></span>.
  All proofs follow a common pattern:
<ul>
<li>
 Reasoning by case over the result of the classification functions
  (such as <span class="bracket"><span class="id">add_match</span></span> for integer addition), gathering additional
  information on the shape of the argument expressions in the non-default
  cases.
</li>
<li>
 Inversion of the evaluations of the arguments, exploiting the additional
  information thus gathered.
</li>
<li>
 Equational reasoning over the arithmetic operations performed,
  using the lemmas from the <span class="bracket"><span class="id">Int</span></span> and <span class="bracket"><span class="id">Float</span></span> modules.
</li>
<li>
 Construction of an evaluation derivation for the expression returned
  by the smart constructor.
</li>
</ul>
</div>
<br/>
<span class="vernacular">Definition</span> <span id="unary_constructor_sound" class="id"><a name="unary_constructor_sound" class="">unary_constructor_sound</a></span> (<span id="cstr:7" class="id"><a name="cstr:7" class="">cstr:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) (<span id="sem:8" class="id"><a name="sem:8" class="">sem:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:9" class="id"><a name="le:9" class="">le</a></span> <span id="a:10" class="id"><a name="a:10" class="">a</a></span> <span id="x:11" class="id"><a name="x:11" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:9">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:10">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:11">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:12" class="id"><a name="v:12" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:9">le</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#cstr:7">cstr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:10">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:12">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#sem:8">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:11">x</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:12">v</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="binary_constructor_sound" class="id"><a name="binary_constructor_sound" class="">binary_constructor_sound</a></span> (<span id="cstr:13" class="id"><a name="cstr:13" class="">cstr:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) (<span id="sem:14" class="id"><a name="sem:14" class="">sem:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:15" class="id"><a name="le:15" class="">le</a></span> <span id="a:16" class="id"><a name="a:16" class="">a</a></span> <span id="x:17" class="id"><a name="x:17" class="">x</a></span> <span id="b:18" class="id"><a name="b:18" class="">b</a></span> <span id="y:19" class="id"><a name="y:19" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:15">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:16">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:17">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:15">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:18">b</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:19">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:20" class="id"><a name="v:20" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:15">le</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#cstr:13">cstr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:16">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:18">b</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:20">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#sem:14">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:17">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:19">y</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:20">v</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_Olea_ptr" class="id"><a name="eval_Olea_ptr" class="">eval_Olea_ptr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:21" class="id"><a name="a:21" class="">a</a></span> <span id="el:22" class="id"><a name="el:22" class="">el</a></span> <span id="m:23" class="id"><a name="m:23" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#Olea_ptr">Olea_ptr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:21">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#el:22">el</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#m:23">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:21">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#el:22">el</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#Olea_ptr">Olea_ptr,</a></span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_addrsymbol" class="id"><a name="eval_addrsymbol" class="">eval_addrsymbol:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:24" class="id"><a name="le:24" class="">le</a></span> <span id="id:25" class="id"><a name="id:25" class="">id</a></span> <span id="ofs:26" class="id"><a name="ofs:26" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:27" class="id"><a name="v:27" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:24">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#addrsymbol">addrsymbol</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#id:25">id</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ofs:26">ofs</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:27">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#id:25">id</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ofs:26">ofs</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:27">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#addrsymbol">addrsymbol</a></span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id">id</span> <span class="id">ofs</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#symbol_is_external">symbol_is_external</a></span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq">Ptrofs.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_spec">Ptrofs.eq_spec</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#Olea_ptr">Olea_ptr;</a></span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">simpl;</span><br/>
&nbsp;&nbsp;<span class="id">[</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.shift_symbol_address_64">Genv.shift_symbol_address_64</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.shift_symbol_address_32">Genv.shift_symbol_address_32</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="id">];</span><br/>
&nbsp;&nbsp;<span class="id">f_equal;</span> <span class="id">f_equal;</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span><span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64_to_int64">Ptrofs.of_int64_to_int64</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int_to_int">Ptrofs.of_int_to_int</a></span> <span class="id">];</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="comment">(*rewrite&nbsp;eval_Olea_ptr.&nbsp;apply&nbsp;eval_addressing_Aglobal.&nbsp;*)</span><br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_addrstack" class="id"><a name="eval_addrstack" class="">eval_addrstack:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:28" class="id"><a name="le:28" class="">le</a></span> <span id="ofs:29" class="id"><a name="ofs:29" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:30" class="id"><a name="v:30" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:28">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#addrstack">addrstack</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ofs:29">ofs</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:30">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ofs:29">ofs</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:30">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#addrstack">addrstack</a></span>. <span class="id">TrivialExists</span>. <span class="comment">(*rewrite&nbsp;eval_Olea_ptr.&nbsp;apply&nbsp;eval_addressing_Ainstack.*)</span><br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_notint" class="id"><a name="eval_notint" class="">eval_notint:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#notint">notint</a></span> <span class="id"><a href="compcert.common.Values.html#Val.notint">Val.notint</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#notint">notint;</a></span> <span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#notint_match">notint_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.not_xor">Val.not_xor</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.xor_assoc">Val.xor_assoc</a></span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_addimm" class="id"><a name="eval_addimm" class="">eval_addimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:31" class="id"><a name="n:31" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#addimm">addimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:31">n</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:32" class="id"><a name="x:32" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:32">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:31">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#addimm">addimm;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">n</span>. <span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">?Int</span>.<span class="id">add_zero,</span> <span class="id">?Ptrofs</span>.<span class="id">add_zero;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#addimm_match">addimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">TrivialExists</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_offset_addressing_total_32">eval_offset_addressing_total_32</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_signed">Int.repr_signed</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_signed">Int.repr_signed</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_add" class="id"><a name="eval_add" class="">eval_add:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#add">add</a></span> <span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="x:35" class="id"><span id="x:33" class="id"><a name="x:35" class="">x</a></span></span> <span id="y:36" class="id"><span id="y:34" class="id"><a name="y:36" class="">y,</a></span></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#x:33">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:34">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:33">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:34">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="gallina-kwd">forall</span> <span id="id:40" class="id"><span id="id:37" class="id"><a name="id:40" class="">id</a></span></span> <span id="ofs:41" class="id"><span id="ofs:38" class="id"><a name="ofs:41" class="">ofs</a></span></span> <span id="n:42" class="id"><span id="n:39" class="id"><a name="n:42" class="">n,</a></span></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#id:37">id</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ofs:38">ofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:39">n</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#id:37">id</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ofs:38">ofs</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:39">n</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>)) <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.shift_symbol_address_32">Genv.shift_symbol_address_32</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#add">add;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#add_match">add_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">A,</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut_4">Val.add_permut_4</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">A,</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">decEq;</span> <span class="id">decEq</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">A,</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut_4">Val.add_permut_4</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">Heqb0</span>. <span class="id">rewrite</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span> <span class="id">v1</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">Heqb0</span>. <span class="id">rewrite</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">do</span> <span class="id">2</span> <span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">Heqb0</span>. <span class="id">rewrite</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!Val</span>.<span class="id">add_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n1</span>))). <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="id">do</span> <span class="id">2</span> <span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">Heqb0</span>. <span class="id">rewrite</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!Val</span>.<span class="id">add_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>))). <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">decEq;</span> <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">decEq;</span> <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span><span class="id">;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">,</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_zero">Int.add_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_zero">Int.add_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_sub" class="id"><a name="eval_sub" class="">eval_sub:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#sub">sub</a></span> <span class="id"><a href="compcert.common.Values.html#Val.sub">Val.sub</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#sub">sub;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#sub_match">sub_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.sub_add_opp">Val.sub_add_opp</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.sub_add_l">Val.sub_add_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.sub_add_r">Val.sub_add_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_add_opp">Int.sub_add_opp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id">n1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n2</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm;</a></span> <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.sub_add_l">Val.sub_add_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm;</a></span> <span class="id">EvalOp</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.sub_add_r">Val.sub_add_r</a></span>. <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-n2</a></span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>)). <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm;</a></span> <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_negint" class="id"><a name="eval_negint" class="">eval_negint:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#negint">negint</a></span> <span class="id"><a href="compcert.common.Values.html#Val.neg">Val.neg</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#negint">negint</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#negint_match">negint_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_shlimm" class="id"><a name="eval_shlimm" class="">eval_shlimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:43" class="id"><a name="n:43" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="gallina-kwd">fun</span> <span id="a:44" class="id"><a name="a:44" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#shlimm">shlimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:44">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:43">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:45" class="id"><a name="x:45" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:45">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:43">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>.  <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#shlimm">shlimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">subst</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shl_zero">Int.shl_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:LT;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shlimm_match">shlimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id">n1</span> <span class="id">n</span>))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">LT</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?</span>.<br/>
<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span> <span class="id">v1</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>)))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shl_shl">Int.shl_shl</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shift_is_scale">shift_is_scale</a></span> <span class="id">n</span>).<br/>
<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shl_mul">Int.shl_mul</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul_add_distr_l">Int.mul_add_distr_l</a></span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl_mul">Int.shl_mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n1</span>)). <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shift_is_scale">shift_is_scale</a></span> <span class="id">n</span>).<br/>
<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_zero">Int.add_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shl_mul">Int.shl_mul</a></span>. <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>. <span class="id">constructor</span>. <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_shruimm" class="id"><a name="eval_shruimm" class="">eval_shruimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:46" class="id"><a name="n:46" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="gallina-kwd">fun</span> <span id="a:47" class="id"><a name="a:47" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#shruimm">shruimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:47">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:46">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:48" class="id"><a name="x:48" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.shru">Val.shru</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:48">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:46">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>.  <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#shruimm">shruimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">subst</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shru_zero">Int.shru_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:LT;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shruimm_match">shruimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id">n1</span> <span class="id">n</span>))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">LT;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?</span>.<br/>
<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.shru">Val.shru</a></span> <span class="id">v1</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>)))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">LT</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shru_shru">Int.shru_shru</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>. <span class="id">constructor</span>. <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_shrimm" class="id"><a name="eval_shrimm" class="">eval_shrimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:49" class="id"><a name="n:49" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="gallina-kwd">fun</span> <span id="a:50" class="id"><a name="a:50" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#shrimm">shrimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:50">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:49">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:51" class="id"><a name="x:51" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.shr">Val.shr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:51">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:49">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>.  <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#shrimm">shrimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">subst</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shr_zero">Int.shr_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:LT;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shrimm_match">shrimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id">n1</span> <span class="id">n</span>))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">LT;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?</span>.<br/>
<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.shr">Val.shr</a></span> <span class="id">v1</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>)))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shr_shr">Int.shr_shr</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>. <span class="id">constructor</span>. <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_mulimm_base" class="id"><a name="eval_mulimm_base" class="">eval_mulimm_base:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:52" class="id"><a name="n:52" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#mulimm_base">mulimm_base</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:52">n</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:53" class="id"><a name="x:53" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:53">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:52">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#mulimm_base">mulimm_base</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.one_bits_decomp">Int.one_bits_decomp</a></span> <span class="id">n</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.one_bits_range">Int.one_bits_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">D</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.one_bits">Int.one_bits</a></span> <span class="id">n</span>) <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">i</span> <span class="id">l]</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">j</span> <span class="id">l</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.common.Values.html#Val.mul">Val.mul</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span>)). <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_shlimm">eval_shlimm;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">D;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_zero">Int.add_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shl_mul">Int.shl_mul</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">l</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">k</span> <span class="id">l</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#eval_shlimm">eval_shlimm</a></span> <span class="id">i</span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id">0</span>) <span class="id">x</span>). <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[v1</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#eval_shlimm">eval_shlimm</a></span> <span class="id">j</span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id">0</span>) <span class="id">x</span>). <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[v2</span> <span class="id">[A2</span> <span class="id">B2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_add">eval_add</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">intros</span> <span class="id">[v3</span> <span class="id">[A3</span> <span class="id">B3]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">v3;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">D;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_zero">Int.add_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span> <span class="id">i</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span> <span class="id">j</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span>)) (<span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">j</span>))).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.mul_add_distr_r">Val.mul_add_distr_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.shl_mul">Val.shl_mul</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id">v1</span> <span class="id">v2</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_lessdef">Val.add_lessdef</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id">R</span> <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_mulimm" class="id"><a name="eval_mulimm" class="">eval_mulimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:54" class="id"><a name="n:54" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#mulimm">mulimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:54">n</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:55" class="id"><a name="x:55" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:55">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:54">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#mulimm">mulimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul_zero">Int.mul_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul_one">Int.mul_one</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#mulimm_match">mulimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">+</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul_commut">Int.mul_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.mul_add_distr_l">Val.mul_add_distr_l</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_mulimm_base">eval_mulimm_base;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">n</span>). <span class="id">intros</span> <span class="id">[v'</span> <span class="id">[A1</span> <span class="id">B1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>)) <span class="id">le</span> (<span class="id"><a href="compcert.x86.SelectOp.html#mulimm_base">mulimm_base</a></span> <span class="id">n</span> <span class="id">t2</span>) <span class="id">v'</span>). <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[v''</span> <span class="id">[A2</span> <span class="id">B2]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">v'';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_lessdef">Val.add_lessdef</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.mul_commut">Val.mul_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_mulimm_base">eval_mulimm_base;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_mul" class="id"><a name="eval_mul" class="">eval_mul:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#mul">mul</a></span> <span class="id"><a href="compcert.common.Values.html#Val.mul">Val.mul</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#mul">mul;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#mul_match">mul_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.mul_commut">Val.mul_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_mulimm">eval_mulimm</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_mulimm">eval_mulimm</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_mulhs" class="id"><a name="eval_mulhs" class="">eval_mulhs:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#mulhs">mulhs</a></span> <span class="id"><a href="compcert.common.Values.html#Val.mulhs">Val.mulhs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#mulhs">mulhs;</a></span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="vernacular">Theorem</span> <span id="eval_mulhu" class="id"><a name="eval_mulhu" class="">eval_mulhu:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#mulhu">mulhu</a></span> <span class="id"><a href="compcert.common.Values.html#Val.mulhu">Val.mulhu</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#mulhu">mulhu;</a></span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="vernacular">Theorem</span> <span id="eval_andimm" class="id"><a name="eval_andimm" class="">eval_andimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:56" class="id"><a name="n:56" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#andimm">andimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:56">n</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:57" class="id"><a name="x:57" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.and">Val.and</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:57">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:56">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#andimm">andimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_zero">Int.and_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_mone">Int.and_mone</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#andimm_match">andimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.and_assoc">Val.and_assoc</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="id">TrivialExists</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="id">TrivialExists</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_and" class="id"><a name="eval_and" class="">eval_and:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#and">and</a></span> <span class="id"><a href="compcert.common.Values.html#Val.and">Val.and</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#and">and;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#and_match">and_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.and_commut">Val.and_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_andimm">eval_andimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_andimm">eval_andimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_orimm" class="id"><a name="eval_orimm" class="">eval_orimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:58" class="id"><a name="n:58" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#orimm">orimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:58">n</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:59" class="id"><a name="x:59" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.or">Val.or</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:59">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:58">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#orimm">orimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.or_zero">Int.or_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.or_mone">Int.or_mone</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#orimm_match">orimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.or_commut">Int.or_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.or_assoc">Val.or_assoc</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.or_commut">Int.or_commut</a></span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="eval_same_expr" class="id"><a name="eval_same_expr" class="">eval_same_expr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:60" class="id"><a name="a1:60" class="">a1</a></span> <span id="a2:61" class="id"><a name="a2:61" class="">a2</a></span> <span id="le:62" class="id"><a name="le:62" class="">le</a></span> <span id="v1:63" class="id"><a name="v1:63" class="">v1</a></span> <span id="v2:64" class="id"><a name="v2:64" class="">v2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.SelectOp.html#same_expr_pure">same_expr_pure</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a1:60">a1</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a2:61">a2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:62">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a1:60">a1</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v1:63">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:62">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a2:61">a2</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v2:64">v2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.SelectOpproof.html#a1:60">a1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a2:61">a2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v1:63">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v2:64">v2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">v2</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a1;</span> <span class="id">simpl;</span> <span class="id">try</span> (<span class="id">intros;</span> <span class="id">discriminate</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a2;</span> <span class="id">simpl;</span> <span class="id">try</span> (<span class="id">intros;</span> <span class="id">discriminate</span>).<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">i</span> <span class="id">i0</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">i0</span>. <span class="id">inversion</span> <span class="id">H0</span>. <span class="id">inversion</span> <span class="id">H1</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="int_add_sub_eq" class="id"><a name="int_add_sub_eq" class="">int_add_sub_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:65" class="id"><a name="x:65" class="">x</a></span> <span id="y:66" class="id"><a name="y:66" class="">y</a></span> <span id="z:67" class="id"><a name="z:67" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:65">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:66">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:67">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:67">z</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:65">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:66">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">z</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_add_l">Int.sub_add_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_idem">Int.sub_idem</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_zero_l">Int.add_zero_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_or" class="id"><a name="eval_or" class="">eval_or:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#or">or</a></span> <span class="id"><a href="compcert.common.Values.html#Val.or">Val.or</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#or">or;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#or_match">or_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;intconst&nbsp;*)</span><br/>
<span class="id">-</span> <span class="id">InvEval</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.or_commut">Val.or_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_orimm">eval_orimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">InvEval</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_orimm">eval_orimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;shlimm&nbsp;-&nbsp;shruimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n1</span> <span class="id">n2</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#same_expr_pure">same_expr_pure</a></span> <span class="id">t1</span> <span class="id">t2</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_same_expr">eval_same_expr;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ1</span> <span class="id">EQ2];</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.ror">Val.ror</a></span> <span class="id">v0</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n2</span>))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v0;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Int.or_ror">Int.or_ror</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">econstructor;</span> <span class="id">split;</span> <span class="id">eauto</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#int_add_sub_eq">int_add_sub_eq;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;shruimm&nbsp;-&nbsp;shlimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">n1</span> <span class="id">n2</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#same_expr_pure">same_expr_pure</a></span> <span class="id">t1</span> <span class="id">t2</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_same_expr">eval_same_expr;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ1</span> <span class="id">EQ2];</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.ror">Val.ror</a></span> <span class="id">v1</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n2</span>))<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.or_commut">Int.or_commut</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Int.or_ror">Int.or_ror</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">econstructor;</span> <span class="id">split;</span> <span class="id">eauto</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#int_add_sub_eq">int_add_sub_eq;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.or_commut">Val.or_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;default&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_xorimm" class="id"><a name="eval_xorimm" class="">eval_xorimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:68" class="id"><a name="n:68" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#xorimm">xorimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:68">n</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:69" class="id"><a name="x:69" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Val.xor">Val.xor</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:69">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:68">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#xorimm">xorimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">n</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_zero">Int.xor_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#xorimm_match">xorimm_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_commut">Int.xor_commut</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.xor_assoc">Val.xor_assoc</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_commut">Int.xor_commut</a></span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.not_xor">Val.not_xor</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.xor_assoc">Val.xor_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Values.html#Val.xor_commut">Val.xor_commut</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>)). <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_xor" class="id"><a name="eval_xor" class="">eval_xor:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#xor">xor</a></span> <span class="id"><a href="compcert.common.Values.html#Val.xor">Val.xor</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#xor">xor;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#xor_match">xor_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.xor_commut">Val.xor_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_xorimm">eval_xorimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_xorimm">eval_xorimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_divs_base" class="id"><a name="eval_divs_base" class="">eval_divs_base:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:70" class="id"><a name="le:70" class="">le</a></span> <span id="a:71" class="id"><a name="a:71" class="">a</a></span> <span id="b:72" class="id"><a name="b:72" class="">b</a></span> <span id="x:73" class="id"><a name="x:73" class="">x</a></span> <span id="y:74" class="id"><a name="y:74" class="">y</a></span> <span id="z:75" class="id"><a name="z:75" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:70">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:71">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:73">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:70">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:72">b</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:74">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.divs">Val.divs</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:73">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:74">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:75">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:76" class="id"><a name="v:76" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:70">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#divs_base">divs_base</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:71">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:72">b</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:76">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:75">z</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:76">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#divs_base">divs_base</a></span>. <span class="gallina-kwd">exists</span> <span class="id">z;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_divu_base" class="id"><a name="eval_divu_base" class="">eval_divu_base:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:77" class="id"><a name="le:77" class="">le</a></span> <span id="a:78" class="id"><a name="a:78" class="">a</a></span> <span id="b:79" class="id"><a name="b:79" class="">b</a></span> <span id="x:80" class="id"><a name="x:80" class="">x</a></span> <span id="y:81" class="id"><a name="y:81" class="">y</a></span> <span id="z:82" class="id"><a name="z:82" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:77">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:78">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:80">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:77">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:79">b</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:81">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.divu">Val.divu</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:80">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:81">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:82">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:83" class="id"><a name="v:83" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:77">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#divu_base">divu_base</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:78">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:79">b</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:83">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:82">z</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:83">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#divu_base">divu_base</a></span>. <span class="gallina-kwd">exists</span> <span class="id">z;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_mods_base" class="id"><a name="eval_mods_base" class="">eval_mods_base:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:84" class="id"><a name="le:84" class="">le</a></span> <span id="a:85" class="id"><a name="a:85" class="">a</a></span> <span id="b:86" class="id"><a name="b:86" class="">b</a></span> <span id="x:87" class="id"><a name="x:87" class="">x</a></span> <span id="y:88" class="id"><a name="y:88" class="">y</a></span> <span id="z:89" class="id"><a name="z:89" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:84">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:85">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:87">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:84">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:86">b</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:88">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.mods">Val.mods</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:87">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:88">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:89">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:90" class="id"><a name="v:90" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:84">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#mods_base">mods_base</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:85">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:86">b</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:90">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:89">z</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:90">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#mods_base">mods_base</a></span>. <span class="gallina-kwd">exists</span> <span class="id">z;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_modu_base" class="id"><a name="eval_modu_base" class="">eval_modu_base:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:91" class="id"><a name="le:91" class="">le</a></span> <span id="a:92" class="id"><a name="a:92" class="">a</a></span> <span id="b:93" class="id"><a name="b:93" class="">b</a></span> <span id="x:94" class="id"><a name="x:94" class="">x</a></span> <span id="y:95" class="id"><a name="y:95" class="">y</a></span> <span id="z:96" class="id"><a name="z:96" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:91">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:92">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:94">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:91">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:93">b</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:95">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.modu">Val.modu</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:94">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:95">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:96">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:97" class="id"><a name="v:97" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:91">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#modu_base">modu_base</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:92">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:93">b</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:97">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:96">z</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:97">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#modu_base">modu_base</a></span>. <span class="gallina-kwd">exists</span> <span class="id">z;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_shrximm" class="id"><a name="eval_shrximm" class="">eval_shrximm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:98" class="id"><a name="le:98" class="">le</a></span> <span id="a:99" class="id"><a name="a:99" class="">a</a></span> <span id="n:100" class="id"><a name="n:100" class="">n</a></span> <span id="x:101" class="id"><a name="x:101" class="">x</a></span> <span id="z:102" class="id"><a name="z:102" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:98">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:99">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:101">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.shrx">Val.shrx</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:101">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:100">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:102">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:103" class="id"><a name="v:103" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:98">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#shrximm">shrximm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:99">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:100">n</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:103">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#z:102">z</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:103">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#shrximm">shrximm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">n</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">31</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shrx">Int.shrx</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="gallina-kwd">with</span> <span class="id">i</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shrx">Int.shrx</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.divs">Int.divs</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shl_zero">Int.shl_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>) <span class="gallina-kwd">with</span> <span class="id">1</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_signed">Int.repr_signed</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_shl" class="id"><a name="eval_shl" class="">eval_shl:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#shl">shl</a></span> <span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#shl">shl;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shl_match">shl_match</a></span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">InvEval</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_shlimm">eval_shlimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_shr" class="id"><a name="eval_shr" class="">eval_shr:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#shr">shr</a></span> <span class="id"><a href="compcert.common.Values.html#Val.shr">Val.shr</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#shr">shr;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shr_match">shr_match</a></span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">InvEval</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_shrimm">eval_shrimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_shru" class="id"><a name="eval_shru" class="">eval_shru:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#shru">shru</a></span> <span class="id"><a href="compcert.common.Values.html#Val.shru">Val.shru</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#shru">shru;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#shru_match">shru_match</a></span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">InvEval</span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_shruimm">eval_shruimm;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_negf" class="id"><a name="eval_negf" class="">eval_negf:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#negf">negf</a></span> <span class="id"><a href="compcert.common.Values.html#Val.negf">Val.negf</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_absf" class="id"><a name="eval_absf" class="">eval_absf:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#absf">absf</a></span> <span class="id"><a href="compcert.common.Values.html#Val.absf">Val.absf</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_addf" class="id"><a name="eval_addf" class="">eval_addf:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#addf">addf</a></span> <span class="id"><a href="compcert.common.Values.html#Val.addf">Val.addf</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_subf" class="id"><a name="eval_subf" class="">eval_subf:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#subf">subf</a></span> <span class="id"><a href="compcert.common.Values.html#Val.subf">Val.subf</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_mulf" class="id"><a name="eval_mulf" class="">eval_mulf:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#mulf">mulf</a></span> <span class="id"><a href="compcert.common.Values.html#Val.mulf">Val.mulf</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_negfs" class="id"><a name="eval_negfs" class="">eval_negfs:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#negfs">negfs</a></span> <span class="id"><a href="compcert.common.Values.html#Val.negfs">Val.negfs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_absfs" class="id"><a name="eval_absfs" class="">eval_absfs:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#absfs">absfs</a></span> <span class="id"><a href="compcert.common.Values.html#Val.absfs">Val.absfs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_addfs" class="id"><a name="eval_addfs" class="">eval_addfs:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#addfs">addfs</a></span> <span class="id"><a href="compcert.common.Values.html#Val.addfs">Val.addfs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_subfs" class="id"><a name="eval_subfs" class="">eval_subfs:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#subfs">subfs</a></span> <span class="id"><a href="compcert.common.Values.html#Val.subfs">Val.subfs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_mulfs" class="id"><a name="eval_mulfs" class="">eval_mulfs:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#mulfs">mulfs</a></span> <span class="id"><a href="compcert.common.Values.html#Val.mulfs">Val.mulfs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="CMCONSTR.COMP_IMM" class="id"><a name="CMCONSTR.COMP_IMM" class="">COMP_IMM</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="CMCONSTR.COMP_IMM.default" class="id"><a name="CMCONSTR.COMP_IMM.default" class="">default:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Op.html#condition">condition</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CMCONSTR.COMP_IMM.intsem" class="id"><a name="CMCONSTR.COMP_IMM.intsem" class="">intsem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CMCONSTR.COMP_IMM.sem" class="id"><a name="CMCONSTR.COMP_IMM.sem" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="CMCONSTR.COMP_IMM.sem_int" class="id"><a name="CMCONSTR.COMP_IMM.sem_int" class="">sem_int:</a></span> <span class="gallina-kwd">forall</span> <span id="c:107" class="id"><a name="c:107" class="">c</a></span> <span id="x:108" class="id"><a name="x:108" class="">x</a></span> <span id="y:109" class="id"><a name="y:109" class="">y,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:107">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:108">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:109">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.intsem">intsem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:107">c</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:108">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:109">y</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="CMCONSTR.COMP_IMM.sem_undef" class="id"><a name="CMCONSTR.COMP_IMM.sem_undef" class="">sem_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="c:111" class="id"><a name="c:111" class="">c</a></span> <span id="v:112" class="id"><a name="v:112" class="">v,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:111">c</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:112">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CMCONSTR.COMP_IMM.sem_eq" class="id"><a name="CMCONSTR.COMP_IMM.sem_eq" class="">sem_eq:</a></span> <span class="gallina-kwd">forall</span> <span id="x:114" class="id"><a name="x:114" class="">x</a></span> <span id="y:115" class="id"><a name="y:115" class="">y,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:114">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:115">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:114">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:115">y</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="CMCONSTR.COMP_IMM.sem_ne" class="id"><a name="CMCONSTR.COMP_IMM.sem_ne" class="">sem_ne:</a></span> <span class="gallina-kwd">forall</span> <span id="x:117" class="id"><a name="x:117" class="">x</a></span> <span id="y:118" class="id"><a name="y:118" class="">y,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:117">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:118">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:117">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:118">y</a></span>)).<br/>
<span class="vernacular">Hypothesis</span> <span id="CMCONSTR.COMP_IMM.sem_default" class="id"><a name="CMCONSTR.COMP_IMM.sem_default" class="">sem_default:</a></span> <span class="gallina-kwd">forall</span> <span id="c:120" class="id"><a name="c:120" class="">c</a></span> <span id="v:121" class="id"><a name="v:121" class="">v</a></span> <span id="n:122" class="id"><a name="n:122" class="">n,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:120">c</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:121">v</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:122">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> (<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.default">default</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:120">c</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n:122">n</a></span>) (<span class="id"><a href="compcert.x86.SelectOpproof.html#v:121">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_compimm" class="id"><a name="eval_compimm" class="">eval_compimm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:124" class="id"><a name="le:124" class="">le</a></span> <span id="c:125" class="id"><a name="c:125" class="">c</a></span> <span id="a:126" class="id"><a name="a:126" class="">a</a></span> <span id="n2:127" class="id"><a name="n2:127" class="">n2</a></span> <span id="x:128" class="id"><a name="x:128" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:124">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:126">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:128">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:129" class="id"><a name="v:129" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:124">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#compimm">compimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.default">default</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.intsem">intsem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:125">c</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:126">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n2:127">n2</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:129">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:125">c</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:128">x</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n2:127">n2</a></span>)) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:129">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#compimm">compimm;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#compimm_match">compimm_match</a></span> <span class="id">c</span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;constant&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_int">sem_int</a></span>. <span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.intsem">intsem</a></span> <span class="id">c0</span> <span class="id">n1</span> <span class="id">n2</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;eq&nbsp;cmp&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>). <span class="id">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_negate_condition">eval_negate_condition</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vtrue">Vtrue,</a></span> <span class="id"><a href="compcert.common.Values.html#Vfalse">Vfalse</a></span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_eq">sem_eq;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>). <span class="id">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vtrue">Vtrue,</a></span> <span class="id"><a href="compcert.common.Values.html#Vfalse">Vfalse</a></span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_eq">sem_eq;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vtrue">Vtrue,</a></span> <span class="id"><a href="compcert.common.Values.html#Vfalse">Vfalse</a></span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_eq">sem_eq;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_false">Int.eq_false</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ne&nbsp;cmp&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>). <span class="id">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vtrue">Vtrue,</a></span> <span class="id"><a href="compcert.common.Values.html#Vfalse">Vfalse</a></span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_ne">sem_ne;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>). <span class="id">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_negate_condition">eval_negate_condition</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vtrue">Vtrue,</a></span> <span class="id"><a href="compcert.common.Values.html#Vfalse">Vfalse</a></span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_ne">sem_ne;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vtrue">Vtrue,</a></span> <span class="id"><a href="compcert.common.Values.html#Vfalse">Vfalse</a></span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_ne">sem_ne;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_false">Int.eq_false</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;eq&nbsp;andimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>). <span class="id">InvEval;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_eq">sem_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id">i</span> <span class="id">n1</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_default">sem_default</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ne&nbsp;andimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>). <span class="id">InvEval;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v1;</span> <span class="id">simpl;</span> <span class="id">try</span> (<span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_undef">sem_undef;</a></span> <span class="id">auto</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_ne">sem_ne</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id">i</span> <span class="id">n1</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_default">sem_default</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;default&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_default">sem_default</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hypothesis</span> <span id="CMCONSTR.COMP_IMM.sem_swap" class="id"><a name="CMCONSTR.COMP_IMM.sem_swap" class="">sem_swap:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:130" class="id"><a name="c:130" class="">c</a></span> <span id="x:131" class="id"><a name="x:131" class="">x</a></span> <span id="y:132" class="id"><a name="y:132" class="">y,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:130">c</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#x:131">x</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:132">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:130">c</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:132">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:131">x</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_compimm_swap" class="id"><a name="eval_compimm_swap" class="">eval_compimm_swap:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:134" class="id"><a name="le:134" class="">le</a></span> <span id="c:135" class="id"><a name="c:135" class="">c</a></span> <span id="a:136" class="id"><a name="a:136" class="">a</a></span> <span id="n2:137" class="id"><a name="n2:137" class="">n2</a></span> <span id="x:138" class="id"><a name="x:138" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:134">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:136">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:138">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:139" class="id"><a name="v:139" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:134">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#compimm">compimm</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.default">default</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.intsem">intsem</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:135">c</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#a:136">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n2:137">n2</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:139">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem">sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:135">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#n2:137">n2</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#x:138">x</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:139">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM.sem_swap">sem_swap</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_compimm">eval_compimm;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.COMP_IMM">COMP_IMM</a></span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_comp" class="id"><a name="eval_comp" class="">eval_comp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:140" class="id"><a name="c:140" class="">c,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#comp">comp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:140">c</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.cmp">Val.cmp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:140">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#comp">comp;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#comp_match">comp_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_compimm_swap">eval_compimm_swap;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmp">Val.cmp</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.swap_cmp_bool">Val.swap_cmp_bool</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_compimm">eval_compimm;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_compu" class="id"><a name="eval_compu" class="">eval_compu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:141" class="id"><a name="c:141" class="">c,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#compu">compu</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:141">c</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#c:141">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">y</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#compu">compu;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#compu_match">compu_match</a></span> <span class="id">a</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_compimm_swap">eval_compimm_swap;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.swap_cmpu_bool">Val.swap_cmpu_bool</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_compimm">eval_compimm;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_compf" class="id"><a name="eval_compf" class="">eval_compf:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:142" class="id"><a name="c:142" class="">c,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#compf">compf</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:142">c</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.cmpf">Val.cmpf</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:142">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#compf">compf</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_compfs" class="id"><a name="eval_compfs" class="">eval_compfs:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:143" class="id"><a name="c:143" class="">c,</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#compfs">compfs</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:143">c</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.cmpfs">Val.cmpfs</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#c:143">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#compfs">compfs</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_cast8signed" class="id"><a name="eval_cast8signed" class="">eval_cast8signed:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#cast8signed">cast8signed</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.sign_ext">Val.sign_ext</a></span> <span class="id">8</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast8signed">cast8signed</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#cast8signed_match">cast8signed_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_cast8unsigned" class="id"><a name="eval_cast8unsigned" class="">eval_cast8unsigned:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#cast8unsigned">cast8unsigned</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.zero_ext">Val.zero_ext</a></span> <span class="id">8</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast8unsigned">cast8unsigned</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#cast8unsigned_match">cast8unsigned_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_andimm">eval_andimm;</a></span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_cast16signed" class="id"><a name="eval_cast16signed" class="">eval_cast16signed:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#cast16signed">cast16signed</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.sign_ext">Val.sign_ext</a></span> <span class="id">16</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast16signed">cast16signed</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#cast16signed_match">cast16signed_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_cast16unsigned" class="id"><a name="eval_cast16unsigned" class="">eval_cast16unsigned:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#cast16unsigned">cast16unsigned</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.zero_ext">Val.zero_ext</a></span> <span class="id">16</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast16unsigned">cast16unsigned</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#cast16unsigned_match">cast16unsigned_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_andimm">eval_andimm;</a></span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_select" class="id"><a name="eval_select" class="">eval_select:</a></span> <br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:144" class="id"><a name="le:144" class="">le</a></span> <span id="ty:145" class="id"><a name="ty:145" class="">ty</a></span> <span id="cond:146" class="id"><a name="cond:146" class="">cond</a></span> <span id="al:147" class="id"><a name="al:147" class="">al</a></span> <span id="vl:148" class="id"><a name="vl:148" class="">vl</a></span> <span id="a1:149" class="id"><a name="a1:149" class="">a1</a></span> <span id="v1:150" class="id"><a name="v1:150" class="">v1</a></span> <span id="a2:151" class="id"><a name="a2:151" class="">a2</a></span> <span id="v2:152" class="id"><a name="v2:152" class="">v2</a></span> <span id="a:153" class="id"><a name="a:153" class="">a</a></span> <span id="b:154" class="id"><a name="b:154" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.SelectOp.html#select">select</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ty:145">ty</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#cond:146">cond</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#al:147">al</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a1:149">a1</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a2:151">a2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:153">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:144">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#al:147">al</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:148">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:144">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a1:149">a1</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v1:150">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:144">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a2:151">a2</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v2:152">v2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#cond:146">cond</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:148">vl</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:154">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:155" class="id"><a name="v:155" class="">v,</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:144">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:153">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:155">v</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.select">Val.select</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:154">b</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v1:150">v1</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v2:152">v2</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ty:145">ty</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:155">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#select">select;</a></span> <span class="id">intros</span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#select_supported">select_supported</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.x86.SelectOp.html#select_swap">select_swap</a></span> <span class="id">cond</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.select">Val.select</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">b</span>)) <span class="id">v2</span> <span class="id">v1</span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_Eop">eval_Eop</a></span> <span class="gallina-kwd">with</span> (<span class="id">v2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">v1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">vl</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_negate_condition">eval_negate_condition,</a></span> <span class="id">H3;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.select">Val.select</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>) <span class="id">v1</span> <span class="id">v2</span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_Eop">eval_Eop</a></span> <span class="gallina-kwd">with</span> (<span class="id">v1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">v2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">vl</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">H3;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_singleoffloat" class="id"><a name="eval_singleoffloat" class="">eval_singleoffloat:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#singleoffloat">singleoffloat</a></span> <span class="id"><a href="compcert.common.Values.html#Val.singleoffloat">Val.singleoffloat</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#singleoffloat">singleoffloat</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_floatofsingle" class="id"><a name="eval_floatofsingle" class="">eval_floatofsingle:</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofsingle">floatofsingle</a></span> <span class="id"><a href="compcert.common.Values.html#Val.floatofsingle">Val.floatofsingle</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofsingle">floatofsingle</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_intoffloat" class="id"><a name="eval_intoffloat" class="">eval_intoffloat:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:156" class="id"><a name="le:156" class="">le</a></span> <span id="a:157" class="id"><a name="a:157" class="">a</a></span> <span id="x:158" class="id"><a name="x:158" class="">x</a></span> <span id="y:159" class="id"><a name="y:159" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:156">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:157">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:158">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.intoffloat">Val.intoffloat</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:158">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:159">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:160" class="id"><a name="v:160" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:156">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#intoffloat">intoffloat</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:157">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:160">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:159">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:160">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#intoffloat">intoffloat</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_floatofint" class="id"><a name="eval_floatofint" class="">eval_floatofint:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:161" class="id"><a name="le:161" class="">le</a></span> <span id="a:162" class="id"><a name="a:162" class="">a</a></span> <span id="x:163" class="id"><a name="x:163" class="">x</a></span> <span id="y:164" class="id"><a name="y:164" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:161">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:162">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:163">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.floatofint">Val.floatofint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:163">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:164">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:165" class="id"><a name="v:165" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:161">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#floatofint">floatofint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:162">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:165">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:164">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:165">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofint">floatofint</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#floatofint_match">floatofint_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_intuoffloat" class="id"><a name="eval_intuoffloat" class="">eval_intuoffloat:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:166" class="id"><a name="le:166" class="">le</a></span> <span id="a:167" class="id"><a name="a:167" class="">a</a></span> <span id="x:168" class="id"><a name="x:168" class="">x</a></span> <span id="y:169" class="id"><a name="y:169" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:166">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:167">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:168">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.intuoffloat">Val.intuoffloat</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:168">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:169">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:170" class="id"><a name="v:170" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:166">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#intuoffloat">intuoffloat</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:167">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:170">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:169">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:170">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[n|]</span> <span class="id">eqn:?;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#intuoffloat">intuoffloat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span>.<br/>
<span class="id">-</span> <span class="id">set</span> (<span class="id">im</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">fm</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id">im</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span>). <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_Econdition">eval_Econdition</a></span> <span class="gallina-kwd">with</span> (<span class="id">va</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">f</span> <span class="id">fm</span>).<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">evalexpr</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">f</span> <span class="id">fm</span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu_to_int_1">Float.to_intu_to_int_1</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intro</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu_to_int_2">Float.to_intu_to_int_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span> <span class="gallina-kwd">with</span> <span class="id">im</span>. <span class="id">fold</span> <span class="id">fm</span>. <span class="id">intro</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">t2</span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.SelectOp.html#subf">subf</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">t3</span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.SelectOp.html#intoffloat">intoffloat</a></span> <span class="id">t2</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#eval_subf">eval_subf</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>))<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">t2</span>. <span class="id">intros</span> <span class="id">[v2</span> <span class="id">[A2</span> <span class="id">B2]]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">B2</span>. <span class="id">inv</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) <span class="id">t3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">t3</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#intoffloat">intoffloat</a></span>. <span class="id">EvalOp</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[v4</span> <span class="id">[A4</span> <span class="id">B4]]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">B4</span>. <span class="id">inv</span> <span class="id">B4</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_add_opp">Int.sub_add_opp</a></span> <span class="gallina-kwd">in</span> <span class="id">A4</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_assoc">Int.add_assoc</a></span> <span class="gallina-kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add_commut">Int.add_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span> <span class="id">im</span>)) <span class="gallina-kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_neg_zero">Int.add_neg_zero</a></span> <span class="gallina-kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_zero">Int.add_zero</a></span> <span class="gallina-kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu_to_long">Float.to_intu_to_long</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqo</span>. <span class="id">repeat</span> <span class="id">econstructor</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">Heqo;</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_floatofintu" class="id"><a name="eval_floatofintu" class="">eval_floatofintu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:171" class="id"><a name="le:171" class="">le</a></span> <span id="a:172" class="id"><a name="a:172" class="">a</a></span> <span id="x:173" class="id"><a name="x:173" class="">x</a></span> <span id="y:174" class="id"><a name="y:174" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:171">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:172">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:173">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.floatofintu">Val.floatofintu</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:173">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:174">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:175" class="id"><a name="v:175" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:171">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#floatofintu">floatofintu</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:172">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:175">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:174">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:175">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofintu">floatofintu</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#floatofintu_match">floatofintu_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">InvEval</span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id">i</span>))<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span>.<br/>
<span class="id">+</span> <span class="id">econstructor</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">fm</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_Econdition">eval_Econdition</a></span> <span class="gallina-kwd">with</span> (<span class="id">va</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">evalexpr</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu_of_int_1">Float.of_intu_of_int_1</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofint">floatofint</a></span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#eval_addimm">eval_addimm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">le</span>) (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id">0</span>))<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">intros</span> <span class="id">[v</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#addf">addf</a></span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofint">floatofint</a></span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">fm</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu_of_int_2">Float.of_intu_of_int_2</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_add_opp">Int.sub_add_opp</a></span>. <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu_of_long">Float.of_intu_of_long</a></span>. <span class="id">repeat</span> <span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">reflexivity</span>. <br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_intofsingle" class="id"><a name="eval_intofsingle" class="">eval_intofsingle:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:176" class="id"><a name="le:176" class="">le</a></span> <span id="a:177" class="id"><a name="a:177" class="">a</a></span> <span id="x:178" class="id"><a name="x:178" class="">x</a></span> <span id="y:179" class="id"><a name="y:179" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:176">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:177">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:178">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.intofsingle">Val.intofsingle</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:178">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:179">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:180" class="id"><a name="v:180" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:176">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#intofsingle">intofsingle</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:177">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:180">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:179">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:180">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#intofsingle">intofsingle</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_singleofint" class="id"><a name="eval_singleofint" class="">eval_singleofint:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:181" class="id"><a name="le:181" class="">le</a></span> <span id="a:182" class="id"><a name="a:182" class="">a</a></span> <span id="x:183" class="id"><a name="x:183" class="">x</a></span> <span id="y:184" class="id"><a name="y:184" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:181">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:182">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:183">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.singleofint">Val.singleofint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:183">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:184">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:185" class="id"><a name="v:185" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:181">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#singleofint">singleofint</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:182">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:185">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:184">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:185">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#singleofint">singleofint</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#singleofint_match">singleofint_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_intuofsingle" class="id"><a name="eval_intuofsingle" class="">eval_intuofsingle:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:186" class="id"><a name="le:186" class="">le</a></span> <span id="a:187" class="id"><a name="a:187" class="">a</a></span> <span id="x:188" class="id"><a name="x:188" class="">x</a></span> <span id="y:189" class="id"><a name="y:189" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:186">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:187">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:188">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.intuofsingle">Val.intuofsingle</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:188">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:189">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:190" class="id"><a name="v:190" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:186">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#intuofsingle">intuofsingle</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:187">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:190">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:189">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:190">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">Float32.to_intu</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[n|]</span> <span class="id">eqn:?;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#intuofsingle">intuofsingle</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_intuoffloat">eval_intuoffloat</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofsingle">floatofsingle</a></span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span> <span class="id">f</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">Float32.to_double</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu_double">Float32.to_intu_double</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_singleofintu" class="id"><a name="eval_singleofintu" class="">eval_singleofintu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:191" class="id"><a name="le:191" class="">le</a></span> <span id="a:192" class="id"><a name="a:192" class="">a</a></span> <span id="x:193" class="id"><a name="x:193" class="">x</a></span> <span id="y:194" class="id"><a name="y:194" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:191">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:192">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:193">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.singleofintu">Val.singleofintu</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#x:193">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:194">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v:195" class="id"><a name="v:195" class="">v,</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:191">le</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#singleofintu">singleofintu</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:192">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:195">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#y:194">y</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:195">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">y;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#singleofintu">singleofintu</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#singleofintu_match">singleofintu_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_floatofintu">eval_floatofintu</a></span>. <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">v</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.singleoffloat">Val.singleoffloat</a></span> <span class="id">v</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#singleoffloat">singleoffloat;</a></span> <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">B;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_intu_double">Float32.of_intu_double</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_addressing" class="id"><a name="eval_addressing" class="">eval_addressing:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="le:196" class="id"><a name="le:196" class="">le</a></span> <span id="chunk:197" class="id"><a name="chunk:197" class="">chunk</a></span> <span id="a:198" class="id"><a name="a:198" class="">a</a></span> <span id="v:199" class="id"><a name="v:199" class="">v</a></span> <span id="b:200" class="id"><a name="b:200" class="">b</a></span> <span id="ofs:201" class="id"><a name="ofs:201" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:196">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:198">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:199">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.SelectOpproof.html#v:199">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#b:200">b</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#ofs:201">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.SelectOp.html#addressing">addressing</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#chunk:197">chunk</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:198">a</a></span> <span class="gallina-kwd">with</span> (<span class="id">mode,</span> <span class="id">args</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="vl:202" class="id"><a name="vl:202" class="">vl,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:196">le</a></span> <span class="id">args</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:202">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id">mode</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:202">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:199">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> (<span class="id"><a href="compcert.x86.Op.html#Aindexed">Aindexed</a></span> <span class="id">0</span>) (<span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">subst</span> <span class="id">v</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">SF;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">D:</span> <span class="gallina-kwd">forall</span> <span id="a:205" class="id"><span id="a:203" class="id"><a name="a:205" class="">a,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id">le</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:203">a</a></span> <span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="vl:206" class="id"><span id="vl:204" class="id"><a name="vl:206" class="">vl,</a></span></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id">le</span> (<span class="id"><a href="compcert.x86.SelectOpproof.html#a:203">a</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:204">vl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> (<span class="id"><a href="compcert.x86.Op.html#Aindexed">Aindexed</a></span> <span class="id">0</span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:204">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="gallina-kwd">exists</span> (<span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">constructor</span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#addressing">addressing;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#addressing_match">addressing_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> &amp;&amp; <span class="id"><a href="compcert.x86.Op.html#addressing_valid">addressing_valid</a></span> <span class="id">addr</span>) <span class="id">eqn:E</span>.<br/>
<span class="id">+</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvBooleans</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_true_iff">negb_true_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing;</a></span> <span class="id">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">vl;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id">D;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> &amp;&amp; <span class="id"><a href="compcert.x86.Op.html#addressing_valid">addressing_valid</a></span> <span class="id">addr</span>) <span class="id">eqn:E</span>.<br/>
<span class="id">+</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvBooleans</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing;</a></span> <span class="id">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">vl;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id">D;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id">D;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_builtin_arg_addr" class="id"><a name="eval_builtin_arg_addr" class="">eval_builtin_arg_addr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="addr:207" class="id"><a name="addr:207" class="">addr</a></span> <span id="al:208" class="id"><a name="al:208" class="">al</a></span> <span id="vl:209" class="id"><a name="vl:209" class="">vl</a></span> <span id="v:210" class="id"><a name="v:210" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#al:208">al</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:209">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#eval_addressing">Op.eval_addressing</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#addr:207">addr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:209">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:210">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_builtin_arg">CminorSel.eval_builtin_arg</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#builtin_arg_addr">builtin_arg_addr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#addr:207">addr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#al:208">al</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:210">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">v</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#builtin_arg_addr">builtin_arg_addr;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#builtin_arg_addr_match">builtin_arg_addr_match</a></span> <span class="id">addr</span> <span class="id">al</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">set</span> (<span class="id">v2</span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">n</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EQ:</span> <span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Val.addl">Val.addl</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id">v1</span> <span class="id">v2</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">Op.eval_addressing</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">unfold</span> <span class="id">v2;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">constructor</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id">v2;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_Aglobal">eval_addressing_Aglobal</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_Ainstack">eval_addressing_Ainstack</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>. <span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_Olea_ptr">eval_Olea_ptr</a></span>. <span class="id">auto</span>. <br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_builtin_arg" class="id"><a name="eval_builtin_arg" class="">eval_builtin_arg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:211" class="id"><a name="a:211" class="">a</a></span> <span id="v:212" class="id"><a name="v:212" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:211">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:212">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_builtin_arg">CminorSel.eval_builtin_arg</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#builtin_arg">builtin_arg</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:211">a</a></span>) <span class="id"><a href="compcert.x86.SelectOpproof.html#v:212">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">v</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.SelectOp.html#builtin_arg">builtin_arg;</a></span> <span class="id">case</span> (<span class="id"><a href="compcert.x86.SelectOp.html#builtin_arg_match">builtin_arg_match</a></span> <span class="id">a</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF</span>. <br/>
<span class="id">+</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_builtin_arg_addr">eval_builtin_arg_addr</a></span>. <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">Op.eval_addressing</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">SF;</span> <span class="id">assumption</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF</span>. <br/>
<span class="id">+</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#eval_builtin_arg_addr">eval_builtin_arg_addr</a></span>. <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing">Op.eval_addressing</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">SF;</span> <span class="id">assumption</span>.<br/>
<span class="id">+</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvEval</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_Aglobal">eval_addressing_Aglobal</a></span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvEval</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_Ainstack">eval_addressing_Ainstack</a></span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Platform-specific known builtins </div>
<br/>
<span class="vernacular">Theorem</span> <span id="eval_platform_builtin" class="id"><a name="eval_platform_builtin" class="">eval_platform_builtin:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bf:213" class="id"><a name="bf:213" class="">bf</a></span> <span id="al:214" class="id"><a name="al:214" class="">al</a></span> <span id="a:215" class="id"><a name="a:215" class="">a</a></span> <span id="vl:216" class="id"><a name="vl:216" class="">vl</a></span> <span id="v:217" class="id"><a name="v:217" class="">v</a></span> <span id="le:218" class="id"><a name="le:218" class="">le,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.SelectOp.html#platform_builtin">platform_builtin</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#bf:213">bf</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#al:214">al</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:215">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:218">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#al:214">al</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:216">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Builtins1.html#platform_builtin_sem">platform_builtin_sem</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#bf:213">bf</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#vl:216">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:217">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="v':219" class="id"><a name="v':219" class="">v',</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#le:218">le</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#a:215">a</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v':219">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v:217">v</a></span> <span class="id"><a href="compcert.x86.SelectOpproof.html#v':219">v'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">le</span>. <span class="id">intros</span> <span class="id">SEL</span> <span class="id">ARGS</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">bf;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">inv</span> <span class="id">ARGS;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H2;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SEL</span>. <span class="id">inv</span> <span class="id">SEM</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.x86.Op.html#minf">minf</a></span> <span class="id">v1</span> <span class="id">v0</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">inv</span> <span class="id">ARGS;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H2;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SEL</span>. <span class="id">inv</span> <span class="id">SEM</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.x86.Op.html#maxf">maxf</a></span> <span class="id">v1</span> <span class="id">v0</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">EvalOp</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.x86.SelectOpproof.html#CMCONSTR">CMCONSTR</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
