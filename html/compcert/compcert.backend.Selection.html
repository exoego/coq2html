
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Selection</title>
<meta name="description" content="Documentation of Coq module Selection" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Selection</h1>
<br/>
<div class="doc">Instruction selection </div>
<br/>
<div class="doc">The instruction selection pass recognizes opportunities for using
  combined arithmetic and logical operations and addressing modes
  offered by the target processor.  For instance, the expression <span class="bracket"><span class="id">x</span> + 1</span>
  can take advantage of the "immediate add" instruction of the processor,
  and on the PowerPC, the expression <span class="bracket">(<span class="id">x</span> &gt;&gt; 6) &amp; 0<span class="id">xFF</span></span> can be turned
  into a "rotate and mask" instruction.
  Instruction selection proceeds by bottom-up rewriting over expressions.
  The source language is Cminor and the target language is CminorSel. </div>
<br/>
<span class="vernacular">Require</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Builtins.html">Builtins</a></span> <span class="id"><a href="compcert.common.Switch.html">Switch</a></span>.<br/>
<span class="vernacular">Require</span> <span class="id"><a href="compcert.backend.Cminor.html">Cminor</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.x86.Op.html">Op</a></span> <span class="id"><a href="compcert.backend.CminorSel.html">CminorSel</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html">Cminortyping</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.x86.SelectOp.html">SelectOp</a></span> <span class="id"><a href="compcert.backend.SplitLong.html">SplitLong</a></span> <span class="id"><a href="compcert.x86.SelectLong.html">SelectLong</a></span> <span class="id"><a href="compcert.backend.SelectDiv.html">SelectDiv</a></span>.<br/>
<span class="vernacular">Require</span> <span class="id"><a href="compcert.x86.Machregs.html">Machregs</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">cminorsel_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<br/>
<div class="doc">Conversion of conditions </div>
<br/>
<span class="vernacular">Function</span> <span class="id">condexpr_of_expr</span> (<span id="e:9" class="id"><span id="e:7" class="id"><span id="e:5" class="id"><span id="e:4" class="id"><span id="e:1" class="id"><a name="e:9" class="">e:</a></span></span></span></span></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#condexpr">condexpr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#e:1">e</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ocmp">Ocmp</a></span> <span class="id">c</span>) <span class="id">el</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#CEcond">CEcond</a></span> <span class="id">c</span> <span class="id">el</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.CminorSel.html#Econdition">Econdition</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#CEcondition">CEcondition</a></span> <span class="id">a</span> (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr:2">condexpr_of_expr</a></span> <span class="id">b</span>) (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr:2">condexpr_of_expr</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.CminorSel.html#Elet">Elet</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#CElet">CElet</a></span> <span class="id">a</span> (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr:2">condexpr_of_expr</a></span> <span class="id">b</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#CEcond">CEcond</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ccompuimm">Ccompuimm</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) (<span class="id"><a href="compcert.backend.Selection.html#e:1">e</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Function</span> <span class="id">condition_of_expr</span> (<span id="e:40" class="id"><span id="e:38" class="id"><span id="e:36" class="id"><span id="e:35" class="id"><span id="e:32" class="id"><a name="e:40" class="">e:</a></span></span></span></span></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.x86.Op.html#condition">condition</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#exprlist">exprlist</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#e:32">e</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ocmp">Ocmp</a></span> <span class="id">c</span>) <span class="id">el</span> <span class="id">=&gt;</span> (<span class="id">c,</span> <span class="id">el</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id"><a href="compcert.x86.Op.html#Ccompuimm">Ccompuimm</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079">,</a></span> <span class="id"><a href="compcert.backend.Selection.html#e:32">e</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Conversion of loads and stores </div>
<br/>
<span class="vernacular">Definition</span> <span id="load" class="id"><a name="load" class="">load</a></span> (<span id="chunk:52" class="id"><a name="chunk:52" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="e1:53" class="id"><a name="e1:53" class="">e1:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.SelectOp.html#addressing">addressing</a></span> <span class="id"><a href="compcert.backend.Selection.html#chunk:52">chunk</a></span> <span class="id"><a href="compcert.backend.Selection.html#e1:53">e1</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id">mode,</span> <span class="id">args</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Eload">Eload</a></span> <span class="id"><a href="compcert.backend.Selection.html#chunk:52">chunk</a></span> <span class="id">mode</span> <span class="id">args</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="store" class="id"><a name="store" class="">store</a></span> (<span id="chunk:54" class="id"><a name="chunk:54" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="e1:55" class="id"><a name="e1:55" class="">e1</a></span> <span id="e2:56" class="id"><a name="e2:56" class="">e2:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.SelectOp.html#addressing">addressing</a></span> <span class="id"><a href="compcert.backend.Selection.html#chunk:54">chunk</a></span> <span class="id"><a href="compcert.backend.Selection.html#e1:55">e1</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id">mode,</span> <span class="id">args</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Sstore">Sstore</a></span> <span class="id"><a href="compcert.backend.Selection.html#chunk:54">chunk</a></span> <span class="id">mode</span> <span class="id">args</span> <span class="id"><a href="compcert.backend.Selection.html#e2:56">e2</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Instruction selection for operator applications.  Most of the work
    is done by the processor-specific smart constructors defined
    in modules <span class="bracket"><span class="id">SelectOp</span></span> and <span class="bracket"><span class="id">SelectLong</span></span>. </div>
<br/>
<span class="vernacular">Section</span> <span id="SELECTION" class="id"><a name="SELECTION" class="">SELECTION</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="globdef" class="id"><a name="globdef" class="">globdef</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.AST.html#globdef">AST.globdef</a></span> <span class="id"><a href="compcert.backend.Cminor.html#fundef">Cminor.fundef</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="SELECTION.defmap" class="id"><a name="SELECTION.defmap" class="">defmap:</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{hf:</span> <span class="id"><a href="compcert.backend.SplitLong.html#helper_functions">helper_functions}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_constant" class="id"><a name="sel_constant" class="">sel_constant</a></span> (<span id="cst:59" class="id"><a name="cst:59" class="">cst:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#constant">Cminor.constant</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#cst:59">cst</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ointconst">Cminor.Ointconst</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ointconst">Ointconst</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ofloatconst">Cminor.Ofloatconst</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ofloatconst">Ofloatconst</a></span> <span class="id">f</span>) <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osingleconst">Cminor.Osingleconst</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Osingleconst">Osingleconst</a></span> <span class="id">f</span>) <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Olongconst">Cminor.Olongconst</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#longconst">longconst</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oaddrsymbol">Cminor.Oaddrsymbol</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#addrsymbol">addrsymbol</a></span> <span class="id">id</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oaddrstack">Cminor.Oaddrstack</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#addrstack">addrstack</a></span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_unop" class="id"><a name="sel_unop" class="">sel_unop</a></span> (<span id="op:61" class="id"><a name="op:61" class="">op:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#unary_operation">Cminor.unary_operation</a></span>) (<span id="arg:62" class="id"><a name="arg:62" class="">arg:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#op:61">op</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocast8unsigned">Cminor.Ocast8unsigned</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast8unsigned">cast8unsigned</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocast8signed">Cminor.Ocast8signed</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast8signed">cast8signed</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocast16unsigned">Cminor.Ocast16unsigned</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast16unsigned">cast16unsigned</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocast16signed">Cminor.Ocast16signed</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#cast16signed">cast16signed</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Onegint">Cminor.Onegint</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#negint">negint</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Onotint">Cminor.Onotint</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#notint">notint</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Onegf">Cminor.Onegf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#negf">negf</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oabsf">Cminor.Oabsf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#absf">absf</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Onegfs">Cminor.Onegfs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#negfs">negfs</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oabsfs">Cminor.Oabsfs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#absfs">absfs</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osingleoffloat">Cminor.Osingleoffloat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#singleoffloat">singleoffloat</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ofloatofsingle">Cminor.Ofloatofsingle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofsingle">floatofsingle</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ointoffloat">Cminor.Ointoffloat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#intoffloat">intoffloat</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ointuoffloat">Cminor.Ointuoffloat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#intuoffloat">intuoffloat</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ofloatofint">Cminor.Ofloatofint</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofint">floatofint</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ofloatofintu">Cminor.Ofloatofintu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#floatofintu">floatofintu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ointofsingle">Cminor.Ointofsingle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#intofsingle">intofsingle</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ointuofsingle">Cminor.Ointuofsingle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#intuofsingle">intuofsingle</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osingleofint">Cminor.Osingleofint</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#singleofint">singleofint</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osingleofintu">Cminor.Osingleofintu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#singleofintu">singleofintu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Onegl">Cminor.Onegl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#negl">negl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Onotl">Cminor.Onotl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#notl">notl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ointoflong">Cminor.Ointoflong</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#intoflong">intoflong</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Olongofint">Cminor.Olongofint</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#longofint">longofint</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Olongofintu">Cminor.Olongofintu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#longofintu">longofintu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Olongoffloat">Cminor.Olongoffloat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#longoffloat">longoffloat</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Olonguoffloat">Cminor.Olonguoffloat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SplitLong.html#longuoffloat">longuoffloat</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ofloatoflong">Cminor.Ofloatoflong</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#floatoflong">floatoflong</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ofloatoflongu">Cminor.Ofloatoflongu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SplitLong.html#floatoflongu">floatoflongu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Olongofsingle">Cminor.Olongofsingle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#longofsingle">longofsingle</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Olonguofsingle">Cminor.Olonguofsingle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SplitLong.html#longuofsingle">longuofsingle</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osingleoflong">Cminor.Osingleoflong</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#singleoflong">singleoflong</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osingleoflongu">Cminor.Osingleoflongu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SplitLong.html#singleoflongu">singleoflongu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:62">arg</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_binop" class="id"><a name="sel_binop" class="">sel_binop</a></span> (<span id="op:64" class="id"><a name="op:64" class="">op:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#binary_operation">Cminor.binary_operation</a></span>) (<span id="arg1:65" class="id"><a name="arg1:65" class="">arg1</a></span> <span id="arg2:66" class="id"><a name="arg2:66" class="">arg2:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#op:64">op</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oadd">Cminor.Oadd</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#add">add</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osub">Cminor.Osub</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#sub">sub</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omul">Cminor.Omul</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#mul">mul</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Odiv">Cminor.Odiv</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#divs">divs</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Odivu">Cminor.Odivu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#divu">divu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omod">Cminor.Omod</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#mods">mods</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omodu">Cminor.Omodu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#modu">modu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oand">Cminor.Oand</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#and">and</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oor">Cminor.Oor</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#or">or</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oxor">Cminor.Oxor</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#xor">xor</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oshl">Cminor.Oshl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#shl">shl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oshr">Cminor.Oshr</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#shr">shr</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oshru">Cminor.Oshru</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#shru">shru</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oaddf">Cminor.Oaddf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#addf">addf</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osubf">Cminor.Osubf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#subf">subf</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omulf">Cminor.Omulf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#mulf">mulf</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Odivf">Cminor.Odivf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#divf">divf</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oaddfs">Cminor.Oaddfs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#addfs">addfs</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osubfs">Cminor.Osubfs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#subfs">subfs</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omulfs">Cminor.Omulfs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#mulfs">mulfs</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Odivfs">Cminor.Odivfs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#divfs">divfs</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oaddl">Cminor.Oaddl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#addl">addl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Osubl">Cminor.Osubl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#subl">subl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omull">Cminor.Omull</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#mull">mull</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Odivl">Cminor.Odivl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#divls">divls</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Odivlu">Cminor.Odivlu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#divlu">divlu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omodl">Cminor.Omodl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#modls">modls</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Omodlu">Cminor.Omodlu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.SelectDiv.html#modlu">modlu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oandl">Cminor.Oandl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#andl">andl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oorl">Cminor.Oorl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#orl">orl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oxorl">Cminor.Oxorl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#xorl">xorl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oshll">Cminor.Oshll</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#shll">shll</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oshrl">Cminor.Oshrl</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#shrl">shrl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Oshrlu">Cminor.Oshrlu</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#shrlu">shrlu</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocmp">Cminor.Ocmp</a></span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#comp">comp</a></span> <span class="id">c</span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocmpu">Cminor.Ocmpu</a></span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#compu">compu</a></span> <span class="id">c</span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocmpf">Cminor.Ocmpf</a></span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#compf">compf</a></span> <span class="id">c</span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocmpfs">Cminor.Ocmpfs</a></span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#compfs">compfs</a></span> <span class="id">c</span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocmpl">Cminor.Ocmpl</a></span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#cmpl">cmpl</a></span> <span class="id">c</span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ocmplu">Cminor.Ocmplu</a></span> <span class="id">c</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#cmplu">cmplu</a></span> <span class="id">c</span> <span class="id"><a href="compcert.backend.Selection.html#arg1:65">arg1</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:66">arg2</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_select" class="id"><a name="sel_select" class="">sel_select</a></span> (<span id="ty:68" class="id"><a name="ty:68" class="">ty:</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span id="cnd:69" class="id"><a name="cnd:69" class="">cnd</a></span> <span id="ifso:70" class="id"><a name="ifso:70" class="">ifso</a></span> <span id="ifnot:71" class="id"><a name="ifnot:71" class="">ifnot:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> (<span id="cond:72" class="id"><a name="cond:72" class="">cond,</a></span> <span id="args:73" class="id"><a name="args:73" class="">args</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#condition_of_expr">condition_of_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#cnd:69">cnd</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.x86.SelectOp.html#select">SelectOp.select</a></span> <span class="id"><a href="compcert.backend.Selection.html#ty:68">ty</a></span> <span class="id"><a href="compcert.backend.Selection.html#cond:72">cond</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:73">args</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifso:70">ifso</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifnot:71">ifnot</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Econdition">Econdition</a></span> (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr">condexpr_of_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#cnd:69">cnd</a></span>) <span class="id"><a href="compcert.backend.Selection.html#ifso:70">ifso</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifnot:71">ifnot</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Conversion from Cminor expression to Cminorsel expressions </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="sel_expr" class="id"><a name="sel_expr" class="">sel_expr</a></span> (<span id="a:74" class="id"><a name="a:74" class="">a:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#a:74">a</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Evar">Cminor.Evar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Evar">Evar</a></span> <span class="id">id</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Econst">Cminor.Econst</a></span> <span class="id">cst</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#sel_constant">sel_constant</a></span> <span class="id">cst</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Eunop">Cminor.Eunop</a></span> <span class="id">op</span> <span class="id">arg</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#sel_unop">sel_unop</a></span> <span class="id">op</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr:75">sel_expr</a></span> <span class="id">arg</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Ebinop">Cminor.Ebinop</a></span> <span class="id">op</span> <span class="id">arg1</span> <span class="id">arg2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#sel_binop">sel_binop</a></span> <span class="id">op</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr:75">sel_expr</a></span> <span class="id">arg1</span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_expr:75">sel_expr</a></span> <span class="id">arg2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Eload">Cminor.Eload</a></span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#load">load</a></span> <span class="id">chunk</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr:75">sel_expr</a></span> <span class="id">addr</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="sel_exprlist" class="id"><a name="sel_exprlist" class="">sel_exprlist</a></span> (<span id="al:77" class="id"><a name="al:77" class="">al:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#exprlist">exprlist</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#al:77">al</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">bl</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Econs">Econs</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_exprlist:78">sel_exprlist</a></span> <span class="id">bl</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_select_opt" class="id"><a name="sel_select_opt" class="">sel_select_opt</a></span> (<span id="ty:80" class="id"><a name="ty:80" class="">ty:</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span id="arg1:81" class="id"><a name="arg1:81" class="">arg1</a></span> <span id="arg2:82" class="id"><a name="arg2:82" class="">arg2</a></span> <span id="arg3:83" class="id"><a name="arg3:83" class="">arg3:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> (<span id="cond:84" class="id"><a name="cond:84" class="">cond,</a></span> <span id="args:85" class="id"><a name="args:85" class="">args</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#condition_of_expr">condition_of_expr</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg1:81">arg1</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.SelectOp.html#select">SelectOp.select</a></span> <span class="id"><a href="compcert.backend.Selection.html#ty:80">ty</a></span> <span class="id"><a href="compcert.backend.Selection.html#cond:84">cond</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:85">args</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg2:82">arg2</a></span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg3:83">arg3</a></span>).<br/>
<br/>
<div class="doc">Recognition of immediate calls and calls to built-in functions
    that should be inlined </div>
<br/>
<span class="vernacular">Inductive</span> <span id="call_kind" class="id"><a name="call_kind" class="">call_kind</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Call_default" class="id"><a name="Call_default" class="">Call_default</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Call_imm" class="id"><a name="Call_imm" class="">Call_imm</a></span> (<span id="id:88" class="id"><a name="id:88" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Call_builtin" class="id"><a name="Call_builtin" class="">Call_builtin</a></span> (<span id="ef:89" class="id"><a name="ef:89" class="">ef:</a></span> <span class="id"><a href="compcert.common.AST.html#external_function">external_function</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="expr_is_addrof_ident" class="id"><a name="expr_is_addrof_ident" class="">expr_is_addrof_ident</a></span> (<span id="e:90" class="id"><a name="e:90" class="">e:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#e:90">e</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Econst">Cminor.Econst</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Oaddrsymbol">Cminor.Oaddrsymbol</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq">Ptrofs.eq</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">id</span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="classify_call" class="id"><a name="classify_call" class="">classify_call</a></span> (<span id="e:92" class="id"><a name="e:92" class="">e:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.Selection.html#call_kind">call_kind</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#expr_is_addrof_ident">expr_is_addrof_ident</a></span> <span class="id"><a href="compcert.backend.Selection.html#e:92">e</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#Call_default">Call_default</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#SELECTION.defmap">defmap!id</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span>(<span class="id"><a href="compcert.common.AST.html#External">External</a></span> <span class="id">ef</span>)) <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#ef_inline">ef_inline</a></span> <span class="id">ef</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.Selection.html#Call_builtin">Call_builtin</a></span> <span class="id">ef</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.Selection.html#Call_imm">Call_imm</a></span> <span class="id">id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#Call_imm">Call_imm</a></span> <span class="id">id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Builtin arguments and results </div>
<br/>
<span class="vernacular">Definition</span> <span id="sel_builtin_arg" class="id"><a name="sel_builtin_arg" class="">sel_builtin_arg</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="e:93" class="id"><a name="e:93" class="">e:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) (<span id="c:94" class="id"><a name="c:94" class="">c:</a></span> <span class="id"><a href="compcert.common.AST.html#builtin_arg_constraint">builtin_arg_constraint</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.common.AST.html#builtin_arg">AST.builtin_arg</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="e':95" class="id"><a name="e':95" class="">e'</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#e:93">e</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="ba:96" class="id"><a name="ba:96" class="">ba</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.x86.SelectOp.html#builtin_arg">builtin_arg</a></span> <span class="id"><a href="compcert.backend.Selection.html#e':95">e'</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86.Op.html#builtin_arg_ok">builtin_arg_ok</a></span> <span class="id"><a href="compcert.backend.Selection.html#ba:96">ba</a></span> <span class="id"><a href="compcert.backend.Selection.html#c:94">c</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.Selection.html#ba:96">ba</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.AST.html#BA">BA</a></span> <span class="id"><a href="compcert.backend.Selection.html#e':95">e'</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="sel_builtin_args" class="id"><a name="sel_builtin_args" class="">sel_builtin_args</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="el:97" class="id"><a name="el:97" class="">el:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="cl:98" class="id"><a name="cl:98" class="">cl:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#builtin_arg_constraint">builtin_arg_constraint</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#builtin_arg">AST.builtin_arg</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#el:97">el</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">e</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">el</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#sel_builtin_arg">sel_builtin_arg</a></span> <span class="id">e</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#hd">List.hd</a></span> <span class="id"><a href="compcert.common.AST.html#OK_default">OK_default</a></span> <span class="id"><a href="compcert.backend.Selection.html#cl:98">cl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_builtin_args:99">sel_builtin_args</a></span> <span class="id"><a href="compcert.backend.Selection.html#el:97">el</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#tl">List.tl</a></span> <span class="id"><a href="compcert.backend.Selection.html#cl:98">cl</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_builtin_res" class="id"><a name="sel_builtin_res" class="">sel_builtin_res</a></span> (<span id="optid:101" class="id"><a name="optid:101" class="">optid:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.AST.html#builtin_res">builtin_res</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#optid:101">optid</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#BR_none">BR_none</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#BR">BR</a></span> <span class="id">id</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Known builtin functions </div>
<br/>
<span class="vernacular">Function</span> <span class="id">sel_known_builtin</span> (<span id="bf:117" class="id"><span id="bf:113" class="id"><span id="bf:110" class="id"><span id="bf:108" class="id"><span id="bf:103" class="id"><a name="bf:117" class="">bf:</a></span></span></span></span></span> <span class="id"><a href="compcert.common.Builtins.html#builtin_function">builtin_function</a></span>) (<span id="args:118" class="id"><span id="args:114" class="id"><span id="args:111" class="id"><span id="args:109" class="id"><span id="args:104" class="id"><a name="args:118" class="">args:</a></span></span></span></span></span> <span class="id"><a href="compcert.backend.CminorSel.html#exprlist">exprlist</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#bf:103">bf,</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:104">args</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Builtins.html#BI_platform">BI_platform</a></span> <span class="id">b,</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.SelectOp.html#platform_builtin">SelectOp.platform_builtin</a></span> <span class="id">b</span> <span class="id"><a href="compcert.backend.Selection.html#args:104">args</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Builtins.html#BI_standard">BI_standard</a></span> (<span class="id"><a href="compcert.common.Builtins0.html#BI_select">BI_select</a></span> <span class="id">ty</span>)<span class="id">,</span> <span class="id">a1</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id">a2</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id">a3</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_select">sel_select</a></span> <span class="id">ty</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">a3</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Builtins.html#BI_standard">BI_standard</a></span> <span class="id"><a href="compcert.common.Builtins0.html#BI_fabs">BI_fabs,</a></span> <span class="id">a1</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#absf">SelectOp.absf</a></span> <span class="id">a1</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Builtins.html#BI_standard">BI_standard</a></span> <span class="id"><a href="compcert.common.Builtins0.html#BI_fabsf">BI_fabsf,</a></span> <span class="id">a1</span> <span class="id"><a href="compcert.backend.CminorSel.html#::cminorsel_scope:x_':::'_x">:::</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.x86.SelectOp.html#absfs">SelectOp.absfs</a></span> <span class="id">a1</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">A CminorSel statement that does nothing, like <span class="bracket"><span class="id">Sskip</span></span>, but reduces. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Sno_op" class="id"><a name="Sno_op" class="">Sno_op</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.CminorSel.html#Sseq">Sseq</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Sskip">Sskip</a></span>.<br/>
<br/>
<div class="doc">Builtin functions in general </div>
<br/>
<span class="vernacular">Definition</span> <span id="sel_builtin_default" class="id"><a name="sel_builtin_default" class="">sel_builtin_default</a></span> (<span id="optid:149" class="id"><a name="optid:149" class="">optid:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="ef:150" class="id"><a name="ef:150" class="">ef:</a></span> <span class="id"><a href="compcert.common.AST.html#external_function">external_function</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="args:151" class="id"><a name="args:151" class="">args:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#Sbuiltin">Sbuiltin</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_builtin_res">sel_builtin_res</a></span> <span class="id"><a href="compcert.backend.Selection.html#optid:149">optid</a></span>) <span class="id"><a href="compcert.backend.Selection.html#ef:150">ef</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Selection.html#sel_builtin_args">sel_builtin_args</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:151">args</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#builtin_constraints">Machregs.builtin_constraints</a></span> <span class="id"><a href="compcert.backend.Selection.html#ef:150">ef</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_builtin" class="id"><a name="sel_builtin" class="">sel_builtin</a></span> (<span id="optid:152" class="id"><a name="optid:152" class="">optid:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="ef:153" class="id"><a name="ef:153" class="">ef:</a></span> <span class="id"><a href="compcert.common.AST.html#external_function">external_function</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="args:154" class="id"><a name="args:154" class="">args:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#ef:153">ef</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#EF_builtin">EF_builtin</a></span> <span class="id">name</span> <span class="id">sg</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.common.Builtins.html#lookup_builtin_function">lookup_builtin_function</a></span> <span class="id">name</span> <span class="id">sg</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bf</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#optid:152">optid</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#sel_known_builtin">sel_known_builtin</a></span> <span class="id">bf</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_exprlist">sel_exprlist</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:154">args</a></span>) <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Sassign">Sassign</a></span> <span class="id">id</span> <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#sel_builtin_default">sel_builtin_default</a></span> <span class="id"><a href="compcert.backend.Selection.html#optid:152">optid</a></span> <span class="id"><a href="compcert.backend.Selection.html#ef:153">ef</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:154">args</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#Sno_op">Sno_op</a></span>   <span class="docright">(* builtins with semantics are pure  *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#sel_builtin_default">sel_builtin_default</a></span> <span class="id"><a href="compcert.backend.Selection.html#optid:152">optid</a></span> <span class="id"><a href="compcert.backend.Selection.html#ef:153">ef</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:154">args</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#sel_builtin_default">sel_builtin_default</a></span> <span class="id"><a href="compcert.backend.Selection.html#optid:152">optid</a></span> <span class="id"><a href="compcert.backend.Selection.html#ef:153">ef</a></span> <span class="id"><a href="compcert.backend.Selection.html#args:154">args</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Conversion of Cminor <span class="bracket"><span class="id">switch</span></span> statements to decision trees. </div>
<br/>
<span class="vernacular">Parameter</span> <span id="compile_switch" class="id"><a name="compile_switch" class="">compile_switch:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Switch.html#table">table</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Switch.html#comptree">comptree</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="SELECTION.SEL_SWITCH" class="id"><a name="SELECTION.SEL_SWITCH" class="">SEL_SWITCH</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="SELECTION.SEL_SWITCH.make_cmp_eq" class="id"><a name="SELECTION.SEL_SWITCH.make_cmp_eq" class="">make_cmp_eq:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="SELECTION.SEL_SWITCH.make_cmp_ltu" class="id"><a name="SELECTION.SEL_SWITCH.make_cmp_ltu" class="">make_cmp_ltu:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="SELECTION.SEL_SWITCH.make_sub" class="id"><a name="SELECTION.SEL_SWITCH.make_sub" class="">make_sub:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="SELECTION.SEL_SWITCH.make_to_int" class="id"><a name="SELECTION.SEL_SWITCH.make_to_int" class="">make_to_int:</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#expr">expr</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="sel_switch" class="id"><a name="sel_switch" class="">sel_switch</a></span> (<span id="arg:162" class="id"><a name="arg:162" class="">arg:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="t:163" class="id"><a name="t:163" class="">t:</a></span> <span class="id"><a href="compcert.common.Switch.html#comptree">comptree</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.backend.CminorSel.html#exitexpr">exitexpr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#t:163">t</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Switch.html#CTaction">CTaction</a></span> <span class="id">act</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#XEexit">XEexit</a></span> <span class="id">act</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Switch.html#CTifeq">CTifeq</a></span> <span class="id">key</span> <span class="id">act</span> <span class="id">t'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#XEcondition">XEcondition</a></span> (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr">condexpr_of_expr</a></span> (<span class="id"><a href="compcert.backend.Selection.html#SELECTION.SEL_SWITCH.make_cmp_eq">make_cmp_eq</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:162">arg</a></span>) <span class="id">key</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.CminorSel.html#XEexit">XEexit</a></span> <span class="id">act</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Selection.html#sel_switch:164">sel_switch</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:162">arg</a></span> <span class="id">t'</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Switch.html#CTiflt">CTiflt</a></span> <span class="id">key</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#XEcondition">XEcondition</a></span> (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr">condexpr_of_expr</a></span> (<span class="id"><a href="compcert.backend.Selection.html#SELECTION.SEL_SWITCH.make_cmp_ltu">make_cmp_ltu</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:162">arg</a></span>) <span class="id">key</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Selection.html#sel_switch:164">sel_switch</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:162">arg</a></span> <span class="id">t1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Selection.html#sel_switch:164">sel_switch</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:162">arg</a></span> <span class="id">t2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Switch.html#CTjumptable">CTjumptable</a></span> <span class="id">ofs</span> <span class="id">sz</span> <span class="id">tbl</span> <span class="id">t'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.CminorSel.html#XElet">XElet</a></span> (<span class="id"><a href="compcert.backend.Selection.html#SELECTION.SEL_SWITCH.make_sub">make_sub</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:162">arg</a></span>) <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.CminorSel.html#XEcondition">XEcondition</a></span> (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr">condexpr_of_expr</a></span> (<span class="id"><a href="compcert.backend.Selection.html#SELECTION.SEL_SWITCH.make_cmp_ltu">make_cmp_ltu</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="id">sz</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.CminorSel.html#XEjumptable">XEjumptable</a></span> (<span class="id"><a href="compcert.backend.Selection.html#SELECTION.SEL_SWITCH.make_to_int">make_to_int</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) <span class="id">tbl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Selection.html#sel_switch:164">sel_switch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:162">arg</a></span>) <span class="id">t'</span>))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.Selection.html#SELECTION.SEL_SWITCH">SEL_SWITCH</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_switch_int" class="id"><a name="sel_switch_int" class="">sel_switch_int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#sel_switch">sel_switch</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="arg:171" class="id"><a name="arg:171" class="">arg</a></span> <span id="n:172" class="id"><a name="n:172" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#comp">comp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:171">arg</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ointconst">Ointconst</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.backend.Selection.html#n:172">n</a></span>)) <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="arg:169" class="id"><a name="arg:169" class="">arg</a></span> <span id="n:170" class="id"><a name="n:170" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#compu">compu</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:169">arg</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ointconst">Ointconst</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.backend.Selection.html#n:170">n</a></span>)) <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="arg:167" class="id"><a name="arg:167" class="">arg</a></span> <span id="ofs:168" class="id"><a name="ofs:168" class="">ofs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectOp.html#sub">sub</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:167">arg</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="compcert.x86.Op.html#Ointconst">Ointconst</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.backend.Selection.html#ofs:168">ofs</a></span>)) <span class="id"><a href="compcert.backend.CminorSel.html#Enil">Enil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="arg:166" class="id"><a name="arg:166" class="">arg</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#arg:166">arg</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_switch_long" class="id"><a name="sel_switch_long" class="">sel_switch_long</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#sel_switch">sel_switch</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="arg:177" class="id"><a name="arg:177" class="">arg</a></span> <span id="n:178" class="id"><a name="n:178" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#cmpl">cmpl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:177">arg</a></span> (<span class="id"><a href="compcert.x86.SelectLong.html#longconst">longconst</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.backend.Selection.html#n:178">n</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="arg:175" class="id"><a name="arg:175" class="">arg</a></span> <span id="n:176" class="id"><a name="n:176" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#cmplu">cmplu</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:175">arg</a></span> (<span class="id"><a href="compcert.x86.SelectLong.html#longconst">longconst</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.backend.Selection.html#n:176">n</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="arg:173" class="id"><a name="arg:173" class="">arg</a></span> <span id="ofs:174" class="id"><a name="ofs:174" class="">ofs</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.x86.SelectLong.html#subl">subl</a></span> <span class="id"><a href="compcert.backend.Selection.html#arg:173">arg</a></span> (<span class="id"><a href="compcert.x86.SelectLong.html#longconst">longconst</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.backend.Selection.html#ofs:174">ofs</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.SplitLong.html#lowlong">lowlong</a></span>.<br/>
<br/>
<div class="doc">"If conversion": conversion of certain if-then-else statements
  into branchless conditional move instructions. </div>
<br/>
<div class="doc">Recognition of "then" and "else" statements that support if-conversion.
  Basically we are interested in assignments to local variables <span class="bracket"><span class="id">id</span> = <span class="id">e</span></span>.
  However the front-end may have put <span class="bracket"><span class="id">skip</span></span> statements and debug annotations
  around these assignments. </div>
<br/>
<span class="vernacular">Inductive</span> <span id="stmt_class" class="id"><a name="stmt_class" class="">stmt_class</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="SCskip" class="id"><a name="SCskip" class="">SCskip</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="SCassign" class="id"><a name="SCassign" class="">SCassign</a></span> (<span id="id:181" class="id"><a name="id:181" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="a:182" class="id"><a name="a:182" class="">a:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="SCother" class="id"><a name="SCother" class="">SCother</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="classify_stmt" class="id"><a name="classify_stmt" class="">classify_stmt</a></span> (<span id="s:183" class="id"><a name="s:183" class="">s:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#stmt">Cminor.stmt</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.Selection.html#stmt_class">stmt_class</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#s:183">s</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sskip">Cminor.Sskip</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#SCskip">SCskip</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sassign">Cminor.Sassign</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">a</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">a</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Evar">Cminor.Evar</a></span> <span class="id">id2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.Selection.html#SCskip">SCskip</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.Selection.html#SCassign">SCassign</a></span> <span class="id">id</span> <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span>  <span class="id"><a href="compcert.backend.Selection.html#SCassign">SCassign</a></span> <span class="id">id</span> <span class="id">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sbuiltin">Cminor.Sbuiltin</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="compcert.common.AST.html#EF_debug">EF_debug</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#SCskip">SCskip</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sseq">Cminor.Sseq</a></span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#classify_stmt:184">classify_stmt</a></span> <span class="id">s1,</span> <span class="id"><a href="compcert.backend.Selection.html#classify_stmt:184">classify_stmt</a></span> <span class="id">s2</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#SCskip">SCskip,</a></span> <span class="id">c2</span> <span class="id">=&gt;</span> <span class="id">c2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">c1,</span> <span class="id"><a href="compcert.backend.Selection.html#SCskip">SCskip</a></span> <span class="id">=&gt;</span> <span class="id">c1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#SCother">SCother</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#SCother">SCother</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">External heuristic to limit the amount of if-conversion performed.
    Arguments are: the condition, the "then" and the "else" expressions,
    and the type at which selection is done. </div>
<br/>
<span class="vernacular">Parameter</span> <span id="if_conversion_heuristic" class="id"><a name="if_conversion_heuristic" class="">if_conversion_heuristic:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.AST.html#typ">AST.typ</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="if_conversion_base" class="id"><a name="if_conversion_base" class="">if_conversion_base</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ki:188" class="id"><a name="ki:188" class="">ki:</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#known_idents">known_idents</a></span>) (<span id="env:189" class="id"><a name="env:189" class="">env:</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#typenv">typenv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="cond:190" class="id"><a name="cond:190" class="">cond:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) (<span id="id:191" class="id"><a name="id:191" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="ifso:192" class="id"><a name="ifso:192" class="">ifso</a></span> <span id="ifnot:193" class="id"><a name="ifnot:193" class="">ifnot:</a></span>  <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#stmt">stmt</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="ty:194" class="id"><a name="ty:194" class="">ty</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#env:189">env</a></span> <span class="id"><a href="compcert.backend.Selection.html#id:191">id</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Cminortyping.html#is_known">is_known</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:188">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#id:191">id</a></span><br/>
&nbsp;&nbsp;&amp;&amp; <span class="id"><a href="compcert.backend.Cminortyping.html#safe_expr">safe_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:188">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifso:192">ifso</a></span> &amp;&amp; <span class="id"><a href="compcert.backend.Cminortyping.html#safe_expr">safe_expr</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:188">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifnot:193">ifnot</a></span><br/>
&nbsp;&nbsp;&amp;&amp; <span class="id"><a href="compcert.backend.Selection.html#if_conversion_heuristic">if_conversion_heuristic</a></span> <span class="id"><a href="compcert.backend.Selection.html#cond:190">cond</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifso:192">ifso</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifnot:193">ifnot</a></span> <span class="id"><a href="compcert.backend.Selection.html#ty:194">ty</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="sel:195" class="id"><a name="sel:195" class="">sel</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Sassign">Sassign</a></span> <span class="id"><a href="compcert.backend.Selection.html#id:191">id</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel:195">sel</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Selection.html#sel_select_opt">sel_select_opt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ty:194">ty</a></span> <span class="id"><a href="compcert.backend.Selection.html#cond:190">cond</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifso:192">ifso</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifnot:193">ifnot</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="if_conversion" class="id"><a name="if_conversion" class="">if_conversion</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ki:196" class="id"><a name="ki:196" class="">ki:</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#known_idents">known_idents</a></span>) (<span id="env:197" class="id"><a name="env:197" class="">env:</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#typenv">typenv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="cond:198" class="id"><a name="cond:198" class="">cond:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#expr">Cminor.expr</a></span>) (<span id="ifso:199" class="id"><a name="ifso:199" class="">ifso</a></span> <span id="ifnot:200" class="id"><a name="ifnot:200" class="">ifnot:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#stmt">Cminor.stmt</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#stmt">stmt</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#classify_stmt">classify_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifso:199">ifso,</a></span> <span class="id"><a href="compcert.backend.Selection.html#classify_stmt">classify_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifnot:200">ifnot</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#SCskip">SCskip,</a></span> <span class="id"><a href="compcert.backend.Selection.html#SCassign">SCassign</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">a</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#if_conversion_base">if_conversion_base</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:196">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:197">env</a></span> <span class="id"><a href="compcert.backend.Selection.html#cond:198">cond</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.backend.Cminor.html#Evar">Cminor.Evar</a></span> <span class="id">id</span>) <span class="id">a</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#SCassign">SCassign</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">a,</span> <span class="id"><a href="compcert.backend.Selection.html#SCskip">SCskip</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#if_conversion_base">if_conversion_base</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:196">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:197">env</a></span> <span class="id"><a href="compcert.backend.Selection.html#cond:198">cond</a></span> <span class="id">id</span> <span class="id">a</span> (<span class="id"><a href="compcert.backend.Cminor.html#Evar">Cminor.Evar</a></span> <span class="id">id</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#SCassign">SCassign</a></span> <span class="id">id1</span> <span class="id">a1,</span> <span class="id"><a href="compcert.backend.Selection.html#SCassign">SCassign</a></span> <span class="id">id2</span> <span class="id">a2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.Selection.html#if_conversion_base">if_conversion_base</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:196">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:197">env</a></span> <span class="id"><a href="compcert.backend.Selection.html#cond:198">cond</a></span> <span class="id">id1</span> <span class="id">a1</span> <span class="id">a2</span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Conversion from Cminor statements to Cminorsel statements. </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="sel_stmt" class="id"><a name="sel_stmt" class="">sel_stmt</a></span> (<span id="ki:201" class="id"><a name="ki:201" class="">ki:</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#known_idents">known_idents</a></span>) (<span id="env:202" class="id"><a name="env:202" class="">env:</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#typenv">typenv</a></span>) (<span id="s:203" class="id"><a name="s:203" class="">s:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#stmt">Cminor.stmt</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#stmt">stmt</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#s:203">s</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sskip">Cminor.Sskip</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#Sskip">Sskip</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sassign">Cminor.Sassign</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">e</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sassign">Sassign</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">e</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sstore">Cminor.Sstore</a></span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">rhs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.Selection.html#store">store</a></span> <span class="id">chunk</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">addr</span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">rhs</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Scall">Cminor.Scall</a></span> <span class="id">optid</span> <span class="id">sg</span> <span class="id">fn</span> <span class="id">args</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#classify_call">classify_call</a></span> <span class="id">fn</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#Call_default">Call_default</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Scall">Scall</a></span> <span class="id">optid</span> <span class="id">sg</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">fn</span>)) (<span class="id"><a href="compcert.backend.Selection.html#sel_exprlist">sel_exprlist</a></span> <span class="id">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#Call_imm">Call_imm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span>  <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Scall">Scall</a></span> <span class="id">optid</span> <span class="id">sg</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">_</span> <span class="id">id</span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_exprlist">sel_exprlist</a></span> <span class="id">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#Call_builtin">Call_builtin</a></span> <span class="id">ef</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#sel_builtin">sel_builtin</a></span> <span class="id">optid</span> <span class="id">ef</span> <span class="id">args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sbuiltin">Cminor.Sbuiltin</a></span> <span class="id">optid</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_builtin">sel_builtin</a></span> <span class="id">optid</span> <span class="id">ef</span> <span class="id">args</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Stailcall">Cminor.Stailcall</a></span> <span class="id">sg</span> <span class="id">fn</span> <span class="id">args</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#classify_call">classify_call</a></span> <span class="id">fn</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Selection.html#Call_imm">Call_imm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span>  <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Stailcall">Stailcall</a></span> <span class="id">sg</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">_</span> <span class="id">id</span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_exprlist">sel_exprlist</a></span> <span class="id">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>            <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.CminorSel.html#Stailcall">Stailcall</a></span> <span class="id">sg</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">fn</span>)) (<span class="id"><a href="compcert.backend.Selection.html#sel_exprlist">sel_exprlist</a></span> <span class="id">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sseq">Cminor.Sseq</a></span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="s1':206" class="id"><a name="s1':206" class="">s1'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt:204">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">s1;</span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="s2':207" class="id"><a name="s2':207" class="">s2'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt:204">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">s2;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sseq">Sseq</a></span> <span class="id"><a href="compcert.backend.Selection.html#s1':206">s1'</a></span> <span class="id"><a href="compcert.backend.Selection.html#s2':207">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sifthenelse">Cminor.Sifthenelse</a></span> <span class="id">e</span> <span class="id">ifso</span> <span class="id">ifnot</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#if_conversion">if_conversion</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">e</span> <span class="id">ifso</span> <span class="id">ifnot</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Selection.html#s:203">s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="ifso':208" class="id"><a name="ifso':208" class="">ifso'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt:204">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">ifso;</span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="ifnot':209" class="id"><a name="ifnot':209" class="">ifnot'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt:204">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">ifnot;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sifthenelse">Sifthenelse</a></span> (<span class="id"><a href="compcert.backend.Selection.html#condexpr_of_expr">condexpr_of_expr</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">e</span>)) <span class="id"><a href="compcert.backend.Selection.html#ifso':208">ifso'</a></span> <span class="id"><a href="compcert.backend.Selection.html#ifnot':209">ifnot'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sloop">Cminor.Sloop</a></span> <span class="id">body</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="body':210" class="id"><a name="body':210" class="">body'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt:204">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">body;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sloop">Sloop</a></span> <span class="id"><a href="compcert.backend.Selection.html#body':210">body'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sblock">Cminor.Sblock</a></span> <span class="id">body</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="body':211" class="id"><a name="body':211" class="">body'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt:204">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">body;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.backend.Selection.html#body':211">body'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sexit">Cminor.Sexit</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sexit">Sexit</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sswitch">Cminor.Sswitch</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">e</span> <span class="id">cases</span> <span class="id">dfl</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="t:212" class="id"><a name="t:212" class="">t</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#compile_switch">compile_switch</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="id">dfl</span> <span class="id">cases</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.Switch.html#validate_switch">validate_switch</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="id">dfl</span> <span class="id">cases</span> <span class="id"><a href="compcert.backend.Selection.html#t:212">t</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sswitch">Sswitch</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#XElet">XElet</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">e</span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_switch_int">sel_switch_int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="compcert.backend.Selection.html#t:212">t</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;Selection: bad switch (int)&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sswitch">Cminor.Sswitch</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">e</span> <span class="id">cases</span> <span class="id">dfl</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="t:213" class="id"><a name="t:213" class="">t</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#compile_switch">compile_switch</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span> <span class="id">dfl</span> <span class="id">cases</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.Switch.html#validate_switch">validate_switch</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span> <span class="id">dfl</span> <span class="id">cases</span> <span class="id"><a href="compcert.backend.Selection.html#t:213">t</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sswitch">Sswitch</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#XElet">XElet</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">e</span>) (<span class="id"><a href="compcert.backend.Selection.html#sel_switch_long">sel_switch_long</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="compcert.backend.Selection.html#t:213">t</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;Selection: bad switch (long)&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sreturn">Cminor.Sreturn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sreturn">Sreturn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sreturn">Cminor.Sreturn</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sreturn">Sreturn</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_expr">sel_expr</a></span> <span class="id">e</span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Slabel">Cminor.Slabel</a></span> <span class="id">lbl</span> <span class="id">body</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="body':214" class="id"><a name="body':214" class="">body'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt:204">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:201">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:202">env</a></span> <span class="id">body;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Slabel">Slabel</a></span> <span class="id">lbl</span> <span class="id"><a href="compcert.backend.Selection.html#body':214">body'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.Cminor.html#Sgoto">Cminor.Sgoto</a></span> <span class="id">lbl</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#Sgoto">Sgoto</a></span> <span class="id">lbl</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.Selection.html#SELECTION">SELECTION</a></span>.<br/>
<br/>
<div class="doc">Conversion of functions. </div>
<br/>
<span class="vernacular">Definition</span> <span id="known_id" class="id"><a name="known_id" class="">known_id</a></span> (<span id="f:215" class="id"><a name="f:215" class="">f:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#function">Cminor.function</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.Cminortyping.html#known_idents">known_idents</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="add:218" class="id"><a name="add:218" class="">add</a></span> (<span id="ki:216" class="id"><a name="ki:216" class="">ki:</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#known_idents">known_idents</a></span>) (<span id="id:217" class="id"><a name="id:217" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.backend.Selection.html#id:217">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:216">ki</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">List.fold_left</a></span> <span class="id"><a href="compcert.backend.Selection.html#add:218">add</a></span> <span class="id"><a href="compcert.backend.Selection.html#f:215">f</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_vars">Cminor.fn_vars</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_left">List.fold_left</a></span> <span class="id"><a href="compcert.backend.Selection.html#add:218">add</a></span> <span class="id"><a href="compcert.backend.Selection.html#f:215">f</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_params">Cminor.fn_params</a></span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_function" class="id"><a name="sel_function" class="">sel_function</a></span> (<span id="dm:219" class="id"><a name="dm:219" class="">dm:</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>) (<span id="hf:220" class="id"><a name="hf:220" class="">hf:</a></span> <span class="id"><a href="compcert.backend.SplitLong.html#helper_functions">helper_functions</a></span>) (<span id="f:221" class="id"><a name="f:221" class="">f:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#function">Cminor.function</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#function">function</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="ki:222" class="id"><a name="ki:222" class="">ki</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#known_id">known_id</a></span> <span class="id"><a href="compcert.backend.Selection.html#f:221">f</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="env:223" class="id"><a name="env:223" class="">env</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Cminortyping.html#type_function">Cminortyping.type_function</a></span> <span class="id"><a href="compcert.backend.Selection.html#f:221">f;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="body':224" class="id"><a name="body':224" class="">body'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#sel_stmt">sel_stmt</a></span> <span class="id"><a href="compcert.backend.Selection.html#dm:219">dm</a></span> <span class="id"><a href="compcert.backend.Selection.html#ki:222">ki</a></span> <span class="id"><a href="compcert.backend.Selection.html#env:223">env</a></span> <span class="id"><a href="compcert.backend.Selection.html#f:221">f</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_body">Cminor.fn_body</a></span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.CminorSel.html#mkfunction">mkfunction</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#f:221">f</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_sig">Cminor.fn_sig</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#f:221">f</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_params">Cminor.fn_params</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#f:221">f</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_vars">Cminor.fn_vars</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#f:221">f</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">Cminor.fn_stackspace</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#body':224">body'</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sel_fundef" class="id"><a name="sel_fundef" class="">sel_fundef</a></span> (<span id="dm:225" class="id"><a name="dm:225" class="">dm:</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>) (<span id="hf:226" class="id"><a name="hf:226" class="">hf:</a></span> <span class="id"><a href="compcert.backend.SplitLong.html#helper_functions">helper_functions</a></span>) (<span id="f:227" class="id"><a name="f:227" class="">f:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#fundef">Cminor.fundef</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#fundef">fundef</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#transf_partial_fundef">transf_partial_fundef</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_function">sel_function</a></span> <span class="id"><a href="compcert.backend.Selection.html#dm:225">dm</a></span> <span class="id"><a href="compcert.backend.Selection.html#hf:226">hf</a></span>) <span class="id"><a href="compcert.backend.Selection.html#f:227">f</a></span>.<br/>
<br/>
<div class="doc">Setting up the helper functions. </div>
<br/>
<div class="doc">We build a partial mapping from global identifiers to their definitions,
  restricting ourselves to the globals we are interested in, namely
  the external function declarations that are marked as runtime library
  helpers.
  This ensures that the mapping remains small and that <span class="bracket"><span class="id">lookup_helper</span></span>
  below is efficient. </div>
<br/>
<span class="vernacular">Definition</span> <span id="globdef_of_interest" class="id"><a name="globdef_of_interest" class="">globdef_of_interest</a></span> (<span id="gd:228" class="id"><a name="gd:228" class="">gd:</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#gd:228">gd</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.common.AST.html#External">External</a></span> (<span class="id"><a href="compcert.common.AST.html#EF_runtime">EF_runtime</a></span> <span class="id">name</span> <span class="id">sg</span>)) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="record_globdefs" class="id"><a name="record_globdefs" class="">record_globdefs</a></span> (<span id="defmap:230" class="id"><a name="defmap:230" class="">defmap:</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.fold">PTree.fold</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="m:231" class="id"><a name="m:231" class="">m</a></span> <span id="id:232" class="id"><a name="id:232" class="">id</a></span> <span id="gd:233" class="id"><a name="gd:233" class="">gd</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.Selection.html#globdef_of_interest">globdef_of_interest</a></span> <span class="id"><a href="compcert.backend.Selection.html#gd:233">gd</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.backend.Selection.html#id:232">id</a></span> <span class="id"><a href="compcert.backend.Selection.html#gd:233">gd</a></span> <span class="id"><a href="compcert.backend.Selection.html#m:231">m</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.Selection.html#m:231">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#defmap:230">defmap</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="lookup_helper_aux" class="id"><a name="lookup_helper_aux" class="">lookup_helper_aux</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="name:234" class="id"><a name="name:234" class="">name:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Strings.String.html#string">String.string</a></span>) (<span id="sg:235" class="id"><a name="sg:235" class="">sg:</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) (<span id="res:236" class="id"><a name="res:236" class="">res:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="id:237" class="id"><a name="id:237" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="gd:238" class="id"><a name="gd:238" class="">gd:</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.Selection.html#gd:238">gd</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.common.AST.html#External">External</a></span> (<span class="id"><a href="compcert.common.AST.html#EF_runtime">EF_runtime</a></span> <span class="id">name'</span> <span class="id">sg'</span>)) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Strings.String.html#string_dec">String.string_dec</a></span> <span class="id"><a href="compcert.backend.Selection.html#name:234">name</a></span> <span class="id">name'</span> &amp;&amp; <span class="id"><a href="compcert.common.AST.html#signature_eq">signature_eq</a></span> <span class="id"><a href="compcert.backend.Selection.html#sg:235">sg</a></span> <span class="id">sg'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Selection.html#id:237">id</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.Selection.html#res:236">res</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Selection.html#res:236">res</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="lookup_helper" class="id"><a name="lookup_helper" class="">lookup_helper</a></span> (<span id="globs:240" class="id"><a name="globs:240" class="">globs:</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="name:241" class="id"><a name="name:241" class="">name:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Strings.String.html#string">String.string</a></span>) (<span id="sg:242" class="id"><a name="sg:242" class="">sg:</a></span> <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.fold">PTree.fold</a></span> (<span class="id"><a href="compcert.backend.Selection.html#lookup_helper_aux">lookup_helper_aux</a></span> <span class="id"><a href="compcert.backend.Selection.html#name:241">name</a></span> <span class="id"><a href="compcert.backend.Selection.html#sg:242">sg</a></span>) <span class="id"><a href="compcert.backend.Selection.html#globs:240">globs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">id</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>    <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#MSG">MSG</a></span> <span class="id"><a href="compcert.backend.Selection.html#name:241">name</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Errors.html#MSG">MSG</a></span> <span class="id">&quot;: missing or incorrect declaration&quot;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">string_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="get_helpers" class="id"><a name="get_helpers" class="">get_helpers</a></span> (<span id="defmap:243" class="id"><a name="defmap:243" class="">defmap:</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.Selection.html#globdef">globdef</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.backend.SplitLong.html#helper_functions">helper_functions</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="globs:244" class="id"><a name="globs:244" class="">globs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Selection.html#record_globdefs">record_globdefs</a></span> <span class="id"><a href="compcert.backend.Selection.html#defmap:243">defmap</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_dtos:245" class="id"><a name="i64_dtos:245" class="">i64_dtos</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_dtos&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_f_l">sig_f_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_dtou:246" class="id"><a name="i64_dtou:246" class="">i64_dtou</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_dtou&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_f_l">sig_f_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_stod:247" class="id"><a name="i64_stod:247" class="">i64_stod</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_stod&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_l_f">sig_l_f</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_utod:248" class="id"><a name="i64_utod:248" class="">i64_utod</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_utod&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_l_f">sig_l_f</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_stof:249" class="id"><a name="i64_stof:249" class="">i64_stof</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_stof&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_l_s">sig_l_s</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_utof:250" class="id"><a name="i64_utof:250" class="">i64_utof</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_utof&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_l_s">sig_l_s</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_sdiv:251" class="id"><a name="i64_sdiv:251" class="">i64_sdiv</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_sdiv&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_ll_l">sig_ll_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_udiv:252" class="id"><a name="i64_udiv:252" class="">i64_udiv</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_udiv&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_ll_l">sig_ll_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_smod:253" class="id"><a name="i64_smod:253" class="">i64_smod</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_smod&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_ll_l">sig_ll_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_umod:254" class="id"><a name="i64_umod:254" class="">i64_umod</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_umod&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_ll_l">sig_ll_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_shl:255" class="id"><a name="i64_shl:255" class="">i64_shl</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_shl&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_li_l">sig_li_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_shr:256" class="id"><a name="i64_shr:256" class="">i64_shr</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_shr&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_li_l">sig_li_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_sar:257" class="id"><a name="i64_sar:257" class="">i64_sar</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_sar&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_li_l">sig_li_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_umulh:258" class="id"><a name="i64_umulh:258" class="">i64_umulh</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_umulh&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_ll_l">sig_ll_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="i64_smulh:259" class="id"><a name="i64_smulh:259" class="">i64_smulh</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#lookup_helper">lookup_helper</a></span> <span class="id"><a href="compcert.backend.Selection.html#globs:244">globs</a></span> <span class="id">&quot;__compcert_i64_smulh&quot;</span> <span class="id"><a href="compcert.backend.SplitLong.html#sig_ll_l">sig_ll_l</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.backend.SplitLong.html#mk_helper_functions">mk_helper_functions</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#i64_dtos:245">i64_dtos</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_dtou:246">i64_dtou</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_stod:247">i64_stod</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_utod:248">i64_utod</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_stof:249">i64_stof</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_utof:250">i64_utof</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#i64_sdiv:251">i64_sdiv</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_udiv:252">i64_udiv</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_smod:253">i64_smod</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_umod:254">i64_umod</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#i64_shl:255">i64_shl</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_shr:256">i64_shr</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_sar:257">i64_sar</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Selection.html#i64_umulh:258">i64_umulh</a></span> <span class="id"><a href="compcert.backend.Selection.html#i64_smulh:259">i64_smulh</a></span>).<br/>
<br/>
<div class="doc">Conversion of programs. </div>
<br/>
<span class="vernacular">Definition</span> <span id="sel_program" class="id"><a name="sel_program" class="">sel_program</a></span> (<span id="p:260" class="id"><a name="p:260" class="">p:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#program">Cminor.program</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.backend.CminorSel.html#program">program</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="dm:261" class="id"><a name="dm:261" class="">dm</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.backend.Selection.html#p:260">p</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="hf:262" class="id"><a name="hf:262" class="">hf</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.backend.Selection.html#get_helpers">get_helpers</a></span> <span class="id"><a href="compcert.backend.Selection.html#dm:261">dm;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#transform_partial_program">transform_partial_program</a></span> (<span class="id"><a href="compcert.backend.Selection.html#sel_fundef">sel_fundef</a></span> <span class="id"><a href="compcert.backend.Selection.html#dm:261">dm</a></span> <span class="id"><a href="compcert.backend.Selection.html#hf:262">hf</a></span>) <span class="id"><a href="compcert.backend.Selection.html#p:260">p</a></span>.<br/>
<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
