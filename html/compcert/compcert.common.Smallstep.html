
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Smallstep</title>
<meta name="description" content="Documentation of Coq module Smallstep" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Smallstep</h1>
<br/>
<div class="doc">Tools for small-step operational semantics </div>
<br/>
<div class="doc">This module defines generic operations and theorems over
  the one-step transition relations that are used to specify
  operational semantics in small-step style. </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relations.html">Relations</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Wellfounded.Wellfounded.html">Wellfounded</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Events.html">Events</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span>.<br/>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<br/>
<h1> Closures of transitions relations </h1>
<br/>
<span class="vernacular">Section</span> <span id="CLOSURES" class="id"><a name="CLOSURES" class="">CLOSURES</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="CLOSURES.genv" class="id"><a name="CLOSURES.genv" class="">genv:</a></span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Variable</span> <span id="CLOSURES.state" class="id"><a name="CLOSURES.state" class="">state:</a></span> <span class="gallina-kwd">Type</span>.<br/>
<br/>
<div class="doc">A one-step transition relation has the following signature.
  It is parameterized by a global environment, which does not
  change during the transition.  It relates the initial state
  of the transition with its final state.  The <span class="bracket"><span class="id">trace</span></span> parameter
  captures the observable events possibly generated during the
  transition. </div>
<br/>
<span class="vernacular">Variable</span> <span id="CLOSURES.step" class="id"><a name="CLOSURES.step" class="">step:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<div class="doc">No transitions: stuck state </div>
<br/>
<span class="vernacular">Definition</span> <span id="nostep" class="id"><a name="nostep" class="">nostep</a></span> (<span id="ge:4" class="id"><a name="ge:4" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>) (<span id="s:5" class="id"><a name="s:5" class="">s:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="t:6" class="id"><a name="t:6" class="">t</a></span> <span id="s':7" class="id"><a name="s':7" class="">s',</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span>(<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:4">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:5">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:6">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':7">s'</a></span>).<br/>
<br/>
<div class="doc">Zero, one or several transitions.  Also known as Kleene closure,
    or reflexive transitive closure. </div>
<br/>
<span class="vernacular">Inductive</span> <span id="star" class="id"><a name="star" class="">star</a></span> (<span id="ge:8" class="id"><a name="ge:8" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="star_refl" class="id"><a name="star_refl" class="">star_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="s:11" class="id"><a name="s:11" class="">s,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star:9">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:8">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:11">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:11">s</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="star_step" class="id"><a name="star_step" class="">star_step:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:12" class="id"><a name="s1:12" class="">s1</a></span> <span id="t1:13" class="id"><a name="t1:13" class="">t1</a></span> <span id="s2:14" class="id"><a name="s2:14" class="">s2</a></span> <span id="t2:15" class="id"><a name="t2:15" class="">t2</a></span> <span id="s3:16" class="id"><a name="s3:16" class="">s3</a></span> <span id="t:17" class="id"><a name="t:17" class="">t,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:8">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:12">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:13">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:14">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star:9">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:8">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:14">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:15">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:16">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:17">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:13">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:15">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star:9">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:8">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:12">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:17">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:16">s3</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="star_one" class="id"><a name="star_one" class="">star_one:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:18" class="id"><a name="ge:18" class="">ge</a></span> <span id="s1:19" class="id"><a name="s1:19" class="">s1</a></span> <span id="t:20" class="id"><a name="t:20" class="">t</a></span> <span id="s2:21" class="id"><a name="s2:21" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:18">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:19">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:20">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:21">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:18">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:19">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:20">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:21">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_two" class="id"><a name="star_two" class="">star_two:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:22" class="id"><a name="ge:22" class="">ge</a></span> <span id="s1:23" class="id"><a name="s1:23" class="">s1</a></span> <span id="t1:24" class="id"><a name="t1:24" class="">t1</a></span> <span id="s2:25" class="id"><a name="s2:25" class="">s2</a></span> <span id="t2:26" class="id"><a name="t2:26" class="">t2</a></span> <span id="s3:27" class="id"><a name="s3:27" class="">s3</a></span> <span id="t:28" class="id"><a name="t:28" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:22">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:23">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:24">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:25">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:22">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:25">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:26">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:27">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:28">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:24">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:26">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:22">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:23">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:28">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:27">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_three" class="id"><a name="star_three" class="">star_three:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:29" class="id"><a name="ge:29" class="">ge</a></span> <span id="s1:30" class="id"><a name="s1:30" class="">s1</a></span> <span id="t1:31" class="id"><a name="t1:31" class="">t1</a></span> <span id="s2:32" class="id"><a name="s2:32" class="">s2</a></span> <span id="t2:33" class="id"><a name="t2:33" class="">t2</a></span> <span id="s3:34" class="id"><a name="s3:34" class="">s3</a></span> <span id="t3:35" class="id"><a name="t3:35" class="">t3</a></span> <span id="s4:36" class="id"><a name="s4:36" class="">s4</a></span> <span id="t:37" class="id"><a name="t:37" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:29">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:30">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:31">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:32">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:29">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:32">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:33">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:34">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:29">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:34">s3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:35">t3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:36">s4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:37">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:31">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:33">t2</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:35">t3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:29">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:30">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:37">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:36">s4</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_two">star_two;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_four" class="id"><a name="star_four" class="">star_four:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:38" class="id"><a name="ge:38" class="">ge</a></span> <span id="s1:39" class="id"><a name="s1:39" class="">s1</a></span> <span id="t1:40" class="id"><a name="t1:40" class="">t1</a></span> <span id="s2:41" class="id"><a name="s2:41" class="">s2</a></span> <span id="t2:42" class="id"><a name="t2:42" class="">t2</a></span> <span id="s3:43" class="id"><a name="s3:43" class="">s3</a></span> <span id="t3:44" class="id"><a name="t3:44" class="">t3</a></span> <span id="s4:45" class="id"><a name="s4:45" class="">s4</a></span> <span id="t4:46" class="id"><a name="t4:46" class="">t4</a></span> <span id="s5:47" class="id"><a name="s5:47" class="">s5</a></span> <span id="t:48" class="id"><a name="t:48" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:38">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:39">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:40">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:41">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:38">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:41">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:42">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:43">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:38">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:43">s3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:44">t3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:45">s4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:38">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:45">s4</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t4:46">t4</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s5:47">s5</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:48">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:40">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:42">t2</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:44">t3</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t4:46">t4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:38">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:39">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:48">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s5:47">s5</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_three">star_three;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_trans" class="id"><a name="star_trans" class="">star_trans:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:49" class="id"><a name="ge:49" class="">ge</a></span> <span id="s1:50" class="id"><a name="s1:50" class="">s1</a></span> <span id="t1:51" class="id"><a name="t1:51" class="">t1</a></span> <span id="s2:52" class="id"><a name="s2:52" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:49">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:50">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:51">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:52">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="t2:53" class="id"><a name="t2:53" class="">t2</a></span> <span id="s3:54" class="id"><a name="s3:54" class="">s3</a></span> <span id="t:55" class="id"><a name="t:55" class="">t,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:49">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:52">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:53">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:54">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:55">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:51">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:53">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:49">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:50">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:55">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:54">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step;</a></span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_left" class="id"><a name="star_left" class="">star_left:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:56" class="id"><a name="ge:56" class="">ge</a></span> <span id="s1:57" class="id"><a name="s1:57" class="">s1</a></span> <span id="t1:58" class="id"><a name="t1:58" class="">t1</a></span> <span id="s2:59" class="id"><a name="s2:59" class="">s2</a></span> <span id="t2:60" class="id"><a name="t2:60" class="">t2</a></span> <span id="s3:61" class="id"><a name="s3:61" class="">s3</a></span> <span id="t:62" class="id"><a name="t:62" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:56">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:57">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:58">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:59">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:56">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:59">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:60">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:61">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:62">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:58">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:60">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:56">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:57">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:62">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:61">s3</a></span>.<br/>
<span class="vernacular">Proof</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="star_right" class="id"><a name="star_right" class="">star_right:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:63" class="id"><a name="ge:63" class="">ge</a></span> <span id="s1:64" class="id"><a name="s1:64" class="">s1</a></span> <span id="t1:65" class="id"><a name="t1:65" class="">t1</a></span> <span id="s2:66" class="id"><a name="s2:66" class="">s2</a></span> <span id="t2:67" class="id"><a name="t2:67" class="">t2</a></span> <span id="s3:68" class="id"><a name="s3:68" class="">s3</a></span> <span id="t:69" class="id"><a name="t:69" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:63">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:64">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:65">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:66">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:63">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:66">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:67">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:68">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:69">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:65">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:67">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:63">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:64">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:69">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:68">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_E0_ind" class="id"><a name="star_E0_ind" class="">star_E0_ind:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:70" class="id"><a name="ge:70" class="">ge</a></span> (<span id="P:71" class="id"><a name="P:71" class="">P:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s:72" class="id"><a name="s:72" class="">s,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:71">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:72">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:72">s</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s1:73" class="id"><a name="s1:73" class="">s1</a></span> <span id="s2:74" class="id"><a name="s2:74" class="">s2</a></span> <span id="s3:75" class="id"><a name="s3:75" class="">s3,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:70">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:73">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:74">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:71">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:74">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:75">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:71">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:73">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:75">s3</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:76" class="id"><a name="s1:76" class="">s1</a></span> <span id="s2:77" class="id"><a name="s2:77" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:70">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:76">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:77">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:71">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:76">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:77">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">ge</span> <span class="id">P</span> <span class="id">BASE</span> <span class="id">REC</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="s1:81" class="id"><span id="s1:78" class="id"><a name="s1:81" class="">s1</a></span></span> <span id="t:82" class="id"><span id="t:79" class="id"><a name="t:82" class="">t</a></span></span> <span id="s2:83" class="id"><span id="s2:80" class="id"><a name="s2:83" class="">s2,</a></span></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id">ge</span> <span class="id"><a href="compcert.common.Smallstep.html#s1:78">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:79">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:80">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:79">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">P</span> <span class="id"><a href="compcert.common.Smallstep.html#s1:78">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:80">s2</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>). <span class="id">subst</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">One or several transitions.  Also known as the transitive closure. </div>
<br/>
<span class="vernacular">Inductive</span> <span id="plus" class="id"><a name="plus" class="">plus</a></span> (<span id="ge:84" class="id"><a name="ge:84" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="plus_left" class="id"><a name="plus_left" class="">plus_left:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:87" class="id"><a name="s1:87" class="">s1</a></span> <span id="t1:88" class="id"><a name="t1:88" class="">t1</a></span> <span id="s2:89" class="id"><a name="s2:89" class="">s2</a></span> <span id="t2:90" class="id"><a name="t2:90" class="">t2</a></span> <span id="s3:91" class="id"><a name="s3:91" class="">s3</a></span> <span id="t:92" class="id"><a name="t:92" class="">t,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:84">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:87">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:88">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:89">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:84">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:89">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:90">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:91">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:92">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:88">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:90">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus:85">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:84">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:87">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:92">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:91">s3</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_one" class="id"><a name="plus_one" class="">plus_one:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:93" class="id"><a name="ge:93" class="">ge</a></span> <span id="s1:94" class="id"><a name="s1:94" class="">s1</a></span> <span id="t:95" class="id"><a name="t:95" class="">t</a></span> <span id="s2:96" class="id"><a name="s2:96" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:93">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:94">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:95">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:96">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:93">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:94">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:95">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:96">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_two" class="id"><a name="plus_two" class="">plus_two:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:97" class="id"><a name="ge:97" class="">ge</a></span> <span id="s1:98" class="id"><a name="s1:98" class="">s1</a></span> <span id="t1:99" class="id"><a name="t1:99" class="">t1</a></span> <span id="s2:100" class="id"><a name="s2:100" class="">s2</a></span> <span id="t2:101" class="id"><a name="t2:101" class="">t2</a></span> <span id="s3:102" class="id"><a name="s3:102" class="">s3</a></span> <span id="t:103" class="id"><a name="t:103" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:97">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:98">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:99">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:100">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:97">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:100">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:101">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:102">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:103">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:99">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:101">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:97">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:98">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:103">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:102">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_three" class="id"><a name="plus_three" class="">plus_three:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:104" class="id"><a name="ge:104" class="">ge</a></span> <span id="s1:105" class="id"><a name="s1:105" class="">s1</a></span> <span id="t1:106" class="id"><a name="t1:106" class="">t1</a></span> <span id="s2:107" class="id"><a name="s2:107" class="">s2</a></span> <span id="t2:108" class="id"><a name="t2:108" class="">t2</a></span> <span id="s3:109" class="id"><a name="s3:109" class="">s3</a></span> <span id="t3:110" class="id"><a name="t3:110" class="">t3</a></span> <span id="s4:111" class="id"><a name="s4:111" class="">s4</a></span> <span id="t:112" class="id"><a name="t:112" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:104">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:105">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:106">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:107">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:104">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:107">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:108">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:109">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:104">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:109">s3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:110">t3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:111">s4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:112">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:106">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:108">t2</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:110">t3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:104">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:105">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:112">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:111">s4</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_two">star_two;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_four" class="id"><a name="plus_four" class="">plus_four:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:113" class="id"><a name="ge:113" class="">ge</a></span> <span id="s1:114" class="id"><a name="s1:114" class="">s1</a></span> <span id="t1:115" class="id"><a name="t1:115" class="">t1</a></span> <span id="s2:116" class="id"><a name="s2:116" class="">s2</a></span> <span id="t2:117" class="id"><a name="t2:117" class="">t2</a></span> <span id="s3:118" class="id"><a name="s3:118" class="">s3</a></span> <span id="t3:119" class="id"><a name="t3:119" class="">t3</a></span> <span id="s4:120" class="id"><a name="s4:120" class="">s4</a></span> <span id="t4:121" class="id"><a name="t4:121" class="">t4</a></span> <span id="s5:122" class="id"><a name="s5:122" class="">s5</a></span> <span id="t:123" class="id"><a name="t:123" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:113">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:114">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:115">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:116">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:113">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:116">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:117">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:118">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:113">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:118">s3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:119">t3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:120">s4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:113">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s4:120">s4</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t4:121">t4</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s5:122">s5</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:123">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:115">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:117">t2</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t3:119">t3</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t4:121">t4</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:113">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:114">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:123">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s5:122">s5</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_three">star_three;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_star" class="id"><a name="plus_star" class="">plus_star:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:124" class="id"><a name="ge:124" class="">ge</a></span> <span id="s1:125" class="id"><a name="s1:125" class="">s1</a></span> <span id="t:126" class="id"><a name="t:126" class="">t</a></span> <span id="s2:127" class="id"><a name="s2:127" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:124">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:125">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:126">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:127">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:124">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:125">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:126">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:127">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_right" class="id"><a name="plus_right" class="">plus_right:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:128" class="id"><a name="ge:128" class="">ge</a></span> <span id="s1:129" class="id"><a name="s1:129" class="">s1</a></span> <span id="t1:130" class="id"><a name="t1:130" class="">t1</a></span> <span id="s2:131" class="id"><a name="s2:131" class="">s2</a></span> <span id="t2:132" class="id"><a name="t2:132" class="">t2</a></span> <span id="s3:133" class="id"><a name="s3:133" class="">s3</a></span> <span id="t:134" class="id"><a name="t:134" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:128">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:129">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:130">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:131">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:128">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:131">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:132">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:133">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:134">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:130">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:132">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:128">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:129">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:134">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:133">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst</span>. <span class="id">simpl</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#Eapp_assoc">Eapp_assoc</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_left'" class="id"><a name="plus_left'" class="">plus_left':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:135" class="id"><a name="ge:135" class="">ge</a></span> <span id="s1:136" class="id"><a name="s1:136" class="">s1</a></span> <span id="t1:137" class="id"><a name="t1:137" class="">t1</a></span> <span id="s2:138" class="id"><a name="s2:138" class="">s2</a></span> <span id="t2:139" class="id"><a name="t2:139" class="">t2</a></span> <span id="s3:140" class="id"><a name="s3:140" class="">s3</a></span> <span id="t:141" class="id"><a name="t:141" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:135">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:136">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:137">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:138">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:135">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:138">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:139">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:140">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:141">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:137">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:139">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:135">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:136">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:141">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:140">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_right'" class="id"><a name="plus_right'" class="">plus_right':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:142" class="id"><a name="ge:142" class="">ge</a></span> <span id="s1:143" class="id"><a name="s1:143" class="">s1</a></span> <span id="t1:144" class="id"><a name="t1:144" class="">t1</a></span> <span id="s2:145" class="id"><a name="s2:145" class="">s2</a></span> <span id="t2:146" class="id"><a name="t2:146" class="">t2</a></span> <span id="s3:147" class="id"><a name="s3:147" class="">s3</a></span> <span id="t:148" class="id"><a name="t:148" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:142">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:143">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:144">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:145">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:142">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:145">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:146">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:147">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:148">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:144">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:146">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:142">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:143">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:148">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:147">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_right">plus_right;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_star_trans" class="id"><a name="plus_star_trans" class="">plus_star_trans:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:149" class="id"><a name="ge:149" class="">ge</a></span> <span id="s1:150" class="id"><a name="s1:150" class="">s1</a></span> <span id="t1:151" class="id"><a name="t1:151" class="">t1</a></span> <span id="s2:152" class="id"><a name="s2:152" class="">s2</a></span> <span id="t2:153" class="id"><a name="t2:153" class="">t2</a></span> <span id="s3:154" class="id"><a name="s3:154" class="">s3</a></span> <span id="t:155" class="id"><a name="t:155" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:149">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:150">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:151">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:152">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:149">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:152">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:153">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:154">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:155">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:151">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:153">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:149">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:150">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:155">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:154">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_plus_trans" class="id"><a name="star_plus_trans" class="">star_plus_trans:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:156" class="id"><a name="ge:156" class="">ge</a></span> <span id="s1:157" class="id"><a name="s1:157" class="">s1</a></span> <span id="t1:158" class="id"><a name="t1:158" class="">t1</a></span> <span id="s2:159" class="id"><a name="s2:159" class="">s2</a></span> <span id="t2:160" class="id"><a name="t2:160" class="">t2</a></span> <span id="s3:161" class="id"><a name="s3:161" class="">s3</a></span> <span id="t:162" class="id"><a name="t:162" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:156">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:157">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:158">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:159">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:156">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:159">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:160">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:161">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:162">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:158">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:160">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:156">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:157">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:162">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:161">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#Eapp_assoc">Eapp_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_trans" class="id"><a name="plus_trans" class="">plus_trans:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:163" class="id"><a name="ge:163" class="">ge</a></span> <span id="s1:164" class="id"><a name="s1:164" class="">s1</a></span> <span id="t1:165" class="id"><a name="t1:165" class="">t1</a></span> <span id="s2:166" class="id"><a name="s2:166" class="">s2</a></span> <span id="t2:167" class="id"><a name="t2:167" class="">t2</a></span> <span id="s3:168" class="id"><a name="s3:168" class="">s3</a></span> <span id="t:169" class="id"><a name="t:169" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:163">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:164">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:165">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:166">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:163">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:166">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:167">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:168">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:169">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:165">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:167">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:163">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:164">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:169">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:168">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star_trans">plus_star_trans</a></span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star</a></span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_inv" class="id"><a name="plus_inv" class="">plus_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:170" class="id"><a name="ge:170" class="">ge</a></span> <span id="s1:171" class="id"><a name="s1:171" class="">s1</a></span> <span id="t:172" class="id"><a name="t:172" class="">t</a></span> <span id="s2:173" class="id"><a name="s2:173" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:170">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:171">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:172">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:173">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:170">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:171">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:172">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:173">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="gallina-kwd">exists</span> <span id="s':174" class="id"><a name="s':174" class="">s',</a></span> <span class="gallina-kwd">exists</span> <span id="t1:175" class="id"><a name="t1:175" class="">t1,</a></span> <span class="gallina-kwd">exists</span> <span id="t2:176" class="id"><a name="t2:176" class="">t2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:170">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:171">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:175">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':174">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:170">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':174">s'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:176">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:173">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:172">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:175">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:176">t2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst</span>. <span class="id">inversion</span> <span class="id">H1;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="gallina-kwd">exists</span> <span class="id">s3;</span> <span class="gallina-kwd">exists</span> <span class="id">t1;</span> <span class="gallina-kwd">exists</span> (<span class="id">t0</span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id">t3</span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_inv" class="id"><a name="star_inv" class="">star_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:177" class="id"><a name="ge:177" class="">ge</a></span> <span id="s1:178" class="id"><a name="s1:178" class="">s1</a></span> <span id="t:179" class="id"><a name="t:179" class="">t</a></span> <span id="s2:180" class="id"><a name="s2:180" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:177">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:178">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:179">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:180">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#s2:180">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:178">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:179">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>) <span class="id">\/</span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:177">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:178">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:179">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:180">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">left;</span> <span class="id">auto</span>. <span class="id">right;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_ind2" class="id"><a name="plus_ind2" class="">plus_ind2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:181" class="id"><a name="ge:181" class="">ge</a></span> (<span id="P:182" class="id"><a name="P:182" class="">P:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s1:183" class="id"><a name="s1:183" class="">s1</a></span> <span id="t:184" class="id"><a name="t:184" class="">t</a></span> <span id="s2:185" class="id"><a name="s2:185" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:181">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:183">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:184">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:185">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:182">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:183">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:184">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:185">s2</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s1:186" class="id"><a name="s1:186" class="">s1</a></span> <span id="t1:187" class="id"><a name="t1:187" class="">t1</a></span> <span id="s2:188" class="id"><a name="s2:188" class="">s2</a></span> <span id="t2:189" class="id"><a name="t2:189" class="">t2</a></span> <span id="s3:190" class="id"><a name="s3:190" class="">s3</a></span> <span id="t:191" class="id"><a name="t:191" class="">t,</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:181">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:186">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:187">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:188">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:181">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:188">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:189">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:190">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:182">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:188">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:189">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:190">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:191">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:187">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:189">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#P:182">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:186">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:191">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:190">s3</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:192" class="id"><a name="s1:192" class="">s1</a></span> <span id="t:193" class="id"><a name="t:193" class="">t</a></span> <span id="s2:194" class="id"><a name="s2:194" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:181">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:192">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:193">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:194">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:182">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:192">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:193">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:194">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">ge</span> <span class="id">P</span> <span class="id">BASE</span> <span class="id">IND</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="s1:200" class="id"><span id="s1:195" class="id"><a name="s1:200" class="">s1</a></span></span> <span id="t:201" class="id"><span id="t:196" class="id"><a name="t:201" class="">t</a></span></span> <span id="s2:202" class="id"><span id="s2:197" class="id"><a name="s2:202" class="">s2,</a></span></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id">ge</span> <span class="id"><a href="compcert.common.Smallstep.html#s1:195">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:196">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:197">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s0:203" class="id"><span id="s0:198" class="id"><a name="s0:203" class="">s0</a></span></span> <span id="t0:204" class="id"><span id="t0:199" class="id"><a name="t0:204" class="">t0,</a></span></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id">ge</span> <span class="id"><a href="compcert.common.Smallstep.html#s0:198">s0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t0:199">t0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:195">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id"><a href="compcert.common.Smallstep.html#s0:198">s0</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t0:199">t0</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:196">t</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:197">s2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span>. <span class="id">apply</span> <span class="id">BASE;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IND</span>. <span class="id">eauto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">subst</span> <span class="id">t</span>. <span class="id">eapply</span> <span class="id">IHstar;</span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plus_E0_ind" class="id"><a name="plus_E0_ind" class="">plus_E0_ind:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:205" class="id"><a name="ge:205" class="">ge</a></span> (<span id="P:206" class="id"><a name="P:206" class="">P:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s1:207" class="id"><a name="s1:207" class="">s1</a></span> <span id="s2:208" class="id"><a name="s2:208" class="">s2</a></span> <span id="s3:209" class="id"><a name="s3:209" class="">s3,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:205">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:207">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:208">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:205">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:208">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:209">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:206">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:207">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:209">s3</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:210" class="id"><a name="s1:210" class="">s1</a></span> <span id="s2:211" class="id"><a name="s2:211" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:205">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:210">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:211">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:206">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:210">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:211">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B];</span> <span class="id">subst</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Counted sequences of transitions </div>
<br/>
<span class="vernacular">Inductive</span> <span id="starN" class="id"><a name="starN" class="">starN</a></span> (<span id="ge:212" class="id"><a name="ge:212" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="starN_refl" class="id"><a name="starN_refl" class="">starN_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="s:215" class="id"><a name="s:215" class="">s,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#starN:213">starN</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:212">ge</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:215">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:215">s</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="starN_step" class="id"><a name="starN_step" class="">starN_step:</a></span> <span class="gallina-kwd">forall</span> <span id="n:216" class="id"><a name="n:216" class="">n</a></span> <span id="s:217" class="id"><a name="s:217" class="">s</a></span> <span id="t:218" class="id"><a name="t:218" class="">t</a></span> <span id="t1:219" class="id"><a name="t1:219" class="">t1</a></span> <span id="s':220" class="id"><a name="s':220" class="">s'</a></span> <span id="t2:221" class="id"><a name="t2:221" class="">t2</a></span> <span id="s'':222" class="id"><a name="s'':222" class="">s'',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:212">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:217">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:219">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':220">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#starN:213">starN</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:212">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:216">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':220">s'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:221">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s'':222">s''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:218">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:219">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:221">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#starN:213">starN</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:212">ge</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:216">n</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s:217">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:218">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s'':222">s''</a></span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="starN_star" class="id"><a name="starN_star" class="">starN_star:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:223" class="id"><a name="ge:223" class="">ge</a></span> <span id="n:224" class="id"><a name="n:224" class="">n</a></span> <span id="s:225" class="id"><a name="s:225" class="">s</a></span> <span id="t:226" class="id"><a name="t:226" class="">t</a></span> <span id="s':227" class="id"><a name="s':227" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:223">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:224">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:225">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:226">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':227">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:223">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:225">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:226">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':227">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="star_starN" class="id"><a name="star_starN" class="">star_starN:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:228" class="id"><a name="ge:228" class="">ge</a></span> <span id="s:229" class="id"><a name="s:229" class="">s</a></span> <span id="t:230" class="id"><a name="t:230" class="">t</a></span> <span id="s':231" class="id"><a name="s':231" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:228">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:229">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:230">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':231">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="n:232" class="id"><a name="n:232" class="">n,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:228">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:232">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:229">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:230">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':231">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHstar</span> <span class="gallina-kwd">as</span> <span class="id">[n</span> <span class="id">P]</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Infinitely many transitions </div>
<br/>
<span class="vernacular">CoInductive</span> <span id="forever" class="id"><a name="forever" class="">forever</a></span> (<span id="ge:233" class="id"><a name="ge:233" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#traceinf">traceinf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_intro" class="id"><a name="forever_intro" class="">forever_intro:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:236" class="id"><a name="s1:236" class="">s1</a></span> <span id="t:237" class="id"><a name="t:237" class="">t</a></span> <span id="s2:238" class="id"><a name="s2:238" class="">s2</a></span> <span id="T:239" class="id"><a name="T:239" class="">T,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:233">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:236">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:237">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:238">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever:234">forever</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:233">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:238">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:239">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever:234">forever</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:233">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:236">s1</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t:237">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:239">T</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="star_forever" class="id"><a name="star_forever" class="">star_forever:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:240" class="id"><a name="ge:240" class="">ge</a></span> <span id="s1:241" class="id"><a name="s1:241" class="">s1</a></span> <span id="t:242" class="id"><a name="t:242" class="">t</a></span> <span id="s2:243" class="id"><a name="s2:243" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:240">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:241">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:242">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:243">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="T:244" class="id"><a name="T:244" class="">T,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever">forever</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:240">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:243">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:244">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever">forever</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:240">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:241">s1</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t:242">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:244">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#Eappinf_assoc">Eappinf_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">An alternate, equivalent definition of <span class="bracket"><span class="id">forever</span></span> that is useful
    for coinductive reasoning. </div>
<br/>
<span class="vernacular">Variable</span> <span id="CLOSURES.A" class="id"><a name="CLOSURES.A" class="">A:</a></span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Variable</span> <span id="CLOSURES.order" class="id"><a name="CLOSURES.order" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">CoInductive</span> <span id="forever_N" class="id"><a name="forever_N" class="">forever_N</a></span> (<span id="ge:247" class="id"><a name="ge:247" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#traceinf">traceinf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_N_star" class="id"><a name="forever_N_star" class="">forever_N_star:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:250" class="id"><a name="s1:250" class="">s1</a></span> <span id="t:251" class="id"><a name="t:251" class="">t</a></span> <span id="s2:252" class="id"><a name="s2:252" class="">s2</a></span> <span id="a1:253" class="id"><a name="a1:253" class="">a1</a></span> <span id="a2:254" class="id"><a name="a2:254" class="">a2</a></span> <span id="T1:255" class="id"><a name="T1:255" class="">T1</a></span> <span id="T2:256" class="id"><a name="T2:256" class="">T2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:247">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:250">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:251">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:252">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a2:254">a2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a1:253">a1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_N:248">forever_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:247">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a2:254">a2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:252">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T2:256">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#T1:255">T1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:251">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T2:256">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_N:248">forever_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:247">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a1:253">a1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:250">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T1:255">T1</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_N_plus" class="id"><a name="forever_N_plus" class="">forever_N_plus:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:257" class="id"><a name="s1:257" class="">s1</a></span> <span id="t:258" class="id"><a name="t:258" class="">t</a></span> <span id="s2:259" class="id"><a name="s2:259" class="">s2</a></span> <span id="a1:260" class="id"><a name="a1:260" class="">a1</a></span> <span id="a2:261" class="id"><a name="a2:261" class="">a2</a></span> <span id="T1:262" class="id"><a name="T1:262" class="">T1</a></span> <span id="T2:263" class="id"><a name="T2:263" class="">T2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:247">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:257">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:258">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:259">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_N:248">forever_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:247">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a2:261">a2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:259">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T2:263">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#T1:262">T1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:258">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T2:263">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_N:248">forever_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:247">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a1:260">a1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:257">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T1:262">T1</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="CLOSURES.order_wf" class="id"><a name="CLOSURES.order_wf" class="">order_wf:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.order">order</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forever_N_inv" class="id"><a name="forever_N_inv" class="">forever_N_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:265" class="id"><a name="ge:265" class="">ge</a></span> <span id="a:266" class="id"><a name="a:266" class="">a</a></span> <span id="s:267" class="id"><a name="s:267" class="">s</a></span> <span id="T:268" class="id"><a name="T:268" class="">T,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_N">forever_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:265">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a:266">a</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:267">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:268">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="t:269" class="id"><a name="t:269" class="">t,</a></span> <span class="gallina-kwd">exists</span> <span id="s':270" class="id"><a name="s':270" class="">s',</a></span> <span class="gallina-kwd">exists</span> <span id="a':271" class="id"><a name="a':271" class="">a',</a></span> <span class="gallina-kwd">exists</span> <span id="T':272" class="id"><a name="T':272" class="">T',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:265">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:267">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:269">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':270">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_N">forever_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:265">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a':271">a'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':270">s'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T':272">T'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:268">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:269">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T':272">T'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">ge</span> <span class="id">a0</span>. <span class="id">pattern</span> <span class="id">a0</span>. <span class="id">apply</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.order_wf">order_wf</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;star&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;no&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id">T2</span>) <span class="gallina-kwd">with</span> <span class="id">T2</span>. <span class="id">apply</span> <span class="id">H</span> <span class="gallina-kwd">with</span> <span class="id">a2</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;at&nbsp;least&nbsp;one&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">t1;</span> <span class="gallina-kwd">exists</span> <span class="id">s0;</span> <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> (<span class="id">t2</span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id">T2</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_N_star">forever_N_star;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Events.html#Eappinf_assoc">Eappinf_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;plus&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">t1;</span> <span class="gallina-kwd">exists</span> <span class="id">s0;</span> <span class="gallina-kwd">exists</span> <span class="id">a2;</span> <span class="gallina-kwd">exists</span> (<span class="id">t2</span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id">T2</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_N_plus">forever_N_plus</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Events.html#Eappinf_assoc">Eappinf_assoc</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="forever_N_forever" class="id"><a name="forever_N_forever" class="">forever_N_forever:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:273" class="id"><a name="ge:273" class="">ge</a></span> <span id="a:274" class="id"><a name="a:274" class="">a</a></span> <span id="s:275" class="id"><a name="s:275" class="">s</a></span> <span id="T:276" class="id"><a name="T:276" class="">T,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_N">forever_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:273">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a:274">a</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:275">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:276">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever">forever</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:273">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:275">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:276">T</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="gallina-kwd">cofix</span> <span class="id">COINDHYP;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#forever_N_inv">forever_N_inv</a></span> <span class="id">H</span>) <span class="gallina-kwd">as</span> <span class="id">[t</span> <span class="id">[s'</span> <span class="id">[a'</span> <span class="id">[T'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">R]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">R</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_intro">forever_intro</a></span> <span class="gallina-kwd">with</span> <span class="id">s'</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">COINDHYP</span> <span class="gallina-kwd">with</span> <span class="id">a';</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Yet another alternative definition of <span class="bracket"><span class="id">forever</span></span>. </div>
<br/>
<span class="vernacular">CoInductive</span> <span id="forever_plus" class="id"><a name="forever_plus" class="">forever_plus</a></span> (<span id="ge:277" class="id"><a name="ge:277" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#traceinf">traceinf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_plus_intro" class="id"><a name="forever_plus_intro" class="">forever_plus_intro:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:280" class="id"><a name="s1:280" class="">s1</a></span> <span id="t:281" class="id"><a name="t:281" class="">t</a></span> <span id="s2:282" class="id"><a name="s2:282" class="">s2</a></span> <span id="T1:283" class="id"><a name="T1:283" class="">T1</a></span> <span id="T2:284" class="id"><a name="T2:284" class="">T2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:277">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:280">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:281">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:282">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_plus:278">forever_plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:277">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:282">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T2:284">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#T1:283">T1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:281">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T2:284">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_plus:278">forever_plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:277">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:280">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T1:283">T1</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forever_plus_inv" class="id"><a name="forever_plus_inv" class="">forever_plus_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:285" class="id"><a name="ge:285" class="">ge</a></span> <span id="s:286" class="id"><a name="s:286" class="">s</a></span> <span id="T:287" class="id"><a name="T:287" class="">T,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_plus">forever_plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:285">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:286">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:287">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s':288" class="id"><a name="s':288" class="">s',</a></span> <span class="gallina-kwd">exists</span> <span id="t:289" class="id"><a name="t:289" class="">t,</a></span> <span class="gallina-kwd">exists</span> <span id="T':290" class="id"><a name="T':290" class="">T',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:285">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:286">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:289">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':288">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_plus">forever_plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:285">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':288">s'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T':290">T'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:287">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:289">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T':290">T'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="gallina-kwd">exists</span> <span class="id">s0;</span> <span class="gallina-kwd">exists</span> <span class="id">t1;</span> <span class="gallina-kwd">exists</span> (<span class="id">t2</span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id">T2</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_inv">star_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[P</span> <span class="id">Q]</span> <span class="id">|</span> <span class="id">R]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span>. <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="forever_plus_forever" class="id"><a name="forever_plus_forever" class="">forever_plus_forever:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:291" class="id"><a name="ge:291" class="">ge</a></span> <span id="s:292" class="id"><a name="s:292" class="">s</a></span> <span id="T:293" class="id"><a name="T:293" class="">T,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_plus">forever_plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:291">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:292">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:293">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever">forever</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:291">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:292">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:293">T</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="gallina-kwd">cofix</span> <span class="id">COINDHYP;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#forever_plus_inv">forever_plus_inv</a></span> <span class="id">H</span>) <span class="gallina-kwd">as</span> <span class="id">[s'</span> <span class="id">[t</span> <span class="id">[T'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">R]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Infinitely many silent transitions </div>
<br/>
<span class="vernacular">CoInductive</span> <span id="forever_silent" class="id"><a name="forever_silent" class="">forever_silent</a></span> (<span id="ge:294" class="id"><a name="ge:294" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_silent_intro" class="id"><a name="forever_silent_intro" class="">forever_silent_intro:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:297" class="id"><a name="s1:297" class="">s1</a></span> <span id="s2:298" class="id"><a name="s2:298" class="">s2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:294">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:297">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:298">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent:295">forever_silent</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:294">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:298">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_silent:295">forever_silent</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:294">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:297">s1</a></span>.<br/>
<br/>
<div class="doc">An alternate definition. </div>
<br/>
<span class="vernacular">CoInductive</span> <span id="forever_silent_N" class="id"><a name="forever_silent_N" class="">forever_silent_N</a></span> (<span id="ge:299" class="id"><a name="ge:299" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_silent_N_star" class="id"><a name="forever_silent_N_star" class="">forever_silent_N_star:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:302" class="id"><a name="s1:302" class="">s1</a></span> <span id="s2:303" class="id"><a name="s2:303" class="">s2</a></span> <span id="a1:304" class="id"><a name="a1:304" class="">a1</a></span> <span id="a2:305" class="id"><a name="a2:305" class="">a2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:299">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:302">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:303">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a2:305">a2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a1:304">a1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N:300">forever_silent_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:299">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a2:305">a2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:303">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N:300">forever_silent_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:299">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a1:304">a1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:302">s1</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_silent_N_plus" class="id"><a name="forever_silent_N_plus" class="">forever_silent_N_plus:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:306" class="id"><a name="s1:306" class="">s1</a></span> <span id="s2:307" class="id"><a name="s2:307" class="">s2</a></span> <span id="a1:308" class="id"><a name="a1:308" class="">a1</a></span> <span id="a2:309" class="id"><a name="a2:309" class="">a2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:299">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:306">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:307">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N:300">forever_silent_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:299">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a2:309">a2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:307">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N:300">forever_silent_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:299">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a1:308">a1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:306">s1</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forever_silent_N_inv" class="id"><a name="forever_silent_N_inv" class="">forever_silent_N_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:310" class="id"><a name="ge:310" class="">ge</a></span> <span id="a:311" class="id"><a name="a:311" class="">a</a></span> <span id="s:312" class="id"><a name="s:312" class="">s,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N">forever_silent_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:310">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a:311">a</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:312">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s':313" class="id"><a name="s':313" class="">s',</a></span> <span class="gallina-kwd">exists</span> <span id="a':314" class="id"><a name="a':314" class="">a',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:310">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:312">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':313">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N">forever_silent_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:310">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a':314">a'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':313">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">ge</span> <span class="id">a0</span>. <span class="id">pattern</span> <span class="id">a0</span>. <span class="id">apply</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.order_wf">order_wf</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;star&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;no&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H</span> <span class="gallina-kwd">with</span> <span class="id">a2</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;at&nbsp;least&nbsp;one&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">Q]</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s0;</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N_star">forever_silent_N_star;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;plus&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">Q]</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s0;</span> <span class="gallina-kwd">exists</span> <span class="id">a2</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N_plus">forever_silent_N_plus</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="forever_silent_N_forever" class="id"><a name="forever_silent_N_forever" class="">forever_silent_N_forever:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:315" class="id"><a name="ge:315" class="">ge</a></span> <span id="a:316" class="id"><a name="a:316" class="">a</a></span> <span id="s:317" class="id"><a name="s:317" class="">s,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N">forever_silent_N</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:315">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#a:316">a</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:317">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent">forever_silent</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:315">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:317">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="gallina-kwd">cofix</span> <span class="id">COINDHYP;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N_inv">forever_silent_N_inv</a></span> <span class="id">H</span>) <span class="gallina-kwd">as</span> <span class="id">[s'</span> <span class="id">[a'</span> <span class="id">[P</span> <span class="id">Q]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_intro">forever_silent_intro</a></span> <span class="gallina-kwd">with</span> <span class="id">s'</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">COINDHYP</span> <span class="gallina-kwd">with</span> <span class="id">a';</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Infinitely many non-silent transitions </div>
<br/>
<span class="vernacular">CoInductive</span> <span id="forever_reactive" class="id"><a name="forever_reactive" class="">forever_reactive</a></span> (<span id="ge:318" class="id"><a name="ge:318" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#traceinf">traceinf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="forever_reactive_intro" class="id"><a name="forever_reactive_intro" class="">forever_reactive_intro:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:321" class="id"><a name="s1:321" class="">s1</a></span> <span id="s2:322" class="id"><a name="s2:322" class="">s2</a></span> <span id="t:323" class="id"><a name="t:323" class="">t</a></span> <span id="T:324" class="id"><a name="T:324" class="">T,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:318">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:321">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:323">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:322">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:323">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_reactive:319">forever_reactive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:318">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:322">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:324">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_reactive:319">forever_reactive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:318">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:321">s1</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t:323">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:324">T</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="star_forever_reactive" class="id"><a name="star_forever_reactive" class="">star_forever_reactive:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:325" class="id"><a name="ge:325" class="">ge</a></span> <span id="s1:326" class="id"><a name="s1:326" class="">s1</a></span> <span id="t:327" class="id"><a name="t:327" class="">t</a></span> <span id="s2:328" class="id"><a name="s2:328" class="">s2</a></span> <span id="T:329" class="id"><a name="T:329" class="">T,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:325">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:326">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:327">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:328">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever_reactive">forever_reactive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:325">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:328">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:329">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_reactive">forever_reactive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:325">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:326">s1</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t:327">t</a></span> <span class="id"><a href="compcert.common.Events.html#41bb4e78599d035994a173ecd53d877d">***</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:329">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Events.html#Eappinf_assoc">Eappinf_assoc</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intro</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">Q]</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">eventually</span> <span class="id">n</span> <span class="id">s</span> <span class="id">P</span></span>: all transition sequences of length <span class="bracket"><span class="id">n</span></span> starting from <span class="bracket"><span class="id">s</span></span>
    are silent and lead to a state satisfying <span class="bracket"><span class="id">P</span></span>.  However, some transitions can
    get stuck on non-final states. </div>
<br/>
<span class="vernacular">Variable</span> <span id="CLOSURES.final_state" class="id"><a name="CLOSURES.final_state" class="">final_state:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="eventually" class="id"><a name="eventually" class="">eventually</a></span> (<span id="ge:331" class="id"><a name="ge:331" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.genv">genv</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span class="id">-&gt;</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="eventually_now" class="id"><a name="eventually_now" class="">eventually_now:</a></span> <span class="gallina-kwd">forall</span> <span id="s:334" class="id"><a name="s:334" class="">s</a></span> (<span id="P:335" class="id"><a name="P:335" class="">P:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#P:335">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:334">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually:332">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:331">ge</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:334">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:335">P</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="eventually_later" class="id"><a name="eventually_later" class="">eventually_later:</a></span> <span class="gallina-kwd">forall</span> <span id="n:336" class="id"><a name="n:336" class="">n</a></span> <span id="s:337" class="id"><a name="s:337" class="">s</a></span> (<span id="P:338" class="id"><a name="P:338" class="">P:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="r:339" class="id"><a name="r:339" class="">r,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:337">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:339">r</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="t:340" class="id"><a name="t:340" class="">t</a></span> <span id="s':341" class="id"><a name="s':341" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:331">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:337">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:340">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':341">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:340">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#eventually:332">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:331">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:336">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':341">s'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:338">P</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually:332">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:331">ge</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:336">n</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s:337">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:338">P</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eventually_one" class="id"><a name="eventually_one" class="">eventually_one:</a></span> <span class="gallina-kwd">forall</span> <span id="ge:342" class="id"><a name="ge:342" class="">ge</a></span> <span id="s:343" class="id"><a name="s:343" class="">s</a></span> (<span id="P:344" class="id"><a name="P:344" class="">P:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="r:345" class="id"><a name="r:345" class="">r,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:343">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:345">r</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="t:346" class="id"><a name="t:346" class="">t</a></span> <span id="s':347" class="id"><a name="s':347" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:342">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:343">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:346">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':347">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:346">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:344">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':347">s'</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:342">ge</a></span> <span class="id">1</span>%<span class="id">nat</span> <span class="id"><a href="compcert.common.Smallstep.html#s:343">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:344">P</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_later">eventually_later;</a></span> <span class="id">auto</span>. <span class="id">intros</span>. <span class="id">apply</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">intuition</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eventually_trans" class="id"><a name="eventually_trans" class="">eventually_trans:</a></span> <span class="gallina-kwd">forall</span> <span id="ge:348" class="id"><a name="ge:348" class="">ge</a></span> <span id="n1:349" class="id"><a name="n1:349" class="">n1</a></span> <span id="s1:350" class="id"><a name="s1:350" class="">s1</a></span> <span id="P1:351" class="id"><a name="P1:351" class="">P1</a></span> <span id="n2:352" class="id"><a name="n2:352" class="">n2</a></span> <span id="P2:353" class="id"><a name="P2:353" class="">P2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:348">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n1:349">n1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:350">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P1:351">P1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s2:354" class="id"><a name="s2:354" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P1:351">P1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:354">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:348">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n2:352">n2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:354">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P2:353">P2</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:348">ge</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#n1:349">n1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n2:352">n2</a></span>)%<span class="id">nat</span> <span class="id"><a href="compcert.common.Smallstep.html#s1:350">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P2:353">P2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">revert</span> <span class="id">n1</span> <span class="id">s1</span> <span class="id">H</span>. <span class="id">induction</span> <span class="id">n1;</span> <span class="id">intros</span> <span class="id">s1</span> <span class="id">EV;</span> <span class="id">inv</span> <span class="id">EV;</span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id">H0;</span> <span class="id">assumption</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_later">eventually_later;</a></span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">t</span> <span class="id">s'</span> <span class="id">ST</span>. <span class="id">destruct</span> (<span class="id">H2</span> <span class="id">t</span> <span class="id">s'</span> <span class="id">ST</span>) <span class="gallina-kwd">as</span> <span class="id">[U</span> <span class="id">V]</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="eventually_implies" class="id"><a name="eventually_implies" class="">eventually_implies:</a></span> <span class="gallina-kwd">forall</span> <span id="ge:355" class="id"><a name="ge:355" class="">ge</a></span> <span id="n:356" class="id"><a name="n:356" class="">n</a></span> <span id="s:357" class="id"><a name="s:357" class="">s</a></span> (<span id="P1:358" class="id"><a name="P1:358" class="">P1</a></span> <span id="P2:359" class="id"><a name="P2:359" class="">P2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:355">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:356">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:357">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P1:358">P1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s:360" class="id"><a name="s:360" class="">s,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P1:358">P1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:360">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P2:359">P2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:360">s</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:355">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:356">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:357">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P2:359">P2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">replace</span> <span class="id">n</span> <span class="gallina-kwd">with</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">0</span>)%<span class="id">nat</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_trans">eventually_trans;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_now">eventually_now</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eventually_and_invariant" class="id"><a name="eventually_and_invariant" class="">eventually_and_invariant:</a></span> <span class="gallina-kwd">forall</span> <span id="ge:361" class="id"><a name="ge:361" class="">ge</a></span> (<span id="Inv:362" class="id"><a name="Inv:362" class="">Inv:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.state">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span id="n:363" class="id"><a name="n:363" class="">n</a></span> <span id="s:364" class="id"><a name="s:364" class="">s</a></span> <span id="P:365" class="id"><a name="P:365" class="">P,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="s:366" class="id"><a name="s:366" class="">s</a></span> <span id="t:367" class="id"><a name="t:367" class="">t</a></span> <span id="s':368" class="id"><a name="s':368" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES.step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:361">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:366">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:367">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':368">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#Inv:362">Inv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:366">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#Inv:362">Inv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':368">s'</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:361">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:363">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:364">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#P:365">P</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#Inv:362">Inv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:364">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:361">ge</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:363">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:364">s</a></span> (<span class="gallina-kwd">fun</span> <span id="s':369" class="id"><a name="s':369" class="">s'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#P:365">P</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':369">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#Inv:362">Inv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':369">s'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">revert</span> <span class="id">n</span> <span class="id">s</span> <span class="id">H0</span> <span class="id">H1</span>. <span class="id">induction</span> <span class="id">n;</span> <span class="id">intros</span> <span class="id">s</span> <span class="id">EV</span> <span class="id">IV;</span> <span class="id">inv</span> <span class="id">EV</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_now">eventually_now</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_later">eventually_later;</a></span> <span class="id">auto</span>. <span class="id">intros</span>. <span class="id">edestruct</span> <span class="id">H2;</span> <span class="id">eauto</span>. <br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#CLOSURES">CLOSURES</a></span>.<br/>
<br/>
<h1> Transition semantics </h1>
<br/>
<div class="doc">The general form of a transition semantics. </div>
<br/>
<span class="vernacular">Record</span> <span id="semantics" class="id"><a name="semantics" class="">semantics</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id">Semantics_gen</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="state" class="id"><a name="state" class="">state:</a></span> <span class="id">Type;</span><br/>
&nbsp;&nbsp;<span id="genvtype" class="id"><a name="genvtype" class="">genvtype:</a></span> <span class="id">Type;</span><br/>
&nbsp;&nbsp;<span id="step" class="id"><a name="step" class="">step</a></span> <span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#genvtype:372">genvtype</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:371">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:371">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">Prop;</span><br/>
&nbsp;&nbsp;<span id="initial_state" class="id"><a name="initial_state" class="">initial_state:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:371">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">Prop;</span><br/>
&nbsp;&nbsp;<span id="final_state" class="id"><a name="final_state" class="">final_state:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:371">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">Prop;</span><br/>
&nbsp;&nbsp;<span id="globalenv" class="id"><a name="globalenv" class="">globalenv:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#genvtype:372">genvtype;</a></span><br/>
&nbsp;&nbsp;<span id="symbolenv" class="id"><a name="symbolenv" class="">symbolenv:</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span><br/>
<span class="id">}</span>.<br/>
<br/>
<div class="doc">The form used in earlier CompCert versions, for backward compatibility. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Semantics" class="id"><a name="Semantics" class="">Semantics</a></span> <span class="id">{state</span> <span id="funtype:379" class="id"><a name="funtype:379" class="">funtype</a></span> <span id="vartype:380" class="id"><a name="vartype:380" class="">vartype:</a></span> <span class="id">Type}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="step:381" class="id"><a name="step:381" class="">step:</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#funtype:379">funtype</a></span> <span class="id"><a href="compcert.common.Smallstep.html#vartype:380">vartype</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:378">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:378">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="initial_state:382" class="id"><a name="initial_state:382" class="">initial_state:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:378">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="final_state:383" class="id"><a name="final_state:383" class="">final_state:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state:378">state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="globalenv:384" class="id"><a name="globalenv:384" class="">globalenv:</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#funtype:379">funtype</a></span> <span class="id"><a href="compcert.common.Smallstep.html#vartype:380">vartype</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#state:378">state;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#genvtype">genvtype</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#funtype:379">funtype</a></span> <span class="id"><a href="compcert.common.Smallstep.html#vartype:380">vartype;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#step:381">step;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state:382">initial_state;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#final_state:383">final_state;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#globalenv:384">globalenv;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.to_senv">Genv.to_senv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#globalenv:384">globalenv</a></span> <span class="id">|}</span>.<br/>
<br/>
<div class="doc">Handy notations. </div>
<br/>
<span class="vernacular">Declare</span> <span class="vernacular">Scope</span> <span class="id">smallstep_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="::smallstep_scope:'Step'_x" class="id"><a name="::smallstep_scope:'Step'_x" class="">&quot; 'Step' L &quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">L</span> (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">L</span>)) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>) <span class="id">:</span> <span class="id">smallstep_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::smallstep_scope:'Star'_x" class="id"><a name="::smallstep_scope:'Star'_x" class="">&quot; 'Star' L &quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">L</span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">L</span>)) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>) <span class="id">:</span> <span class="id">smallstep_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::smallstep_scope:'Plus'_x" class="id"><a name="::smallstep_scope:'Plus'_x" class="">&quot; 'Plus' L &quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">L</span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">L</span>)) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>) <span class="id">:</span> <span class="id">smallstep_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::smallstep_scope:'Forever_silent'_x" class="id"><a name="::smallstep_scope:'Forever_silent'_x" class="">&quot; 'Forever_silent' L &quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#forever_silent">forever_silent</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">L</span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">L</span>)) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>) <span class="id">:</span> <span class="id">smallstep_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::smallstep_scope:'Forever_reactive'_x" class="id"><a name="::smallstep_scope:'Forever_reactive'_x" class="">&quot; 'Forever_reactive' L &quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#forever_reactive">forever_reactive</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">L</span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">L</span>)) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>) <span class="id">:</span> <span class="id">smallstep_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::smallstep_scope:'Nostep'_x" class="id"><a name="::smallstep_scope:'Nostep'_x" class="">&quot; 'Nostep' L &quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#nostep">nostep</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">L</span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">L</span>)) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>) <span class="id">:</span> <span class="id">smallstep_scope</span>.<br/>
<span class="vernacular">Notation</span> <span id="::smallstep_scope:'Eventually'_x" class="id"><a name="::smallstep_scope:'Eventually'_x" class="">&quot; 'Eventually' L &quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#eventually">eventually</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">L</span>) (<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id">L</span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">L</span>)) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>) <span class="id">:</span> <span class="id">smallstep_scope</span>.<br/>
<span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">smallstep_scope</span>.<br/>
<br/>
<h1> Forward simulations between two transition semantics. </h1>
<br/>
<div class="doc">The general form of a forward simulation. </div>
<br/>
<span class="vernacular">Record</span> <span id="fsim_properties" class="id"><a name="fsim_properties" class="">fsim_properties</a></span> (<span id="L1:385" class="id"><a name="L1:385" class="">L1</a></span> <span id="L2:386" class="id"><a name="L2:386" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span id="index:387" class="id"><a name="index:387" class="">index:</a></span> <span class="gallina-kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="order:388" class="id"><a name="order:388" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:387">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:387">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="match_states:389" class="id"><a name="match_states:389" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:387">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:385">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:386">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="fsim_order_wf" class="id"><a name="fsim_order_wf" class="">fsim_order_wf:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:388">order;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="fsim_match_initial_states" class="id"><a name="fsim_match_initial_states" class="">fsim_match_initial_states:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:392" class="id"><a name="s1:392" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:385">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:392">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i:393" class="id"><a name="i:393" class="">i,</a></span> <span class="gallina-kwd">exists</span> <span id="s2:394" class="id"><a name="s2:394" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:386">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:394">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:389">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:393">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:392">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:394">s2;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="fsim_match_final_states" class="id"><a name="fsim_match_final_states" class="">fsim_match_final_states:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:396" class="id"><a name="i:396" class="">i</a></span> <span id="s1:397" class="id"><a name="s1:397" class="">s1</a></span> <span id="s2:398" class="id"><a name="s2:398" class="">s2</a></span> <span id="r:399" class="id"><a name="r:399" class="">r,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#match_states:389">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:396">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:397">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:398">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:385">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:397">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:399">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:386">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:398">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:399">r;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="fsim_simulation" class="id"><a name="fsim_simulation" class="">fsim_simulation:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:401" class="id"><a name="s1:401" class="">s1</a></span> <span id="t:402" class="id"><a name="t:402" class="">t</a></span> <span id="s1':403" class="id"><a name="s1':403" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:385">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:401">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:402">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':403">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:404" class="id"><a name="i:404" class="">i</a></span> <span id="s2:405" class="id"><a name="s2:405" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:389">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:404">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:401">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:405">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':406" class="id"><a name="i':406" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s2':407" class="id"><a name="s2':407" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:386">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:405">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:402">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':407">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:386">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:405">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:402">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':407">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:388">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':406">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:404">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:389">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':406">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':403">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':407">s2';</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="fsim_public_preserved" class="id"><a name="fsim_public_preserved" class="">fsim_public_preserved:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:409" class="id"><a name="id:409" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:386">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:409">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:385">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:409">id</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_properties">fsim_properties:</a></span> <span class="id">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="forward_simulation" class="id"><a name="forward_simulation" class="">forward_simulation</a></span> (<span id="L1:411" class="id"><a name="L1:411" class="">L1</a></span> <span id="L2:412" class="id"><a name="L2:412" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span id="Forward_simulation" class="id"><a name="Forward_simulation" class="">Forward_simulation</a></span> (<span id="index:415" class="id"><a name="index:415" class="">index:</a></span> <span class="gallina-kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="order:416" class="id"><a name="order:416" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:415">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:415">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="match_states:417" class="id"><a name="match_states:417" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:415">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:411">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:412">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="props:418" class="id"><a name="props:418" class="">props:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_properties">fsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:411">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:412">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:415">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:416">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:417">match_states</a></span>).<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="compcert.common.Smallstep.html#Forward_simulation">Forward_simulation</a></span> <span class="id">{L1</span> <span class="id">L2</span> <span class="id">index}</span> <span class="id">order</span> <span class="id">match_states</span> <span class="id">props</span>.<br/>
<br/>
<div class="doc">An alternate form of the simulation diagram </div>
<br/>
<span class="vernacular">Lemma</span> <span id="fsim_simulation'" class="id"><a name="fsim_simulation'" class="">fsim_simulation':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L1:419" class="id"><a name="L1:419" class="">L1</a></span> <span id="L2:420" class="id"><a name="L2:420" class="">L2</a></span> <span id="index:421" class="id"><a name="index:421" class="">index</a></span> <span id="order:422" class="id"><a name="order:422" class="">order</a></span> <span id="match_states:423" class="id"><a name="match_states:423" class="">match_states,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_properties">fsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:419">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:420">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:421">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:422">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:423">match_states</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:424" class="id"><a name="i:424" class="">i</a></span> <span id="s1:425" class="id"><a name="s1:425" class="">s1</a></span> <span id="t:426" class="id"><a name="t:426" class="">t</a></span> <span id="s1':427" class="id"><a name="s1':427" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:419">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:425">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:426">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':427">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:428" class="id"><a name="s2:428" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:423">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:424">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:425">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:428">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="i':429" class="id"><a name="i':429" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s2':430" class="id"><a name="s2':430" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:420">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:428">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:426">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':430">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:423">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':429">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':427">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':430">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">exists</span> <span id="i':431" class="id"><a name="i':431" class="">i',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:422">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':431">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:424">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:426">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:423">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':431">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':427">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:428">s2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span>. <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h2> Forward simulation diagrams. </h2>
<br/>
<div class="doc">Various simulation diagrams that imply forward simulation </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DIAGRAMS" class="id"><a name="FORWARD_SIMU_DIAGRAMS" class="">FORWARD_SIMU_DIAGRAMS</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DIAGRAMS.L1" class="id"><a name="FORWARD_SIMU_DIAGRAMS.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DIAGRAMS.L2" class="id"><a name="FORWARD_SIMU_DIAGRAMS.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.public_preserved" class="id"><a name="FORWARD_SIMU_DIAGRAMS.public_preserved" class="">public_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:434" class="id"><a name="id:434" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:434">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:434">id</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DIAGRAMS.match_states" class="id"><a name="FORWARD_SIMU_DIAGRAMS.match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.match_initial_states" class="id"><a name="FORWARD_SIMU_DIAGRAMS.match_initial_states" class="">match_initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:437" class="id"><a name="s1:437" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:437">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2:438" class="id"><a name="s2:438" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:438">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:437">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:438">s2</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.match_final_states" class="id"><a name="FORWARD_SIMU_DIAGRAMS.match_final_states" class="">match_final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:440" class="id"><a name="s1:440" class="">s1</a></span> <span id="s2:441" class="id"><a name="s2:441" class="">s2</a></span> <span id="r:442" class="id"><a name="r:442" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:440">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:441">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:440">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:442">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:441">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:442">r</a></span>.<br/>
<br/>
<div class="doc">Simulation when one transition in the first program
    corresponds to zero, one or several transitions in the second program.
    However, there is no stuttering: infinitely many transitions
    in the source program must correspond to infinitely many
    transitions in the second program. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF" class="">SIMULATION_STAR_WF</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">order</span></span> is a well-founded ordering associated with states
  of the first semantics.  Stuttering steps must correspond
  to states that decrease w.r.t. <span class="bracket"><span class="id">order</span></span>. </div>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.order" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.order" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.order_wf" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.order_wf" class="">order_wf:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.order">order</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.simulation" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:446" class="id"><a name="s1:446" class="">s1</a></span> <span id="t:447" class="id"><a name="t:447" class="">t</a></span> <span id="s1':448" class="id"><a name="s1':448" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:446">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:447">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':448">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:449" class="id"><a name="s2:449" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:446">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:449">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2':450" class="id"><a name="s2':450" class="">s2',</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:449">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:447">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':450">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:449">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:447">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':450">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':448">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:446">s1</a></span>))<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':448">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':450">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_star_wf" class="id"><a name="forward_simulation_star_wf" class="">forward_simulation_star_wf:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#Forward_simulation">Forward_simulation</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.order">order</a></span> (<span class="gallina-kwd">fun</span> <span id="idx:455" class="id"><span id="idx:452" class="id"><a name="idx:455" class="">idx</a></span></span> <span id="s1:456" class="id"><span id="s1:453" class="id"><a name="s1:456" class="">s1</a></span></span> <span id="s2:457" class="id"><span id="s2:454" class="id"><a name="s2:457" class="">s2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#idx:452">idx</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:453">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:453">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:454">s2</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_initial_states">match_initial_states;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_final_states">match_final_states;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span>. <span class="id">subst</span> <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR_WF">SIMULATION_STAR_WF</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR" class="">SIMULATION_STAR</a></span>.<br/>
<br/>
<div class="doc">We now consider the case where we have a nonnegative integer measure
  associated with states of the first semantics.  It must decrease when we take
  a stuttering step. </div>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.measure" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.measure" class="">measure:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.simulation" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:459" class="id"><a name="s1:459" class="">s1</a></span> <span id="t:460" class="id"><a name="t:460" class="">t</a></span> <span id="s1':461" class="id"><a name="s1':461" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:459">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:460">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':461">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:462" class="id"><a name="s2:462" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:459">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:462">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="s2':463" class="id"><a name="s2':463" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:462">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:460">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':463">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':461">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':463">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':461">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:459">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:460">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':461">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:462">s2</a></span>)%<span class="id">nat</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_star" class="id"><a name="forward_simulation_star" class="">forward_simulation_star:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_star_wf">forward_simulation_star_wf</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#ltof">ltof</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.measure">measure</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#well_founded_ltof">well_founded_ltof</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[s2'</span> <span class="id">[A</span> <span class="id">B]]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">split</span>. <span class="id">right;</span> <span class="id">split</span>. <span class="id">rewrite</span> <span class="id">B</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STAR">SIMULATION_STAR</a></span>.<br/>
<br/>
<div class="doc">Simulation when one transition in the first program corresponds
    to one or several transitions in the second program. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_PLUS" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_PLUS" class="">SIMULATION_PLUS</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_PLUS.simulation" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_PLUS.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:465" class="id"><a name="s1:465" class="">s1</a></span> <span id="t:466" class="id"><a name="t:466" class="">t</a></span> <span id="s1':467" class="id"><a name="s1':467" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:465">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:466">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':467">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:468" class="id"><a name="s2:468" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:465">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:468">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2':469" class="id"><a name="s2':469" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:468">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:466">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':469">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':467">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':469">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_plus" class="id"><a name="forward_simulation_plus" class="">forward_simulation_plus:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_star">forward_simulation_star</a></span> <span class="gallina-kwd">with</span> (<span class="id">measure</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_PLUS.simulation">simulation;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_PLUS">SIMULATION_PLUS</a></span>.<br/>
<br/>
<div class="doc">Lock-step simulation: each transition in the first semantics
    corresponds to exactly one transition in the second semantics. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STEP" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STEP" class="">SIMULATION_STEP</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_STEP.simulation" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_STEP.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:471" class="id"><a name="s1:471" class="">s1</a></span> <span id="t:472" class="id"><a name="t:472" class="">t</a></span> <span id="s1':473" class="id"><a name="s1':473" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:471">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:472">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':473">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:474" class="id"><a name="s2:474" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:471">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:474">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2':475" class="id"><a name="s2':475" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:474">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:472">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':475">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':473">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':475">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_step" class="id"><a name="forward_simulation_step" class="">forward_simulation_step:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_plus">forward_simulation_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STEP.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_STEP">SIMULATION_STEP</a></span>.<br/>
<br/>
<div class="doc">Simulation when one transition in the first program
    corresponds to zero or one transitions in the second program.
    However, there is no stuttering: infinitely many transitions
    in the source program must correspond to infinitely many
    transitions in the second program. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT" class="">SIMULATION_OPT</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.measure" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.measure" class="">measure:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.simulation" class="id"><a name="FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:478" class="id"><a name="s1:478" class="">s1</a></span> <span id="t:479" class="id"><a name="t:479" class="">t</a></span> <span id="s1':480" class="id"><a name="s1':480" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:478">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:479">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':480">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:481" class="id"><a name="s2:481" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:478">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:481">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="s2':482" class="id"><a name="s2':482" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:481">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:479">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':482">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':480">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':482">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':480">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:478">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:479">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':480">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:481">s2</a></span>)%<span class="id">nat</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_opt" class="id"><a name="forward_simulation_opt" class="">forward_simulation_opt:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_star">forward_simulation_star</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.measure">measure</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[s2'</span> <span class="id">[A</span> <span class="id">B]]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS.SIMULATION_OPT">SIMULATION_OPT</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DIAGRAMS">FORWARD_SIMU_DIAGRAMS</a></span>.<br/>
<br/>
<h2> Forward simulation with the "eventually" modality </h2>
<br/>
<div class="doc">A forward simulation diagram where the first semantics can take some extra steps
    before reaching a state that restores the simulation relation. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_EVENTUALLY" class="id"><a name="FORWARD_SIMU_EVENTUALLY" class="">FORWARD_SIMU_EVENTUALLY</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY.L1" class="id"><a name="FORWARD_SIMU_EVENTUALLY.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY.L2" class="id"><a name="FORWARD_SIMU_EVENTUALLY.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY.index" class="id"><a name="FORWARD_SIMU_EVENTUALLY.index" class="">index:</a></span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY.order" class="id"><a name="FORWARD_SIMU_EVENTUALLY.order" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY.match_states" class="id"><a name="FORWARD_SIMU_EVENTUALLY.match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY.order_wf" class="id"><a name="FORWARD_SIMU_EVENTUALLY.order_wf" class="">order_wf:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.order">order</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY.initial_states" class="id"><a name="FORWARD_SIMU_EVENTUALLY.initial_states" class="">initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:490" class="id"><a name="s1:490" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:490">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i:491" class="id"><a name="i:491" class="">i,</a></span> <span class="gallina-kwd">exists</span> <span id="s2:492" class="id"><a name="s2:492" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:492">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:491">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:490">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:492">s2</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY.final_states" class="id"><a name="FORWARD_SIMU_EVENTUALLY.final_states" class="">final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:494" class="id"><a name="i:494" class="">i</a></span> <span id="s1:495" class="id"><a name="s1:495" class="">s1</a></span> <span id="s2:496" class="id"><a name="s2:496" class="">s2</a></span> <span id="r:497" class="id"><a name="r:497" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:494">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:495">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:496">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:495">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:497">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:496">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:497">r</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY.simulation" class="id"><a name="FORWARD_SIMU_EVENTUALLY.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:499" class="id"><a name="s1:499" class="">s1</a></span> <span id="t:500" class="id"><a name="t:500" class="">t</a></span> <span id="s1':501" class="id"><a name="s1':501" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:499">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:500">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':501">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:502" class="id"><a name="i:502" class="">i</a></span> <span id="s2:503" class="id"><a name="s2:503" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:502">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:499">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:503">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="n:504" class="id"><a name="n:504" class="">n</a></span> <span id="i':505" class="id"><a name="i':505" class="">i'</a></span> <span id="s2':506" class="id"><a name="s2':506" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:503">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:500">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':506">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:503">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:500">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':506">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':505">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:502">i</a></span>))<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Eventually'_x">Eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:504">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':501">s1'</a></span> (<span class="gallina-kwd">fun</span> <span id="s1'':507" class="id"><a name="s1'':507" class="">s1''</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':505">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':507">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':506">s2'</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY.public_preserved" class="id"><a name="FORWARD_SIMU_EVENTUALLY.public_preserved" class="">public_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:509" class="id"><a name="id:509" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:509">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:509">id</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_eventually" class="id"><a name="forward_simulation_eventually" class="">forward_simulation_eventually:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">apply</span> @<span class="id"><a href="compcert.common.Smallstep.html#Forward_simulation">Forward_simulation</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">index</span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>)%<span class="id">type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord">lex_ord</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.order">order</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt">Nat.lt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">match_states</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="i:515" class="id"><span id="i:511" class="id"><a name="i:515" class="">i</a></span></span> <span id="s1:516" class="id"><span id="s1:512" class="id"><a name="s1:516" class="">s1</a></span></span> <span id="s2:517" class="id"><span id="s2:513" class="id"><a name="s2:517" class="">s2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Eventually'_x">Eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.L1">L1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:511">i</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:512">s1</a></span> (<span class="gallina-kwd">fun</span> <span id="s1'':518" class="id"><span id="s1'':514" class="id"><a name="s1'':518" class="">s1''</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.match_states">match_states</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:511">i</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1'':514">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:513">s2</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#wf_lex_ord">wf_lex_ord;</a></span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.initial_states">initial_states;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">i</span> &amp; <span class="id">s2</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)<span class="id">,</span> <span class="id">s2;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_now">eventually_now</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">[i</span> <span class="id">n]</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">r</span> <span class="id">EV</span> <span class="id">FS;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">inv</span> <span class="id">EV</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.final_states">final_states;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eelim</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">s1</span> <span class="id">t</span> <span class="id">s1'</span> <span class="id">ST</span> <span class="id">[i</span> <span class="id">n]</span> <span class="id">s2</span> <span class="id">EV;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">inv</span> <span class="id">EV</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">n</span> &amp; <span class="id">i'</span> &amp; <span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i',</span> <span class="id">n</span>)<span class="id">,</span> <span class="id">s2';</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">A</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">|</span> <span class="id">[P</span> <span class="id">Q]];</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord_left">lex_ord_left</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">ST</span>. <span class="id">destruct</span> <span class="id">ST</span> <span class="gallina-kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span>). <span class="id">subst</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i,</span> <span class="id">n0</span>)<span class="id">,</span> <span class="id">s2;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord_right">lex_ord_right;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">B</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY.public_preserved">public_preserved</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY">FORWARD_SIMU_EVENTUALLY</a></span>.<br/>
<br/>
<div class="doc">Two simplified diagrams. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL" class="">FORWARD_SIMU_EVENTUALLY_SIMPL</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.L1" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.L2" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.match_states" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.public_preserved" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.public_preserved" class="">public_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:522" class="id"><a name="id:522" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:522">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:522">id</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.initial_states" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.initial_states" class="">initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:524" class="id"><a name="s1:524" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:524">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2:525" class="id"><a name="s2:525" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:525">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:524">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:525">s2</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.final_states" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.final_states" class="">final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:527" class="id"><a name="s1:527" class="">s1</a></span> <span id="s2:528" class="id"><a name="s2:528" class="">s2</a></span> <span id="r:529" class="id"><a name="r:529" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:527">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:528">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:527">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:529">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:528">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:529">r</a></span>.<br/>
<br/>
<div class="doc">Simplified "plus" simulation diagram, when L2 always makes at least one transition. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_PLUS" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_PLUS" class="">FORWARD_SIMU_EVENTUALLY_PLUS</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_PLUS.simulation" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_PLUS.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:531" class="id"><a name="s1:531" class="">s1</a></span> <span id="t:532" class="id"><a name="t:532" class="">t</a></span> <span id="s1':533" class="id"><a name="s1':533" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:531">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:532">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':533">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:534" class="id"><a name="s2:534" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:531">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:534">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="n:535" class="id"><a name="n:535" class="">n</a></span> <span id="s2':536" class="id"><a name="s2':536" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:534">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:532">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':536">s2'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Eventually'_x">Eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:535">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':533">s1'</a></span> (<span class="gallina-kwd">fun</span> <span id="s1'':537" class="id"><a name="s1'':537" class="">s1''</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':537">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':536">s2'</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_eventually_plus" class="id"><a name="forward_simulation_eventually_plus" class="">forward_simulation_eventually_plus:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_eventually">forward_simulation_eventually</a></span> <span class="gallina-kwd">with</span> (<span class="id">order</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span>) (<span class="id">match_states</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="i:542" class="id"><span id="i:539" class="id"><a name="i:542" class="">i</a></span></span> <span id="s1:543" class="id"><span id="s1:540" class="id"><a name="s1:543" class="">s1</a></span></span> <span id="s2:544" class="id"><span id="s2:541" class="id"><a name="s2:544" class="">s2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:540">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:541">s2</a></span>).<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.initial_states">initial_states;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">s2</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O,</a></span> <span class="id">s2;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.final_states">final_states;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_PLUS.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">n</span> &amp; <span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">n,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O,</a></span> <span class="id">s2';</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_PLUS">FORWARD_SIMU_EVENTUALLY_PLUS</a></span>.<br/>
<br/>
<div class="doc">Simplified "star" simulation diagram, with a decreasing, well-founded order on L1 states. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF" class="">FORWARD_SIMU_EVENTUALLY_STAR_WF</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.order" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.order" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.order_wf" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.order_wf" class="">order_wf:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.order">order</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.simulation" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:547" class="id"><a name="s1:547" class="">s1</a></span> <span id="t:548" class="id"><a name="t:548" class="">t</a></span> <span id="s1':549" class="id"><a name="s1':549" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:547">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:548">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':549">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:550" class="id"><a name="s2:550" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:547">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:550">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="s2':551" class="id"><a name="s2':551" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:550">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:548">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':551">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:550">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:548">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':551">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':549">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:547">s1</a></span>)) <span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':549">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':551">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">exists</span> <span id="n:552" class="id"><a name="n:552" class="">n</a></span> <span id="s2':553" class="id"><a name="s2':553" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:550">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:548">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':553">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Eventually'_x">Eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:552">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':549">s1'</a></span> (<span class="gallina-kwd">fun</span> <span id="s1'':554" class="id"><a name="s1'':554" class="">s1''</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':554">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':553">s2'</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_eventually_star_wf" class="id"><a name="forward_simulation_eventually_star_wf" class="">forward_simulation_eventually_star_wf:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">apply</span> @<span class="id"><a href="compcert.common.Smallstep.html#Forward_simulation">Forward_simulation</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">index</span> <span class="id">:=</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span>)%<span class="id">type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord">lex_ord</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt">Nat.lt</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.order">order</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">match_states</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="i:560" class="id"><span id="i:556" class="id"><a name="i:560" class="">i</a></span></span> <span id="s1:561" class="id"><span id="s1:557" class="id"><a name="s1:561" class="">s1</a></span></span> <span id="s2:562" class="id"><span id="s2:558" class="id"><a name="s2:562" class="">s2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:556">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:557">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Eventually'_x">Eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:556">i</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:557">s1</a></span> (<span class="gallina-kwd">fun</span> <span id="s1'':563" class="id"><span id="s1'':559" class="id"><a name="s1'':563" class="">s1''</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':559">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:558">s2</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#wf_lex_ord">wf_lex_ord;</a></span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>.<br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.initial_states">initial_states;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">s2</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O,</a></span> <span class="id">s1</span>)<span class="id">,</span> <span class="id">s2;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_now">eventually_now</a></span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">i</span> <span class="gallina-kwd">as</span> <span class="id">[n</span> <span class="id">s11];</span> <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">Q];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">subst</span> <span class="id">s11</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.final_states">final_states;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eelim</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">i</span> <span class="gallina-kwd">as</span> <span class="id">[n</span> <span class="id">s11];</span> <span class="id">destruct</span> <span class="id">H0</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">Q];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">subst</span> <span class="id">s11</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[</span>(<span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>) <span class="id">|</span> (<span class="id">n</span> &amp; <span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>)<span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O,</a></span> <span class="id">s1'</span>)<span class="id">,</span> <span class="id">s2';</span> <span class="id">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">A</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[A1</span> <span class="id">A2]];</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord_right">lex_ord_right</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#eventually_now">eventually_now</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">exists</span> (<span class="id">n,</span> <span class="id">s1'</span>)<span class="id">,</span> <span class="id">s2';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">subst</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">n0,</span> <span class="id">s1'</span>)<span class="id">,</span> <span class="id">s2;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord_left">lex_ord_left;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR_WF">FORWARD_SIMU_EVENTUALLY_STAR_WF</a></span>.<br/>
<br/>
<div class="doc">Simplified "star" simulation diagram, with a decreasing measure on L1 states. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR" class="">FORWARD_SIMU_EVENTUALLY_STAR</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.measure" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.measure" class="">measure:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.simulation" class="id"><a name="FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:565" class="id"><a name="s1:565" class="">s1</a></span> <span id="t:566" class="id"><a name="t:566" class="">t</a></span> <span id="s1':567" class="id"><a name="s1':567" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:565">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:566">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':567">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:568" class="id"><a name="s2:568" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:565">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:568">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="s2':569" class="id"><a name="s2':569" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:568">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:566">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':569">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:568">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:566">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':569">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':567">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:565">s1</a></span>))%<span class="id">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':567">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':569">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">exists</span> <span id="n:570" class="id"><a name="n:570" class="">n</a></span> <span id="s2':571" class="id"><a name="s2':571" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:568">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:566">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':571">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Eventually'_x">Eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:570">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':567">s1'</a></span> (<span class="gallina-kwd">fun</span> <span id="s1'':572" class="id"><a name="s1'':572" class="">s1''</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':572">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':571">s2'</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_eventually_star" class="id"><a name="forward_simulation_eventually_star" class="">forward_simulation_eventually_star:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_eventually_star_wf">forward_simulation_eventually_star_wf</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#ltof">ltof</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.measure">measure</a></span>).<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#well_founded_ltof">well_founded_ltof</a></span>.<br/>
<span class="id">-</span> <span class="id">exact</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR.simulation">simulation</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL.FORWARD_SIMU_EVENTUALLY_STAR">FORWARD_SIMU_EVENTUALLY_STAR</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_EVENTUALLY_SIMPL">FORWARD_SIMU_EVENTUALLY_SIMPL</a></span>.<br/>
<br/>
<h2> Forward simulation of transition sequences </h2>
<br/>
<span class="vernacular">Section</span> <span id="SIMULATION_SEQUENCES" class="id"><a name="SIMULATION_SEQUENCES" class="">SIMULATION_SEQUENCES</a></span>.<br/>
<br/>
<span class="vernacular">Context</span> <span id="L1:574" class="id"><a name="L1:574" class="">L1</a></span> <span id="L2:575" class="id"><a name="L2:575" class="">L2</a></span> <span id="index:576" class="id"><a name="index:576" class="">index</a></span> <span id="order:577" class="id"><a name="order:577" class="">order</a></span> <span id="match_states:578" class="id"><a name="match_states:578" class="">match_states</a></span> (<span id="S:579" class="id"><a name="S:579" class="">S:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_properties">fsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:574">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:575">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:576">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:577">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:578">match_states</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="simulation_star" class="id"><a name="simulation_star" class="">simulation_star:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:580" class="id"><a name="s1:580" class="">s1</a></span> <span id="t:581" class="id"><a name="t:581" class="">t</a></span> <span id="s1':582" class="id"><a name="s1':582" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:580">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:581">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':582">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:583" class="id"><a name="i:583" class="">i</a></span> <span id="s2:584" class="id"><a name="s2:584" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:583">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:580">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:584">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':585" class="id"><a name="i':585" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s2':586" class="id"><a name="s2':586" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:584">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:581">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':586">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':585">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':582">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':586">s2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHstar;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i''</span> <span class="id">[s2''</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="gallina-kwd">exists</span> <span class="id">s2'';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intuition</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="simulation_plus" class="id"><a name="simulation_plus" class="">simulation_plus:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:587" class="id"><a name="s1:587" class="">s1</a></span> <span id="t:588" class="id"><a name="t:588" class="">t</a></span> <span id="s1':589" class="id"><a name="s1':589" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:587">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:588">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':589">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:590" class="id"><a name="i:590" class="">i</a></span> <span id="s2:591" class="id"><a name="s2:591" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:590">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:587">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:591">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="i':592" class="id"><a name="i':592" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s2':593" class="id"><a name="s2':593" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:591">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:588">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':593">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':592">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':589">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':593">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">exists</span> <span id="i':594" class="id"><a name="i':594" class="">i',</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':594">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:590">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:588">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':594">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':589">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:591">s2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_ind2">plus_ind2;</a></span> <span class="id">intros</span>.<br/>
<span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation'">fsim_simulation';</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">[i'</span> <span class="id">A]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="id">intuition</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">sets</span>.<br/>
<span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation'">fsim_simulation';</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span> <span class="id">|</span> <span class="id">[i'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#simulation_star">simulation_star</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i''</span> <span class="id">[s2''</span> <span class="id">[P</span> <span class="id">Q]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="gallina-kwd">exists</span> <span class="id">s2'';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star_trans">plus_star_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHplus;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[i''</span> <span class="id">[s2''</span> <span class="id">[P</span> <span class="id">Q]]]</span> <span class="id">|</span> <span class="id">[i''</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">R]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span>. <span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="gallina-kwd">exists</span> <span class="id">s2'';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span>. <span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_trans">t_trans;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_step">t_step;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="simulation_forever_silent" class="id"><a name="simulation_forever_silent" class="">simulation_forever_silent:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:595" class="id"><a name="i:595" class="">i</a></span> <span id="s1:596" class="id"><a name="s1:596" class="">s1</a></span> <span id="s2:597" class="id"><a name="s2:597" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Forever_silent'_x">Forever_silent</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:596">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:595">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:596">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:597">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Forever_silent'_x">Forever_silent</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:597">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="i:601" class="id"><span id="i:598" class="id"><a name="i:601" class="">i</a></span></span> <span id="s1:602" class="id"><span id="s1:599" class="id"><a name="s1:602" class="">s1</a></span></span> <span id="s2:603" class="id"><span id="s2:600" class="id"><a name="s2:603" class="">s2,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Forever_silent'_x">Forever_silent</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:599">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:598">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:599">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:600">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N">forever_silent_N</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.order">order</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#i:598">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:600">s2</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">cofix</span> <span class="id">COINDHYP;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span>) <span class="gallina-kwd">as</span> <span class="id">[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">A</span> <span class="gallina-kwd">as</span> <span class="id">[C</span> <span class="id">|</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N_plus">forever_silent_N_plus;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N_star">forever_silent_N_star;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forever_silent_N_forever">forever_silent_N_forever;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_order_wf">fsim_order_wf;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="simulation_forever_reactive" class="id"><a name="simulation_forever_reactive" class="">simulation_forever_reactive:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:604" class="id"><a name="i:604" class="">i</a></span> <span id="s1:605" class="id"><a name="s1:605" class="">s1</a></span> <span id="s2:606" class="id"><a name="s2:606" class="">s2</a></span> <span id="T:607" class="id"><a name="T:607" class="">T,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Forever_reactive'_x">Forever_reactive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:605">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:607">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:604">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:605">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:606">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Forever_reactive'_x">Forever_reactive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:606">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:607">T</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="gallina-kwd">cofix</span> <span class="id">COINDHYP;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="compcert.common.Smallstep.html#simulation_star">simulation_star</a></span> <span class="gallina-kwd">as</span> <span class="id">[i'</span> <span class="id">[st2'</span> <span class="id">[A</span> <span class="id">B]]];</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#SIMULATION_SEQUENCES">SIMULATION_SEQUENCES</a></span>.<br/>
<br/>
<h2> Composing two forward simulations </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="compose_forward_simulations" class="id"><a name="compose_forward_simulations" class="">compose_forward_simulations:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L1:608" class="id"><a name="L1:608" class="">L1</a></span> <span id="L2:609" class="id"><a name="L2:609" class="">L2</a></span> <span id="L3:610" class="id"><a name="L3:610" class="">L3,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:608">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:609">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:609">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L3:610">L3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:608">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L3:610">L3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">L3</span> <span class="id">S12</span> <span class="id">S23</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">S12</span> <span class="gallina-kwd">as</span> <span class="id">[index</span> <span class="id">order</span> <span class="id">match_states</span> <span class="id">props]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">S23</span> <span class="gallina-kwd">as</span> <span class="id">[index'</span> <span class="id">order'</span> <span class="id">match_states'</span> <span class="id">props']</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ff_index</span> <span class="id">:=</span> (<span class="id">index'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id">index</span>)%<span class="id">type</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ff_order</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord">lex_ord</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id">_</span> <span class="id">order'</span>) <span class="id">order</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ff_match_states</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="i:615" class="id"><span id="i:611" class="id"><a name="i:615" class="">i:</a></span></span> <span class="id">ff_index</span>) (<span id="s1:616" class="id"><span id="s1:612" class="id"><a name="s1:616" class="">s1:</a></span></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id">L1</span>) (<span id="s3:617" class="id"><span id="s3:613" class="id"><a name="s3:617" class="">s3:</a></span></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id">L3</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2:618" class="id"><span id="s2:614" class="id"><a name="s2:618" class="">s2,</a></span></span> <span class="id">match_states</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:611">i</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:612">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:614">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">match_states'</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:611">i</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:614">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:613">s3</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#Forward_simulation">Forward_simulation</a></span> <span class="gallina-kwd">with</span> <span class="id">ff_order</span> <span class="id">ff_match_states;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;well&nbsp;founded&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">ff_order</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#wf_lex_ord">wf_lex_ord</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Wellfounded.Transitive_Closure.html#wf_clos_trans">wf_clos_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_order_wf">fsim_order_wf;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_order_wf">fsim_order_wf;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_initial_states">fsim_match_initial_states</a></span> <span class="id">props</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i</span> <span class="id">[s2</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_initial_states">fsim_match_initial_states</a></span> <span class="id">props'</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s3</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i',</span> <span class="id">i</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s3;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;final&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[s3</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_final_states">fsim_match_final_states</a></span> <span class="id">props'</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_final_states">fsim_match_final_states</a></span> <span class="id">props</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;simulation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span> <span class="gallina-kwd">as</span> <span class="id">[s3</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="id">destruct</span> <span class="id">i</span> <span class="gallina-kwd">as</span> <span class="id">[i2</span> <span class="id">i1];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation'">fsim_simulation'</a></span> <span class="id">props</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[i1'</span> <span class="id">[s3'</span> <span class="id">[C</span> <span class="id">D]]]</span> <span class="id">|</span> <span class="id">[i1'</span> <span class="id">[C</span> <span class="id">[D</span> <span class="id">E]]]]</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;L2&nbsp;makes&nbsp;one&nbsp;or&nbsp;several&nbsp;steps.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#simulation_plus">simulation_plus;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[i2'</span> <span class="id">[s2'</span> <span class="id">[P</span> <span class="id">Q]]]</span> <span class="id">|</span> <span class="id">[i2'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">R]]]]</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;L3&nbsp;makes&nbsp;one&nbsp;or&nbsp;several&nbsp;steps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i2',</span> <span class="id">i1'</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="gallina-kwd">exists</span> <span class="id">s3';</span> <span class="id">auto</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;L3&nbsp;makes&nbsp;no&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i2',</span> <span class="id">i1'</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">subst</span> <span class="id">t;</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">red</span>. <span class="id">left</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s3';</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;L2&nbsp;makes&nbsp;no&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i2,</span> <span class="id">i1'</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">subst</span> <span class="id">t;</span> <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">red</span>. <span class="id">right</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s3;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;symbols&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id">L2</span>) <span class="id">id</span>)<span class="id">;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_public_preserved">fsim_public_preserved;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Receptiveness and determinacy </h1>
<br/>
<span class="vernacular">Definition</span> <span id="single_events" class="id"><a name="single_events" class="">single_events</a></span> (<span id="L:619" class="id"><a name="L:619" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:620" class="id"><a name="s:620" class="">s</a></span> <span id="t:621" class="id"><a name="t:621" class="">t</a></span> <span id="s':622" class="id"><a name="s':622" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:619">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:620">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:621">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':622">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:621">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id">1</span>)%<span class="id">nat</span>.<br/>
<br/>
<span class="vernacular">Record</span> <span id="receptive" class="id"><a name="receptive" class="">receptive</a></span> (<span id="L:623" class="id"><a name="L:623" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">Receptive</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="sr_receptive" class="id"><a name="sr_receptive" class="">sr_receptive:</a></span> <span class="gallina-kwd">forall</span> <span id="s:625" class="id"><a name="s:625" class="">s</a></span> <span id="t1:626" class="id"><a name="t1:626" class="">t1</a></span> <span id="s1:627" class="id"><a name="s1:627" class="">s1</a></span> <span id="t2:628" class="id"><a name="t2:628" class="">t2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:623">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:625">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:626">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:627">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:623">L</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#t1:626">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:628">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="s2:629" class="id"><a name="s2:629" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:623">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:625">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:628">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:629">s2;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="sr_traces" class="id"><a name="sr_traces" class="">sr_traces:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:623">L</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Record</span> <span id="determinate" class="id"><a name="determinate" class="">determinate</a></span> (<span id="L:632" class="id"><a name="L:632" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">Determinate</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="sd_determ" class="id"><a name="sd_determ" class="">sd_determ:</a></span> <span class="gallina-kwd">forall</span> <span id="s:634" class="id"><a name="s:634" class="">s</a></span> <span id="t1:635" class="id"><a name="t1:635" class="">t1</a></span> <span id="s1:636" class="id"><a name="s1:636" class="">s1</a></span> <span id="t2:637" class="id"><a name="t2:637" class="">t2</a></span> <span id="s2:638" class="id"><a name="s2:638" class="">s2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:634">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:635">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:636">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:634">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:637">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:638">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#t1:635">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:637">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t1:635">t1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:637">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:636">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:638">s2</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="sd_traces" class="id"><a name="sd_traces" class="">sd_traces:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="sd_initial_determ" class="id"><a name="sd_initial_determ" class="">sd_initial_determ:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:641" class="id"><a name="s1:641" class="">s1</a></span> <span id="s2:642" class="id"><a name="s2:642" class="">s2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:641">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:642">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:641">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:642">s2;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="sd_final_nostep" class="id"><a name="sd_final_nostep" class="">sd_final_nostep:</a></span> <span class="gallina-kwd">forall</span> <span id="s:644" class="id"><a name="s:644" class="">s</a></span> <span id="r:645" class="id"><a name="r:645" class="">r,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:644">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:645">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Nostep'_x">Nostep</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:644">s;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="sd_final_determ" class="id"><a name="sd_final_determ" class="">sd_final_determ:</a></span> <span class="gallina-kwd">forall</span> <span id="s:647" class="id"><a name="s:647" class="">s</a></span> <span id="r1:648" class="id"><a name="r1:648" class="">r1</a></span> <span id="r2:649" class="id"><a name="r2:649" class="">r2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:647">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r1:648">r1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:632">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:647">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r2:649">r2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r1:648">r1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r2:649">r2</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="DETERMINACY" class="id"><a name="DETERMINACY" class="">DETERMINACY</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="DETERMINACY.L" class="id"><a name="DETERMINACY.L" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="DETERMINACY.DET" class="id"><a name="DETERMINACY.DET" class="">DET:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sd_determ_1" class="id"><a name="sd_determ_1" class="">sd_determ_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:653" class="id"><a name="s:653" class="">s</a></span> <span id="t1:654" class="id"><a name="t1:654" class="">t1</a></span> <span id="s1:655" class="id"><a name="s1:655" class="">s1</a></span> <span id="t2:656" class="id"><a name="t2:656" class="">t2</a></span> <span id="s2:657" class="id"><a name="s2:657" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:653">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:654">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:655">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:653">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:656">t2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:657">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#t1:654">t1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:656">t2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ">sd_determ;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sd_determ_2" class="id"><a name="sd_determ_2" class="">sd_determ_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:658" class="id"><a name="s:658" class="">s</a></span> <span id="t:659" class="id"><a name="t:659" class="">t</a></span> <span id="s1:660" class="id"><a name="s1:660" class="">s1</a></span> <span id="s2:661" class="id"><a name="s2:661" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:658">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:659">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:660">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:658">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:659">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:661">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:660">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:661">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ">sd_determ;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sd_determ_3" class="id"><a name="sd_determ_3" class="">sd_determ_3:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:662" class="id"><a name="s:662" class="">s</a></span> <span id="t:663" class="id"><a name="t:663" class="">t</a></span> <span id="s1:664" class="id"><a name="s1:664" class="">s1</a></span> <span id="s2:665" class="id"><a name="s2:665" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:662">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:663">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:664">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:662">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:665">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:663">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:664">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:665">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_determ">sd_determ</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.DET">DET</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_determinacy" class="id"><a name="star_determinacy" class="">star_determinacy:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:666" class="id"><a name="s:666" class="">s</a></span> <span id="t:667" class="id"><a name="t:667" class="">t</a></span> <span id="s':668" class="id"><a name="s':668" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:666">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:667">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':668">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s'':669" class="id"><a name="s'':669" class="">s'',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:666">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:667">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s'':669">s''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':668">s'</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s'':669">s''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s'':669">s''</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':668">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_step">star_step;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_1">sd_determ_1</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="id">intros</span> <span class="id">MT</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_traces">sd_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.DET">DET</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">intros</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_traces">sd_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY.DET">DET</a></span>). <span class="id">eexact</span> <span class="id">H3</span>. <span class="id">intros</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">t1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">t0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">t2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">t3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t1</span>. <span class="id">inv</span> <span class="id">MT</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t1;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">L1;</span> <span class="id">try</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t0</span>. <span class="id">inv</span> <span class="id">MT</span>. <span class="id">destruct</span> <span class="id">t0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">L2;</span> <span class="id">try</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">split</span>. <span class="id">congruence</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H1;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">s2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">s4</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_2">sd_determ_2;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">s4</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#DETERMINACY">DETERMINACY</a></span>.<br/>
<br/>
<div class="doc">Extra simulation diagrams for determinate languages. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DETERM" class="id"><a name="FORWARD_SIMU_DETERM" class="">FORWARD_SIMU_DETERM</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM.L1" class="id"><a name="FORWARD_SIMU_DETERM.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM.L2" class="id"><a name="FORWARD_SIMU_DETERM.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM.L1det" class="id"><a name="FORWARD_SIMU_DETERM.L1det" class="">L1det:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM.index" class="id"><a name="FORWARD_SIMU_DETERM.index" class="">index:</a></span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM.order" class="id"><a name="FORWARD_SIMU_DETERM.order" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM.wf_order" class="id"><a name="FORWARD_SIMU_DETERM.wf_order" class="">wf_order:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.order">order</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM.match_states" class="id"><a name="FORWARD_SIMU_DETERM.match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM.match_initial_states" class="id"><a name="FORWARD_SIMU_DETERM.match_initial_states" class="">match_initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:677" class="id"><a name="s1:677" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:677">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i:678" class="id"><a name="i:678" class="">i</a></span> <span id="s2:679" class="id"><a name="s2:679" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:679">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:678">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:677">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:679">s2</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM.match_final_states" class="id"><a name="FORWARD_SIMU_DETERM.match_final_states" class="">match_final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:681" class="id"><a name="i:681" class="">i</a></span> <span id="s1:682" class="id"><a name="s1:682" class="">s1</a></span> <span id="s2:683" class="id"><a name="s2:683" class="">s2</a></span> <span id="r:684" class="id"><a name="r:684" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:681">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:682">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:683">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:682">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:684">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:683">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:684">r</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM.simulation" class="id"><a name="FORWARD_SIMU_DETERM.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:686" class="id"><a name="s1:686" class="">s1</a></span> <span id="t:687" class="id"><a name="t:687" class="">t</a></span> <span id="s1':688" class="id"><a name="s1':688" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:686">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:687">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':688">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:689" class="id"><a name="i:689" class="">i</a></span> <span id="s2:690" class="id"><a name="s2:690" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:689">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:686">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:690">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1'':691" class="id"><a name="s1'':691" class="">s1''</a></span> <span id="i':692" class="id"><a name="i':692" class="">i'</a></span> <span id="s2':693" class="id"><a name="s2':693" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':688">s1'</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':691">s1''</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">/\</span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:690">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:687">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':693">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:690">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:687">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':693">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':692">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:689">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':692">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':691">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':693">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM.public_preserved" class="id"><a name="FORWARD_SIMU_DETERM.public_preserved" class="">public_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:695" class="id"><a name="id:695" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:695">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:695">id</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="star_match_eventually" class="id"><a name="star_match_eventually" class="">star_match_eventually:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:697" class="id"><a name="s1:697" class="">s1</a></span> <span id="s1':698" class="id"><a name="s1':698" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:697">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':698">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:699" class="id"><a name="i:699" class="">i</a></span> <span id="s2:700" class="id"><a name="s2:700" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:699">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':698">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:700">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="n:701" class="id"><a name="n:701" class="">n,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Eventually'_x">Eventually</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:701">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:697">s1</a></span> (<span class="gallina-kwd">fun</span> <span id="s1'':702" class="id"><a name="s1'':702" class="">s1''</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:699">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':702">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:700">s2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s10</span> <span class="id">s10'</span> <span class="id">STAR0</span>. <span class="id">pattern</span> <span class="id">s10,</span> <span class="id">s10';</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_E0_ind">star_E0_ind;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">intros</span> <span class="id">s1</span> <span class="id">i</span> <span class="id">s2</span> <span class="id">M</span>. <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">intros</span> <span class="id">s1</span> <span class="id">s1'</span> <span class="id">s1''</span> <span class="id">STEP</span> <span class="id">IH</span> <span class="id">i</span> <span class="id">s2</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">IH</span> <span class="id">i</span> <span class="id">s2</span> <span class="id">M</span>) <span class="gallina-kwd">as</span> (<span class="id">n</span> &amp; <span class="id">MS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1det">L1det</a></span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_determ_3">sd_determ_3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1det">L1det</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">STEP</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t</span> <span class="id">s'</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_determ" class="id"><a name="forward_simulation_determ" class="">forward_simulation_determ:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_eventually">forward_simulation_eventually</a></span> <span class="gallina-kwd">with</span> (<span class="id">order</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.order">order</a></span>) (<span class="id">match_states</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.match_states">match_states</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">s1''</span> &amp; <span class="id">i'</span> &amp; <span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_match_eventually">star_match_eventually;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">n</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">n,</span> <span class="id">i',</span> <span class="id">s2';</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM">FORWARD_SIMU_DETERM</a></span>.<br/>
<br/>
<div class="doc">A few useful special cases. </div>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS" class="">FORWARD_SIMU_DETERM_DIAGRAMS</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.L1" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.L2" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.L1det" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.L1det" class="">L1det:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.match_states" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.public_preserved" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.public_preserved" class="">public_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:707" class="id"><a name="id:707" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:707">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:707">id</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.match_initial_states" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.match_initial_states" class="">match_initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:709" class="id"><a name="s1:709" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:709">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2:710" class="id"><a name="s2:710" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:710">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:709">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:710">s2</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.match_final_states" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.match_final_states" class="">match_final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:712" class="id"><a name="s1:712" class="">s1</a></span> <span id="s2:713" class="id"><a name="s2:713" class="">s2</a></span> <span id="r:714" class="id"><a name="r:714" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:712">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:713">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:712">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:714">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:713">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:714">r</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR" class="">SIMU_DETERM_STAR</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.measure" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.measure" class="">measure:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.simulation" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:717" class="id"><a name="s1:717" class="">s1</a></span> <span id="t:718" class="id"><a name="t:718" class="">t</a></span> <span id="s1':719" class="id"><a name="s1':719" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:717">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:718">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':719">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:720" class="id"><a name="s2:720" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:717">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:720">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1'':721" class="id"><a name="s1'':721" class="">s1''</a></span> <span id="s2':722" class="id"><a name="s2':722" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':719">s1'</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':721">s1''</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">/\</span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:720">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:718">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':722">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:720">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:718">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':722">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':721">s1''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.measure">measure</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:717">s1</a></span>))%<span class="id">nat</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':721">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':722">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_determ_star" class="id"><a name="forward_simulation_determ_star" class="">forward_simulation_determ_star:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_determ">forward_simulation_determ</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">match_states</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="i:727" class="id"><span id="i:724" class="id"><a name="i:727" class="">i</a></span></span> <span id="s1:728" class="id"><span id="s1:725" class="id"><a name="s1:728" class="">s1</a></span></span> <span id="s2:729" class="id"><span id="s2:726" class="id"><a name="s2:729" class="">s2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#i:724">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:725">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:725">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:726">s2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#ltof">ltof</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.measure">measure</a></span>).<br/>
<span class="id">-</span> <span class="id">assumption</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#well_founded_ltof">well_founded_ltof</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_initial_states">match_initial_states;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">s2</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1,</span> <span class="id">s2;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_final_states">match_final_states;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0;</span> <span class="id">subst</span> <span class="id">i</span>. <br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">s1''</span> &amp; <span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1'',</span> <span class="id">s1'',</span> <span class="id">s2'</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">assumption</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_STAR">SIMU_DETERM_STAR</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_PLUS" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_PLUS" class="">SIMU_DETERM_PLUS</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_PLUS.simulation" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_PLUS.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:730" class="id"><a name="s1:730" class="">s1</a></span> <span id="t:731" class="id"><a name="t:731" class="">t</a></span> <span id="s1':732" class="id"><a name="s1':732" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:730">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:731">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':732">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:733" class="id"><a name="s2:733" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:730">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:733">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1'':734" class="id"><a name="s1'':734" class="">s1''</a></span> <span id="s2':735" class="id"><a name="s2':735" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':732">s1'</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':734">s1''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:733">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:731">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':735">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':734">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':735">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_determ_plus" class="id"><a name="forward_simulation_determ_plus" class="">forward_simulation_determ_plus:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_determ_star">forward_simulation_determ_star</a></span> <span class="gallina-kwd">with</span> (<span class="id">measure</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_PLUS.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">s1''</span> &amp; <span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1'',</span> <span class="id">s2';</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_PLUS">SIMU_DETERM_PLUS</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_ONE" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_ONE" class="">SIMU_DETERM_ONE</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_ONE.simulation" class="id"><a name="FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_ONE.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:737" class="id"><a name="s1:737" class="">s1</a></span> <span id="t:738" class="id"><a name="t:738" class="">t</a></span> <span id="s1':739" class="id"><a name="s1':739" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:737">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:738">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':739">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:740" class="id"><a name="s2:740" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:737">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:740">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1'':741" class="id"><a name="s1'':741" class="">s1''</a></span> <span id="s2':742" class="id"><a name="s2':742" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':739">s1'</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':741">s1''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:740">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:738">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':742">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':741">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':742">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_simulation_determ_one" class="id"><a name="forward_simulation_determ_one" class="">forward_simulation_determ_one:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_determ_plus">forward_simulation_determ_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_ONE.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">s1''</span> &amp; <span class="id">s2'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1'',</span> <span class="id">s2';</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS.SIMU_DETERM_ONE">SIMU_DETERM_ONE</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_SIMU_DETERM_DIAGRAMS">FORWARD_SIMU_DETERM_DIAGRAMS</a></span>.<br/>
<br/>
<h1> Backward simulations between two transition semantics. </h1>
<br/>
<span class="vernacular">Definition</span> <span id="safe" class="id"><a name="safe" class="">safe</a></span> (<span id="L:744" class="id"><a name="L:744" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span id="s:745" class="id"><a name="s:745" class="">s:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:744">L</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s':746" class="id"><a name="s':746" class="">s',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:744">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:745">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':746">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="r:747" class="id"><a name="r:747" class="">r,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:744">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':746">s'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:747">r</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">exists</span> <span id="t:748" class="id"><a name="t:748" class="">t,</a></span> <span class="gallina-kwd">exists</span> <span id="s'':749" class="id"><a name="s'':749" class="">s'',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:744">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':746">s'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:748">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s'':749">s''</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="star_safe" class="id"><a name="star_safe" class="">star_safe:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="L:750" class="id"><a name="L:750" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span id="s:751" class="id"><a name="s:751" class="">s</a></span> <span id="s':752" class="id"><a name="s':752" class="">s',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:750">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:751">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':752">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:750">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:751">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:750">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':752">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The general form of a backward simulation. </div>
<br/>
<span class="vernacular">Record</span> <span id="bsim_properties" class="id"><a name="bsim_properties" class="">bsim_properties</a></span> (<span id="L1:753" class="id"><a name="L1:753" class="">L1</a></span> <span id="L2:754" class="id"><a name="L2:754" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span id="index:755" class="id"><a name="index:755" class="">index:</a></span> <span class="gallina-kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="order:756" class="id"><a name="order:756" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:755">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:755">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="match_states:757" class="id"><a name="match_states:757" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:755">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bsim_order_wf" class="id"><a name="bsim_order_wf" class="">bsim_order_wf:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:756">order;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bsim_initial_states_exist" class="id"><a name="bsim_initial_states_exist" class="">bsim_initial_states_exist:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:760" class="id"><a name="s1:760" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:760">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="s2:761" class="id"><a name="s2:761" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:761">s2;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bsim_match_initial_states" class="id"><a name="bsim_match_initial_states" class="">bsim_match_initial_states:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:763" class="id"><a name="s1:763" class="">s1</a></span> <span id="s2:764" class="id"><a name="s2:764" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:763">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:764">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i:765" class="id"><a name="i:765" class="">i,</a></span> <span class="gallina-kwd">exists</span> <span id="s1':766" class="id"><a name="s1':766" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':766">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:757">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:765">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':766">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:764">s2;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bsim_match_final_states" class="id"><a name="bsim_match_final_states" class="">bsim_match_final_states:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:768" class="id"><a name="i:768" class="">i</a></span> <span id="s1:769" class="id"><a name="s1:769" class="">s1</a></span> <span id="s2:770" class="id"><a name="s2:770" class="">s2</a></span> <span id="r:771" class="id"><a name="r:771" class="">r,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#match_states:757">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:768">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:769">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:770">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:769">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:770">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:771">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1':772" class="id"><a name="s1':772" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:769">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':772">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':772">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:771">r;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bsim_progress" class="id"><a name="bsim_progress" class="">bsim_progress:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:774" class="id"><a name="i:774" class="">i</a></span> <span id="s1:775" class="id"><a name="s1:775" class="">s1</a></span> <span id="s2:776" class="id"><a name="s2:776" class="">s2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#match_states:757">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:774">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:775">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:776">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:775">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="r:777" class="id"><a name="r:777" class="">r,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:776">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:777">r</a></span>) <span class="id">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="t:778" class="id"><a name="t:778" class="">t,</a></span> <span class="gallina-kwd">exists</span> <span id="s2':779" class="id"><a name="s2':779" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:776">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:778">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':779">s2'</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bsim_simulation" class="id"><a name="bsim_simulation" class="">bsim_simulation:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:781" class="id"><a name="s2:781" class="">s2</a></span> <span id="t:782" class="id"><a name="t:782" class="">t</a></span> <span id="s2':783" class="id"><a name="s2':783" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:781">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:782">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':783">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:784" class="id"><a name="i:784" class="">i</a></span> <span id="s1:785" class="id"><a name="s1:785" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:757">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:784">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:785">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:781">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:785">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':786" class="id"><a name="i':786" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':787" class="id"><a name="s1':787" class="">s1',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:785">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:782">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':787">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:785">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:782">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':787">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:756">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':786">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:784">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:757">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':786">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':787">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':783">s2';</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bsim_public_preserved" class="id"><a name="bsim_public_preserved" class="">bsim_public_preserved:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:789" class="id"><a name="id:789" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:754">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:789">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:753">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:789">id</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_properties">bsim_properties:</a></span> <span class="id">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="backward_simulation" class="id"><a name="backward_simulation" class="">backward_simulation</a></span> (<span id="L1:791" class="id"><a name="L1:791" class="">L1</a></span> <span id="L2:792" class="id"><a name="L2:792" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span id="Backward_simulation" class="id"><a name="Backward_simulation" class="">Backward_simulation</a></span> (<span id="index:795" class="id"><a name="index:795" class="">index:</a></span> <span class="gallina-kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="order:796" class="id"><a name="order:796" class="">order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:795">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:795">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="match_states:797" class="id"><a name="match_states:797" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:795">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:791">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:792">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="props:798" class="id"><a name="props:798" class="">props:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:791">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:792">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:795">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:796">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:797">match_states</a></span>).<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="compcert.common.Smallstep.html#Backward_simulation">Backward_simulation</a></span> <span class="id">{L1</span> <span class="id">L2</span> <span class="id">index}</span> <span class="id">order</span> <span class="id">match_states</span> <span class="id">props</span>.<br/>
<br/>
<div class="doc">An alternate form of the simulation diagram </div>
<br/>
<span class="vernacular">Lemma</span> <span id="bsim_simulation'" class="id"><a name="bsim_simulation'" class="">bsim_simulation':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L1:799" class="id"><a name="L1:799" class="">L1</a></span> <span id="L2:800" class="id"><a name="L2:800" class="">L2</a></span> <span id="index:801" class="id"><a name="index:801" class="">index</a></span> <span id="order:802" class="id"><a name="order:802" class="">order</a></span> <span id="match_states:803" class="id"><a name="match_states:803" class="">match_states,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:799">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:800">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:801">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:802">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:803">match_states</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:804" class="id"><a name="i:804" class="">i</a></span> <span id="s2:805" class="id"><a name="s2:805" class="">s2</a></span> <span id="t:806" class="id"><a name="t:806" class="">t</a></span> <span id="s2':807" class="id"><a name="s2':807" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:800">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:805">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:806">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':807">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:808" class="id"><a name="s1:808" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:803">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:804">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:808">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:805">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:799">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:808">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="i':809" class="id"><a name="i':809" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':810" class="id"><a name="s1':810" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:799">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:808">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:806">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':810">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:803">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':809">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':810">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':807">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">exists</span> <span id="i':811" class="id"><a name="i':811" class="">i',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:802">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':811">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:804">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:806">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:803">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':811">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:808">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':807">s2'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation">bsim_simulation;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]]</span>. <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h2> Backward simulation diagrams. </h2>
<br/>
<div class="doc">Various simulation diagrams that imply backward simulation. </div>
<br/>
<span class="vernacular">Section</span> <span id="BACKWARD_SIMU_DIAGRAMS" class="id"><a name="BACKWARD_SIMU_DIAGRAMS" class="">BACKWARD_SIMU_DIAGRAMS</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="BACKWARD_SIMU_DIAGRAMS.L1" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="BACKWARD_SIMU_DIAGRAMS.L2" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="BACKWARD_SIMU_DIAGRAMS.public_preserved" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.public_preserved" class="">public_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:814" class="id"><a name="id:814" class="">id,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:814">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#id:814">id</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="BACKWARD_SIMU_DIAGRAMS.match_states" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="BACKWARD_SIMU_DIAGRAMS.initial_states_exist" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.initial_states_exist" class="">initial_states_exist:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:817" class="id"><a name="s1:817" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:817">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="s2:818" class="id"><a name="s2:818" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:818">s2</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="BACKWARD_SIMU_DIAGRAMS.match_initial_states" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.match_initial_states" class="">match_initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:820" class="id"><a name="s1:820" class="">s1</a></span> <span id="s2:821" class="id"><a name="s2:821" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:820">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:821">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1':822" class="id"><a name="s1':822" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':822">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':822">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:821">s2</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="BACKWARD_SIMU_DIAGRAMS.match_final_states" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.match_final_states" class="">match_final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:824" class="id"><a name="s1:824" class="">s1</a></span> <span id="s2:825" class="id"><a name="s2:825" class="">s2</a></span> <span id="r:826" class="id"><a name="r:826" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:824">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:825">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:825">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:826">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:824">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:826">r</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="BACKWARD_SIMU_DIAGRAMS.progress" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.progress" class="">progress:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:828" class="id"><a name="s1:828" class="">s1</a></span> <span id="s2:829" class="id"><a name="s2:829" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:828">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:829">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:828">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="r:830" class="id"><a name="r:830" class="">r,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:829">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:830">r</a></span>) <span class="id">\/</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="t:831" class="id"><a name="t:831" class="">t,</a></span> <span class="gallina-kwd">exists</span> <span id="s2':832" class="id"><a name="s2':832" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:829">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:831">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':832">s2'</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="BACKWARD_SIMU_DIAGRAMS.BACKWARD_SIMULATION_PLUS" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.BACKWARD_SIMULATION_PLUS" class="">BACKWARD_SIMULATION_PLUS</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="BACKWARD_SIMU_DIAGRAMS.BACKWARD_SIMULATION_PLUS.simulation" class="id"><a name="BACKWARD_SIMU_DIAGRAMS.BACKWARD_SIMULATION_PLUS.simulation" class="">simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:834" class="id"><a name="s2:834" class="">s2</a></span> <span id="t:835" class="id"><a name="t:835" class="">t</a></span> <span id="s2':836" class="id"><a name="s2':836" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:834">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:835">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':836">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:837" class="id"><a name="s1:837" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:837">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:834">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:837">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1':838" class="id"><a name="s1':838" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:837">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:835">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':838">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':838">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':836">s2'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="backward_simulation_plus" class="id"><a name="backward_simulation_plus" class="">backward_simulation_plus:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.L2">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#Backward_simulation">Backward_simulation</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> (<span id="x:845" class="id"><span id="x:840" class="id"><a name="x:845" class="">x</a></span></span> <span id="y:846" class="id"><span id="y:841" class="id"><a name="y:846" class="">y:</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> (<span id="i:847" class="id"><span id="i:842" class="id"><a name="i:847" class="">i:</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) <span id="s1:848" class="id"><span id="s1:843" class="id"><a name="s1:848" class="">s1</a></span></span> <span id="s2:849" class="id"><span id="s2:844" class="id"><a name="s2:849" class="">s2</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:843">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:844">s2</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">constructor;</span> <span class="id">intros</span>. <span class="id">contradiction</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.BACKWARD_SIMULATION_PLUS.simulation">simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt;</a></span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS.BACKWARD_SIMULATION_PLUS">BACKWARD_SIMULATION_PLUS</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMU_DIAGRAMS">BACKWARD_SIMU_DIAGRAMS</a></span>.<br/>
<br/>
<h2> Backward simulation of transition sequences </h2>
<br/>
<span class="vernacular">Section</span> <span id="BACKWARD_SIMULATION_SEQUENCES" class="id"><a name="BACKWARD_SIMULATION_SEQUENCES" class="">BACKWARD_SIMULATION_SEQUENCES</a></span>.<br/>
<br/>
<span class="vernacular">Context</span> <span id="L1:850" class="id"><a name="L1:850" class="">L1</a></span> <span id="L2:851" class="id"><a name="L2:851" class="">L2</a></span> <span id="index:852" class="id"><a name="index:852" class="">index</a></span> <span id="order:853" class="id"><a name="order:853" class="">order</a></span> <span id="match_states:854" class="id"><a name="match_states:854" class="">match_states</a></span> (<span id="S:855" class="id"><a name="S:855" class="">S:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:850">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:851">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:852">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:853">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:854">match_states</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bsim_E0_star" class="id"><a name="bsim_E0_star" class="">bsim_E0_star:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:856" class="id"><a name="s2:856" class="">s2</a></span> <span id="s2':857" class="id"><a name="s2':857" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:856">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':857">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:858" class="id"><a name="i:858" class="">i</a></span> <span id="s1:859" class="id"><a name="s1:859" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:858">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:859">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:856">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:859">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':860" class="id"><a name="i':860" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':861" class="id"><a name="s1':861" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:859">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':861">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':860">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':861">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':857">s2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s20</span> <span class="id">s20'</span> <span class="id">STAR0</span>. <span class="id">pattern</span> <span class="id">s20,</span> <span class="id">s20'</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_E0_ind">star_E0_ind;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation">bsim_simulation;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id">s0</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">s1'</span>). <span class="id">intuition</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i''</span> <span class="id">[s1''</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bsim_safe" class="id"><a name="bsim_safe" class="">bsim_safe:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:862" class="id"><a name="i:862" class="">i</a></span> <span id="s1:863" class="id"><a name="s1:863" class="">s1</a></span> <span id="s2:864" class="id"><a name="s2:864" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:862">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:863">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:864">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:863">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:864">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_E0_star">bsim_E0_star;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_progress">bsim_progress;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bsim_E0_plus" class="id"><a name="bsim_E0_plus" class="">bsim_E0_plus:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:865" class="id"><a name="s2:865" class="">s2</a></span> <span id="t:866" class="id"><a name="t:866" class="">t</a></span> <span id="s2':867" class="id"><a name="s2':867" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:865">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:866">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':867">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:866">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:868" class="id"><a name="i:868" class="">i</a></span> <span id="s1:869" class="id"><a name="s1:869" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:868">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:869">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:865">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:869">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="i':870" class="id"><a name="i':870" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':871" class="id"><a name="s1':871" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:869">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':871">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':870">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':871">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':867">s2'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="gallina-kwd">exists</span> <span id="i':872" class="id"><a name="i':872" class="">i',</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':872">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:868">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':872">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:869">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':867">s2'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_ind2">plus_ind2;</a></span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">t</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation'">bsim_simulation';</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[i'</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]]</span> <span class="id">|</span> <span class="id">[i'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]</span>.<br/>
<span class="id">+</span> <span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="id">intuition</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">sets</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ1</span> <span class="id">EQ2];</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation'">bsim_simulation';</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[i'</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]]</span> <span class="id">|</span> <span class="id">[i'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]</span>.<br/>
<span class="id">+</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_E0_star">bsim_E0_star</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i''</span> <span class="id">[s1''</span> <span class="id">[P</span> <span class="id">Q]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">intuition</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star_trans">plus_star_trans;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">+</span> <span class="id">exploit</span> <span class="id">IHplus;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">|</span> <span class="id">[i''</span> <span class="id">[P</span> <span class="id">Q]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="id">intuition</span>. <span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_trans">t_trans;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_step">t_step;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="star_non_E0_split" class="id"><a name="star_non_E0_split" class="">star_non_E0_split:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:873" class="id"><a name="s2:873" class="">s2</a></span> <span id="t:874" class="id"><a name="t:874" class="">t</a></span> <span id="s2':875" class="id"><a name="s2':875" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:873">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:874">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':875">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:874">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>)%<span class="id">nat</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2x:876" class="id"><a name="s2x:876" class="">s2x,</a></span> <span class="gallina-kwd">exists</span> <span id="s2y:877" class="id"><a name="s2y:877" class="">s2y,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:873">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2x:876">s2x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2x:876">s2x</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:874">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2y:877">s2y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2y:877">s2y</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':875">s2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EITHER:</span> <span class="id">t1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id">t2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Events.html#Eapp">Eapp</a></span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t1;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">t2;</span> <span class="id">auto</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">EITHER;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHstar;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2x</span> <span class="id">[s2y</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s2x;</span> <span class="gallina-kwd">exists</span> <span class="id">s2y;</span> <span class="id">intuition</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span>. <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">intuition</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#BACKWARD_SIMULATION_SEQUENCES">BACKWARD_SIMULATION_SEQUENCES</a></span>.<br/>
<br/>
<h2> Composing two backward simulations </h2>
<br/>
<span class="vernacular">Section</span> <span id="COMPOSE_BACKWARD_SIMULATIONS" class="id"><a name="COMPOSE_BACKWARD_SIMULATIONS" class="">COMPOSE_BACKWARD_SIMULATIONS</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="COMPOSE_BACKWARD_SIMULATIONS.L1" class="id"><a name="COMPOSE_BACKWARD_SIMULATIONS.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="COMPOSE_BACKWARD_SIMULATIONS.L2" class="id"><a name="COMPOSE_BACKWARD_SIMULATIONS.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="COMPOSE_BACKWARD_SIMULATIONS.L3" class="id"><a name="COMPOSE_BACKWARD_SIMULATIONS.L3" class="">L3:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="COMPOSE_BACKWARD_SIMULATIONS.L3_single_events" class="id"><a name="COMPOSE_BACKWARD_SIMULATIONS.L3_single_events" class="">L3_single_events:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L3">L3</a></span>.<br/>
<span class="vernacular">Context</span> <span id="index:882" class="id"><a name="index:882" class="">index</a></span> <span id="order:883" class="id"><a name="order:883" class="">order</a></span> <span id="match_states:884" class="id"><a name="match_states:884" class="">match_states</a></span> (<span id="S12:885" class="id"><a name="S12:885" class="">S12:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:882">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:883">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:884">match_states</a></span>).<br/>
<span class="vernacular">Context</span> <span id="index':886" class="id"><a name="index':886" class="">index'</a></span> <span id="order':887" class="id"><a name="order':887" class="">order'</a></span> <span id="match_states':888" class="id"><a name="match_states':888" class="">match_states'</a></span> (<span id="S23:889" class="id"><a name="S23:889" class="">S23:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L3">L3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index':886">index'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order':887">order'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states':888">match_states'</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="COMPOSE_BACKWARD_SIMULATIONS.bb_index" class="id"><a name="COMPOSE_BACKWARD_SIMULATIONS.bb_index" class="">bb_index</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.index'">index'</a></span>)%<span class="id">type</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="bb_order" class="id"><a name="bb_order" class="">bb_order</a></span> <span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.bb_index">bb_index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.bb_index">bb_index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Coqlib.html#lex_ord">lex_ord</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id">_</span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.order">order</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.order'">order'</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="bb_match_states" class="id"><a name="bb_match_states" class="">bb_match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.bb_index">bb_index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L3">L3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="bb_match_later" class="id"><a name="bb_match_later" class="">bb_match_later:</a></span> <span class="gallina-kwd">forall</span> <span id="i1:892" class="id"><a name="i1:892" class="">i1</a></span> <span id="i2:893" class="id"><a name="i2:893" class="">i2</a></span> <span id="s1:894" class="id"><a name="s1:894" class="">s1</a></span> <span id="s3:895" class="id"><a name="s3:895" class="">s3</a></span> <span id="s2x:896" class="id"><a name="s2x:896" class="">s2x</a></span> <span id="s2y:897" class="id"><a name="s2y:897" class="">s2y,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i1:892">i1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:894">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2x:896">s2x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2x:896">s2x</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2y:897">s2y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.match_states'">match_states'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i2:893">i2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2y:897">s2y</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:895">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#bb_match_states:890">bb_match_states</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#i1:892">i1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i2:893">i2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:894">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:895">s3</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bb_match_at" class="id"><a name="bb_match_at" class="">bb_match_at:</a></span> <span class="gallina-kwd">forall</span> <span id="i1:898" class="id"><a name="i1:898" class="">i1</a></span> <span id="i2:899" class="id"><a name="i2:899" class="">i2</a></span> <span id="s1:900" class="id"><a name="s1:900" class="">s1</a></span> <span id="s3:901" class="id"><a name="s3:901" class="">s3</a></span> <span id="s2:902" class="id"><a name="s2:902" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i1:898">i1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:900">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:902">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.match_states'">match_states'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i2:899">i2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:902">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:901">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#bb_match_states">bb_match_states</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#i1:898">i1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i2:899">i2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:900">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:901">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bb_simulation_base" class="id"><a name="bb_simulation_base" class="">bb_simulation_base:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s3:903" class="id"><a name="s3:903" class="">s3</a></span> <span id="t:904" class="id"><a name="t:904" class="">t</a></span> <span id="s3':905" class="id"><a name="s3':905" class="">s3',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L3">L3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:903">s3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:904">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3':905">s3'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i1:906" class="id"><a name="i1:906" class="">i1</a></span> <span id="s1:907" class="id"><a name="s1:907" class="">s1</a></span> <span id="i2:908" class="id"><a name="i2:908" class="">i2</a></span> <span id="s2:909" class="id"><a name="s2:909" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i1:906">i1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:907">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:909">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.match_states'">match_states'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i2:908">i2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:909">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:903">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:907">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':910" class="id"><a name="i':910" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':911" class="id"><a name="s1':911" class="">s1',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:907">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:904">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':911">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:907">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:904">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':911">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bb_order">bb_order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':910">i'</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#i1:906">i1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i2:908">i2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_states">bb_match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':910">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':911">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3':905">s3'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation'">bsim_simulation'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.S23">S23</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_safe">bsim_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[</span> <span class="id">[i2'</span> <span class="id">[s2'</span> <span class="id">[PLUS2</span> <span class="id">MATCH2]]]</span> <span class="id">|</span> <span class="id">[i2'</span> <span class="id">[ORD2</span> <span class="id">[EQ</span> <span class="id">MATCH2]]]]</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;1&nbsp;L2&nbsp;makes&nbsp;one&nbsp;or&nbsp;several&nbsp;transitions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EITHER:</span> <span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>)%<span class="id">nat</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L3_single_events">L3_single_events;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">t;</span> <span class="id">auto</span>. <span class="id">simpl</span>. <span class="id">intros</span>. <span class="id">extlia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">EITHER</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;1.1&nbsp;these&nbsp;are&nbsp;silent&nbsp;transitions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_E0_plus">bsim_E0_plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.S12">S12</a></span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[</span> <span class="id">[i1'</span> <span class="id">[s1'</span> <span class="id">[PLUS1</span> <span class="id">MATCH1]]]</span> <span class="id">|</span> <span class="id">[i1'</span> <span class="id">[ORD1</span> <span class="id">MATCH1]]]</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;1.1.1&nbsp;L1&nbsp;makes&nbsp;one&nbsp;or&nbsp;several&nbsp;transitions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i1',</span> <span class="id">i2'</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_at">bb_match_at;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;1.1.2&nbsp;L1&nbsp;makes&nbsp;no&nbsp;transitions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i1',</span> <span class="id">i2'</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">left;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_at">bb_match_at;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;1.2&nbsp;non-silent&nbsp;transitions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_non_E0_split">star_non_E0_split</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[s2x</span> <span class="id">[s2y</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">R]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_E0_star">bsim_E0_star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.S12">S12</a></span>). <span class="id">eexact</span> <span class="id">P</span>. <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[i1'</span> <span class="id">[s1x</span> <span class="id">[X</span> <span class="id">Y]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation'">bsim_simulation'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.S12">S12</a></span>). <span class="id">eexact</span> <span class="id">Q</span>. <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[i1''</span> <span class="id">[s1y</span> <span class="id">[U</span> <span class="id">V]]]</span> <span class="id">|</span> <span class="id">[i1''</span> <span class="id">[U</span> <span class="id">[V</span> <span class="id">W]]]];</span> <span class="id">try</span> (<span class="id">subst</span> <span class="id">t;</span> <span class="id">discriminate</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i1'',</span> <span class="id">i2'</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1y;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_later">bb_match_later;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;2.&nbsp;L2&nbsp;makes&nbsp;no&nbsp;transitions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="gallina-kwd">exists</span> (<span class="id">i1,</span> <span class="id">i2'</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">right;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_at">bb_match_at;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bb_simulation" class="id"><a name="bb_simulation" class="">bb_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s3:912" class="id"><a name="s3:912" class="">s3</a></span> <span id="t:913" class="id"><a name="t:913" class="">t</a></span> <span id="s3':914" class="id"><a name="s3':914" class="">s3',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L3">L3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:912">s3</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:913">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3':914">s3'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:915" class="id"><a name="i:915" class="">i</a></span> <span id="s1:916" class="id"><a name="s1:916" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_states">bb_match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:915">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:916">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:912">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:916">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':917" class="id"><a name="i':917" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':918" class="id"><a name="s1':918" class="">s1',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:916">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:913">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':918">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:916">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:913">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':918">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bb_order">bb_order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':917">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:915">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_states">bb_match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':917">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':918">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3':914">s3'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_inv">star_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[EQ1</span> <span class="id">EQ2]</span> <span class="id">|</span> <span class="id">PLUS]</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;1.&nbsp;match&nbsp;at&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_simulation_base">bb_simulation_base;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;2.&nbsp;match&nbsp;later&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_E0_plus">bsim_E0_plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS.S12">S12</a></span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[i1'</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]]</span> <span class="id">|</span> <span class="id">[i1'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;2.1&nbsp;one&nbsp;or&nbsp;several&nbsp;silent&nbsp;transitions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_simulation_base">bb_simulation_base</a></span>. <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i''</span> <span class="id">[s1''</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star_trans">plus_star_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">C</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">|</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;2.2&nbsp;no&nbsp;silent&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_simulation_base">bb_simulation_base</a></span>. <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i''</span> <span class="id">[s1''</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i'';</span> <span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intuition</span>. <span class="id">right;</span> <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_trans">t_trans;</a></span> <span class="id">eauto</span>. <span class="id">left;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#COMPOSE_BACKWARD_SIMULATIONS">COMPOSE_BACKWARD_SIMULATIONS</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="compose_backward_simulation" class="id"><a name="compose_backward_simulation" class="">compose_backward_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L1:919" class="id"><a name="L1:919" class="">L1</a></span> <span id="L2:920" class="id"><a name="L2:920" class="">L2</a></span> <span id="L3:921" class="id"><a name="L3:921" class="">L3,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L3:921">L3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:919">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:920">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:920">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L3:921">L3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:919">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L3:921">L3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">L3</span> <span class="id">L3single</span> <span class="id">S12</span> <span class="id">S23</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">S12</span> <span class="gallina-kwd">as</span> <span class="id">[index</span> <span class="id">order</span> <span class="id">match_states</span> <span class="id">props]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">S23</span> <span class="gallina-kwd">as</span> <span class="id">[index'</span> <span class="id">order'</span> <span class="id">match_states'</span> <span class="id">props']</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#Backward_simulation">Backward_simulation</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Smallstep.html#bb_order">bb_order</a></span> <span class="id">order</span> <span class="id">order'</span>) (<span class="id"><a href="compcert.common.Smallstep.html#bb_match_states">bb_match_states</a></span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">L3</span> <span class="id">match_states</span> <span class="id">match_states'</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;well&nbsp;founded&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_order">bb_order</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#wf_lex_ord">wf_lex_ord</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Wellfounded.Transitive_Closure.html#wf_clos_trans">wf_clos_trans</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_order_wf">bsim_order_wf;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_order_wf">bsim_order_wf;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;exist&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_initial_states_exist">bsim_initial_states_exist</a></span> <span class="id">props</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_initial_states_exist">bsim_initial_states_exist</a></span> <span class="id">props'</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;match&nbsp;initial&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s1</span> <span class="id">s3</span> <span class="id">INIT1</span> <span class="id">INIT3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_initial_states_exist">bsim_initial_states_exist</a></span> <span class="id">props</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2</span> <span class="id">INIT2]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_match_initial_states">bsim_match_initial_states</a></span> <span class="id">props'</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i2</span> <span class="id">[s2'</span> <span class="id">[INIT2'</span> <span class="id">M2]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_match_initial_states">bsim_match_initial_states</a></span> <span class="id">props</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i1</span> <span class="id">[s1'</span> <span class="id">[INIT1'</span> <span class="id">M1]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">i1,</span> <span class="id">i2</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">intuition</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_match_at">bb_match_at;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;match&nbsp;final&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s3</span> <span class="id">r</span> <span class="id">MS</span> <span class="id">SAFE</span> <span class="id">FIN</span>. <span class="id">inv</span> <span class="id">MS</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_match_final_states">bsim_match_final_states</a></span> <span class="id">props'</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_safe">bsim_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_E0_star">bsim_E0_star</a></span> <span class="id">props</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">auto</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i1'</span> <span class="id">[s1'</span> <span class="id">[C</span> <span class="id">D]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_match_final_states">bsim_match_final_states</a></span> <span class="id">props</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[s1''</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s3</span> <span class="id">MS</span> <span class="id">SAFE</span>. <span class="id">inv</span> <span class="id">MS</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_progress">bsim_progress</a></span> <span class="id">props'</span>). <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_safe">bsim_safe;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;simulation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#bb_simulation">bb_simulation;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;symbols&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id">L2</span>) <span class="id">id</span>)<span class="id">;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_public_preserved">bsim_public_preserved;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h2> Converting a forward simulation to a backward simulation </h2>
<br/>
<span class="vernacular">Section</span> <span id="FORWARD_TO_BACKWARD" class="id"><a name="FORWARD_TO_BACKWARD" class="">FORWARD_TO_BACKWARD</a></span>.<br/>
<br/>
<span class="vernacular">Context</span> <span id="L1:922" class="id"><a name="L1:922" class="">L1</a></span> <span id="L2:923" class="id"><a name="L2:923" class="">L2</a></span> <span id="index:924" class="id"><a name="index:924" class="">index</a></span> <span id="order:925" class="id"><a name="order:925" class="">order</a></span> <span id="match_states:926" class="id"><a name="match_states:926" class="">match_states</a></span> (<span id="FS:927" class="id"><a name="FS:927" class="">FS:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_properties">fsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:922">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:923">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:924">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:925">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:926">match_states</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_TO_BACKWARD.L1_receptive" class="id"><a name="FORWARD_TO_BACKWARD.L1_receptive" class="">L1_receptive:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#receptive">receptive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FORWARD_TO_BACKWARD.L2_determinate" class="id"><a name="FORWARD_TO_BACKWARD.L2_determinate" class="">L2_determinate:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>.<br/>
<br/>
<div class="doc">Exploiting forward simulation </div>
<br/>
<span class="vernacular">Inductive</span> <span id="f2b_transitions" class="id"><a name="f2b_transitions" class="">f2b_transitions:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_trans_final" class="id"><a name="f2b_trans_final" class="">f2b_trans_final:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:932" class="id"><a name="s1:932" class="">s1</a></span> <span id="s2:933" class="id"><a name="s2:933" class="">s2</a></span> <span id="s1':934" class="id"><a name="s1':934" class="">s1'</a></span> <span id="r:935" class="id"><a name="r:935" class="">r,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:932">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':934">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':934">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:935">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:933">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:935">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_transitions:930">f2b_transitions</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:932">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:933">s2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_trans_step" class="id"><a name="f2b_trans_step" class="">f2b_trans_step:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:936" class="id"><a name="s1:936" class="">s1</a></span> <span id="s2:937" class="id"><a name="s2:937" class="">s2</a></span> <span id="s1':938" class="id"><a name="s1':938" class="">s1'</a></span> <span id="t:939" class="id"><a name="t:939" class="">t</a></span> <span id="s1'':940" class="id"><a name="s1'':940" class="">s1''</a></span> <span id="s2':941" class="id"><a name="s2':941" class="">s2'</a></span> <span id="i':942" class="id"><a name="i':942" class="">i'</a></span> <span id="i'':943" class="id"><a name="i'':943" class="">i'',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:936">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':938">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':938">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:939">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':940">s1''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:937">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:939">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':941">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':942">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':938">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:937">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i'':943">i''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1'':940">s1''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':941">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_transitions:930">f2b_transitions</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:936">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:937">s2</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="f2b_progress" class="id"><a name="f2b_progress" class="">f2b_progress:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:944" class="id"><a name="i:944" class="">i</a></span> <span id="s1:945" class="id"><a name="s1:945" class="">s1</a></span> <span id="s2:946" class="id"><a name="s2:946" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:944">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:945">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:946">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:945">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_transitions">f2b_transitions</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:945">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:946">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">i0;</span> <span class="id">pattern</span> <span class="id">i0</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">R</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.order">order</a></span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_order_wf">fsim_order_wf;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">i</span> <span class="id">REC</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">MATCH</span> <span class="id">SAFE</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">SAFE</span> <span class="id">s1</span>) <span class="gallina-kwd">as</span> <span class="id">[[r</span> <span class="id">FINAL]</span> <span class="id">|</span> <span class="id">[t</span> <span class="id">[s1'</span> <span class="id">STEP1]]]</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;final&nbsp;state&nbsp;reached&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_trans_final">f2b_trans_final;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_match_final_states">fsim_match_final_states;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;L1&nbsp;can&nbsp;make&nbsp;one&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.FS">FS</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">MATCH']]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id">s2</span> <span class="id">t</span> <span class="id">s2'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id">s2'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">s2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.order">order</a></span> <span class="id">i'</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_inv">star_inv</a></span> <span class="id">H0</span>)<span class="id">;</span> <span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">clear</span> <span class="id">A</span>. <span class="id">destruct</span> <span class="id">B</span> <span class="gallina-kwd">as</span> <span class="id">[PLUS2</span> <span class="id">|</span> <span class="id">[EQ1</span> <span class="id">[EQ2</span> <span class="id">ORDER]]]</span>.<br/>
<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_trans_step">f2b_trans_step;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
<span class="id">+</span> <span class="id">subst</span>. <span class="id">exploit</span> <span class="id">REC;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">TRANS;</span> <span class="id">inv</span> <span class="id">TRANS</span>.<br/>
<span class="id">*</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_trans_final">f2b_trans_final;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">*</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_trans_step">f2b_trans_step;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fsim_simulation_not_E0" class="id"><a name="fsim_simulation_not_E0" class="">fsim_simulation_not_E0:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:947" class="id"><a name="s1:947" class="">s1</a></span> <span id="t:948" class="id"><a name="t:948" class="">t</a></span> <span id="s1':949" class="id"><a name="s1':949" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:947">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:948">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':949">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:948">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:950" class="id"><a name="i:950" class="">i</a></span> <span id="s2:951" class="id"><a name="s2:951" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:950">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:947">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:951">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':952" class="id"><a name="i':952" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s2':953" class="id"><a name="s2':953" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:951">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:948">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':953">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':952">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':949">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':953">s2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.FS">FS</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">A</span>. <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_inv">star_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[EQ1</span> <span class="id">EQ2]</span> <span class="id">|</span> <span class="id">P];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Exploiting determinacy </div>
<br/>
<span class="vernacular">Remark</span> <span id="silent_or_not_silent" class="id"><a name="silent_or_not_silent" class="">silent_or_not_silent:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="t:954" class="id"><a name="t:954" class="">t,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:954">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:954">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.common.Events.html#E0">E0;</a></span> <span class="id">destruct</span> <span class="id">t;</span> <span class="id">auto;</span> <span class="id">right;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="not_silent_length" class="id"><a name="not_silent_length" class="">not_silent_length:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="t1:955" class="id"><a name="t1:955" class="">t1</a></span> <span id="t2:956" class="id"><a name="t2:956" class="">t2,</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t1:955">t1</a></span> <span class="id"><a href="compcert.common.Events.html#f07b3676d96b68749d342542fd80e2b0">**</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:956">t2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id">1</span>)%<span class="id">nat</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:955">t1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:956">t2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Events.html#Eapp">Eapp,</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t1;</span> <span class="id">destruct</span> <span class="id">t2;</span> <span class="id">auto</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="f2b_determinacy_inv" class="id"><a name="f2b_determinacy_inv" class="">f2b_determinacy_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:957" class="id"><a name="s2:957" class="">s2</a></span> <span id="t':958" class="id"><a name="t':958" class="">t'</a></span> <span id="s2':959" class="id"><a name="s2':959" class="">s2'</a></span> <span id="t'':960" class="id"><a name="t'':960" class="">t''</a></span> <span id="s2'':961" class="id"><a name="s2'':961" class="">s2'',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:957">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t':958">t'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':959">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:957">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t'':960">t''</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2'':961">s2''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#t':958">t'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t'':960">t''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':959">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2'':961">s2''</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="id"><a href="compcert.common.Smallstep.html#t':958">t'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t'':960">t''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#t':958">t'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t'':960">t''</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>) <span class="id">t'</span> <span class="id">t''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_1">sd_determ_1;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#silent_or_not_silent">silent_or_not_silent</a></span> <span class="id">t'</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">intuition</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_2">sd_determ_2;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#silent_or_not_silent">silent_or_not_silent</a></span> <span class="id">t''</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">elim</span> <span class="id">H2;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#match_traces_preserved">match_traces_preserved</a></span> <span class="gallina-kwd">with</span> (<span class="id">ge1</span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">symmetry;</span> <span class="id">apply</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_public_preserved">fsim_public_preserved</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.FS">FS</a></span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="f2b_determinacy_star" class="id"><a name="f2b_determinacy_star" class="">f2b_determinacy_star:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:962" class="id"><a name="s:962" class="">s</a></span> <span id="s1:963" class="id"><a name="s1:963" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:962">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:963">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="t:964" class="id"><a name="t:964" class="">t</a></span> <span id="s2:965" class="id"><a name="s2:965" class="">s2</a></span> <span id="s3:966" class="id"><a name="s3:966" class="">s3,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:963">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:964">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:965">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:964">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:962">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:964">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:966">s3</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:963">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:964">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s3:966">s3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s0</span> <span class="id">s01</span> <span class="id">ST0</span>. <span class="id">pattern</span> <span class="id">s0,</span> <span class="id">s01</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_E0_ind">star_E0_ind;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_determinacy_inv">f2b_determinacy_inv</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[EQ1</span> <span class="id">[EQ2</span> <span class="id">EQ3]]</span> <span class="id">|</span> <span class="id">[NEQ1</span> <span class="id">[NEQ2</span> <span class="id">MT]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Orders </div>
<br/>
<span class="vernacular">Inductive</span> <span id="f2b_index" class="id"><a name="f2b_index" class="">f2b_index</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="F2BI_before" class="id"><a name="F2BI_before" class="">F2BI_before</a></span> (<span id="n:969" class="id"><a name="n:969" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="F2BI_after" class="id"><a name="F2BI_after" class="">F2BI_after</a></span> (<span id="n:970" class="id"><a name="n:970" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="f2b_order" class="id"><a name="f2b_order" class="">f2b_order:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_index">f2b_index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_index">f2b_index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_order_before" class="id"><a name="f2b_order_before" class="">f2b_order_before:</a></span> <span class="gallina-kwd">forall</span> <span id="n:973" class="id"><a name="n:973" class="">n</a></span> <span id="n':974" class="id"><a name="n':974" class="">n',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#n':974">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:973">n</a></span>)%<span class="id">nat</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_order:971">f2b_order</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_before">F2BI_before</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n':974">n'</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_before">F2BI_before</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:973">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_order_after" class="id"><a name="f2b_order_after" class="">f2b_order_after:</a></span> <span class="gallina-kwd">forall</span> <span id="n:975" class="id"><a name="n:975" class="">n</a></span> <span id="n':976" class="id"><a name="n':976" class="">n',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#n':976">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:975">n</a></span>)%<span class="id">nat</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_order:971">f2b_order</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n':976">n'</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:975">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_order_switch" class="id"><a name="f2b_order_switch" class="">f2b_order_switch:</a></span> <span class="gallina-kwd">forall</span> <span id="n:977" class="id"><a name="n:977" class="">n</a></span> <span id="n':978" class="id"><a name="n':978" class="">n',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_order:971">f2b_order</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_before">F2BI_before</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n':978">n'</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:977">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="wf_f2b_order" class="id"><a name="wf_f2b_order" class="">wf_f2b_order:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_order">f2b_order</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">ACC1:</span> <span class="gallina-kwd">forall</span> <span id="n:980" class="id"><span id="n:979" class="id"><a name="n:980" class="">n,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#Acc">Acc</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_order">f2b_order</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_before">F2BI_before</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:979">n</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0;</span> <span class="id">pattern</span> <span class="id">n0;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf_ind">lt_wf_ind;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">ACC2:</span> <span class="gallina-kwd">forall</span> <span id="n:982" class="id"><span id="n:981" class="id"><a name="n:982" class="">n,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#Acc">Acc</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_order">f2b_order</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:981">n</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">n0;</span> <span class="id">pattern</span> <span class="id">n0;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf_ind">lt_wf_ind;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">a;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Constructing the backward simulation </div>
<br/>
<span class="vernacular">Inductive</span> <span id="f2b_match_states" class="id"><a name="f2b_match_states" class="">f2b_match_states:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_index">f2b_index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_match_at" class="id"><a name="f2b_match_at" class="">f2b_match_at:</a></span> <span class="gallina-kwd">forall</span> <span id="i:985" class="id"><a name="i:985" class="">i</a></span> <span id="s1:986" class="id"><a name="s1:986" class="">s1</a></span> <span id="s2:987" class="id"><a name="s2:987" class="">s2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:985">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:986">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:987">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_match_states:983">f2b_match_states</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:986">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:987">s2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_match_before" class="id"><a name="f2b_match_before" class="">f2b_match_before:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:988" class="id"><a name="s1:988" class="">s1</a></span> <span id="t:989" class="id"><a name="t:989" class="">t</a></span> <span id="s1':990" class="id"><a name="s1':990" class="">s1'</a></span> <span id="s2b:991" class="id"><a name="s2b:991" class="">s2b</a></span> <span id="s2:992" class="id"><a name="s2:992" class="">s2</a></span> <span id="n:993" class="id"><a name="n:993" class="">n</a></span> <span id="s2a:994" class="id"><a name="s2a:994" class="">s2a</a></span> <span id="i:995" class="id"><a name="i:995" class="">i,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:988">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:989">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':990">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span>  <span class="id"><a href="compcert.common.Smallstep.html#t:989">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2b:991">s2b</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:992">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#n:993">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:992">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:989">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2a:994">s2a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:995">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:988">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2b:991">s2b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_match_states:983">f2b_match_states</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_before">F2BI_before</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:993">n</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:988">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:992">s2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="f2b_match_after" class="id"><a name="f2b_match_after" class="">f2b_match_after:</a></span> <span class="gallina-kwd">forall</span> <span id="n:996" class="id"><a name="n:996" class="">n</a></span> <span id="s2:997" class="id"><a name="s2:997" class="">s2</a></span> <span id="s2a:998" class="id"><a name="s2a:998" class="">s2a</a></span> <span id="s1:999" class="id"><a name="s1:999" class="">s1</a></span> <span id="i:1000" class="id"><a name="i:1000" class="">i,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:996">n</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:997">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2a:998">s2a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1000">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:999">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2a:998">s2a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_match_states:983">f2b_match_states</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:996">n</a></span>)) <span class="id"><a href="compcert.common.Smallstep.html#s1:999">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:997">s2</a></span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="f2b_match_after'" class="id"><a name="f2b_match_after'" class="">f2b_match_after':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1001" class="id"><a name="n:1001" class="">n</a></span> <span id="s2:1002" class="id"><a name="s2:1002" class="">s2</a></span> <span id="s2a:1003" class="id"><a name="s2a:1003" class="">s2a</a></span> <span id="s1:1004" class="id"><a name="s1:1004" class="">s1</a></span> <span id="i:1005" class="id"><a name="i:1005" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#n:1001">n</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1002">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2a:1003">s2a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1005">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1004">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2a:1003">s2a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#f2b_match_states">f2b_match_states</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id"><a href="compcert.common.Smallstep.html#n:1001">n</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:1004">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1002">s2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Backward simulation of L2 steps </div>
<br/>
<span class="vernacular">Lemma</span> <span id="f2b_simulation_step" class="id"><a name="f2b_simulation_step" class="">f2b_simulation_step:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:1006" class="id"><a name="s2:1006" class="">s2</a></span> <span id="t:1007" class="id"><a name="t:1007" class="">t</a></span> <span id="s2':1008" class="id"><a name="s2':1008" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1006">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1007">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1008">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1009" class="id"><a name="i:1009" class="">i</a></span> <span id="s1:1010" class="id"><a name="s1:1010" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_match_states">f2b_match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1009">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1010">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1006">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1010">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':1011" class="id"><a name="i':1011" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':1012" class="id"><a name="s1':1012" class="">s1',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1010">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1007">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1012">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1010">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1007">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1012">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_order">f2b_order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':1011">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1009">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_match_states">f2b_match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':1011">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1012">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1008">s2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s2</span> <span class="id">t</span> <span class="id">s2'</span> <span class="id">STEP2</span> <span class="id">i</span> <span class="id">s1</span> <span class="id">MATCH</span> <span class="id">SAFE</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MATCH</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;1.&nbsp;At&nbsp;matching&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_progress">f2b_progress;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">TRANS;</span> <span class="id">inv</span> <span class="id">TRANS</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;1.1&nbsp;&nbsp;L1&nbsp;can&nbsp;reach&nbsp;final&nbsp;state&nbsp;and&nbsp;L2&nbsp;is&nbsp;at&nbsp;final&nbsp;state:&nbsp;impossible!&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L2_determinate">L2_determinate</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">contradiction</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;1.2&nbsp;&nbsp;L1&nbsp;can&nbsp;make&nbsp;0&nbsp;or&nbsp;several&nbsp;steps;&nbsp;L2&nbsp;can&nbsp;make&nbsp;1&nbsp;or&nbsp;several&nbsp;matching&nbsp;steps.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_determinacy_inv">f2b_determinacy_inv</a></span>. <span class="id">eexact</span> <span class="id">H5</span>. <span class="id">eexact</span> <span class="id">STEP2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[EQ1</span> <span class="id">[EQ2</span> <span class="id">EQ3]]</span> <span class="id">|</span> <span class="id">[NOT1</span> <span class="id">[NOT2</span> <span class="id">MT]]]</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;1.2.1&nbsp;&nbsp;L2&nbsp;makes&nbsp;a&nbsp;silent&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#silent_or_not_silent">silent_or_not_silent</a></span> <span class="id">t2</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1.2.1.1&nbsp;&nbsp;L1&nbsp;makes&nbsp;a&nbsp;silent&nbsp;transition&nbsp;too:&nbsp;perform&nbsp;transition&nbsp;now&nbsp;and&nbsp;go&nbsp;to&nbsp;"after"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H6</span>) <span class="gallina-kwd">as</span> <span class="id">[n</span> <span class="id">STEPS2]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_right">plus_right;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_match_after'">f2b_match_after';</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;1.2.1.2&nbsp;L1&nbsp;makes&nbsp;a&nbsp;non-silent&nbsp;transition:&nbsp;keep&nbsp;it&nbsp;for&nbsp;later&nbsp;and&nbsp;go&nbsp;to&nbsp;"before"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H6</span>) <span class="gallina-kwd">as</span> <span class="id">[n</span> <span class="id">STEPS2]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_before">F2BI_before</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
<span class="id">*</span> <span class="comment">(*&nbsp;1.2.2&nbsp;L2&nbsp;makes&nbsp;a&nbsp;non-silent&nbsp;transition,&nbsp;and&nbsp;so&nbsp;does&nbsp;L1&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#sr_traces">sr_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1_receptive">L1_receptive</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ</span> <span class="id">|</span> <span class="id">EQ]</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t2</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Use&nbsp;receptiveness&nbsp;to&nbsp;equate&nbsp;the&nbsp;traces&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sr_receptive">sr_receptive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1_receptive">L1_receptive</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s1'''</span> <span class="id">STEP1]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation_not_E0">fsim_simulation_not_E0</a></span>. <span class="id">eexact</span> <span class="id">STEP1</span>. <span class="id">auto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'''</span> <span class="id">[s2'''</span> <span class="id">[P</span> <span class="id">Q]]]</span>. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Exploit&nbsp;determinacy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#sr_traces">sr_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1_receptive">L1_receptive</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ</span> <span class="id">|</span> <span class="id">EQ]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t0</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_1">sd_determ_1</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">STEP2</span>. <span class="id">eexact</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">elim</span> <span class="id">NOT2</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t2</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">s4</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">s2'</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_2">sd_determ_2;</a></span> <span class="id">eauto</span>. <span class="id">subst</span> <span class="id">s4</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Perform&nbsp;transition&nbsp;now&nbsp;and&nbsp;go&nbsp;to&nbsp;"after"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H7</span>) <span class="gallina-kwd">as</span> <span class="id">[n</span> <span class="id">STEPS2]</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1''';</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_right">plus_right;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_match_after'">f2b_match_after';</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;2.&nbsp;Before&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_determinacy_inv">f2b_determinacy_inv</a></span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="id">eexact</span> <span class="id">STEP2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[EQ1</span> <span class="id">[EQ2</span> <span class="id">EQ3]]</span> <span class="id">|</span> <span class="id">[NOT1</span> <span class="id">[NOT2</span> <span class="id">MT]]]</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;2.1&nbsp;L2&nbsp;makes&nbsp;a&nbsp;silent&nbsp;transition:&nbsp;remain&nbsp;in&nbsp;"before"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_before">F2BI_before</a></span> <span class="id">n0</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">constructor</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;2.2&nbsp;L2&nbsp;make&nbsp;a&nbsp;non-silent&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#sr_traces">sr_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1_receptive">L1_receptive</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ</span> <span class="id">|</span> <span class="id">EQ]</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Use&nbsp;receptiveness&nbsp;to&nbsp;equate&nbsp;the&nbsp;traces&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sr_receptive">sr_receptive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1_receptive">L1_receptive</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s1'''</span> <span class="id">STEP1]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation_not_E0">fsim_simulation_not_E0</a></span>. <span class="id">eexact</span> <span class="id">STEP1</span>. <span class="id">auto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'''</span> <span class="id">[s2'''</span> <span class="id">[P</span> <span class="id">Q]]]</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Exploit&nbsp;determinacy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_determinacy_star">f2b_determinacy_star</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">STEP2</span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">R</span>. <span class="id">inv</span> <span class="id">R</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#sr_traces">sr_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD.L1_receptive">L1_receptive</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ</span> <span class="id">|</span> <span class="id">EQ]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_1">sd_determ_1</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">STEP2</span>. <span class="id">eexact</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">elim</span> <span class="id">NOT2</span>. <span class="id">inv</span> <span class="id">H7;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">s3</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">s2'</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_determ_2">sd_determ_2;</a></span> <span class="id">eauto</span>. <span class="id">subst</span> <span class="id">s3</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Perform&nbsp;transition&nbsp;now&nbsp;and&nbsp;go&nbsp;to&nbsp;"after"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H6</span>) <span class="gallina-kwd">as</span> <span class="id">[n</span> <span class="id">STEPS2]</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1''';</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_match_after'">f2b_match_after';</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;3.&nbsp;After&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[EQ1</span> <span class="id">EQ2];</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_determinacy_inv">f2b_determinacy_inv</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">eexact</span> <span class="id">STEP2</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[EQ1</span> <span class="id">[EQ2</span> <span class="id">EQ3]]</span> <span class="id">|</span> <span class="id">[NOT1</span> <span class="id">[NOT2</span> <span class="id">MT]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">constructor;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_match_after'">f2b_match_after';</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FORWARD_TO_BACKWARD">FORWARD_TO_BACKWARD</a></span>.<br/>
<br/>
<div class="doc">The backward simulation </div>
<br/>
<span class="vernacular">Lemma</span> <span id="forward_to_backward_simulation" class="id"><a name="forward_to_backward_simulation" class="">forward_to_backward_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L1:1013" class="id"><a name="L1:1013" class="">L1</a></span> <span id="L2:1014" class="id"><a name="L2:1014" class="">L2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1013">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1014">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#receptive">receptive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1013">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#determinate">determinate</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1014">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1013">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1014">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">FS</span> <span class="id">L1_receptive</span> <span class="id">L2_determinate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">FS</span> <span class="gallina-kwd">as</span> <span class="id">[index</span> <span class="id">order</span> <span class="id">match_states</span> <span class="id">FS]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#Backward_simulation">Backward_simulation</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_order">f2b_order</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#f2b_match_states">f2b_match_states</a></span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">match_states</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;well&nbsp;founded&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#wf_f2b_order">wf_f2b_order</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;exist&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_initial_states">fsim_match_initial_states</a></span> <span class="id">FS</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i</span> <span class="id">[s2</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_initial_states">fsim_match_initial_states</a></span> <span class="id">FS</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">s2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">s2'</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#sd_initial_determ">sd_initial_determ;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">s2'</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Smallstep.html#F2BI_after">F2BI_after</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">s1;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;final&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_progress">f2b_progress;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">TRANS;</span> <span class="id">inv</span> <span class="id">TRANS</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">r0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">r</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_final_determ">sd_final_determ</a></span> <span class="id">L2_determinate</span>)<span class="id">;</span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span> <span class="id">L2_determinate</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>. <span class="id">congruence</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span> <span class="id">L2_determinate</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#sd_final_nostep">sd_final_nostep</a></span> <span class="id">L2_determinate</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">contradiction</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_progress">f2b_progress;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">TRANS;</span> <span class="id">inv</span> <span class="id">TRANS</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">r;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="id">right;</span> <span class="id">econstructor;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="id">congruence</span>. <span class="id">right;</span> <span class="id">econstructor;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">right;</span> <span class="id">econstructor;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;simulation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#f2b_simulation_step">f2b_simulation_step;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;symbols&nbsp;preserved&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exact</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_public_preserved">fsim_public_preserved</a></span> <span class="id">FS</span>).<br/>
Qed.</div>
<br/>
<h1> Transforming a semantics into a single-event, equivalent semantics </h1>
<br/>
<span class="vernacular">Definition</span> <span id="well_behaved_traces" class="id"><a name="well_behaved_traces" class="">well_behaved_traces</a></span> (<span id="L:1015" class="id"><a name="L:1015" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:1016" class="id"><a name="s:1016" class="">s</a></span> <span id="t:1017" class="id"><a name="t:1017" class="">t</a></span> <span id="s':1018" class="id"><a name="s':1018" class="">s',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1015">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1016">s</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1017">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':1018">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.common.Smallstep.html#t:1017">t</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="id">|</span> <span class="id">ev</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">t'</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Events.html#output_trace">output_trace</a></span> <span class="id">t'</span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ATOMIC" class="id"><a name="ATOMIC" class="">ATOMIC</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="ATOMIC.L" class="id"><a name="ATOMIC.L" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="ATOMIC.Lwb" class="id"><a name="ATOMIC.Lwb" class="">Lwb:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#well_behaved_traces">well_behaved_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="atomic_step" class="id"><a name="atomic_step" class="">atomic_step</a></span> (<span id="ge:1022" class="id"><a name="ge:1022" class="">ge:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#genvtype">genvtype</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span>)<span class="id">:</span> (<span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span>) <span class="id">-&gt;</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="atomic_step_silent" class="id"><a name="atomic_step_silent" class="">atomic_step_silent:</a></span> <span class="gallina-kwd">forall</span> <span id="s:1025" class="id"><a name="s:1025" class="">s</a></span> <span id="s':1026" class="id"><a name="s':1026" class="">s',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1025">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':1026">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#atomic_step:1023">atomic_step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:1022">ge</a></span> (<span class="id"><a href="compcert.common.Events.html#E0">E0,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1025">s</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.common.Events.html#E0">E0,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':1026">s'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="atomic_step_start" class="id"><a name="atomic_step_start" class="">atomic_step_start:</a></span> <span class="gallina-kwd">forall</span> <span id="s:1027" class="id"><a name="s:1027" class="">s</a></span> <span id="ev:1028" class="id"><a name="ev:1028" class="">ev</a></span> <span id="t:1029" class="id"><a name="t:1029" class="">t</a></span> <span id="s':1030" class="id"><a name="s':1030" class="">s',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1027">s</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#ev:1028">ev</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1029">t</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s':1030">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#atomic_step:1023">atomic_step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:1022">ge</a></span> (<span class="id"><a href="compcert.common.Events.html#E0">E0,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1027">s</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#ev:1028">ev</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#t:1029">t,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s':1030">s'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="atomic_step_continue" class="id"><a name="atomic_step_continue" class="">atomic_step_continue:</a></span> <span class="gallina-kwd">forall</span> <span id="ev:1031" class="id"><a name="ev:1031" class="">ev</a></span> <span id="t:1032" class="id"><a name="t:1032" class="">t</a></span> <span id="s:1033" class="id"><a name="s:1033" class="">s,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#output_trace">output_trace</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#ev:1031">ev</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1032">t</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#atomic_step:1023">atomic_step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ge:1022">ge</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#ev:1031">ev</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1032">t,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1033">s</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#ev:1031">ev</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#t:1032">t,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1033">s</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="atomic" class="id"><a name="atomic" class="">atomic</a></span> <span class="id">:</span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span> <span class="id">:=</span> <span class="id">{|</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span>)%<span class="id">type;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#genvtype">genvtype</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#genvtype">genvtype</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#atomic_step">atomic_step;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:1034" class="id"><a name="s:1034" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1034">s</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1034">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:1035" class="id"><a name="s:1035" class="">s</a></span> <span id="r:1036" class="id"><a name="r:1036" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1035">s</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#r:1036">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1035">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC.L">L</a></span><br/>
<span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#ATOMIC">ATOMIC</a></span>.<br/>
<br/>
<div class="doc">A forward simulation from a semantics <span class="bracket"><span class="id">L1</span></span> to a single-event semantics <span class="bracket"><span class="id">L2</span></span>
  can be "factored" into a forward simulation from <span class="bracket"><span class="id">atomic</span> <span class="id">L1</span></span> to <span class="bracket"><span class="id">L2</span></span>. </div>
<br/>
<span class="vernacular">Section</span> <span id="FACTOR_FORWARD_SIMULATION" class="id"><a name="FACTOR_FORWARD_SIMULATION" class="">FACTOR_FORWARD_SIMULATION</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FACTOR_FORWARD_SIMULATION.L1" class="id"><a name="FACTOR_FORWARD_SIMULATION.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FACTOR_FORWARD_SIMULATION.L2" class="id"><a name="FACTOR_FORWARD_SIMULATION.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Context</span> <span id="index:1039" class="id"><a name="index:1039" class="">index</a></span> <span id="order:1040" class="id"><a name="order:1040" class="">order</a></span> <span id="match_states:1041" class="id"><a name="match_states:1041" class="">match_states</a></span> (<span id="sim:1042" class="id"><a name="sim:1042" class="">sim:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_properties">fsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:1039">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:1040">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:1041">match_states</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="FACTOR_FORWARD_SIMULATION.L2single" class="id"><a name="FACTOR_FORWARD_SIMULATION.L2single" class="">L2single:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="ffs_match" class="id"><a name="ffs_match" class="">ffs_match:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L1">L1</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ffs_match_at" class="id"><a name="ffs_match_at" class="">ffs_match_at:</a></span> <span class="gallina-kwd">forall</span> <span id="i:1046" class="id"><a name="i:1046" class="">i</a></span> <span id="s1:1047" class="id"><a name="s1:1047" class="">s1</a></span> <span id="s2:1048" class="id"><a name="s2:1048" class="">s2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1046">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1047">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1048">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#ffs_match:1044">ffs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1046">i</a></span> (<span class="id"><a href="compcert.common.Events.html#E0">E0,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1047">s1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:1048">s2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="ffs_match_buffer" class="id"><a name="ffs_match_buffer" class="">ffs_match_buffer:</a></span> <span class="gallina-kwd">forall</span> <span id="i:1049" class="id"><a name="i:1049" class="">i</a></span> <span id="ev:1050" class="id"><a name="ev:1050" class="">ev</a></span> <span id="t:1051" class="id"><a name="t:1051" class="">t</a></span> <span id="s1:1052" class="id"><a name="s1:1052" class="">s1</a></span> <span id="s2:1053" class="id"><a name="s2:1053" class="">s2</a></span> <span id="s2':1054" class="id"><a name="s2':1054" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1053">s2</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#ev:1050">ev</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1051">t</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2':1054">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1049">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1052">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1054">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#ffs_match:1044">ffs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1049">i</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#ev:1050">ev</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1051">t,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1052">s1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:1053">s2</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="star_non_E0_split'" class="id"><a name="star_non_E0_split'" class="">star_non_E0_split':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:1055" class="id"><a name="s2:1055" class="">s2</a></span> <span id="t:1056" class="id"><a name="t:1056" class="">t</a></span> <span id="s2':1057" class="id"><a name="s2':1057" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1055">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1056">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1057">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.common.Smallstep.html#t:1056">t</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">ev</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">t'</span> <span class="id">=&gt;</span> <span class="gallina-kwd">exists</span> <span id="s2x:1059" class="id"><a name="s2x:1059" class="">s2x,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1055">s2</a></span> (<span class="id">ev</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2x:1059">s2x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2x:1059">s2x</a></span> <span class="id">t'</span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1057">s2'</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2single">L2single;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">LEN</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t1</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">subst</span>. <span class="id">destruct</span> <span class="id">t2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHstar</span> <span class="gallina-kwd">as</span> <span class="id">[s2x</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">s2x;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t1</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">subst</span> <span class="id">t</span>. <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">LEN</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ffs_simulation" class="id"><a name="ffs_simulation" class="">ffs_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s1:1060" class="id"><a name="s1:1060" class="">s1</a></span> <span id="t:1061" class="id"><a name="t:1061" class="">t</a></span> <span id="s1':1062" class="id"><a name="s1':1062" class="">s1',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#atomic">atomic</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L1">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:1060">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1061">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1062">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1063" class="id"><a name="i:1063" class="">i</a></span> <span id="s2:1064" class="id"><a name="s2:1064" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ffs_match">ffs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1063">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1060">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1064">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':1065" class="id"><a name="i':1065" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s2':1066" class="id"><a name="s2':1066" class="">s2',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1064">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1061">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1066">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1064">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1061">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1066">s2'</a></span>) <span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':1065">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1063">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#ffs_match">ffs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':1065">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1062">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1066">s2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;silent&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.sim">sim</a></span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;start&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_simulation">fsim_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.sim">sim</a></span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s2'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">ev'</span> <span class="id">t]</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;single&nbsp;event&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;multiple&nbsp;events&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION.L2">L2</a></span> <span class="id">s2</span> (<span class="id">ev</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">ev'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">t</span>) <span class="id">s2'</span>). <span class="id">intuition</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_non_E0_split'">star_non_E0_split'</a></span>. <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">intros</span> <span class="id">[s2x</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s2x;</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;continue&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_non_E0_split'">star_non_E0_split'</a></span>. <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">intros</span> <span class="id">[s2x</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">s2';</span> <span class="id">split</span>. <span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star_trans">plus_star_trans;</a></span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">s2x;</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_FORWARD_SIMULATION">FACTOR_FORWARD_SIMULATION</a></span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="factor_forward_simulation" class="id"><a name="factor_forward_simulation" class="">factor_forward_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L1:1067" class="id"><a name="L1:1067" class="">L1</a></span> <span id="L2:1068" class="id"><a name="L2:1068" class="">L2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1067">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1068">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1068">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#atomic">atomic</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1067">L1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#L2:1068">L2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">FS</span> <span class="id">L2single</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">FS</span> <span class="gallina-kwd">as</span> <span class="id">[index</span> <span class="id">order</span> <span class="id">match_states</span> <span class="id">sim]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#Forward_simulation">Forward_simulation</a></span> <span class="gallina-kwd">with</span> <span class="id">order</span> (<span class="id"><a href="compcert.common.Smallstep.html#ffs_match">ffs_match</a></span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">match_states</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;wf&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fsim_order_wf">fsim_order_wf;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">s1</span> <span class="gallina-kwd">as</span> <span class="id">[t1</span> <span class="id">s1]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_initial_states">fsim_match_initial_states</a></span> <span class="id">sim</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i</span> <span class="id">[s2</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">s2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;final&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">s1</span> <span class="gallina-kwd">as</span> <span class="id">[t1</span> <span class="id">s1]</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">destruct</span> <span class="id">H0;</span> <span class="id">subst</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_match_final_states">fsim_match_final_states</a></span> <span class="id">sim</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;simulation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#ffs_simulation">ffs_simulation;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;symbols&nbsp;preserved&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">exact</span> (<span class="id"><a href="compcert.common.Smallstep.html#fsim_public_preserved">fsim_public_preserved</a></span> <span class="id">sim</span>).<br/>
Qed.</div>
<br/>
<div class="doc">Likewise, a backward simulation from a single-event semantics <span class="bracket"><span class="id">L1</span></span> to a semantics <span class="bracket"><span class="id">L2</span></span>
  can be "factored" as a backward simulation from <span class="bracket"><span class="id">L1</span></span> to <span class="bracket"><span class="id">atomic</span> <span class="id">L2</span></span>. </div>
<br/>
<span class="vernacular">Section</span> <span id="FACTOR_BACKWARD_SIMULATION" class="id"><a name="FACTOR_BACKWARD_SIMULATION" class="">FACTOR_BACKWARD_SIMULATION</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="FACTOR_BACKWARD_SIMULATION.L1" class="id"><a name="FACTOR_BACKWARD_SIMULATION.L1" class="">L1:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="FACTOR_BACKWARD_SIMULATION.L2" class="id"><a name="FACTOR_BACKWARD_SIMULATION.L2" class="">L2:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="vernacular">Context</span> <span id="index:1071" class="id"><a name="index:1071" class="">index</a></span> <span id="order:1072" class="id"><a name="order:1072" class="">order</a></span> <span id="match_states:1073" class="id"><a name="match_states:1073" class="">match_states</a></span> (<span id="sim:1074" class="id"><a name="sim:1074" class="">sim:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L2">L2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#index:1071">index</a></span> <span class="id"><a href="compcert.common.Smallstep.html#order:1072">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#match_states:1073">match_states</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="FACTOR_BACKWARD_SIMULATION.L1single" class="id"><a name="FACTOR_BACKWARD_SIMULATION.L1single" class="">L1single:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="FACTOR_BACKWARD_SIMULATION.L2wb" class="id"><a name="FACTOR_BACKWARD_SIMULATION.L2wb" class="">L2wb:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#well_behaved_traces">well_behaved_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L2">L2</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="fbs_match" class="id"><a name="fbs_match" class="">fbs_match:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.index">index</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L2">L2</a></span>) <span class="id">-&gt;</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="fbs_match_intro" class="id"><a name="fbs_match_intro" class="">fbs_match_intro:</a></span> <span class="gallina-kwd">forall</span> <span id="i:1079" class="id"><a name="i:1079" class="">i</a></span> <span id="s1:1080" class="id"><a name="s1:1080" class="">s1</a></span> <span id="t:1081" class="id"><a name="t:1081" class="">t</a></span> <span id="s2:1082" class="id"><a name="s2:1082" class="">s2</a></span> <span id="s1':1083" class="id"><a name="s1':1083" class="">s1',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1080">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1081">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1083">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.match_states">match_states</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1079">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1083">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1082">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#t:1081">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.common.Events.html#output_trace">output_trace</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1081">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#fbs_match:1077">fbs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1079">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1080">s1</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#t:1081">t,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1082">s2</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fbs_simulation" class="id"><a name="fbs_simulation" class="">fbs_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s2:1084" class="id"><a name="s2:1084" class="">s2</a></span> <span id="t:1085" class="id"><a name="t:1085" class="">t</a></span> <span id="s2':1086" class="id"><a name="s2':1086" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#atomic">atomic</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:1084">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1085">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1086">s2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1087" class="id"><a name="i:1087" class="">i</a></span> <span id="s1:1088" class="id"><a name="s1:1088" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#fbs_match">fbs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1087">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1088">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1084">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1088">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="i':1089" class="id"><a name="i':1089" class="">i',</a></span> <span class="gallina-kwd">exists</span> <span id="s1':1090" class="id"><a name="s1':1090" class="">s1',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Plus'_x">Plus</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1088">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1085">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1090">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1088">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1085">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1090">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.order">order</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':1089">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1087">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Smallstep.html#fbs_match">fbs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i':1089">i'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1':1090">s1'</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1086">s2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;silent&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation">bsim_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.sim">sim</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s1''</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">A</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">|</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans;</a></span> <span class="id">eauto</span>. <span class="id">right;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;start&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_simulation">bsim_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.sim">sim</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[i'</span> <span class="id">[s1''</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id">s1</span> (<span class="id">ev</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">t</span>) <span class="id">s1''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eauto</span>. <span class="id">destruct</span> <span class="id">A</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">|</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_non_E0_split'">star_non_E0_split';</a></span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">intros</span> <span class="id">[s1x</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i';</span> <span class="gallina-kwd">exists</span> <span class="id">s1x;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L2wb">L2wb;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;continue&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="gallina-kwd">in</span> <span class="id">H8;</span> <span class="id">destruct</span> <span class="id">H8;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#star_non_E0_split'">star_non_E0_split';</a></span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">intros</span> <span class="id">[s1x</span> <span class="id">[P</span> <span class="id">Q]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">s1x;</span> <span class="id">split</span>. <span class="id">left;</span> <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="fbs_progress" class="id"><a name="fbs_progress" class="">fbs_progress:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1091" class="id"><a name="i:1091" class="">i</a></span> <span id="s1:1092" class="id"><a name="s1:1092" class="">s1</a></span> <span id="s2:1093" class="id"><a name="s2:1093" class="">s2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#fbs_match">fbs_match</a></span> <span class="id"><a href="compcert.common.Smallstep.html#i:1091">i</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1092">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1093">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L1">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1092">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="r:1094" class="id"><a name="r:1094" class="">r,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#atomic">atomic</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:1093">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:1094">r</a></span>) <span class="id">\/</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="t:1095" class="id"><a name="t:1095" class="">t,</a></span> <span class="gallina-kwd">exists</span> <span id="s2':1096" class="id"><a name="s2':1096" class="">s2',</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#atomic">atomic</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.L2">L2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:1093">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1095">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2':1096">s2'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">t</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;1.&nbsp;no&nbsp;buffered&nbsp;events&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_progress">bsim_progress</a></span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION.sim">sim</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[[r</span> <span class="id">A]</span> <span class="id">|</span> <span class="id">[t</span> <span class="id">[s2'</span> <span class="id">A]]]</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;final&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">r;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="comment">(*&nbsp;L2&nbsp;can&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="compcert.common.Events.html#E0">E0;</a></span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil,</a></span> <span class="id">s2'</span>). <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="gallina-kwd">exists</span> (<span class="id">e</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> (<span class="id">t,</span> <span class="id">s2'</span>). <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;2.&nbsp;some&nbsp;buffered&nbsp;events&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="gallina-kwd">in</span> <span class="id">H3;</span> <span class="id">destruct</span> <span class="id">H3</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="gallina-kwd">exists</span> (<span class="id">e</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> (<span class="id">t,</span> <span class="id">s3</span>). <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.common.Smallstep.html#FACTOR_BACKWARD_SIMULATION">FACTOR_BACKWARD_SIMULATION</a></span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="factor_backward_simulation" class="id"><a name="factor_backward_simulation" class="">factor_backward_simulation:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L1:1097" class="id"><a name="L1:1097" class="">L1</a></span> <span id="L2:1098" class="id"><a name="L2:1098" class="">L2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1097">L1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1098">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#single_events">single_events</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1097">L1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#well_behaved_traces">well_behaved_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1098">L2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L1:1097">L1</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#atomic">atomic</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L2:1098">L2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">BS</span> <span class="id">L1single</span> <span class="id">L2wb</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">BS</span> <span class="gallina-kwd">as</span> <span class="id">[index</span> <span class="id">order</span> <span class="id">match_states</span> <span class="id">sim]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#Backward_simulation">Backward_simulation</a></span> <span class="gallina-kwd">with</span> <span class="id">order</span> (<span class="id"><a href="compcert.common.Smallstep.html#fbs_match">fbs_match</a></span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">match_states</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;wf&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#bsim_order_wf">bsim_order_wf;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;exist&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_initial_states_exist">bsim_initial_states_exist</a></span> <span class="id">sim</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Events.html#E0">E0,</a></span> <span class="id">s2</span>). <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;initial&nbsp;states&nbsp;match&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">s2</span> <span class="gallina-kwd">as</span> <span class="id">[t</span> <span class="id">s2];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">destruct</span> <span class="id">H0;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_match_initial_states">bsim_match_initial_states</a></span> <span class="id">sim</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[i</span> <span class="id">[s1'</span> <span class="id">[A</span> <span class="id">B]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="gallina-kwd">exists</span> <span class="id">s1';</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">econstructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;final&nbsp;states&nbsp;match&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">s2</span> <span class="gallina-kwd">as</span> <span class="id">[t</span> <span class="id">s2];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">destruct</span> <span class="id">H1;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_match_final_states">bsim_match_final_states</a></span> <span class="id">sim</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[s1''</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">s1'';</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fbs_progress">fbs_progress;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;simulation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#fbs_simulation">fbs_simulation;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;symbols&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">exact</span> (<span class="id"><a href="compcert.common.Smallstep.html#bsim_public_preserved">bsim_public_preserved</a></span> <span class="id">sim</span>).<br/>
Qed.</div>
<br/>
<div class="doc">Receptiveness of <span class="bracket"><span class="id">atomic</span> <span class="id">L</span></span>. </div>
<br/>
<span class="vernacular">Record</span> <span id="strongly_receptive" class="id"><a name="strongly_receptive" class="">strongly_receptive</a></span> (<span id="L:1099" class="id"><a name="L:1099" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">Strongly_receptive</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="ssr_receptive" class="id"><a name="ssr_receptive" class="">ssr_receptive:</a></span> <span class="gallina-kwd">forall</span> <span id="s:1101" class="id"><a name="s:1101" class="">s</a></span> <span id="ev1:1102" class="id"><a name="ev1:1102" class="">ev1</a></span> <span id="t1:1103" class="id"><a name="t1:1103" class="">t1</a></span> <span id="s1:1104" class="id"><a name="s1:1104" class="">s1</a></span> <span id="ev2:1105" class="id"><a name="ev2:1105" class="">ev2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1099">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1101">s</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#ev1:1102">ev1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t1:1103">t1</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:1104">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1099">L</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#ev1:1102">ev1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#ev2:1105">ev2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s2:1106" class="id"><a name="s2:1106" class="">s2,</a></span> <span class="gallina-kwd">exists</span> <span id="t2:1107" class="id"><a name="t2:1107" class="">t2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Step'_x">Step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1099">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s:1101">s</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#ev2:1105">ev2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t2:1107">t2</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s2:1106">s2;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="ssr_well_behaved" class="id"><a name="ssr_well_behaved" class="">ssr_well_behaved:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#well_behaved_traces">well_behaved_traces</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1099">L</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="atomic_receptive" class="id"><a name="atomic_receptive" class="">atomic_receptive:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="L:1110" class="id"><a name="L:1110" class="">L,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#strongly_receptive">strongly_receptive</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1110">L</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Smallstep.html#receptive">receptive</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#atomic">atomic</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1110">L</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">constructor;</span> <span class="id">intros</span>.<br/>
<span class="comment">(*&nbsp;receptive&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;silent&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Events.html#E0">E0,</a></span> <span class="id">s'</span>). <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;start&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">exists</span> <span id="ev2:1112" class="id"><span id="ev2:1111" class="id"><a name="ev2:1112" class="">ev2,</a></span></span> <span class="id">t2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Smallstep.html#ev2:1111">ev2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>). <span class="id">inv</span> <span class="id">H1;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H0</span> <span class="gallina-kwd">as</span> <span class="id">[ev2</span> <span class="id">EQ];</span> <span class="id">subst</span> <span class="id">t2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#ssr_receptive">ssr_receptive;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[s2</span> <span class="id">[t2</span> <span class="id">P]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#ssr_well_behaved">ssr_well_behaved</a></span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">P</span>. <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">t2,</span> <span class="id">s2</span>). <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;continue&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">destruct</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">t2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">ev</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>). <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t2</span>. <span class="gallina-kwd">exists</span> (<span class="id">t,</span> <span class="id">s0</span>). <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;single-event&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">red</span>. <span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h1> Connections with big-step semantics </h1>
<br/>
<div class="doc">The general form of a big-step semantics </div>
<br/>
<span class="vernacular">Record</span> <span id="bigstep_semantics" class="id"><a name="bigstep_semantics" class="">bigstep_semantics</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">Bigstep_semantics</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bigstep_terminates" class="id"><a name="bigstep_terminates" class="">bigstep_terminates:</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">Prop;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bigstep_diverges" class="id"><a name="bigstep_diverges" class="">bigstep_diverges:</a></span> <span class="id"><a href="compcert.common.Events.html#traceinf">traceinf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<div class="doc">Soundness with respect to a small-step semantics </div>
<br/>
<span class="vernacular">Record</span> <span id="bigstep_sound" class="id"><a name="bigstep_sound" class="">bigstep_sound</a></span> (<span id="B:1116" class="id"><a name="B:1116" class="">B:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#bigstep_semantics">bigstep_semantics</a></span>) (<span id="L:1117" class="id"><a name="L:1117" class="">L:</a></span> <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">Bigstep_sound</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bigstep_terminates_sound" class="id"><a name="bigstep_terminates_sound" class="">bigstep_terminates_sound:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="t:1119" class="id"><a name="t:1119" class="">t</a></span> <span id="r:1120" class="id"><a name="r:1120" class="">r,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#bigstep_terminates">bigstep_terminates</a></span> <span class="id"><a href="compcert.common.Smallstep.html#B:1116">B</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1119">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:1120">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1:1121" class="id"><a name="s1:1121" class="">s1,</a></span> <span class="gallina-kwd">exists</span> <span id="s2:1122" class="id"><a name="s2:1122" class="">s2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1117">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1121">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#::smallstep_scope:'Star'_x">Star</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1117">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1121">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#t:1119">t</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1122">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1117">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s2:1122">s2</a></span> <span class="id"><a href="compcert.common.Smallstep.html#r:1120">r;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="bigstep_diverges_sound" class="id"><a name="bigstep_diverges_sound" class="">bigstep_diverges_sound:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="T:1124" class="id"><a name="T:1124" class="">T,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#bigstep_diverges">bigstep_diverges</a></span> <span class="id"><a href="compcert.common.Smallstep.html#B:1116">B</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:1124">T</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="s1:1125" class="id"><a name="s1:1125" class="">s1,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1117">L</a></span> <span class="id"><a href="compcert.common.Smallstep.html#s1:1125">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Smallstep.html#forever">forever</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#step">step</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1117">L</a></span>) (<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.common.Smallstep.html#L:1117">L</a></span>) <span class="id"><a href="compcert.common.Smallstep.html#s1:1125">s1</a></span> <span class="id"><a href="compcert.common.Smallstep.html#T:1124">T</a></span><br/>
<span class="id">}</span>.<br/>
<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
