
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Integers</title>
<meta name="description" content="Documentation of Coq module Integers" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Integers</h1>
<br/>
<div class="doc">Formalizations of machine integers modulo $2^N$ 2<sup>N</sup>. </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Logic.Eqdep_dec.html">Eqdep_dec</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zquot.html">Zquot</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html">Zwf</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Zbits.html">Zbits</a></span>.<br/>
<span class="vernacular">Require</span> <span class="id"><a href="compcert.x86_64.Archi.html">Archi</a></span>.<br/>
<br/>
<div class="doc">Backwards compatibility for Hint Rewrite locality attributes. </div>
<span class="gallina-kwd">Set</span> <span class="id">Warnings</span> <span class="id">&quot;-unsupported-attributes&quot;</span>.<br/>
<br/>
<h1> Comparisons </h1>
<br/>
<span class="vernacular">Inductive</span> <span id="comparison" class="id"><a name="comparison" class="">comparison</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Ceq" class="id"><a name="Ceq" class="">Ceq</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison:1">comparison</a></span>               <span class="docright">(* same  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Cne" class="id"><a name="Cne" class="">Cne</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison:1">comparison</a></span>               <span class="docright">(* different  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Clt" class="id"><a name="Clt" class="">Clt</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison:1">comparison</a></span>               <span class="docright">(* less than  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Cle" class="id"><a name="Cle" class="">Cle</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison:1">comparison</a></span>               <span class="docright">(* less than or equal  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Cgt" class="id"><a name="Cgt" class="">Cgt</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison:1">comparison</a></span>               <span class="docright">(* greater than  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Cge" class="id"><a name="Cge" class="">Cge</a></span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison:1">comparison</a></span>.              <span class="docright">(* greater than or equal  *)</span><br/>
<br/>
<span class="vernacular">Definition</span> <span id="negate_comparison" class="id"><a name="negate_comparison" class="">negate_comparison</a></span> (<span id="c:3" class="id"><a name="c:3" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c:3">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="swap_comparison" class="id"><a name="swap_comparison" class="">swap_comparison</a></span> (<span id="c:5" class="id"><a name="c:5" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c:5">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<h1> Parameterization by the word size, in bits. </h1>
<br/>
<span class="vernacular">Module</span> <span class="gallina-kwd">Type</span> <span id="WORDSIZE" class="id"><a name="WORDSIZE" class="">WORDSIZE</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Parameter</span> <span id="WORDSIZE.wordsize" class="id"><a name="WORDSIZE.wordsize" class="">wordsize:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Axiom</span> <span id="WORDSIZE.wordsize_not_zero" class="id"><a name="WORDSIZE.wordsize_not_zero" class="">wordsize_not_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#WORDSIZE.wordsize">wordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>%<span class="id">nat</span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#WORDSIZE">WORDSIZE</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Unset</span> <span class="id">Elimination</span> <span class="id">Schemes</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Unset</span> <span class="id">Case</span> <span class="id">Analysis</span> <span class="id">Schemes</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Make" class="id"><a name="Make" class="">Make</a></span>(<span class="id">WS:</span> <span class="id"><a href="compcert.lib.Integers.html#WORDSIZE">WORDSIZE</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.wordsize" class="id"><a name="Make.wordsize" class="">wordsize:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize">WS.wordsize</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.zwordsize" class="id"><a name="Make.zwordsize" class="">zwordsize:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.modulus" class="id"><a name="Make.modulus" class="">modulus</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.half_modulus" class="id"><a name="Make.half_modulus" class="">half_modulus</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id">2</span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.max_unsigned" class="id"><a name="Make.max_unsigned" class="">max_unsigned</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.max_signed" class="id"><a name="Make.max_signed" class="">max_signed</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.min_signed" class="id"><a name="Make.min_signed" class="">min_signed</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="Make.wordsize_pos" class="id"><a name="Make.wordsize_pos" class="">wordsize_pos:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize_not_zero">WS.wordsize_not_zero</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.modulus_power" class="id"><a name="Make.modulus_power" class="">modulus_power:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.modulus_gt_one" class="id"><a name="Make.modulus_gt_one" class="">modulus_gt_one:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_gt">Z.lt_gt</a></span>. <span class="id">apply</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.modulus_pos" class="id"><a name="Make.modulus_pos" class="">modulus_pos:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_gt_one">modulus_gt_one;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">modulus_pos:</span> <span class="id">ints</span>.<br/>
<br/>
<h1> Representation of machine integers </h1>
<br/>
<div class="doc">A machine integer (type <span class="bracket"><span class="id">int</span></span>) is represented as a Coq arbitrary-precision
  integer (type <span class="bracket"><span class="id">Z</span></span>) plus a proof that it is in the range 0 (included) to
  <span class="bracket"><span class="id">modulus</span></span> (excluded). </div>
<br/>
<span class="vernacular">Record</span> <span id="Make.int" class="id"><a name="Make.int" class="">int:</a></span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id">mkint</span> <span class="id">{</span> <span id="Make.intval" class="id"><a name="Make.intval" class="">intval:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z;</a></span> <span id="Make.intrange" class="id"><a name="Make.intrange" class="">intrange:</a></span> <span class="id">-1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#intval:10">intval</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id">}</span>.<br/>
<br/>
<div class="doc">Fast normalization modulo <span class="bracket">2^<span class="id">wordsize</span></span> </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.Z_mod_modulus" class="id"><a name="Make.Z_mod_modulus" class="">Z_mod_modulus</a></span> (<span id="x:12" class="id"><a name="x:12" class="">x:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#x:12">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="id">=&gt;</span> <span class="id">0</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Zbits.html#P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="gallina-kwd">let</span> <span id="r:14" class="id"><a name="r:14" class="">r</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Zbits.html#P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="gallina-kwd">in</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#r:14">r</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id">0</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#r:14">r</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.Z_mod_modulus_range" class="id"><a name="Make.Z_mod_modulus_range" class="">Z_mod_modulus_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:15" class="id"><a name="x:15" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:15">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_mod_two_p_range">Z_mod_two_p_range</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.Z_mod_modulus_range'" class="id"><a name="Make.Z_mod_modulus_range'" class="">Z_mod_modulus_range':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:16" class="id"><a name="x:16" class="">x,</a></span> <span class="id">-1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:16">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_range">Z_mod_modulus_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">intuition</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">zarith</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.Z_mod_modulus_eq" class="id"><a name="Make.Z_mod_modulus_eq" class="">Z_mod_modulus_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:17" class="id"><a name="x:17" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:17">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:17">x</a></span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_mod_two_p_eq">Z_mod_two_p_eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
<br/>
<div class="doc">The <span class="bracket"><span class="id">unsigned</span></span> and <span class="bracket"><span class="id">signed</span></span> functions return the Coq integer corresponding
  to the given machine integer, interpreted as unsigned or signed
  respectively. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.unsigned" class="id"><a name="Make.unsigned" class="">unsigned</a></span> (<span id="n:18" class="id"><a name="n:18" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.intval">intval</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:18">n</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.signed" class="id"><a name="Make.signed" class="">signed</a></span> (<span id="n:19" class="id"><a name="n:19" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="x:20" class="id"><a name="x:20" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:19">n</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:20">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#x:20">x</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#x:20">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<br/>
<div class="doc">Conversely, <span class="bracket"><span class="id">repr</span></span> takes a Coq integer and returns the corresponding
  machine integer.  The argument is treated modulo <span class="bracket"><span class="id">modulus</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.repr" class="id"><a name="Make.repr" class="">repr</a></span> (<span id="x:21" class="id"><a name="x:21" class="">x:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.mkint">mkint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:21">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_range'">Z_mod_modulus_range'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:21">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.zero" class="id"><a name="Make.zero" class="">zero</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">0</span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.one" class="id"><a name="Make.one" class="">one</a></span>  <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">1</span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.mone" class="id"><a name="Make.mone" class="">mone</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id">-1</span>).<br/>
<span class="vernacular">Definition</span> <span id="Make.iwordsize" class="id"><a name="Make.iwordsize" class="">iwordsize</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.mkint_eq" class="id"><a name="Make.mkint_eq" class="">mkint_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:22" class="id"><a name="x:22" class="">x</a></span> <span id="y:23" class="id"><a name="y:23" class="">y</a></span> <span id="Px:24" class="id"><a name="Px:24" class="">Px</a></span> <span id="Py:25" class="id"><a name="Py:25" class="">Py,</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:22">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:23">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint">mkint</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:22">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Px:24">Px</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint">mkint</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:23">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Py:25">Py</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> (<span id="n:30" class="id"><span id="n:26" class="id"><a name="n:30" class="">n</a></span></span> <span id="m:31" class="id"><span id="m:27" class="id"><a name="m:31" class="">m:</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="P1:32" class="id"><span id="P1:28" class="id"><a name="P1:32" class="">P1</a></span></span> <span id="P2:33" class="id"><span id="P2:29" class="id"><a name="P2:33" class="">P2:</a></span></span> <span class="id"><a href="compcert.lib.Integers.html#n:26">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:27">m</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#P1:28">P1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#P2:29">P2</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt">Z.lt</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Logic.Eqdep_dec.html#eq_proofs_unicity">eq_proofs_unicity</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c1</span> <span class="id">c2</span>. <span class="id">destruct</span> <span class="id">c1;</span> <span class="id">destruct</span> <span class="id">c2;</span> (<span class="id">left;</span> <span class="id">reflexivity</span>) <span class="id">||</span> (<span class="id">right;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Px</span> <span class="gallina-kwd">as</span> <span class="id">[Px1</span> <span class="id">Px2]</span>. <span class="id">destruct</span> <span class="id">Py</span> <span class="gallina-kwd">as</span> <span class="id">[Py1</span> <span class="id">Py2]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px1</span> <span class="id">Py1</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px2</span> <span class="id">Py2</span>).<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eq_dec" class="id"><a name="Make.eq_dec" class="">eq_dec:</a></span> <span class="gallina-kwd">forall</span> (<span id="x:34" class="id"><a name="x:34" class="">x</a></span> <span id="y:35" class="id"><a name="y:35" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da">{x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:35">y}</a></span> <span class="id">+</span> <span class="id">{x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:35">y}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">destruct</span> <span class="id">y</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">intval0</span> <span class="id">intval1</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">red;</span> <span class="id">intro</span>. <span class="id">injection</span> <span class="id">H</span>. <span class="id">exact</span> <span class="id">n</span>.<br/>
Defined.</div>
<br/>
<h1> Arithmetic and logical operations over machine integers </h1>
<br/>
<span class="vernacular">Definition</span> <span id="Make.eq" class="id"><a name="Make.eq" class="">eq</a></span> (<span id="x:36" class="id"><a name="x:36" class="">x</a></span> <span id="y:37" class="id"><a name="y:37" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:36">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:37">y</a></span>) <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.lt" class="id"><a name="Make.lt" class="">lt</a></span> (<span id="x:38" class="id"><a name="x:38" class="">x</a></span> <span id="y:39" class="id"><a name="y:39" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:38">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:39">y</a></span>) <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.ltu" class="id"><a name="Make.ltu" class="">ltu</a></span> (<span id="x:40" class="id"><a name="x:40" class="">x</a></span> <span id="y:41" class="id"><a name="y:41" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:40">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:41">y</a></span>) <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.neg" class="id"><a name="Make.neg" class="">neg</a></span> (<span id="x:42" class="id"><a name="x:42" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:42">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.add" class="id"><a name="Make.add" class="">add</a></span> (<span id="x:43" class="id"><a name="x:43" class="">x</a></span> <span id="y:44" class="id"><a name="y:44" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:43">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:44">y</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Make.sub" class="id"><a name="Make.sub" class="">sub</a></span> (<span id="x:45" class="id"><a name="x:45" class="">x</a></span> <span id="y:46" class="id"><a name="y:46" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:45">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:46">y</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Make.mul" class="id"><a name="Make.mul" class="">mul</a></span> (<span id="x:47" class="id"><a name="x:47" class="">x</a></span> <span id="y:48" class="id"><a name="y:48" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:47">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:48">y</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.divs" class="id"><a name="Make.divs" class="">divs</a></span> (<span id="x:49" class="id"><a name="x:49" class="">x</a></span> <span id="y:50" class="id"><a name="y:50" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:49">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:50">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Make.mods" class="id"><a name="Make.mods" class="">mods</a></span> (<span id="x:51" class="id"><a name="x:51" class="">x</a></span> <span id="y:52" class="id"><a name="y:52" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:51">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:52">y</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.divu" class="id"><a name="Make.divu" class="">divu</a></span> (<span id="x:53" class="id"><a name="x:53" class="">x</a></span> <span id="y:54" class="id"><a name="y:54" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:53">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:54">y</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Make.modu" class="id"><a name="Make.modu" class="">modu</a></span> (<span id="x:55" class="id"><a name="x:55" class="">x</a></span> <span id="y:56" class="id"><a name="y:56" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:55">x</a></span>) <span class="id">mod</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:56">y</a></span>)).<br/>
<br/>
<div class="doc">Bitwise boolean operations. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.and" class="id"><a name="Make.and" class="">and</a></span> (<span id="x:57" class="id"><a name="x:57" class="">x</a></span> <span id="y:58" class="id"><a name="y:58" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:57">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:58">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Make.or" class="id"><a name="Make.or" class="">or</a></span> (<span id="x:59" class="id"><a name="x:59" class="">x</a></span> <span id="y:60" class="id"><a name="y:60" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:59">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:60">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Make.xor" class="id"><a name="Make.xor" class="">xor</a></span> (<span id="x:61" class="id"><a name="x:61" class="">x</a></span> <span id="y:62" class="id"><a name="y:62" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lxor">Z.lxor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:61">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:62">y</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.not" class="id"><a name="Make.not" class="">not</a></span> (<span id="x:63" class="id"><a name="x:63" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:63">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<br/>
<div class="doc">Shifts and rotates. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.shl" class="id"><a name="Make.shl" class="">shl</a></span> (<span id="x:64" class="id"><a name="x:64" class="">x</a></span> <span id="y:65" class="id"><a name="y:65" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:64">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:65">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Make.shru" class="id"><a name="Make.shru" class="">shru</a></span> (<span id="x:66" class="id"><a name="x:66" class="">x</a></span> <span id="y:67" class="id"><a name="y:67" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:66">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:67">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Make.shr" class="id"><a name="Make.shr" class="">shr</a></span> (<span id="x:68" class="id"><a name="x:68" class="">x</a></span> <span id="y:69" class="id"><a name="y:69" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:68">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:69">y</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.rol" class="id"><a name="Make.rol" class="">rol</a></span> (<span id="x:70" class="id"><a name="x:70" class="">x</a></span> <span id="y:71" class="id"><a name="y:71" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="n:72" class="id"><a name="n:72" class="">n</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:71">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:70">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:72">n</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:70">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:72">n</a></span>))).<br/>
<span class="vernacular">Definition</span> <span id="Make.ror" class="id"><a name="Make.ror" class="">ror</a></span> (<span id="x:73" class="id"><a name="x:73" class="">x</a></span> <span id="y:74" class="id"><a name="y:74" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="n:75" class="id"><a name="n:75" class="">n</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:74">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:73">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:75">n</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:73">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:75">n</a></span>))).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.rolm" class="id"><a name="Make.rolm" class="">rolm</a></span> (<span id="x:76" class="id"><a name="x:76" class="">x</a></span> <span id="a:77" class="id"><a name="a:77" class="">a</a></span> <span id="m:78" class="id"><a name="m:78" class="">m:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:76">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:77">a</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:78">m</a></span>.<br/>
<br/>
<div class="doc">Viewed as signed divisions by powers of two, <span class="bracket"><span class="id">shrx</span></span> rounds towards
  zero, while <span class="bracket"><span class="id">shr</span></span> rounds towards minus infinity. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.shrx" class="id"><a name="Make.shrx" class="">shrx</a></span> (<span id="x:79" class="id"><a name="x:79" class="">x</a></span> <span id="y:80" class="id"><a name="y:80" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:79">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:80">y</a></span>).<br/>
<br/>
<div class="doc">High half of full multiply. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.mulhu" class="id"><a name="Make.mulhu" class="">mulhu</a></span> (<span id="x:81" class="id"><a name="x:81" class="">x</a></span> <span id="y:82" class="id"><a name="y:82" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:81">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:82">y</a></span>) <span class="id">/</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Make.mulhs" class="id"><a name="Make.mulhs" class="">mulhs</a></span> (<span id="x:83" class="id"><a name="x:83" class="">x</a></span> <span id="y:84" class="id"><a name="y:84" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:83">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:84">y</a></span>) <span class="id">/</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<br/>
<div class="doc">Condition flags </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.negative" class="id"><a name="Make.negative" class="">negative</a></span> (<span id="x:85" class="id"><a name="x:85" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:85">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.add_carry" class="id"><a name="Make.add_carry" class="">add_carry</a></span> (<span id="x:86" class="id"><a name="x:86" class="">x</a></span> <span id="y:87" class="id"><a name="y:87" class="">y</a></span> <span id="cin:88" class="id"><a name="cin:88" class="">cin:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:86">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:87">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#cin:88">cin</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.add_overflow" class="id"><a name="Make.add_overflow" class="">add_overflow</a></span> (<span id="x:89" class="id"><a name="x:89" class="">x</a></span> <span id="y:90" class="id"><a name="y:90" class="">y</a></span> <span id="cin:91" class="id"><a name="cin:91" class="">cin:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="s:92" class="id"><a name="s:92" class="">s</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:89">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:90">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#cin:91">cin</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:92">s</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:92">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.sub_borrow" class="id"><a name="Make.sub_borrow" class="">sub_borrow</a></span> (<span id="x:93" class="id"><a name="x:93" class="">x</a></span> <span id="y:94" class="id"><a name="y:94" class="">y</a></span> <span id="bin:95" class="id"><a name="bin:95" class="">bin:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:93">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:94">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#bin:95">bin</a></span>) <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.sub_overflow" class="id"><a name="Make.sub_overflow" class="">sub_overflow</a></span> (<span id="x:96" class="id"><a name="x:96" class="">x</a></span> <span id="y:97" class="id"><a name="y:97" class="">y</a></span> <span id="bin:98" class="id"><a name="bin:98" class="">bin:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="s:99" class="id"><a name="s:99" class="">s</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:96">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:97">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#bin:98">bin</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:99">s</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:99">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">shr_carry</span> <span class="id">x</span> <span class="id">y</span></span> is 1 if <span class="bracket"><span class="id">x</span></span> is negative and at least one 1 bit is shifted away. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.shr_carry" class="id"><a name="Make.shr_carry" class="">shr_carry</a></span> (<span id="x:100" class="id"><a name="x:100" class="">x</a></span> <span id="y:101" class="id"><a name="y:101" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:100">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> &amp;&amp; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:100">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:101">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<div class="doc">Zero and sign extensions </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.zero_ext" class="id"><a name="Make.zero_ext" class="">zero_ext</a></span> (<span id="n:102" class="id"><a name="n:102" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="x:103" class="id"><a name="x:103" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#Zzero_ext">Zzero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:102">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:103">x</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Make.sign_ext" class="id"><a name="Make.sign_ext" class="">sign_ext</a></span> (<span id="n:104" class="id"><a name="n:104" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="x:105" class="id"><a name="x:105" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#Zsign_ext">Zsign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:104">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:105">x</a></span>)).<br/>
<br/>
<div class="doc">Decomposition of a number as a sum of powers of two. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.one_bits" class="id"><a name="Make.one_bits" class="">one_bits</a></span> (<span id="x:106" class="id"><a name="x:106" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:106">x</a></span>) <span class="id">0</span>).<br/>
<br/>
<div class="doc">Recognition of powers of two. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.is_power2" class="id"><a name="Make.is_power2" class="">is_power2</a></span> (<span id="x:107" class="id"><a name="x:107" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_is_power2">Z_is_power2</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:107">x</a></span>) <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Comparisons. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.cmp" class="id"><a name="Make.cmp" class="">cmp</a></span> (<span id="c:108" class="id"><a name="c:108" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="x:109" class="id"><a name="x:109" class="">x</a></span> <span id="y:110" class="id"><a name="y:110" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c:108">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:109">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:110">y</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:109">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:110">y</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:109">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:110">y</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:110">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:109">x</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:110">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:109">x</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:109">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:110">y</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.cmpu" class="id"><a name="Make.cmpu" class="">cmpu</a></span> (<span id="c:112" class="id"><a name="c:112" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="x:113" class="id"><a name="x:113" class="">x</a></span> <span id="y:114" class="id"><a name="y:114" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c:112">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:113">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:114">y</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:113">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:114">y</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:113">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:114">y</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:114">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:113">x</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:114">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:113">x</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:113">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:114">y</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.is_false" class="id"><a name="Make.is_false" class="">is_false</a></span> (<span id="x:116" class="id"><a name="x:116" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#x:116">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.is_true" class="id"><a name="Make.is_true" class="">is_true</a></span>  (<span id="x:117" class="id"><a name="x:117" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#x:117">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Make.notbool" class="id"><a name="Make.notbool" class="">notbool</a></span>  (<span id="x:118" class="id"><a name="x:118" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>  <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:118">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<div class="doc">x86-style extended division and modulus </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.divmodu2" class="id"><a name="Make.divmodu2" class="">divmodu2</a></span> (<span id="nhi:119" class="id"><a name="nhi:119" class="">nhi</a></span> <span id="nlo:120" class="id"><a name="nlo:120" class="">nlo:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span id="d:121" class="id"><a name="d:121" class="">d:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_dec">eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:121">d</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">let</span> (<span id="q:122" class="id"><a name="q:122" class="">q,</a></span> <span id="r:123" class="id"><a name="r:123" class="">r</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_eucl">Z.div_eucl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#nhi:119">nhi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#nlo:120">nlo</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:121">d</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#q:122">q</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#q:122">q,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#r:123">r</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.divmods2" class="id"><a name="Make.divmods2" class="">divmods2</a></span> (<span id="nhi:124" class="id"><a name="nhi:124" class="">nhi</a></span> <span id="nlo:125" class="id"><a name="nlo:125" class="">nlo:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span id="d:126" class="id"><a name="d:126" class="">d:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_dec">eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:126">d</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">let</span> (<span id="q:127" class="id"><a name="q:127" class="">q,</a></span> <span id="r:128" class="id"><a name="r:128" class="">r</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quotrem">Z.quotrem</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#nhi:124">nhi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#nlo:125">nlo</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:126">d</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#q:127">q</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#q:127">q</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#q:127">q,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#r:128">r</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<h1> Properties of integers and integer arithmetic </h1>
<br/>
<h2> Properties of <span class="bracket"><span class="id">modulus</span></span>, <span class="bracket"><span class="id">max_unsigned</span></span>, etc. </h2>
<br/>
<span class="vernacular">Remark</span> <span id="Make.half_modulus_power" class="id"><a name="Make.half_modulus_power" class="">half_modulus_power:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ws1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id">ws1</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_S">two_p_S</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mult">Z_div_mult</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">ws1</span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">ws1</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.half_modulus_modulus" class="id"><a name="Make.half_modulus_modulus" class="">half_modulus_modulus:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_S">two_p_S</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Relative positions, from greatest to smallest:
<pre>
      max_unsigned
      max_signed
      2*wordsize-1
      wordsize
      0
      min_signed</pre>
</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.half_modulus_pos" class="id"><a name="Make.half_modulus_pos" class="">half_modulus_pos:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.min_signed_neg" class="id"><a name="Make.min_signed_neg" class="">min_signed_neg:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.max_signed_pos" class="id"><a name="Make.max_signed_pos" class="">max_signed_pos:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.wordsize_max_unsigned" class="id"><a name="Make.wordsize_max_unsigned" class="">wordsize_max_unsigned:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_strict">two_p_strict</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.two_wordsize_max_unsigned" class="id"><a name="Make.two_wordsize_max_unsigned" class="">two_wordsize_max_unsigned:</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_strict_2">two_p_strict_2</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.max_signed_unsigned" class="id"><a name="Make.max_signed_unsigned" class="">max_signed_unsigned:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.unsigned_repr_eq" class="id"><a name="Make.unsigned_repr_eq" class="">unsigned_repr_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:129" class="id"><a name="x:129" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:129">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:129">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_eq">Z_mod_modulus_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.signed_repr_eq" class="id"><a name="Make.signed_repr_eq" class="">signed_repr_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:130" class="id"><a name="x:130" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:130">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:130">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:130">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:130">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Modulo arithmetic </h2>
<br/>
<div class="doc"><span class="bracket"><span class="id">eqm</span></span> is equality modulo $2^{wordsize}$ 2<sup>wordsize</sup>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Make.eqm" class="id"><a name="Make.eqm" class="">eqm</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_refl" class="id"><a name="Make.eqm_refl" class="">eqm_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="x:131" class="id"><a name="x:131" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:131">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:131">x</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl">eqmod_refl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_refl:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_refl2" class="id"><a name="Make.eqm_refl2" class="">eqm_refl2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:132" class="id"><a name="x:132" class="">x</a></span> <span id="y:133" class="id"><a name="y:133" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:132">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:133">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:132">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:133">y</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl2">eqmod_refl2</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_refl2:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_sym" class="id"><a name="Make.eqm_sym" class="">eqm_sym:</a></span> <span class="gallina-kwd">forall</span> <span id="x:134" class="id"><a name="x:134" class="">x</a></span> <span id="y:135" class="id"><a name="y:135" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:134">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:135">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:135">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:134">x</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_sym">eqmod_sym</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_sym:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_trans" class="id"><a name="Make.eqm_trans" class="">eqm_trans:</a></span> <span class="gallina-kwd">forall</span> <span id="x:136" class="id"><a name="x:136" class="">x</a></span> <span id="y:137" class="id"><a name="y:137" class="">y</a></span> <span id="z:138" class="id"><a name="z:138" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:136">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:137">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:137">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:138">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:136">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:138">z</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_trans">eqmod_trans</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_trans:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_small_eq" class="id"><a name="Make.eqm_small_eq" class="">eqm_small_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:139" class="id"><a name="x:139" class="">x</a></span> <span id="y:140" class="id"><a name="y:140" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:139">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:140">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:139">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:140">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:139">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:140">y</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_small_eq">eqmod_small_eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_small_eq:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_add" class="id"><a name="Make.eqm_add" class="">eqm_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:141" class="id"><a name="a:141" class="">a</a></span> <span id="b:142" class="id"><a name="b:142" class="">b</a></span> <span id="c:143" class="id"><a name="c:143" class="">c</a></span> <span id="d:144" class="id"><a name="d:144" class="">d,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:141">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:142">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:143">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:144">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a:141">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:143">c</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#b:142">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:144">d</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_add">eqmod_add</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_add:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_neg" class="id"><a name="Make.eqm_neg" class="">eqm_neg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:145" class="id"><a name="x:145" class="">x</a></span> <span id="y:146" class="id"><a name="y:146" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:145">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:146">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-x</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_neg">eqmod_neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_neg:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_sub" class="id"><a name="Make.eqm_sub" class="">eqm_sub:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:147" class="id"><a name="a:147" class="">a</a></span> <span id="b:148" class="id"><a name="b:148" class="">b</a></span> <span id="c:149" class="id"><a name="c:149" class="">c</a></span> <span id="d:150" class="id"><a name="d:150" class="">d,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:147">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:148">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:149">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:150">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a:147">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:149">c</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#b:148">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:150">d</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_sub">eqmod_sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_sub:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_mult" class="id"><a name="Make.eqm_mult" class="">eqm_mult:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:151" class="id"><a name="a:151" class="">a</a></span> <span id="b:152" class="id"><a name="b:152" class="">b</a></span> <span id="c:153" class="id"><a name="c:153" class="">c</a></span> <span id="d:154" class="id"><a name="d:154" class="">d,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:151">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:153">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:152">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:154">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a:151">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:152">b</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#c:153">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:154">d</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_mult">eqmod_mult</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_mult:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_same_bits" class="id"><a name="Make.eqm_same_bits" class="">eqm_same_bits:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:155" class="id"><a name="x:155" class="">x</a></span> <span id="y:156" class="id"><a name="y:156" class="">y,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:157" class="id"><a name="i:157" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:157">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:155">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:157">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:156">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:157">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:155">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:156">y</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#eqmod_same_bits">eqmod_same_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.same_bits_eqm" class="id"><a name="Make.same_bits_eqm" class="">same_bits_eqm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:158" class="id"><a name="x:158" class="">x</a></span> <span id="y:159" class="id"><a name="y:159" class="">y</a></span> <span id="i:160" class="id"><a name="i:160" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:158">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:159">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:160">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:158">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:160">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:159">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:160">i</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.lib.Zbits.html#same_bits_eqmod">same_bits_eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
<br/>
<h2> Properties of the coercions between <span class="bracket"><span class="id">Z</span></span> and <span class="bracket"><span class="id">int</span></span> </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_samerepr" class="id"><a name="Make.eqm_samerepr" class="">eqm_samerepr:</a></span> <span class="gallina-kwd">forall</span> <span id="x:161" class="id"><a name="x:161" class="">x</a></span> <span id="y:162" class="id"><a name="y:162" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:161">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:162">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:161">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:162">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!Z_mod_modulus_eq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">exact</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_unsigned_repr" class="id"><a name="Make.eqm_unsigned_repr" class="">eqm_unsigned_repr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="z:163" class="id"><a name="z:163" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:163">z</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:163">z</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod">eqmod_mod</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_unsigned_repr:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_unsigned_repr_l" class="id"><a name="Make.eqm_unsigned_repr_l" class="">eqm_unsigned_repr_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:164" class="id"><a name="a:164" class="">a</a></span> <span id="b:165" class="id"><a name="b:165" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:164">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:165">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:164">a</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#b:165">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_unsigned_repr_l:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_unsigned_repr_r" class="id"><a name="Make.eqm_unsigned_repr_r" class="">eqm_unsigned_repr_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:166" class="id"><a name="a:166" class="">a</a></span> <span id="b:167" class="id"><a name="b:167" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:166">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:167">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:166">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:167">b</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">b</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">eqm_unsigned_repr_r:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_signed_unsigned" class="id"><a name="Make.eqm_signed_unsigned" class="">eqm_signed_unsigned:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:168" class="id"><a name="x:168" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:168">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:168">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">set</span> (<span class="id">y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl">eqmod_refl</a></span>. <span class="id">red;</span> <span class="gallina-kwd">exists</span> (<span class="id">-1</span>)<span class="id">;</span> <span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_range" class="id"><a name="Make.unsigned_range" class="">unsigned_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:169" class="id"><a name="i:169" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:169">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">i</span>. <span class="id">simpl</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">unsigned_range:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_range_2" class="id"><a name="Make.unsigned_range_2" class="">unsigned_range_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:170" class="id"><a name="i:170" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:170">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">intro;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">i</span>). <span class="id">lia</span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">unsigned_range_2:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.signed_range" class="id"><a name="Make.signed_range" class="">signed_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:171" class="id"><a name="i:171" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:171">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">i</span>). <span class="id">set</span> (<span class="id">n</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">i</span>). <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.repr_unsigned" class="id"><a name="Make.repr_unsigned" class="">repr_unsigned:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:172" class="id"><a name="i:172" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:172">i</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:172">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">i;</span> <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_eq">Z_mod_modulus_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">repr_unsigned:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.repr_signed" class="id"><a name="Make.repr_signed" class="">repr_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:173" class="id"><a name="i:173" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:173">i</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:173">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">repr_signed:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Opaque</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqm_repr_eq" class="id"><a name="Make.eqm_repr_eq" class="">eqm_repr_eq:</a></span> <span class="gallina-kwd">forall</span> <span id="x:174" class="id"><a name="x:174" class="">x</a></span> <span id="y:175" class="id"><a name="y:175" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:174">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:175">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:174">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:175">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">y</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_repr" class="id"><a name="Make.unsigned_repr" class="">unsigned_repr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="z:176" class="id"><a name="z:176" class="">z,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:176">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:176">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:176">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">unsigned_repr:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.signed_repr" class="id"><a name="Make.signed_repr" class="">signed_repr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="z:177" class="id"><a name="z:177" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:177">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:177">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:177">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z</span>)) <span class="gallina-kwd">with</span> <span class="id">z</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed_unsigned">max_signed_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> (<span class="id">z'</span> <span class="id">:=</span> <span class="id">z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z'</span>)) <span class="gallina-kwd">with</span> <span class="id">z'</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">unfold</span> <span class="id">z'</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">z'</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">z',</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">unfold</span> <span class="id">z';</span> <span class="id">red</span>. <span class="gallina-kwd">exists</span> <span class="id">1</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.signed_eq_unsigned" class="id"><a name="Make.signed_eq_unsigned" class="">signed_eq_unsigned:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:178" class="id"><a name="x:178" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:178">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:178">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:178">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.signed_positive" class="id"><a name="Make.signed_positive" class="">signed_positive:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:179" class="id"><a name="x:179" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:179">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:179">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of zero, one, minus one </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_zero" class="id"><a name="Make.unsigned_zero" class="">unsigned_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zmod_0_l">Zmod_0_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_one" class="id"><a name="Make.unsigned_one" class="">unsigned_one:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span>. <span class="id">split</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="id">replace</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span>(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Nat.html#pred">Init.Nat.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Nat.html#pred">Init.Nat.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_mone" class="id"><a name="Make.unsigned_mone" class="">unsigned_mone:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">-1</span>) <span class="gallina-kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">+</span> (<span class="id">-1</span>) <span class="id">*</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_plus_full">Z_mod_plus_full</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_pos">modulus_pos</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.signed_zero" class="id"><a name="Make.signed_zero" class="">signed_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.signed_one" class="id"><a name="Make.signed_one" class="">signed_one:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id">1</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">0</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="id">lia</span>. <br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.signed_mone" class="id"><a name="Make.signed_mone" class="">signed_mone:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">-1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.one_not_zero" class="id"><a name="Make.one_not_zero" class="">one_not_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero;</a></span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_repr_wordsize" class="id"><a name="Make.unsigned_repr_wordsize" class="">unsigned_repr_wordsize:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of equality </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.eq_sym" class="id"><a name="Make.eq_sym" class="">eq_sym:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:180" class="id"><a name="x:180" class="">x</a></span> <span id="y:181" class="id"><a name="y:181" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:180">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:181">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:181">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:180">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.eq_spec" class="id"><a name="Make.eq_spec" class="">eq_spec:</a></span> <span class="gallina-kwd">forall</span> (<span id="x:182" class="id"><a name="x:182" class="">x</a></span> <span id="y:183" class="id"><a name="y:183" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">,</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:182">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:183">y</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#x:182">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:183">y</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#x:182">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:183">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_dec">eq_dec</a></span> <span class="id">x</span> <span class="id">y</span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">y</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">destruct</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">red;</span> <span class="id">intro</span>. <span class="id">elim</span> <span class="id">n</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.eq_true" class="id"><a name="Make.eq_true" class="">eq_true:</a></span> <span class="gallina-kwd">forall</span> <span id="x:184" class="id"><a name="x:184" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:184">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:184">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id">x</span> <span class="id">x</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.eq_false" class="id"><a name="Make.eq_false" class="">eq_false:</a></span> <span class="gallina-kwd">forall</span> <span id="x:185" class="id"><a name="x:185" class="">x</a></span> <span id="y:186" class="id"><a name="y:186" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:185">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:186">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:185">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:186">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">y</span>)<span class="id">;</span> <span class="id">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id">x</span> <span class="id">y</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.same_if_eq" class="id"><a name="Make.same_if_eq" class="">same_if_eq:</a></span> <span class="gallina-kwd">forall</span> <span id="x:187" class="id"><a name="x:187" class="">x</a></span> <span id="y:188" class="id"><a name="y:188" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:187">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:188">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:187">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:188">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">y</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.eq_signed" class="id"><a name="Make.eq_signed" class="">eq_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:189" class="id"><a name="x:189" class="">x</a></span> <span id="y:190" class="id"><a name="y:190" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:189">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:190">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:189">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:190">y</a></span>) <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">x</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">y</span>). <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of addition </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_unsigned" class="id"><a name="Make.add_unsigned" class="">add_unsigned:</a></span> <span class="gallina-kwd">forall</span> <span id="x:191" class="id"><a name="x:191" class="">x</a></span> <span id="y:192" class="id"><a name="y:192" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:191">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:192">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:191">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:192">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="id">intros;</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_signed" class="id"><a name="Make.add_signed" class="">add_signed:</a></span> <span class="gallina-kwd">forall</span> <span id="x:193" class="id"><a name="x:193" class="">x</a></span> <span id="y:194" class="id"><a name="y:194" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:193">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:194">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:193">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:194">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_unsigned">add_unsigned</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_commut" class="id"><a name="Make.add_commut" class="">add_commut:</a></span> <span class="gallina-kwd">forall</span> <span id="x:195" class="id"><a name="x:195" class="">x</a></span> <span id="y:196" class="id"><a name="y:196" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:195">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:196">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:196">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:195">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">decEq</span>. <span class="id">lia</span>. Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_zero" class="id"><a name="Make.add_zero" class="">add_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:197" class="id"><a name="x:197" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:197">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:197">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_zero_l" class="id"><a name="Make.add_zero_l" class="">add_zero_l:</a></span> <span class="gallina-kwd">forall</span> <span id="x:198" class="id"><a name="x:198" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:198">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:198">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_assoc" class="id"><a name="Make.add_assoc" class="">add_assoc:</a></span> <span class="gallina-kwd">forall</span> <span id="x:199" class="id"><a name="x:199" class="">x</a></span> <span id="y:200" class="id"><a name="y:200" class="">y</a></span> <span id="z:201" class="id"><a name="z:201" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:199">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:200">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:201">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:199">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:200">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:201">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">z'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> ((<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">y'</span>) <span class="id">+</span> <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_assoc">Z.add_assoc</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_permut" class="id"><a name="Make.add_permut" class="">add_permut:</a></span> <span class="gallina-kwd">forall</span> <span id="x:202" class="id"><a name="x:202" class="">x</a></span> <span id="y:203" class="id"><a name="y:203" class="">y</a></span> <span id="z:204" class="id"><a name="z:204" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:202">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:203">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:204">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:203">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:202">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:204">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span> <span class="id">y</span> <span class="id">z</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_neg_zero" class="id"><a name="Make.add_neg_zero" class="">add_neg_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:205" class="id"><a name="x:205" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:205">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:205">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">0</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>))).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_add_carry" class="id"><a name="Make.unsigned_add_carry" class="">unsigned_add_carry:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:206" class="id"><a name="x:206" class="">x</a></span> <span id="y:207" class="id"><a name="y:207" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:206">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:207">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:206">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:207">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:206">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:207">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>). <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> <span class="id">0</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> <span class="id">1</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.unsigned_add_either" class="id"><a name="Make.unsigned_add_either" class="">unsigned_add_either:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:208" class="id"><a name="x:208" class="">x</a></span> <span id="y:209" class="id"><a name="y:209" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:208">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:209">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:208">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:209">y</a></span><br/>
&nbsp;&nbsp;<span class="id">\/</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:208">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:209">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:208">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:209">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_add_carry">unsigned_add_carry</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">left;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">right;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of negation </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.neg_repr" class="id"><a name="Make.neg_repr" class="">neg_repr:</a></span> <span class="gallina-kwd">forall</span> <span id="z:210" class="id"><a name="z:210" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:210">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.neg_zero" class="id"><a name="Make.neg_zero" class="">neg_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.neg_involutive" class="id"><a name="Make.neg_involutive" class="">neg_involutive:</a></span> <span class="gallina-kwd">forall</span> <span id="x:211" class="id"><a name="x:211" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:211">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:211">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_repr_eq">eqm_repr_eq</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_neg">eqm_neg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.neg_add_distr" class="id"><a name="Make.neg_add_distr" class="">neg_add_distr:</a></span> <span class="gallina-kwd">forall</span> <span id="x:212" class="id"><a name="x:212" class="">x</a></span> <span id="y:213" class="id"><a name="y:213" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:212">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:213">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:212">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:213">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id">+</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of subtraction </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_zero_l" class="id"><a name="Make.sub_zero_l" class="">sub_zero_l:</a></span> <span class="gallina-kwd">forall</span> <span id="x:214" class="id"><a name="x:214" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:214">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:214">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">0</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_zero_r" class="id"><a name="Make.sub_zero_r" class="">sub_zero_r:</a></span> <span class="gallina-kwd">forall</span> <span id="x:215" class="id"><a name="x:215" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:215">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:215">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_add_opp" class="id"><a name="Make.sub_add_opp" class="">sub_add_opp:</a></span> <span class="gallina-kwd">forall</span> <span id="x:216" class="id"><a name="x:216" class="">x</a></span> <span id="y:217" class="id"><a name="y:217" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:216">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:217">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:216">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:217">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_idem" class="id"><a name="Make.sub_idem" class="">sub_idem:</a></span> <span class="gallina-kwd">forall</span> <span id="x:218" class="id"><a name="x:218" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:218">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:218">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="id">decEq</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_add_l" class="id"><a name="Make.sub_add_l" class="">sub_add_l:</a></span> <span class="gallina-kwd">forall</span> <span id="x:219" class="id"><a name="x:219" class="">x</a></span> <span id="y:220" class="id"><a name="y:220" class="">y</a></span> <span id="z:221" class="id"><a name="z:221" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:219">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:220">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:221">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:219">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:221">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:220">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_add_r" class="id"><a name="Make.sub_add_r" class="">sub_add_r:</a></span> <span class="gallina-kwd">forall</span> <span id="x:222" class="id"><a name="x:222" class="">x</a></span> <span id="y:223" class="id"><a name="y:223" class="">y</a></span> <span id="z:224" class="id"><a name="z:224" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:222">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:223">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:224">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:222">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:224">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:223">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_add_distr">neg_add_distr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_permut">add_permut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_shifted" class="id"><a name="Make.sub_shifted" class="">sub_shifted:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:225" class="id"><a name="x:225" class="">x</a></span> <span id="y:226" class="id"><a name="y:226" class="">y</a></span> <span id="z:227" class="id"><a name="z:227" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:225">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:227">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:226">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:227">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:225">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:226">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_add_distr">neg_add_distr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id">z</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span> <span class="id">z</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_neg_zero">add_neg_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_signed" class="id"><a name="Make.sub_signed" class="">sub_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:228" class="id"><a name="x:228" class="">x</a></span> <span id="y:229" class="id"><a name="y:229" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:228">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:229">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:228">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:229">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.unsigned_sub_borrow" class="id"><a name="Make.unsigned_sub_borrow" class="">unsigned_sub_borrow:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:230" class="id"><a name="x:230" class="">x</a></span> <span id="y:231" class="id"><a name="y:231" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:230">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:231">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:230">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:231">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:230">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:231">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub_0_r">Z.sub_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>). <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id">-1</span>). <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> <span class="id">0</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of multiplication </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_commut" class="id"><a name="Make.mul_commut" class="">mul_commut:</a></span> <span class="gallina-kwd">forall</span> <span id="x:232" class="id"><a name="x:232" class="">x</a></span> <span id="y:233" class="id"><a name="y:233" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:232">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:233">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:233">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:232">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="id">decEq</span>. <span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_zero" class="id"><a name="Make.mul_zero" class="">mul_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:234" class="id"><a name="x:234" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:234">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="id">decEq</span>. <span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_one" class="id"><a name="Make.mul_one" class="">mul_one:</a></span> <span class="gallina-kwd">forall</span> <span id="x:235" class="id"><a name="x:235" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:235">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:235">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)). <span class="id">decEq</span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_mone" class="id"><a name="Make.mul_mone" class="">mul_mone:</a></span> <span class="gallina-kwd">forall</span> <span id="x:236" class="id"><a name="x:236" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:236">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:236">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-unsigned</a></span> <span class="id">x</span>) <span class="gallina-kwd">with</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub</a></span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>). <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_assoc" class="id"><a name="Make.mul_assoc" class="">mul_assoc:</a></span> <span class="gallina-kwd">forall</span> <span id="x:237" class="id"><a name="x:237" class="">x</a></span> <span id="y:238" class="id"><a name="y:238" class="">y</a></span> <span id="z:239" class="id"><a name="z:239" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:237">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:238">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:239">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:237">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:238">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:239">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">z'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> ((<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">y'</span>) <span class="id">*</span> <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_assoc">Z.mul_assoc</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_add_distr_l" class="id"><a name="Make.mul_add_distr_l" class="">mul_add_distr_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:240" class="id"><a name="x:240" class="">x</a></span> <span id="y:241" class="id"><a name="y:241" class="">y</a></span> <span id="z:242" class="id"><a name="z:242" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:240">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:241">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:242">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:240">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:242">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:241">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:242">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">z'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> ((<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">y'</span>) <span class="id">*</span> <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> ((<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">y'</span>) <span class="id">*</span> <span class="id">z'</span>) <span class="gallina-kwd">with</span> (<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">z'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">y'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_add_distr_r" class="id"><a name="Make.mul_add_distr_r" class="">mul_add_distr_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:243" class="id"><a name="x:243" class="">x</a></span> <span id="y:244" class="id"><a name="y:244" class="">y</a></span> <span id="z:245" class="id"><a name="z:245" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:243">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:244">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:245">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:243">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:244">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:243">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:245">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_add_distr_l">mul_add_distr_l</a></span>.<br/>
&nbsp;&nbsp;<span class="id">decEq;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.neg_mul_distr_l" class="id"><a name="Make.neg_mul_distr_l" class="">neg_mul_distr_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:246" class="id"><a name="x:246" class="">x</a></span> <span id="y:247" class="id"><a name="y:247" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:246">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:247">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:246">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:247">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).  <span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> (<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">y'</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> (<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">y'</span>)) <span class="gallina-kwd">with</span> ((<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-x'</a></span>) <span class="id">*</span> <span class="id">y'</span>) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.neg_mul_distr_r" class="id"><a name="Make.neg_mul_distr_r" class="">neg_mul_distr_r:</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:248" class="id"><a name="x:248" class="">x</a></span> <span id="y:249" class="id"><a name="y:249" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:248">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:249">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:248">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:249">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span> <span class="id">x</span> <span class="id">y</span>). <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_mul_distr_l">neg_mul_distr_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_signed" class="id"><a name="Make.mul_signed" class="">mul_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:250" class="id"><a name="x:250" class="">x</a></span> <span id="y:251" class="id"><a name="y:251" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:250">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:251">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:250">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:251">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_mult">eqm_mult;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<h2> Properties of division and modulus </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.modu_divu_Euclid" class="id"><a name="Make.modu_divu_Euclid" class="">modu_divu_Euclid:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:252" class="id"><a name="x:252" class="">x</a></span> <span id="y:253" class="id"><a name="y:253" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:253">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:252">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:252">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:253">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:253">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:252">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:253">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)). <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>). <span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> ((<span class="id">x'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id">y'</span>) <span class="id">*</span> <span class="id">y'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">x'</span> <span class="id">mod</span> <span class="id">y'</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Z_div_mod_eq">Z_div_mod_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>). <span class="id">red;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">y</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">y'</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.modu_divu" class="id"><a name="Make.modu_divu" class="">modu_divu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:254" class="id"><a name="x:254" class="">x</a></span> <span id="y:255" class="id"><a name="y:255" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:255">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:254">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:255">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:254">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:254">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:255">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:255">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="a:259" class="id"><span id="a:256" class="id"><a name="a:259" class="">a</a></span></span> <span id="b:260" class="id"><span id="b:257" class="id"><a name="b:260" class="">b</a></span></span> <span id="c:261" class="id"><span id="c:258" class="id"><a name="c:261" class="">c,</a></span></span> <span class="id"><a href="compcert.lib.Integers.html#a:256">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:257">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:258">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:258">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:256">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:257">b</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">a</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_l">sub_add_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu_divu_Euclid">modu_divu_Euclid</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.mods_divs_Euclid" class="id"><a name="Make.mods_divs_Euclid" class="">mods_divs_Euclid:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:262" class="id"><a name="x:262" class="">x</a></span> <span id="y:263" class="id"><a name="y:263" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:262">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:262">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:263">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:263">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:262">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:263">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>)). <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>). <span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> ((<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">x'</span> <span class="id">y'</span>) <span class="id">*</span> <span class="id">y'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span> <span class="id">x'</span> <span class="id">y'</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_rem'">Z.quot_rem</a></span><span class="id">'</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_mult">eqm_mult;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">y'</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mods_divs" class="id"><a name="Make.mods_divs" class="">mods_divs:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:264" class="id"><a name="x:264" class="">x</a></span> <span id="y:265" class="id"><a name="y:265" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:264">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:265">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:264">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:264">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:265">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:265">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="a:269" class="id"><span id="a:266" class="id"><a name="a:269" class="">a</a></span></span> <span id="b:270" class="id"><span id="b:267" class="id"><a name="b:270" class="">b</a></span></span> <span id="c:271" class="id"><span id="c:268" class="id"><a name="c:271" class="">c,</a></span></span> <span class="id"><a href="compcert.lib.Integers.html#a:266">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:267">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:268">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:268">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:266">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:267">b</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">a</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_l">sub_add_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods_divs_Euclid">mods_divs_Euclid</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.divu_one" class="id"><a name="Make.divu_one" class="">divu_one:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:272" class="id"><a name="x:272" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:272">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:272">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zdiv_1_r">Zdiv_1_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.divs_one" class="id"><a name="Make.divs_one" class="">divs_one:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:273" class="id"><a name="x:273" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:273">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:273">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_one">signed_one</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.modu_one" class="id"><a name="Make.modu_one" class="">modu_one:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:274" class="id"><a name="x:274" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:274">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu_divu">modu_divu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu_one">divu_one</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_not_zero">one_not_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.divs_mone" class="id"><a name="Make.divs_mone" class="">divs_mone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:275" class="id"><a name="x:275" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:275">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:275">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_mone">signed_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id">-1</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_neg">eqm_neg</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">x'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">one</span> <span class="id">:=</span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">-1</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id">one</span>). <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_opp_r">Zquot_opp_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">x'</span> <span class="id">one</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">x'</span>).<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_unique_full">Zquot_unique_full</a></span> <span class="gallina-kwd">with</span> <span class="id">0</span>. <span class="id">red</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> <span class="id">one</span>) <span class="gallina-kwd">with</span> <span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id">x'</span>). <span class="id">left</span>. <span class="id">lia</span>. <span class="id">right</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one;</a></span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mods_mone" class="id"><a name="Make.mods_mone" class="">mods_mone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:276" class="id"><a name="x:276" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:276">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods_divs">mods_divs</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs_mone">divs_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_mul_distr_l">neg_mul_distr_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_mone">mul_mone</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_involutive">neg_involutive</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.divmodu2_divu_modu" class="id"><a name="Make.divmodu2_divu_modu" class="">divmodu2_divu_modu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:277" class="id"><a name="n:277" class="">n</a></span> <span id="d:278" class="id"><a name="d:278" class="">d,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#d:278">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divmodu2">divmodu2</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:277">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:278">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:277">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:278">d,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:277">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:278">d</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divmodu2">divmodu2,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">N</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E1:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">N</span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#N">N;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero;</a></span> <span class="id">ring</span>). <span class="id">rewrite</span> <span class="id">!</span> <span class="id">E1</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">D</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id">D</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">R</span> <span class="id">:=</span> <span class="id">N</span> <span class="id">mod</span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E2:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_eucl">Z.div_eucl</a></span> <span class="id">N</span> <span class="id">D</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">Q,</span> <span class="id">R</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">Q,</span> <span class="id">R,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div">Z.div</a></span><span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span>. <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_eucl">Z.div_eucl</a></span> <span class="id">N</span> <span class="id">D</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">E2</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">elim</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">d</span>). <span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">D</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">d</span>)<span class="id">;</span> <span class="id">intros</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id">Q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">Q</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_interval_2">Zdiv_interval_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">E1;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range_2">unsigned_range_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned;</a></span> <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_pos">modulus_pos;</a></span> <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.unsigned_signed" class="id"><a name="Make.unsigned_signed" class="">unsigned_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:279" class="id"><a name="n:279" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:279">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:279">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:279">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:279">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.divmods2_divs_mods" class="id"><a name="Make.divmods2_divs_mods" class="">divmods2_divs_mods:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:280" class="id"><a name="n:280" class="">n</a></span> <span id="d:281" class="id"><a name="d:281" class="">d,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#d:281">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:280">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:281">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divmods2">divmods2</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:280">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:280">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:281">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:280">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:281">d,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:280">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:281">d</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divmods2">divmods2,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">N</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">D</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">D</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">D;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">elim</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">d</span>). <span class="id">rewrite</span> <span class="id">H1;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#N">N</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_signed">unsigned_signed</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_mone">signed_mone</a></span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="id">ring</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Q</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">N</span> <span class="id">D</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">R</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span> <span class="id">N</span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E2:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quotrem">Z.quotrem</a></span> <span class="id">N</span> <span class="id">D</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">Q,</span> <span class="id">R</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">Q,</span> <span class="id">R,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span><span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span>. <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quotrem">Z.quotrem</a></span> <span class="id">N</span> <span class="id">D</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">E2</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>) <span class="gallina-kwd">by</span> (<span class="id">rewrite</span> <span class="id">H2;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id">Q</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">Q</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">D</span> <span class="id">1</span>)<span class="id">;</span> <span class="id">[</span> <span class="id">|</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">D</span> (<span class="id">-1</span>))<span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="comment">(*&nbsp;D&nbsp;=&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="comment">(*&nbsp;D&nbsp;=&nbsp;-1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e</span>. <span class="id">change</span> (<span class="id">-1</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.opp">Z.opp</a></span> <span class="id">1</span>). <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_opp_r">Z.quot_opp_r</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">elim</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id">H4</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">elim</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">d</span>). <span class="id">unfold</span> <span class="id">D</span> <span class="gallina-kwd">in</span> <span class="id">e;</span> <span class="id">rewrite</span> <span class="id">e;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="comment">(*&nbsp;|D|&nbsp;&gt;&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">N</span> <span class="id">D</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_abs">Z.quot_abs</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_lt_upper_bound">Zquot_lt_upper_bound</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_lt_trans">Z.le_lt_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_1_r">Z.mul_1_r</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">H3;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zmult_lt_compat_l">Zmult_lt_compat_l</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos;</a></span> <span class="id">lia</span>. <span class="id">extlia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_lt">Z.abs_lt</a></span> <span class="gallina-kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">Q,</span> <span class="id">R;</span> <span class="id">rewrite</span> <span class="id">H2;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Bit-level properties </h2>
<br/>
<span class="vernacular">Definition</span> <span id="Make.testbit" class="id"><a name="Make.testbit" class="">testbit</a></span> (<span id="x:282" class="id"><a name="x:282" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span id="i:283" class="id"><a name="i:283" class="">i:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:282">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:283">i</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.testbit_repr" class="id"><a name="Make.testbit_repr" class="">testbit_repr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:284" class="id"><a name="x:284" class="">x</a></span> <span id="i:285" class="id"><a name="i:285" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:285">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:284">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:285">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:284">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:285">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.same_bits_eq" class="id"><a name="Make.same_bits_eq" class="">same_bits_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:286" class="id"><a name="x:286" class="">x</a></span> <span id="y:287" class="id"><a name="y:287" class="">y,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:288" class="id"><a name="i:288" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:288">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:286">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:288">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:287">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:288">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#x:286">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:287">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_same_bits">eqm_same_bits</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_above" class="id"><a name="Make.bits_above" class="">bits_above:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:289" class="id"><a name="x:289" class="">x</a></span> <span id="i:290" class="id"><a name="i:290" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:290">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:289">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:290">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_above">Ztestbit_above</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_below" class="id"><a name="Make.bits_below" class="">bits_below:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:291" class="id"><a name="x:291" class="">x</a></span> <span id="i:292" class="id"><a name="i:292" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:292">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:291">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:292">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_neg_r">Z.testbit_neg_r</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_zero" class="id"><a name="Make.bits_zero" class="">bits_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:293" class="id"><a name="i:293" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:293">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_0">Ztestbit_0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.bits_one" class="id"><a name="Make.bits_one" class="">bits_one:</a></span> <span class="gallina-kwd">forall</span> <span id="n:294" class="id"><a name="n:294" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:294">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:294">n</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_1">Ztestbit_1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_mone" class="id"><a name="Make.bits_mone" class="">bits_mone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:295" class="id"><a name="i:295" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:295">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:295">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_m1">Ztestbit_m1</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero">bits_zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span> <span class="id">:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">bit_solve</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros;</span> <span class="id">autorewrite</span> <span class="gallina-kwd">with</span> <span class="id">ints;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">bool</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.sign_bit_of_unsigned" class="id"><a name="Make.sign_bit_of_unsigned" class="">sign_bit_of_unsigned:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:296" class="id"><a name="x:296" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:296">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:296">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ws1</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Nat.html#pred">Init.Nat.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">ws1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize,</a></span> <span class="id">ws1,</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize">WS.wordsize</a></span> <span class="gallina-kwd">as</span> <span class="id">[]</span> <span class="id">eqn:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">elim</span> <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize_not_zero">WS.wordsize_not_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span>. <span class="id">simpl</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">ws1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsign_bit">Zsign_bit</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_signed" class="id"><a name="Make.bits_signed" class="">bits_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:297" class="id"><a name="x:297" class="">x</a></span> <span id="i:298" class="id"><a name="i:298" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:298">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:297">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:298">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:297">x</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:298">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i:298">i</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_above">Ztestbit_above</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_above_neg">Ztestbit_above_neg</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>). <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_le" class="id"><a name="Make.bits_le" class="">bits_le:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:299" class="id"><a name="x:299" class="">x</a></span> <span id="y:300" class="id"><a name="y:300" class="">y,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:301" class="id"><a name="i:301" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:301">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:299">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:301">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:300">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:301">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:299">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:300">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_le">Ztestbit_le</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>). <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H</span>. <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>) <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">auto</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of bitwise and, or, xor </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_and" class="id"><a name="Make.bits_and" class="">bits_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:302" class="id"><a name="x:302" class="">x</a></span> <span id="y:303" class="id"><a name="y:303" class="">y</a></span> <span id="i:304" class="id"><a name="i:304" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:304">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:302">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:303">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:304">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:302">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:304">i</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:303">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:304">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span><span class="id">;</span> <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_or" class="id"><a name="Make.bits_or" class="">bits_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:305" class="id"><a name="x:305" class="">x</a></span> <span id="y:306" class="id"><a name="y:306" class="">y</a></span> <span id="i:307" class="id"><a name="i:307" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:307">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:305">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:306">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:307">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:305">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:307">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:306">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:307">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span><span class="id">;</span> <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_xor" class="id"><a name="Make.bits_xor" class="">bits_xor:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:308" class="id"><a name="x:308" class="">x</a></span> <span id="y:309" class="id"><a name="y:309" class="">y</a></span> <span id="i:310" class="id"><a name="i:310" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:310">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:308">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:309">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:310">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:308">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:310">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:309">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:310">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lxor_spec">Z.lxor_spec</a></span><span class="id">;</span> <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_not" class="id"><a name="Make.bits_not" class="">bits_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:311" class="id"><a name="x:311" class="">x</a></span> <span id="i:312" class="id"><a name="i:312" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:312">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:311">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:312">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:311">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:312">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_not">bits_not:</a></span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_commut" class="id"><a name="Make.and_commut" class="">and_commut:</a></span> <span class="gallina-kwd">forall</span> <span id="x:313" class="id"><a name="x:313" class="">x</a></span> <span id="y:314" class="id"><a name="y:314" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:313">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:314">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:314">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:313">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_assoc" class="id"><a name="Make.and_assoc" class="">and_assoc:</a></span> <span class="gallina-kwd">forall</span> <span id="x:315" class="id"><a name="x:315" class="">x</a></span> <span id="y:316" class="id"><a name="y:316" class="">y</a></span> <span id="z:317" class="id"><a name="z:317" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:315">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:316">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:317">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:315">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:316">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:317">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_zero" class="id"><a name="Make.and_zero" class="">and_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:318" class="id"><a name="x:318" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:318">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
&nbsp;&nbsp;<span class="id">bit_solve;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_b_false">andb_b_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.and_zero_l" class="id"><a name="Make.and_zero_l" class="">and_zero_l:</a></span> <span class="gallina-kwd">forall</span> <span id="x:319" class="id"><a name="x:319" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:319">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_zero">and_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_mone" class="id"><a name="Make.and_mone" class="">and_mone:</a></span> <span class="gallina-kwd">forall</span> <span id="x:320" class="id"><a name="x:320" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:320">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:320">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
&nbsp;&nbsp;<span class="id">bit_solve;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_b_true">andb_b_true</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.and_mone_l" class="id"><a name="Make.and_mone_l" class="">and_mone_l:</a></span> <span class="gallina-kwd">forall</span> <span id="x:321" class="id"><a name="x:321" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:321">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:321">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_mone">and_mone</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_idem" class="id"><a name="Make.and_idem" class="">and_idem:</a></span> <span class="gallina-kwd">forall</span> <span id="x:322" class="id"><a name="x:322" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:322">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:322">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:322">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_commut" class="id"><a name="Make.or_commut" class="">or_commut:</a></span> <span class="gallina-kwd">forall</span> <span id="x:323" class="id"><a name="x:323" class="">x</a></span> <span id="y:324" class="id"><a name="y:324" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:323">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:324">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:324">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:323">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_assoc" class="id"><a name="Make.or_assoc" class="">or_assoc:</a></span> <span class="gallina-kwd">forall</span> <span id="x:325" class="id"><a name="x:325" class="">x</a></span> <span id="y:326" class="id"><a name="y:326" class="">y</a></span> <span id="z:327" class="id"><a name="z:327" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:325">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:326">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:327">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:325">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:326">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:327">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_zero" class="id"><a name="Make.or_zero" class="">or_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:328" class="id"><a name="x:328" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:328">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:328">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.or_zero_l" class="id"><a name="Make.or_zero_l" class="">or_zero_l:</a></span> <span class="gallina-kwd">forall</span> <span id="x:329" class="id"><a name="x:329" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:329">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:329">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_commut">or_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_zero">or_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_mone" class="id"><a name="Make.or_mone" class="">or_mone:</a></span> <span class="gallina-kwd">forall</span> <span id="x:330" class="id"><a name="x:330" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:330">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_idem" class="id"><a name="Make.or_idem" class="">or_idem:</a></span> <span class="gallina-kwd">forall</span> <span id="x:331" class="id"><a name="x:331" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:331">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:331">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:331">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_or_distrib" class="id"><a name="Make.and_or_distrib" class="">and_or_distrib:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:332" class="id"><a name="x:332" class="">x</a></span> <span id="y:333" class="id"><a name="y:333" class="">y</a></span> <span id="z:334" class="id"><a name="z:334" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:332">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:333">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:334">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:332">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:333">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:332">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:334">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#demorgan1">demorgan1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.and_or_distrib_l" class="id"><a name="Make.and_or_distrib_l" class="">and_or_distrib_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:335" class="id"><a name="x:335" class="">x</a></span> <span id="y:336" class="id"><a name="y:336" class="">y</a></span> <span id="z:337" class="id"><a name="z:337" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:335">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:336">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:337">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:335">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:337">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:336">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:337">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id">x</span> <span class="id">y</span>)). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_or_distrib">and_or_distrib</a></span>. <span class="id">f_equal;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_and_distrib" class="id"><a name="Make.or_and_distrib" class="">or_and_distrib:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:338" class="id"><a name="x:338" class="">x</a></span> <span id="y:339" class="id"><a name="y:339" class="">y</a></span> <span id="z:340" class="id"><a name="z:340" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:338">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:339">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:340">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:338">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:339">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:338">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:340">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_andb_distrib_r">orb_andb_distrib_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.or_and_distrib_l" class="id"><a name="Make.or_and_distrib_l" class="">or_and_distrib_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:341" class="id"><a name="x:341" class="">x</a></span> <span id="y:342" class="id"><a name="y:342" class="">y</a></span> <span id="z:343" class="id"><a name="z:343" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:341">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:342">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:343">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:341">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:343">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:342">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:343">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or_commut">or_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>)). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_and_distrib">or_and_distrib</a></span>. <span class="id">f_equal;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_commut">or_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_or_absorb" class="id"><a name="Make.and_or_absorb" class="">and_or_absorb:</a></span> <span class="gallina-kwd">forall</span> <span id="x:344" class="id"><a name="x:344" class="">x</a></span> <span id="y:345" class="id"><a name="y:345" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:344">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:344">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:345">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:344">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="a:348" class="id"><span id="a:346" class="id"><a name="a:348" class="">a</a></span></span> <span id="b:349" class="id"><span id="b:347" class="id"><a name="b:349" class="">b,</a></span></span> <span class="id"><a href="compcert.lib.Integers.html#a:346">a</a></span> &amp;&amp; (<span class="id"><a href="compcert.lib.Integers.html#a:346">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:347">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:346">a</a></span>) <span class="gallina-kwd">by</span> <span class="id">destr_bool</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_and_absorb" class="id"><a name="Make.or_and_absorb" class="">or_and_absorb:</a></span> <span class="gallina-kwd">forall</span> <span id="x:350" class="id"><a name="x:350" class="">x</a></span> <span id="y:351" class="id"><a name="y:351" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:350">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:350">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:351">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:350">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="a:354" class="id"><span id="a:352" class="id"><a name="a:354" class="">a</a></span></span> <span id="b:355" class="id"><span id="b:353" class="id"><a name="b:355" class="">b,</a></span></span> <span class="id"><a href="compcert.lib.Integers.html#a:352">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a:352">a</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#b:353">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:352">a</a></span>) <span class="gallina-kwd">by</span> <span class="id">destr_bool</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_commut" class="id"><a name="Make.xor_commut" class="">xor_commut:</a></span> <span class="gallina-kwd">forall</span> <span id="x:356" class="id"><a name="x:356" class="">x</a></span> <span id="y:357" class="id"><a name="y:357" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:356">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:357">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:357">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:356">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_comm">xorb_comm</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_assoc" class="id"><a name="Make.xor_assoc" class="">xor_assoc:</a></span> <span class="gallina-kwd">forall</span> <span id="x:358" class="id"><a name="x:358" class="">x</a></span> <span id="y:359" class="id"><a name="y:359" class="">y</a></span> <span id="z:360" class="id"><a name="z:360" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:358">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:359">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:360">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:358">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:359">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:360">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_assoc">xorb_assoc</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_zero" class="id"><a name="Make.xor_zero" class="">xor_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:361" class="id"><a name="x:361" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:361">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:361">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_false">xorb_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.xor_zero_l" class="id"><a name="Make.xor_zero_l" class="">xor_zero_l:</a></span> <span class="gallina-kwd">forall</span> <span id="x:362" class="id"><a name="x:362" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:362">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:362">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_commut">xor_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_idem" class="id"><a name="Make.xor_idem" class="">xor_idem:</a></span> <span class="gallina-kwd">forall</span> <span id="x:363" class="id"><a name="x:363" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:363">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:363">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_nilpotent">xorb_nilpotent</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_zero_one" class="id"><a name="Make.xor_zero_one" class="">xor_zero_one:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_commut">xor_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>. Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_one_one" class="id"><a name="Make.xor_one_one" class="">xor_one_one:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
 <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_zero_equal" class="id"><a name="Make.xor_zero_equal" class="">xor_zero_equal:</a></span> <span class="gallina-kwd">forall</span> <span id="x:364" class="id"><a name="x:364" class="">x</a></span> <span id="y:365" class="id"><a name="y:365" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:364">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:365">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:364">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:365">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero">bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">reflexivity</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_is_zero" class="id"><a name="Make.xor_is_zero" class="">xor_is_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:366" class="id"><a name="x:366" class="">x</a></span> <span id="y:367" class="id"><a name="y:367" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:366">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:367">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:366">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:367">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_equal">xor_zero_equal</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">subst</span> <span class="id">y</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_true">eq_true;</a></span> <span class="id">auto</span>. <br/>
<span class="id">-</span> <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">y</span>.<br/>
<span class="id">+</span> <span class="id">elim</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">y;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <br/>
<span class="id">+</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_xor_distrib" class="id"><a name="Make.and_xor_distrib" class="">and_xor_distrib:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:368" class="id"><a name="x:368" class="">x</a></span> <span id="y:369" class="id"><a name="y:369" class="">y</a></span> <span id="z:370" class="id"><a name="z:370" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:368">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:369">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:370">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:368">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:369">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:368">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:370">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="a:374" class="id"><span id="a:371" class="id"><a name="a:374" class="">a</a></span></span> <span id="b:375" class="id"><span id="b:372" class="id"><a name="b:375" class="">b</a></span></span> <span id="c:376" class="id"><span id="c:373" class="id"><a name="c:376" class="">c,</a></span></span> <span class="id"><a href="compcert.lib.Integers.html#a:371">a</a></span> &amp;&amp; (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:372">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:373">c</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a:371">a</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#b:372">b</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#a:371">a</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#c:373">c</a></span>)) <span class="gallina-kwd">by</span> <span class="id">destr_bool</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_le" class="id"><a name="Make.and_le" class="">and_le:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:377" class="id"><a name="x:377" class="">x</a></span> <span id="y:378" class="id"><a name="y:378" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:377">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:378">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:377">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_le">bits_le;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_le" class="id"><a name="Make.or_le" class="">or_le:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:379" class="id"><a name="x:379" class="">x</a></span> <span id="y:380" class="id"><a name="y:380" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:379">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:379">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:380">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_le">bits_le;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of bitwise complement.</h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.not_involutive" class="id"><a name="Make.not_involutive" class="">not_involutive:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="x:381" class="id"><a name="x:381" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:381">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:381">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_assoc">xor_assoc</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.not_zero" class="id"><a name="Make.not_zero" class="">not_zero:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_commut">xor_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.not_mone" class="id"><a name="Make.not_mone" class="">not_mone:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not_involutive">not_involutive</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>). <span class="id">symmetry</span>. <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not_zero">not_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.not_or_and_not" class="id"><a name="Make.not_or_and_not" class="">not_or_and_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:382" class="id"><a name="x:382" class="">x</a></span> <span id="y:383" class="id"><a name="y:383" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:382">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:383">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:382">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:383">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_orb">negb_orb</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.not_and_or_not" class="id"><a name="Make.not_and_or_not" class="">not_and_or_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:384" class="id"><a name="x:384" class="">x</a></span> <span id="y:385" class="id"><a name="y:385" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:384">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:385">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:384">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:385">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_andb">negb_andb</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_not_self" class="id"><a name="Make.and_not_self" class="">and_not_self:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:386" class="id"><a name="x:386" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:386">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:386">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_not_self" class="id"><a name="Make.or_not_self" class="">or_not_self:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:387" class="id"><a name="x:387" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:387">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:387">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_not_self" class="id"><a name="Make.xor_not_self" class="">xor_not_self:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:388" class="id"><a name="x:388" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:388">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:388">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.unsigned_not" class="id"><a name="Make.unsigned_not" class="">unsigned_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:389" class="id"><a name="x:389" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:389">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:389">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>(<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>))).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_complement">Z_one_complement</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id">-1</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.not_neg" class="id"><a name="Make.not_neg" class="">not_neg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:390" class="id"><a name="x:390" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:390">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:390">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>) <span class="gallina-kwd">at</span> <span class="id">1</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!testbit_repr;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_complement">Z_one_complement</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">-1</span>)) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>. <span class="gallina-kwd">exists</span> (<span class="id">-1</span>). <span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.neg_not" class="id"><a name="Make.neg_not" class="">neg_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:391" class="id"><a name="x:391" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:391">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:391">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not_neg">not_neg</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">-1</span>). <span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_add_not" class="id"><a name="Make.sub_add_not" class="">sub_add_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:392" class="id"><a name="x:392" class="">x</a></span> <span id="y:393" class="id"><a name="y:393" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:392">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:393">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:392">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:393">y</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_not">neg_not</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_add_not_3" class="id"><a name="Make.sub_add_not_3" class="">sub_add_not_3:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:394" class="id"><a name="x:394" class="">x</a></span> <span id="y:395" class="id"><a name="y:395" class="">y</a></span> <span id="b:396" class="id"><a name="b:396" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#b:396">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:396">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:394">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:395">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b:396">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:394">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:395">y</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:396">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_not">sub_add_not</a></span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_not">neg_not</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>. <span class="id">destruct</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_zero_l">sub_zero_l</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_borrow_add_carry" class="id"><a name="Make.sub_borrow_add_carry" class="">sub_borrow_add_carry:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:397" class="id"><a name="x:397" class="">x</a></span> <span id="y:398" class="id"><a name="y:398" class="">y</a></span> <span id="b:399" class="id"><a name="b:399" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#b:399">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:399">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:397">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:398">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:399">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:397">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:398">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:399">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_not">unsigned_not</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>)) <span class="gallina-kwd">with</span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">b</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Connections between <span class="bracket"><span class="id">add</span></span> and bitwise logical operations. </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.Z_add_is_or" class="id"><a name="Make.Z_add_is_or" class="">Z_add_is_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:400" class="id"><a name="i:400" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:400">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:401" class="id"><a name="x:401" class="">x</a></span> <span id="y:402" class="id"><a name="y:402" class="">y,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="j:403" class="id"><a name="j:403" class="">j,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#j:403">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:400">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:401">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#j:403">j</a></span> &amp;&amp; <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:402">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#j:403">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x:401">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:402">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:400">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:401">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:400">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:402">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:400">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">i0</span> <span class="id">POS0</span>. <span class="id">pattern</span> <span class="id">i0</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Wf_Z.html#Zlt_0_ind">Zlt_0_ind;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">i</span> <span class="id">IND</span> <span class="id">POS</span> <span class="id">x</span> <span class="id">y</span> <span class="id">EXCL</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Zbits.html#Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Zbits.html#Zdecomp">Zdecomp</a></span> <span class="id">y</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#Zshiftin">Zshiftin</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">y</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">y</span>)) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id">!Zshiftin_spec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">EXCL</span> <span class="id">0</span>). <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">!Ztestbit_shiftin_base</span>. <span class="id">intros</span>.<br/>
<span class="vernacular">Opaque</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul">Z.mul</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">discriminate</span> <span class="id">||</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id">!Ztestbit_shiftin;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id">IND</span>. <span class="id">lia</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">EXCL</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id">j</span>)). <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!Ztestbit_shiftin_succ</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_is_or" class="id"><a name="Make.add_is_or" class="">add_is_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:404" class="id"><a name="x:404" class="">x</a></span> <span id="y:405" class="id"><a name="y:405" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:404">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:405">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:404">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:405">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:404">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:405">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_add_is_or">Z_add_is_or</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">j</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id">j</span>) <span class="gallina-kwd">by</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">autorewrite</span> <span class="gallina-kwd">with</span> <span class="id">ints</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">assumption</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_is_or" class="id"><a name="Make.xor_is_or" class="">xor_is_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:406" class="id"><a name="x:406" class="">x</a></span> <span id="y:407" class="id"><a name="y:407" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:406">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:407">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:406">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:407">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:406">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:407">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id">i</span>) <span class="gallina-kwd">by</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">autorewrite</span> <span class="gallina-kwd">with</span> <span class="id">ints</span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_is_xor" class="id"><a name="Make.add_is_xor" class="">add_is_xor:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:408" class="id"><a name="x:408" class="">x</a></span> <span id="y:409" class="id"><a name="y:409" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:408">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:409">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:408">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:409">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:408">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:409">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_is_or">xor_is_or;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_is_or">add_is_or;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.add_and" class="id"><a name="Make.add_and" class="">add_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:410" class="id"><a name="x:410" class="">x</a></span> <span id="y:411" class="id"><a name="y:411" class="">y</a></span> <span id="z:412" class="id"><a name="z:412" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:411">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:412">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:410">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:411">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:410">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:412">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:410">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:411">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:412">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_is_or">add_is_or</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_or_distrib">and_or_distrib;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span> <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_zero">and_zero</a></span>.<br/>
Qed.</div>
<br/>
<h2> Properties of shifts </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_shl" class="id"><a name="Make.bits_shl" class="">bits_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:413" class="id"><a name="x:413" class="">x</a></span> <span id="y:414" class="id"><a name="y:414" class="">y</a></span> <span id="i:415" class="id"><a name="i:415" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:415">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:413">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:414">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:415">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:415">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:414">y</a></span>) <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:413">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:415">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:414">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_shru" class="id"><a name="Make.bits_shru" class="">bits_shru:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:416" class="id"><a name="x:416" class="">x</a></span> <span id="y:417" class="id"><a name="y:417" class="">y</a></span> <span id="i:418" class="id"><a name="i:418" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:418">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:416">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:417">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:418">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:418">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:417">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:416">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:418">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:417">y</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_shr" class="id"><a name="Make.bits_shr" class="">bits_shr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:419" class="id"><a name="x:419" class="">x</a></span> <span id="y:420" class="id"><a name="y:420" class="">y</a></span> <span id="i:421" class="id"><a name="i:421" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:421">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:419">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:420">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:421">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:419">x</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:421">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:420">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i:421">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:420">y</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_signed">bits_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr:</a></span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shl_zero" class="id"><a name="Make.shl_zero" class="">shl_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:422" class="id"><a name="x:422" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:422">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:422">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">f_equal;</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bitwise_binop_shl" class="id"><a name="Make.bitwise_binop_shl" class="">bitwise_binop_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:423" class="id"><a name="f:423" class="">f</a></span> <span id="f':424" class="id"><a name="f':424" class="">f'</a></span> <span id="x:425" class="id"><a name="x:425" class="">x</a></span> <span id="y:426" class="id"><a name="y:426" class="">y</a></span> <span id="n:427" class="id"><a name="n:427" class="">n,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:428" class="id"><a name="x:428" class="">x</a></span> <span id="y:429" class="id"><a name="y:429" class="">y</a></span> <span id="i:430" class="id"><a name="i:430" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:430">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:423">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:428">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:429">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:430">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#f':424">f'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:428">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:430">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:429">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:430">i</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f':424">f'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f:423">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:425">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:427">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:426">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:427">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:423">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:425">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:426">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:427">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!bits_shl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_shl" class="id"><a name="Make.and_shl" class="">and_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:431" class="id"><a name="x:431" class="">x</a></span> <span id="y:432" class="id"><a name="y:432" class="">y</a></span> <span id="n:433" class="id"><a name="n:433" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:431">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:433">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:432">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:433">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:431">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:432">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:433">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shl">bitwise_binop_shl</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_shl" class="id"><a name="Make.or_shl" class="">or_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:434" class="id"><a name="x:434" class="">x</a></span> <span id="y:435" class="id"><a name="y:435" class="">y</a></span> <span id="n:436" class="id"><a name="n:436" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:434">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:436">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:435">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:436">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:434">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:435">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:436">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shl">bitwise_binop_shl</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_shl" class="id"><a name="Make.xor_shl" class="">xor_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:437" class="id"><a name="x:437" class="">x</a></span> <span id="y:438" class="id"><a name="y:438" class="">y</a></span> <span id="n:439" class="id"><a name="n:439" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:437">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:439">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:438">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:439">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:437">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:438">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:439">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shl">bitwise_binop_shl</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.ltu_inv" class="id"><a name="Make.ltu_inv" class="">ltu_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:440" class="id"><a name="x:440" class="">x</a></span> <span id="y:441" class="id"><a name="y:441" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:440">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:441">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:440">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:441">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.ltu_iwordsize_inv" class="id"><a name="Make.ltu_iwordsize_inv" class="">ltu_iwordsize_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:442" class="id"><a name="x:442" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:442">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:442">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shl_shl" class="id"><a name="Make.shl_shl" class="">shl_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:443" class="id"><a name="x:443" class="">x</a></span> <span id="y:444" class="id"><a name="y:444" class="">y</a></span> <span id="z:445" class="id"><a name="z:445" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:444">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:445">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:444">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:445">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:443">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:444">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:445">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:443">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:444">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:445">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sub_ltu" class="id"><a name="Make.sub_ltu" class="">sub_ltu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:446" class="id"><a name="x:446" class="">x</a></span> <span id="y:447" class="id"><a name="y:447" class="">y,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:446">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:447">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:447">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:446">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:447">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>). <span class="id">intros</span> .<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shru_zero" class="id"><a name="Make.shru_zero" class="">shru_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:448" class="id"><a name="x:448" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:448">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:448">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">f_equal;</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bitwise_binop_shru" class="id"><a name="Make.bitwise_binop_shru" class="">bitwise_binop_shru:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:449" class="id"><a name="f:449" class="">f</a></span> <span id="f':450" class="id"><a name="f':450" class="">f'</a></span> <span id="x:451" class="id"><a name="x:451" class="">x</a></span> <span id="y:452" class="id"><a name="y:452" class="">y</a></span> <span id="n:453" class="id"><a name="n:453" class="">n,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:454" class="id"><a name="x:454" class="">x</a></span> <span id="y:455" class="id"><a name="y:455" class="">y</a></span> <span id="i:456" class="id"><a name="i:456" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:456">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:449">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:454">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:455">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:456">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#f':450">f'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:454">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:456">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:455">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:456">i</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f':450">f'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f:449">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:451">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:453">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:452">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:453">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:449">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:451">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:452">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:453">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!bits_shru;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_shru" class="id"><a name="Make.and_shru" class="">and_shru:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:457" class="id"><a name="x:457" class="">x</a></span> <span id="y:458" class="id"><a name="y:458" class="">y</a></span> <span id="n:459" class="id"><a name="n:459" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:457">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:459">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:458">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:459">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:457">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:458">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:459">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shru">bitwise_binop_shru</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb;</a></span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_shru" class="id"><a name="Make.or_shru" class="">or_shru:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:460" class="id"><a name="x:460" class="">x</a></span> <span id="y:461" class="id"><a name="y:461" class="">y</a></span> <span id="n:462" class="id"><a name="n:462" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:460">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:462">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:461">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:462">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:460">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:461">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:462">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shru">bitwise_binop_shru</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb;</a></span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_shru" class="id"><a name="Make.xor_shru" class="">xor_shru:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:463" class="id"><a name="x:463" class="">x</a></span> <span id="y:464" class="id"><a name="y:464" class="">y</a></span> <span id="n:465" class="id"><a name="n:465" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:463">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:465">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:464">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:465">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:463">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:464">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:465">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shru">bitwise_binop_shru</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb;</a></span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shru_shru" class="id"><a name="Make.shru_shru" class="">shru_shru:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:466" class="id"><a name="x:466" class="">x</a></span> <span id="y:467" class="id"><a name="y:467" class="">y</a></span> <span id="z:468" class="id"><a name="z:468" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:467">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:468">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:467">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:468">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:466">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:467">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:468">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:466">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:467">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:468">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shr_zero" class="id"><a name="Make.shr_zero" class="">shr_zero:</a></span> <span class="gallina-kwd">forall</span> <span id="x:469" class="id"><a name="x:469" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:469">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:469">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">f_equal;</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bitwise_binop_shr" class="id"><a name="Make.bitwise_binop_shr" class="">bitwise_binop_shr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:470" class="id"><a name="f:470" class="">f</a></span> <span id="f':471" class="id"><a name="f':471" class="">f'</a></span> <span id="x:472" class="id"><a name="x:472" class="">x</a></span> <span id="y:473" class="id"><a name="y:473" class="">y</a></span> <span id="n:474" class="id"><a name="n:474" class="">n,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:475" class="id"><a name="x:475" class="">x</a></span> <span id="y:476" class="id"><a name="y:476" class="">y</a></span> <span id="i:477" class="id"><a name="i:477" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:477">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:470">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:475">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:476">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:477">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#f':471">f'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:475">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:477">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:476">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:477">i</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f:470">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:472">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:474">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:473">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:474">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:470">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:472">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:473">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:474">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!bits_shr;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_shr" class="id"><a name="Make.and_shr" class="">and_shr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:478" class="id"><a name="x:478" class="">x</a></span> <span id="y:479" class="id"><a name="y:479" class="">y</a></span> <span id="n:480" class="id"><a name="n:480" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:478">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:480">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:479">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:480">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:478">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:479">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:480">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shr">bitwise_binop_shr</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_shr" class="id"><a name="Make.or_shr" class="">or_shr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:481" class="id"><a name="x:481" class="">x</a></span> <span id="y:482" class="id"><a name="y:482" class="">y</a></span> <span id="n:483" class="id"><a name="n:483" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:481">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:483">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:482">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:483">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:481">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:482">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:483">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shr">bitwise_binop_shr</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.xor_shr" class="id"><a name="Make.xor_shr" class="">xor_shr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:484" class="id"><a name="x:484" class="">x</a></span> <span id="y:485" class="id"><a name="y:485" class="">y</a></span> <span id="n:486" class="id"><a name="n:486" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:484">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:486">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:485">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:486">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:484">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:485">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:486">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shr">bitwise_binop_shr</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shr_shr" class="id"><a name="Make.shr_shr" class="">shr_shr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:487" class="id"><a name="x:487" class="">x</a></span> <span id="y:488" class="id"><a name="y:488" class="">y</a></span> <span id="z:489" class="id"><a name="z:489" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:488">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:489">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:488">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:489">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:487">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:488">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:489">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:487">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:488">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:489">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!bits_shr;</span> <span class="id">auto</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span>. <span class="id">replace</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>)) <span class="gallina-kwd">with</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="id">_</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>))).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.and_shr_shru" class="id"><a name="Make.and_shr_shru" class="">and_shr_shru:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:490" class="id"><a name="x:490" class="">x</a></span> <span id="y:491" class="id"><a name="y:491" class="">y</a></span> <span id="z:492" class="id"><a name="z:492" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:490">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:492">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:491">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:492">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:490">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:491">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:492">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!bits_shru;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and;</a></span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">z</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shr_and_shru_and" class="id"><a name="Make.shr_and_shru_and" class="">shr_and_shru_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:493" class="id"><a name="x:493" class="">x</a></span> <span id="y:494" class="id"><a name="y:494" class="">y</a></span> <span id="z:495" class="id"><a name="z:495" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:495">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:494">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:494">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:495">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:493">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:494">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:495">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:493">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:494">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:495">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_shru">and_shru</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_shr_shru">and_shr_shru</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shru_lt_zero" class="id"><a name="Make.shru_lt_zero" class="">shru_lt_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:496" class="id"><a name="x:496" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:496">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:496">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">i</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_l">Z.add_0_l</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_eq">Ztestbit_eq</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">simpl</span> <span class="id">Z.div2</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_0_l">Z.testbit_0_l</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">simpl</span> <span class="id">Z.div2</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_0_l">Z.testbit_0_l</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shr_lt_zero" class="id"><a name="Make.shr_lt_zero" class="">shr_lt_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:497" class="id"><a name="x:497" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:497">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:497">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero">bits_zero;</a></span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone;</a></span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of rotations </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_rol" class="id"><a name="Make.bits_rol" class="">bits_rol:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:498" class="id"><a name="x:498" class="">x</a></span> <span id="y:499" class="id"><a name="y:499" class="">y</a></span> <span id="i:500" class="id"><a name="i:500" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:500">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:498">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:499">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:500">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:498">x</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#i:500">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:499">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Z_div_mod_eq">Z_div_mod_eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">j</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="id">set</span> (<span class="id">k</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">j</span>. <span class="id">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">2:</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">j</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">j</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-k</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_ror" class="id"><a name="Make.bits_ror" class="">bits_ror:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:501" class="id"><a name="x:501" class="">x</a></span> <span id="y:502" class="id"><a name="y:502" class="">y</a></span> <span id="i:503" class="id"><a name="i:503" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:503">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:501">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:502">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:503">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:501">x</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#i:503">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:502">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Z_div_mod_eq">Z_div_mod_eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">j</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="id">set</span> (<span class="id">k</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">j</span>. <span class="id">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">2:</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">j</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id">k</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_ror">bits_ror:</a></span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shl_rolm" class="id"><a name="Make.shl_rolm" class="">shl_rolm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:504" class="id"><a name="x:504" class="">x</a></span> <span id="n:505" class="id"><a name="n:505" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:505">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:504">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:505">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:504">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:505">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:505">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!bits_shl;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shru_rolm" class="id"><a name="Make.shru_rolm" class="">shru_rolm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:506" class="id"><a name="x:506" class="">x</a></span> <span id="n:507" class="id"><a name="n:507" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:507">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:506">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:507">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:506">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:507">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:507">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!bits_shru;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id">-1</span>). <span class="id">ring</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.rol_zero" class="id"><a name="Make.rol_zero" class="">rol_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:508" class="id"><a name="x:508" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:508">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:508">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub_0_r">Z.sub_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bitwise_binop_rol" class="id"><a name="Make.bitwise_binop_rol" class="">bitwise_binop_rol:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:509" class="id"><a name="f:509" class="">f</a></span> <span id="f':510" class="id"><a name="f':510" class="">f'</a></span> <span id="x:511" class="id"><a name="x:511" class="">x</a></span> <span id="y:512" class="id"><a name="y:512" class="">y</a></span> <span id="n:513" class="id"><a name="n:513" class="">n,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:514" class="id"><a name="x:514" class="">x</a></span> <span id="y:515" class="id"><a name="y:515" class="">y</a></span> <span id="i:516" class="id"><a name="i:516" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:516">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:509">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:514">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:515">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:516">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#f':510">f'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:514">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:516">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:515">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:516">i</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f:509">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:511">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:512">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:513">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#f:509">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:511">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:513">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:512">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:513">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!bits_rol;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.rol_and" class="id"><a name="Make.rol_and" class="">rol_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:517" class="id"><a name="x:517" class="">x</a></span> <span id="y:518" class="id"><a name="y:518" class="">y</a></span> <span id="n:519" class="id"><a name="n:519" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:517">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:518">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:519">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:517">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:519">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:518">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:519">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_rol">bitwise_binop_rol</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.rol_or" class="id"><a name="Make.rol_or" class="">rol_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:520" class="id"><a name="x:520" class="">x</a></span> <span id="y:521" class="id"><a name="y:521" class="">y</a></span> <span id="n:522" class="id"><a name="n:522" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:520">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:521">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:522">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:520">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:522">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:521">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:522">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_rol">bitwise_binop_rol</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.rol_xor" class="id"><a name="Make.rol_xor" class="">rol_xor:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:523" class="id"><a name="x:523" class="">x</a></span> <span id="y:524" class="id"><a name="y:524" class="">y</a></span> <span id="n:525" class="id"><a name="n:525" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:523">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:524">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:525">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:523">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:525">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:524">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:525">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_rol">bitwise_binop_rol</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>. <span class="id">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.rol_rol" class="id"><a name="Make.rol_rol" class="">rol_rol:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:526" class="id"><a name="x:526" class="">x</a></span> <span id="n:527" class="id"><a name="n:527" class="">n</a></span> <span id="m:528" class="id"><a name="m:528" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide">Z.divide</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:526">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:527">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:528">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:526">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:527">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:528">m</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">M</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">N</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_trans">eqmod_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">M</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_sub">eqmod_sub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_sym">eqmod_sym</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod">eqmod_mod</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl">eqmod_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">M</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">N</span>) <span class="gallina-kwd">with</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> (<span class="id">M</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">N</span>)) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_sub">eqmod_sub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl">eqmod_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_trans">eqmod_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">M</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">N</span>) <span class="gallina-kwd">with</span> (<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">M</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod">eqmod_mod</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">fold</span> <span class="id">M;</span> <span class="id">fold</span> <span class="id">N</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">forall</span> <span id="a:530" class="id"><span id="a:529" class="id"><a name="a:530" class="">a,</a></span></span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:529">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:529">a</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_divides">eqmod_divides</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_trans">eqmod_trans</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl2">eqmod_refl2</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.rolm_zero" class="id"><a name="Make.rolm_zero" class="">rolm_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:531" class="id"><a name="x:531" class="">x</a></span> <span id="m:532" class="id"><a name="m:532" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:531">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:532">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:531">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:532">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol_zero">rol_zero</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.rolm_rolm" class="id"><a name="Make.rolm_rolm" class="">rolm_rolm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:533" class="id"><a name="x:533" class="">x</a></span> <span id="n1:534" class="id"><a name="n1:534" class="">n1</a></span> <span id="m1:535" class="id"><a name="m1:535" class="">m1</a></span> <span id="n2:536" class="id"><a name="n2:536" class="">n2</a></span> <span id="m2:537" class="id"><a name="m2:537" class="">m2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide">Z.divide</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:533">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n1:534">n1</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1:535">m1</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n2:536">n2</a></span> <span class="id"><a href="compcert.lib.Integers.html#m2:537">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:533">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#n1:534">n1</a></span> <span class="id"><a href="compcert.lib.Integers.html#n2:536">n2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1:535">m1</a></span> <span class="id"><a href="compcert.lib.Integers.html#n2:536">n2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m2:537">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol_and">rol_and</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol_rol">rol_rol</a></span>. <span class="id">reflexivity</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_rolm" class="id"><a name="Make.or_rolm" class="">or_rolm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:538" class="id"><a name="x:538" class="">x</a></span> <span id="n:539" class="id"><a name="n:539" class="">n</a></span> <span id="m1:540" class="id"><a name="m1:540" class="">m1</a></span> <span id="m2:541" class="id"><a name="m2:541" class="">m2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:538">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:539">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1:540">m1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:538">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:539">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#m2:541">m2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:538">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:539">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1:540">m1</a></span> <span class="id"><a href="compcert.lib.Integers.html#m2:541">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_or_distrib">and_or_distrib</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.ror_rol" class="id"><a name="Make.ror_rol" class="">ror_rol:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:542" class="id"><a name="x:542" class="">x</a></span> <span id="y:543" class="id"><a name="y:543" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:543">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:542">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:543">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:542">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:543">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_ror">bits_ror;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol;</a></span> <span class="id">auto</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="gallina-kwd">exists</span> <span class="id">1</span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.ror_rol_neg" class="id"><a name="Make.ror_rol_neg" class="">ror_rol_neg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:544" class="id"><a name="x:544" class="">x</a></span> <span id="y:545" class="id"><a name="y:545" class="">y,</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:544">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:545">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:544">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:545">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_ror">bits_ror</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_trans">eqmod_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl2">eqmod_refl2;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_sub">eqmod_sub</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_refl">eqmod_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_divides">eqmod_divides</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.or_ror" class="id"><a name="Make.or_ror" class="">or_ror:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:546" class="id"><a name="x:546" class="">x</a></span> <span id="y:547" class="id"><a name="y:547" class="">y</a></span> <span id="z:548" class="id"><a name="z:548" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:547">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:548">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:547">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:548">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:546">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:548">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:546">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:547">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:546">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:548">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!testbit_repr;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!Z</span>.<span class="id">lor_spec</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>. <span class="id">f_equal;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="gallina-kwd">in</span> <span class="id">H5</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of <span class="bracket"><span class="id">is_power2</span></span>. </h2>
<br/>
<span class="vernacular">Remark</span> <span id="Make.is_power2_inv" class="id"><a name="Make.is_power2_inv" class="">is_power2_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:549" class="id"><a name="n:549" class="">n</a></span> <span id="logn:550" class="id"><a name="logn:550" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:549">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:550">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Zbits.html#Z_is_power2">Z_is_power2</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:549">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:550">logn</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:550">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_is_power2">Z_is_power2</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_is_power2_range">Z_is_power2_range</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr;</a></span> <span class="id">auto</span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.is_power2_rng" class="id"><a name="Make.is_power2_rng" class="">is_power2_rng:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:551" class="id"><a name="n:551" class="">n</a></span> <span id="logn:552" class="id"><a name="logn:552" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:551">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:552">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:552">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_inv">is_power2_inv</a></span> <span class="id">n</span> <span class="id">logn</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.is_power2_range" class="id"><a name="Make.is_power2_range" class="">is_power2_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:553" class="id"><a name="n:553" class="">n</a></span> <span id="logn:554" class="id"><a name="logn:554" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:553">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:554">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:554">logn</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_rng">is_power2_rng</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.is_power2_correct" class="id"><a name="Make.is_power2_correct" class="">is_power2_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:555" class="id"><a name="n:555" class="">n</a></span> <span id="logn:556" class="id"><a name="logn:556" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:555">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:556">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:555">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:556">logn</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_inv">is_power2_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">Q]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_is_power2_sound">Z_is_power2_sound</a></span> <span class="gallina-kwd">in</span> <span class="id">P</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Make.two_p_range" class="id"><a name="Make.two_p_range" class="">two_p_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:557" class="id"><a name="n:557" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:557">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:557">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize;</a></span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.is_power2_two_p" class="id"><a name="Make.is_power2_two_p" class="">is_power2_two_p:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:558" class="id"><a name="n:558" class="">n,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:558">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:558">n</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:558">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_is_power2_complete">Z_is_power2_complete</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_p_range">two_p_range</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Relation between bitwise operations and multiplications / divisions by powers of 2 </h2>
<br/>
<div class="doc">Left shifts and multiplications by powers of 2. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shl_mul_two_p" class="id"><a name="Make.shl_mul_two_p" class="">shl_mul_two_p:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:559" class="id"><a name="x:559" class="">x</a></span> <span id="y:560" class="id"><a name="y:560" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:559">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:560">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:559">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:560">y</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zshiftl_mul_two_p">Zshiftl_mul_two_p</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shl_mul" class="id"><a name="Make.shl_mul" class="">shl_mul:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:561" class="id"><a name="x:561" class="">x</a></span> <span id="y:562" class="id"><a name="y:562" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:561">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:562">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:561">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:562">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.mul_pow2" class="id"><a name="Make.mul_pow2" class="">mul_pow2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:563" class="id"><a name="x:563" class="">x</a></span> <span id="n:564" class="id"><a name="n:564" class="">n</a></span> <span id="logn:565" class="id"><a name="logn:565" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:564">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:565">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:563">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:564">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:563">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:565">logn</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">n</span> <span class="id">logn</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shifted_or_is_add" class="id"><a name="Make.shifted_or_is_add" class="">shifted_or_is_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:566" class="id"><a name="x:566" class="">x</a></span> <span id="y:567" class="id"><a name="y:567" class="">y</a></span> <span id="n:568" class="id"><a name="n:568" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:568">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:567">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:568">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:566">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:568">n</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#y:567">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:566">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:568">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:567">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_is_or">add_is_or</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_mult">eqm_mult;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EQ:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">n</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">n</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span><span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_above">Ztestbit_above</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">EQ</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Unsigned right shifts and unsigned divisions by powers of 2. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shru_div_two_p" class="id"><a name="Make.shru_div_two_p" class="">shru_div_two_p:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:569" class="id"><a name="x:569" class="">x</a></span> <span id="y:570" class="id"><a name="y:570" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:569">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:570">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:569">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:570">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zshiftr_div_two_p">Zshiftr_div_two_p</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.divu_pow2" class="id"><a name="Make.divu_pow2" class="">divu_pow2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:571" class="id"><a name="x:571" class="">x</a></span> <span id="n:572" class="id"><a name="n:572" class="">n</a></span> <span id="logn:573" class="id"><a name="logn:573" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:572">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:573">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:571">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:572">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:571">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:573">logn</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">n</span> <span class="id">logn</span> <span class="id">H</span>). <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span>. <span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru_div_two_p">shru_div_two_p</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Signed right shifts and signed divisions by powers of 2. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shr_div_two_p" class="id"><a name="Make.shr_div_two_p" class="">shr_div_two_p:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:574" class="id"><a name="x:574" class="">x</a></span> <span id="y:575" class="id"><a name="y:575" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:574">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:575">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:574">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:575">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zshiftr_div_two_p">Zshiftr_div_two_p</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.divs_pow2" class="id"><a name="Make.divs_pow2" class="">divs_pow2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:576" class="id"><a name="x:576" class="">x</a></span> <span id="n:577" class="id"><a name="n:577" class="">n</a></span> <span id="logn:578" class="id"><a name="logn:578" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:577">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:578">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:576">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:577">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:576">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:578">logn</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Unsigned modulus over <span class="bracket">2^<span class="id">n</span></span> is masking with <span class="bracket">2^<span class="id">n</span>-1</span>. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.modu_and" class="id"><a name="Make.modu_and" class="">modu_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:579" class="id"><a name="x:579" class="">x</a></span> <span id="n:580" class="id"><a name="n:580" class="">n</a></span> <span id="logn:581" class="id"><a name="logn:581" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:580">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:581">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:579">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:580">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:579">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:580">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_rng">is_power2_rng</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_mod_two_p">Ztestbit_mod_two_p</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_two_p_m1">Ztestbit_two_p_m1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">logn</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">tauto</span>. <span class="id">tauto</span>. <span class="id">tauto</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of <span class="bracket"><span class="id">shrx</span></span> (signed division by a power of 2) </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shrx_zero" class="id"><a name="Make.shrx_zero" class="">shrx_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:582" class="id"><a name="x:582" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:582">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:582">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_zero">shl_zero</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_one">signed_one</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shrx_shr" class="id"><a name="Make.shrx_shr" class="">shrx_shr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:583" class="id"><a name="x:583" class="">x</a></span> <span id="y:584" class="id"><a name="y:584" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:584">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:583">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:584">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:583">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:583">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:584">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#x:583">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:584">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">uy</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_pow2">mul_pow2</a></span>. <span class="id">replace</span> <span class="id">y</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_two_p">is_power2_two_p</a></span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zquot_Zdiv">Zquot_Zdiv;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) <span class="id">0</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_signed">add_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id">H5</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H7</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">x</span>). <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>). <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shrx_shr_2" class="id"><a name="Make.shrx_shr_2" class="">shrx_shr_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:585" class="id"><a name="x:585" class="">x</a></span> <span id="y:586" class="id"><a name="y:586" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:586">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:585">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:586">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:585">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:585">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>))) (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:586">y</a></span>))) <span class="id"><a href="compcert.lib.Integers.html#y:586">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx_shr">shrx_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_lt_zero">shr_lt_zero</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
<span class="id">-</span> <span class="id">set</span> (<span class="id">uy</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">fold</span> <span class="id">uy;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="id">fold</span> <span class="id">uy</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="id">fold</span> <span class="id">uy</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_two_p_m1">Ztestbit_two_p_m1</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> (<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO;</a></span> <span class="id">lia</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned;</a></span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id">y</span>)) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id">y</span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shrx_carry" class="id"><a name="Make.shrx_carry" class="">shrx_carry:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:587" class="id"><a name="x:587" class="">x</a></span> <span id="y:588" class="id"><a name="y:588" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:588">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:587">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:588">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:587">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:588">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr_carry">shr_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:587">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:588">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx_shr">shrx_shr;</a></span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_carry">shr_carry</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="id">set</span> (<span class="id">sx</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sx</span> <span class="id">0</span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">2:</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">uy</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu_and">modu_and</a></span> <span class="gallina-kwd">with</span> (<span class="id">logn</span> <span class="id">:=</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_two_p">is_power2_two_p</a></span>. <span class="id">unfold</span> <span class="id">uy</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>. <span class="id">fold</span> <span class="id">sx</span>. <span class="id">fold</span> <span class="id">uy</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H7</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_signed">add_signed</a></span>. <span class="id">fold</span> <span class="id">sx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id">mod</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">sx</span> <span class="id">mod</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod_eq">eqmod_mod_eq;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_divides">eqmod_divides</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span>. <span class="id">unfold</span> <span class="id">sx</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">uy</span>)). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_is_exp">two_p_is_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize;</a></span> <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H8</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zdiv_shift">Zdiv_shift;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">sx</span> <span class="id">mod</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>) <span class="id">0</span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>) <span class="id">H3</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">x</span>). <span class="id">fold</span> <span class="id">sx</span>. <span class="id">intros</span>. <span class="id">split</span>. <span class="id">lia</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Connections between <span class="bracket"><span class="id">shr</span></span> and <span class="bracket"><span class="id">shru</span></span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shr_shru_positive" class="id"><a name="Make.shr_shru_positive" class="">shr_shru_positive:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:589" class="id"><a name="x:589" class="">x</a></span> <span id="y:590" class="id"><a name="y:590" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:589">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:589">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:590">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:589">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:590">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru_div_two_p">shru_div_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_eq_unsigned">signed_eq_unsigned</a></span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_positive">signed_positive</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.and_positive" class="id"><a name="Make.and_positive" class="">and_positive:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:591" class="id"><a name="x:591" class="">x</a></span> <span id="y:592" class="id"><a name="y:592" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:592">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:591">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:592">y</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_positive">signed_positive</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span> <span class="id">y</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>)). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>. <span class="id">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>))<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shr_and_is_shru_and" class="id"><a name="Make.shr_and_is_shru_and" class="">shr_and_is_shru_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:593" class="id"><a name="x:593" class="">x</a></span> <span id="y:594" class="id"><a name="y:594" class="">y</a></span> <span id="z:595" class="id"><a name="z:595" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:594">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:593">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:594">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:595">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:593">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:594">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:595">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_shru_positive">shr_shru_positive</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_positive">and_positive</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>) <span class="id">0</span>). <span class="id">congruence</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of integer zero extension and sign extension. </h2>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_zero_ext" class="id"><a name="Make.bits_zero_ext" class="">bits_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:596" class="id"><a name="n:596" class="">n</a></span> <span id="x:597" class="id"><a name="x:597" class="">x</a></span> <span id="i:598" class="id"><a name="i:598" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:598">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:596">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:597">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:598">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:598">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:596">n</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:597">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:598">i</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zzero_ext_spec">Zzero_ext_spec</a></span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!bits_above;</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_sign_ext" class="id"><a name="Make.bits_sign_ext" class="">bits_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:599" class="id"><a name="n:599" class="">n</a></span> <span id="x:600" class="id"><a name="x:600" class="">x</a></span> <span id="i:601" class="id"><a name="i:601" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:601">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:599">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:600">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:601">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:600">x</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:601">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:599">n</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i:601">i</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#n:599">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsign_ext_spec">Zsign_ext_spec</a></span>. <span class="id">lia</span>. <br/>
Qed.</div>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext:</a></span> <span class="id">ints</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_above" class="id"><a name="Make.zero_ext_above" class="">zero_ext_above:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:602" class="id"><a name="n:602" class="">n</a></span> <span id="x:603" class="id"><a name="x:603" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:602">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:602">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:603">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:603">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_below" class="id"><a name="Make.zero_ext_below" class="">zero_ext_below:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:604" class="id"><a name="n:604" class="">n</a></span> <span id="x:605" class="id"><a name="x:605" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:604">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:604">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:605">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_below">bits_below;</a></span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_ext_above" class="id"><a name="Make.sign_ext_above" class="">sign_ext_above:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:606" class="id"><a name="n:606" class="">n</a></span> <span id="x:607" class="id"><a name="x:607" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:606">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:606">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:607">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:607">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsign_ext_spec">Zsign_ext_spec</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_ext_below" class="id"><a name="Make.sign_ext_below" class="">sign_ext_below:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:608" class="id"><a name="n:608" class="">n</a></span> <span id="x:609" class="id"><a name="x:609" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:608">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:608">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:609">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">bit_solve</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_below">bits_below</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_and" class="id"><a name="Make.zero_ext_and" class="">zero_ext_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:610" class="id"><a name="n:610" class="">n</a></span> <span id="x:611" class="id"><a name="x:611" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:610">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:610">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:611">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:611">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:610">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_two_p_m1">Ztestbit_two_p_m1;</a></span> <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_mod" class="id"><a name="Make.zero_ext_mod" class="">zero_ext_mod:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:612" class="id"><a name="n:612" class="">n</a></span> <span id="x:613" class="id"><a name="x:613" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:612">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:612">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:613">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:613">x</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:612">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#equal_same_bits">equal_same_bits</a></span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_mod_two_p">Ztestbit_mod_two_p;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id">n</span> <span class="id">x</span>) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_widen" class="id"><a name="Make.zero_ext_widen" class="">zero_ext_widen:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:614" class="id"><a name="x:614" class="">x</a></span> <span id="n:615" class="id"><a name="n:615" class="">n</a></span> <span id="n':616" class="id"><a name="n':616" class="">n',</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:615">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':616">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':616">n'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:615">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:614">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:615">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:614">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n'</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">tauto</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_ext_widen" class="id"><a name="Make.sign_ext_widen" class="">sign_ext_widen:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:617" class="id"><a name="x:617" class="">x</a></span> <span id="n:618" class="id"><a name="n:618" class="">n</a></span> <span id="n':619" class="id"><a name="n':619" class="">n',</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:618">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':619">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':619">n'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:618">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:617">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:618">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:617">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n'</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n'</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="id">_</span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">n'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">n</span>)<span class="id">;</span> <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n'</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_zero_ext_widen" class="id"><a name="Make.sign_zero_ext_widen" class="">sign_zero_ext_widen:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:620" class="id"><a name="x:620" class="">x</a></span> <span id="n:621" class="id"><a name="n:621" class="">n</a></span> <span id="n':622" class="id"><a name="n':622" class="">n',</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:621">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':622">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':622">n'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:621">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:620">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:621">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:620">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n'</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n'</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!zlt_false</span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n'</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_narrow" class="id"><a name="Make.zero_ext_narrow" class="">zero_ext_narrow:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:623" class="id"><a name="x:623" class="">x</a></span> <span id="n:624" class="id"><a name="n:624" class="">n</a></span> <span id="n':625" class="id"><a name="n':625" class="">n',</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:624">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':625">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:624">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':625">n'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:623">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:624">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:623">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_ext_narrow" class="id"><a name="Make.sign_ext_narrow" class="">sign_ext_narrow:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:626" class="id"><a name="x:626" class="">x</a></span> <span id="n:627" class="id"><a name="n:627" class="">n</a></span> <span id="n':628" class="id"><a name="n':628" class="">n',</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:627">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':628">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:627">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':628">n'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:626">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:627">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:626">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">f_equal;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above</a></span> <span class="id">n'</span>). <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_sign_ext_narrow" class="id"><a name="Make.zero_sign_ext_narrow" class="">zero_sign_ext_narrow:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:629" class="id"><a name="x:629" class="">x</a></span> <span id="n:630" class="id"><a name="n:630" class="">n</a></span> <span id="n':631" class="id"><a name="n':631" class="">n',</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:630">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':631">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:630">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n':631">n'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:629">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:630">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:629">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n'</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_idem" class="id"><a name="Make.zero_ext_idem" class="">zero_ext_idem:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:632" class="id"><a name="n:632" class="">n</a></span> <span id="x:633" class="id"><a name="x:633" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:632">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:632">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:632">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:633">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:632">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:633">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_widen">zero_ext_widen</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_ext_idem" class="id"><a name="Make.sign_ext_idem" class="">sign_ext_idem:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:634" class="id"><a name="n:634" class="">n</a></span> <span id="x:635" class="id"><a name="x:635" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:634">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:634">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:634">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:635">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:634">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:635">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_widen">sign_ext_widen</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
&nbsp;<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_ext_zero_ext" class="id"><a name="Make.sign_ext_zero_ext" class="">sign_ext_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:636" class="id"><a name="n:636" class="">n</a></span> <span id="x:637" class="id"><a name="x:637" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:636">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:636">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:636">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:637">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:636">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:637">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_above">zero_ext_above;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.zero_ext_sign_ext" class="id"><a name="Make.zero_ext_sign_ext" class="">zero_ext_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:638" class="id"><a name="n:638" class="">n</a></span> <span id="x:639" class="id"><a name="x:639" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:638">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:638">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:638">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:639">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:638">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:639">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_sign_ext_narrow">zero_sign_ext_narrow</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.sign_ext_equal_if_zero_equal" class="id"><a name="Make.sign_ext_equal_if_zero_equal" class="">sign_ext_equal_if_zero_equal:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:640" class="id"><a name="n:640" class="">n</a></span> <span id="x:641" class="id"><a name="x:641" class="">x</a></span> <span id="y:642" class="id"><a name="y:642" class="">y,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:640">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:640">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:641">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:640">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:642">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:640">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:641">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:640">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:642">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_zero_ext">sign_ext_zero_ext</a></span> <span class="id">n</span> <span class="id">x</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_zero_ext">sign_ext_zero_ext</a></span> <span class="id">n</span> <span class="id">y</span> <span class="id">H</span>). <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shru_shl" class="id"><a name="Make.shru_shl" class="">shru_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:643" class="id"><a name="x:643" class="">x</a></span> <span id="y:644" class="id"><a name="y:644" class="">y</a></span> <span id="z:645" class="id"><a name="z:645" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:644">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:645">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:643">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:644">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:645">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:645">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:644">y</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:644">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:643">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:644">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:645">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:645">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:643">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:645">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:644">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>. <span class="id">set</span> (<span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">set</span> (<span class="id">Z</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">fold</span> <span class="id">Z</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">Z</span> <span class="id">Y</span>).<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl,</a></span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">fold</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>))<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id">z</span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru,</a></span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">fold</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id">Y</span>).<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.zero_ext_shru_shl" class="id"><a name="Make.zero_ext_shru_shl" class="">zero_ext_shru_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:646" class="id"><a name="n:646" class="">n</a></span> <span id="x:647" class="id"><a name="x:647" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:646">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="y:648" class="id"><a name="y:648" class="">y</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:646">n</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:646">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:647">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:647">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:648">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:648">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">y</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu;</a></span> <span class="id">rewrite</span> <span class="id">A,</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru_shl">shru_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru_zero">shru_zero</a></span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.shr_shl" class="id"><a name="Make.shr_shl" class="">shr_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:649" class="id"><a name="x:649" class="">x</a></span> <span id="y:650" class="id"><a name="y:650" class="">y</a></span> <span id="z:651" class="id"><a name="z:651" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:650">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:651">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:649">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:650">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:651">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:651">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:650">y</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:650">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:649">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:650">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:651">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:651">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:649">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:651">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:650">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Proof.</span></div>
<div class="proofscript" id="proof243">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>. <span class="id">set</span> (<span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">set</span> (<span class="id">Z</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">fold</span> <span class="id">Z</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>). <span class="id">fold</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">Z</span> <span class="id">Y</span>).<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl,</a></span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>)).<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id">z</span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>))<span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>)).<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.sign_ext_shr_shl" class="id"><a name="Make.sign_ext_shr_shl" class="">sign_ext_shr_shl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:652" class="id"><a name="n:652" class="">n</a></span> <span id="x:653" class="id"><a name="x:653" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:652">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#3e2cc3b784fd1c5341d23eca6b98405f">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="y:654" class="id"><a name="y:654" class="">y</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:652">n</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:652">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:653">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:653">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:654">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:654">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof244')">Proof.</span></div>
<div class="proofscript" id="proof244">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">y</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu;</a></span> <span class="id">rewrite</span> <span class="id">A,</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_shl">shr_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_zero">shr_zero</a></span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">zero_ext</span> <span class="id">n</span> <span class="id">x</span></span> is the unique integer congruent to <span class="bracket"><span class="id">x</span></span> modulo <span class="bracket">2^<span class="id">n</span></span>
    in the range <span class="bracket">0...2^<span class="id">n</span>-1</span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.zero_ext_range" class="id"><a name="Make.zero_ext_range" class="">zero_ext_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:655" class="id"><a name="n:655" class="">n</a></span> <span id="x:656" class="id"><a name="x:656" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:655">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:655">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:656">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:655">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof245')">Proof.</span></div>
<div class="proofscript" id="proof245">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_mod">zero_ext_mod;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqmod_zero_ext" class="id"><a name="Make.eqmod_zero_ext" class="">eqmod_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:657" class="id"><a name="n:657" class="">n</a></span> <span id="x:658" class="id"><a name="x:658" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:657">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod">eqmod</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:657">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:657">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:658">x</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:658">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof246')">Proof.</span></div>
<div class="proofscript" id="proof246">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_mod">zero_ext_mod;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_sym">eqmod_sym</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_mod">eqmod_mod</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">sign_ext</span> <span class="id">n</span> <span class="id">x</span></span> is the unique integer congruent to <span class="bracket"><span class="id">x</span></span> modulo <span class="bracket">2^<span class="id">n</span></span>
    in the range <span class="bracket">-2^(<span class="id">n</span>-1)...2^(<span class="id">n</span>-1) - 1</span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.sign_ext_range" class="id"><a name="Make.sign_ext_range" class="">sign_ext_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:659" class="id"><a name="n:659" class="">n</a></span> <span id="x:660" class="id"><a name="x:660" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:659">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:659">n-1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:659">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:660">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:659">n-1</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof247')">Proof.</span></div>
<div class="proofscript" id="proof247">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_shr_shl">sign_ext_shr_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">X</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>. <span class="id">lia</span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_interval_1">Zdiv_interval_1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>))) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_is_exp">two_p_is_exp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">X</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_interval_2">Zdiv_interval_2</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed_pos">max_signed_pos;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqmod_sign_ext'" class="id"><a name="Make.eqmod_sign_ext'" class="">eqmod_sign_ext':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:661" class="id"><a name="n:661" class="">n</a></span> <span id="x:662" class="id"><a name="x:662" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:661">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Zbits.html#eqmod">eqmod</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:661">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:661">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:662">x</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:662">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof248')">Proof.</span></div>
<div class="proofscript" id="proof248">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">N</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">n</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span><span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_same_bits">eqmod_same_bits;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span> <span class="id">x</span>) <span class="id">i</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.eqmod_sign_ext" class="id"><a name="Make.eqmod_sign_ext" class="">eqmod_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:663" class="id"><a name="n:663" class="">n</a></span> <span id="x:664" class="id"><a name="x:664" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:663">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Zbits.html#eqmod">eqmod</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:663">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:663">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:664">x</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:664">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Proof.</span></div>
<div class="proofscript" id="proof249">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_trans">eqmod_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#eqmod_divides">eqmod_divides</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>. <span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_is_exp">two_p_is_exp</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sign_ext'">eqmod_sign_ext';</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Combinations of shifts and zero/sign extensions </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shl_zero_ext" class="id"><a name="Make.shl_zero_ext" class="">shl_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:665" class="id"><a name="n:665" class="">n</a></span> <span id="m:666" class="id"><a name="m:666" class="">m</a></span> <span id="x:667" class="id"><a name="x:667" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:665">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:665">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:667">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:666">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:665">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:666">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:667">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:666">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Proof.</span></div>
<div class="proofscript" id="proof250">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext,</a></span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>)).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>) <span class="id">n</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shl_sign_ext" class="id"><a name="Make.shl_sign_ext" class="">shl_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:668" class="id"><a name="n:668" class="">n</a></span> <span id="m:669" class="id"><a name="m:669" class="">m</a></span> <span id="x:670" class="id"><a name="x:670" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:668">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:668">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:670">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:669">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:668">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:669">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:670">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:669">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Proof.</span></div>
<div class="proofscript" id="proof251">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext,</a></span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>)).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shru_zero_ext" class="id"><a name="Make.shru_zero_ext" class="">shru_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:671" class="id"><a name="n:671" class="">n</a></span> <span id="m:672" class="id"><a name="m:672" class="">m</a></span> <span id="x:673" class="id"><a name="x:673" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:671">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:671">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:672">m</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:673">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:672">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:671">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:673">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:672">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Proof.</span></div>
<div class="proofscript" id="proof252">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">bit_solve</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
<span class="id">*</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
<span class="id">*</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shru_zero_ext_0" class="id"><a name="Make.shru_zero_ext_0" class="">shru_zero_ext_0:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:674" class="id"><a name="n:674" class="">n</a></span> <span id="m:675" class="id"><a name="m:675" class="">m</a></span> <span id="x:676" class="id"><a name="x:676" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:674">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:675">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:674">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:676">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:675">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Proof.</span></div>
<div class="proofscript" id="proof253">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">bit_solve</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shr_sign_ext" class="id"><a name="Make.shr_sign_ext" class="">shr_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:677" class="id"><a name="n:677" class="">n</a></span> <span id="m:678" class="id"><a name="m:678" class="">m</a></span> <span id="x:679" class="id"><a name="x:679" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:677">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:677">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:678">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:677">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:678">m</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:679">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:678">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:677">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:679">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:678">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Proof.</span></div>
<div class="proofscript" id="proof254">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span>.<br/>
<span class="id">-</span> <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">,</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.zero_ext_shru_min" class="id"><a name="Make.zero_ext_shru_min" class="">zero_ext_shru_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:680" class="id"><a name="s:680" class="">s</a></span> <span id="x:681" class="id"><a name="x:681" class="">x</a></span> <span id="n:682" class="id"><a name="n:682" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:682">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:680">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:681">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:682">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:680">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:682">n</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:681">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:682">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof255')">Proof.</span></div>
<div class="proofscript" id="proof255">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case_strong">Z.min_case_strong</a></span><span class="id">;</span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">bit_solve;</span> <span class="id">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">s</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.sign_ext_shr_min" class="id"><a name="Make.sign_ext_shr_min" class="">sign_ext_shr_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:683" class="id"><a name="s:683" class="">s</a></span> <span id="x:684" class="id"><a name="x:684" class="">x</a></span> <span id="n:685" class="id"><a name="n:685" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:685">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:683">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:684">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:685">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:683">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:685">n</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:684">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:685">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof256')">Proof.</span></div>
<div class="proofscript" id="proof256">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_comm">Z.min_comm</a></span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_spec">Z.min_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]];</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)). <br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id">x</span> <span class="id">n</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">C</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">s</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shl_zero_ext_min" class="id"><a name="Make.shl_zero_ext_min" class="">shl_zero_ext_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:686" class="id"><a name="s:686" class="">s</a></span> <span id="x:687" class="id"><a name="x:687" class="">x</a></span> <span id="n:688" class="id"><a name="n:688" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:688">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:686">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:687">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:688">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:686">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:688">n</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#x:687">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:688">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof257')">Proof.</span></div>
<div class="proofscript" id="proof257">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case_strong">Z.min_case_strong</a></span><span class="id">;</span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.shl_sign_ext_min" class="id"><a name="Make.shl_sign_ext_min" class="">shl_sign_ext_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:689" class="id"><a name="s:689" class="">s</a></span> <span id="x:690" class="id"><a name="x:690" class="">x</a></span> <span id="n:691" class="id"><a name="n:691" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:691">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:689">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:690">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:691">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:689">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:691">n</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#x:690">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:691">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_comm">Z.min_comm</a></span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_spec">Z.min_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]];</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of <span class="bracket"><span class="id">one_bits</span></span> (decomposition in sum of powers of two) </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.one_bits_range" class="id"><a name="Make.one_bits_range" class="">one_bits_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:692" class="id"><a name="x:692" class="">x</a></span> <span id="i:693" class="id"><a name="i:693" class="">i,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:693">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:692">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:693">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="p:695" class="id"><span id="p:694" class="id"><a name="p:695" class="">p,</a></span></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#p:694">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#p:694">p</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="gallina-kwd">as</span> <span class="id">[i0</span> <span class="id">[EQ</span> <span class="id">IN]]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">i</span>. <span class="id">apply</span> <span class="id">A</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_range">Z_one_bits_range</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="Make.int_of_one_bits" class="id"><a name="Make.int_of_one_bits" class="">int_of_one_bits</a></span> (<span id="l:696" class="id"><a name="l:696" class="">l:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#l:696">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#int_of_one_bits:697">int_of_one_bits</a></span> <span class="id">b</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.one_bits_decomp" class="id"><a name="Make.one_bits_decomp" class="">one_bits_decomp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:699" class="id"><a name="x:699" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:699">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int_of_one_bits">int_of_one_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:699">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#powerserie">powerserie</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id">0</span>))).<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_powerserie">Z_one_bits_powerserie</a></span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_range">Z_one_bits_range</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">IHl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">H</span> <span class="id">a</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span> <span class="id">_</span> <span class="id">_</span>)). <span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of comparisons </h2>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.negate_cmp" class="id"><a name="Make.negate_cmp" class="">negate_cmp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:700" class="id"><a name="c:700" class="">c</a></span> <span id="x:701" class="id"><a name="x:701" class="">x</a></span> <span id="y:702" class="id"><a name="y:702" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#negate_comparison">negate_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:700">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:701">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:702">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:700">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:701">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:702">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">c;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_elim">negb_elim;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.negate_cmpu" class="id"><a name="Make.negate_cmpu" class="">negate_cmpu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:703" class="id"><a name="c:703" class="">c</a></span> <span id="x:704" class="id"><a name="x:704" class="">x</a></span> <span id="y:705" class="id"><a name="y:705" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#negate_comparison">negate_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:703">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:704">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:705">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:703">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:704">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:705">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">c;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_elim">negb_elim;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.swap_cmp" class="id"><a name="Make.swap_cmp" class="">swap_cmp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:706" class="id"><a name="c:706" class="">c</a></span> <span id="x:707" class="id"><a name="x:707" class="">x</a></span> <span id="y:708" class="id"><a name="y:708" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:706">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:707">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:708">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:706">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:708">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:707">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">c;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>. <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.swap_cmpu" class="id"><a name="Make.swap_cmpu" class="">swap_cmpu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:709" class="id"><a name="c:709" class="">c</a></span> <span id="x:710" class="id"><a name="x:710" class="">x</a></span> <span id="y:711" class="id"><a name="y:711" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:709">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:710">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:711">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:709">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:711">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:710">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof264')">Proof.</span></div>
<div class="proofscript" id="proof264">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">c;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>. <span class="id">decEq</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.translate_eq" class="id"><a name="Make.translate_eq" class="">translate_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:712" class="id"><a name="x:712" class="">x</a></span> <span id="y:713" class="id"><a name="y:713" class="">y</a></span> <span id="d:714" class="id"><a name="d:714" class="">d,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:712">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:714">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:713">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:714">d</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:712">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:713">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof265')">Proof.</span></div>
<div class="proofscript" id="proof265">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="id">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">rewrite</span> <span class="id">e</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">red;</span> <span class="id">intro</span>. <span class="id">apply</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_small_eq">eqm_small_eq;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="gallina-kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>) <span class="id">-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="gallina-kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>) <span class="id">-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>))).<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>))).<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.translate_ltu" class="id"><a name="Make.translate_ltu" class="">translate_ltu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:715" class="id"><a name="x:715" class="">x</a></span> <span id="y:716" class="id"><a name="y:716" class="">y</a></span> <span id="d:717" class="id"><a name="d:717" class="">d,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:715">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:717">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:716">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:717">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:715">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:717">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:716">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:717">d</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:715">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:716">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof266')">Proof.</span></div>
<div class="proofscript" id="proof266">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr;</a></span> <span class="id">auto</span>. <span class="id">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.translate_cmpu" class="id"><a name="Make.translate_cmpu" class="">translate_cmpu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:718" class="id"><a name="c:718" class="">c</a></span> <span id="x:719" class="id"><a name="x:719" class="">x</a></span> <span id="y:720" class="id"><a name="y:720" class="">y</a></span> <span id="d:721" class="id"><a name="d:721" class="">d,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:719">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:721">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:720">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:721">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:718">c</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:719">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:721">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:720">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:721">d</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:718">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:719">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:720">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof267')">Proof.</span></div>
<div class="proofscript" id="proof267">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_eq">translate_eq</a></span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_ltu">translate_ltu;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.translate_lt" class="id"><a name="Make.translate_lt" class="">translate_lt:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:722" class="id"><a name="x:722" class="">x</a></span> <span id="y:723" class="id"><a name="y:723" class="">y</a></span> <span id="d:724" class="id"><a name="d:724" class="">d,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:722">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:724">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:723">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:724">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:722">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:724">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:723">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:724">d</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:722">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:723">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof268')">Proof.</span></div>
<div class="proofscript" id="proof268">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_signed">add_signed</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr;</a></span> <span class="id">auto</span>. <span class="id">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>))<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.translate_cmp" class="id"><a name="Make.translate_cmp" class="">translate_cmp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:725" class="id"><a name="c:725" class="">c</a></span> <span id="x:726" class="id"><a name="x:726" class="">x</a></span> <span id="y:727" class="id"><a name="y:727" class="">y</a></span> <span id="d:728" class="id"><a name="d:728" class="">d,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:726">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:728">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:727">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:728">d</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:725">c</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:726">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:728">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:727">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d:728">d</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c:725">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:726">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:727">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof269')">Proof.</span></div>
<div class="proofscript" id="proof269">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_eq">translate_eq</a></span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_lt">translate_lt;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.notbool_isfalse_istrue" class="id"><a name="Make.notbool_isfalse_istrue" class="">notbool_isfalse_istrue:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:729" class="id"><a name="x:729" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:729">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:729">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof270')">Proof.</span></div>
<div class="proofscript" id="proof270">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool;</a></span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_true">eq_true</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_not_zero">one_not_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.notbool_istrue_isfalse" class="id"><a name="Make.notbool_istrue_isfalse" class="">notbool_istrue_isfalse:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:730" class="id"><a name="x:730" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:730">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:730">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof271')">Proof.</span></div>
<div class="proofscript" id="proof271">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>). <span class="id">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>)<span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.ltu_range_test" class="id"><a name="Make.ltu_range_test" class="">ltu_range_test:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:731" class="id"><a name="x:731" class="">x</a></span> <span id="y:732" class="id"><a name="y:732" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:731">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:732">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:732">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:731">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:732">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof272')">Proof.</span></div>
<div class="proofscript" id="proof272">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_eq_unsigned">signed_eq_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>). <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.lt_sub_overflow" class="id"><a name="Make.lt_sub_overflow" class="">lt_sub_overflow:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:733" class="id"><a name="x:733" class="">x</a></span> <span id="y:734" class="id"><a name="y:734" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub_overflow">sub_overflow</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:733">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:734">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.negative">negative</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:733">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:734">y</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:733">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:734">y</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof273')">Proof.</span></div>
<div class="proofscript" id="proof273">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.negative">negative,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_overflow">sub_overflow,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_signed">sub_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub_0_r">Z.sub_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">X</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>). <span class="id">intros</span> <span class="id">RX</span> <span class="id">RY</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus;</a></span> <span class="id">intros</span> <span class="id">HM</span> <span class="id">MM</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>)).<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="gallina-kwd">at</span> <span class="id">1;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">at</span> <span class="id">1</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="id">_</span> <span class="id">X</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_false">zle_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>))) <span class="gallina-kwd">with</span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr_eq">signed_repr_eq</a></span>. <span class="id">replace</span> ((<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="gallina-kwd">with</span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> <span class="id">0;</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="gallina-kwd">at</span> <span class="id">2</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">at</span> <span class="id">1</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="id">_</span> <span class="id">X</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-half_modulus</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_false">zle_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>))) <span class="gallina-kwd">with</span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr_eq">signed_repr_eq</a></span>. <span class="id">replace</span> ((<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="gallina-kwd">with</span> (<span class="id">X</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="gallina-kwd">with</span> (<span class="id">-1</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.signed_eq" class="id"><a name="Make.signed_eq" class="">signed_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:735" class="id"><a name="x:735" class="">x</a></span> <span id="y:736" class="id"><a name="y:736" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:735">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:736">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:735">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:736">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof274')">Proof.</span></div>
<div class="proofscript" id="proof274">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">n</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="id">rewrite</span> <span class="id">e;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">n</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_small_eq">eqm_small_eq;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.not_lt" class="id"><a name="Make.not_lt" class="">not_lt:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:737" class="id"><a name="x:737" class="">x</a></span> <span id="y:738" class="id"><a name="y:738" class="">y,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:738">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:737">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:737">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:738">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:737">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:738">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof275')">Proof.</span></div>
<div class="proofscript" id="proof275">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_eq">signed_eq</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.lt_not" class="id"><a name="Make.lt_not" class="">lt_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:739" class="id"><a name="x:739" class="">x</a></span> <span id="y:740" class="id"><a name="y:740" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:740">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:739">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:739">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:740">y</a></span>) &amp;&amp; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:739">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:740">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof276')">Proof.</span></div>
<div class="proofscript" id="proof276">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_orb">negb_orb</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not_lt">not_lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">negb_involutive</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.not_ltu" class="id"><a name="Make.not_ltu" class="">not_ltu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:741" class="id"><a name="x:741" class="">x</a></span> <span id="y:742" class="id"><a name="y:742" class="">y,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:742">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:741">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:741">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:742">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:741">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:742">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof277')">Proof.</span></div>
<div class="proofscript" id="proof277">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.ltu_not" class="id"><a name="Make.ltu_not" class="">ltu_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:743" class="id"><a name="x:743" class="">x</a></span> <span id="y:744" class="id"><a name="y:744" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:744">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:743">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:743">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:744">y</a></span>) &amp;&amp; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:743">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:744">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof278')">Proof.</span></div>
<div class="proofscript" id="proof278">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_orb">negb_orb</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not_ltu">not_ltu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">negb_involutive</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Non-overlapping test </h2>
<br/>
<span class="vernacular">Definition</span> <span id="Make.no_overlap" class="id"><a name="Make.no_overlap" class="">no_overlap</a></span> (<span id="ofs1:745" class="id"><a name="ofs1:745" class="">ofs1:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span id="sz1:746" class="id"><a name="sz1:746" class="">sz1:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="ofs2:747" class="id"><a name="ofs2:747" class="">ofs2:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span id="sz2:748" class="id"><a name="sz2:748" class="">sz2:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="x1:749" class="id"><a name="x1:749" class="">x1</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1:745">ofs1</a></span> <span class="gallina-kwd">in</span> <span class="gallina-kwd">let</span> <span id="x2:750" class="id"><a name="x2:750" class="">x2</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2:747">ofs2</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x1:749">x1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz1:746">sz1</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x2:750">x2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz2:748">sz2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span><br/>
&nbsp;&nbsp;&amp;&amp; (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x1:749">x1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz1:746">sz1</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x2:750">x2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x2:750">x2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz2:748">sz2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x1:749">x1</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.no_overlap_sound" class="id"><a name="Make.no_overlap_sound" class="">no_overlap_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ofs1:751" class="id"><a name="ofs1:751" class="">ofs1</a></span> <span id="sz1:752" class="id"><a name="sz1:752" class="">sz1</a></span> <span id="ofs2:753" class="id"><a name="ofs2:753" class="">ofs2</a></span> <span id="sz2:754" class="id"><a name="sz2:754" class="">sz2</a></span> <span id="base:755" class="id"><a name="base:755" class="">base,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#sz1:752">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz2:754">sz2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.no_overlap">no_overlap</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1:751">ofs1</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz1:752">sz1</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2:753">ofs2</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz2:754">sz2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base:755">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1:751">ofs1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz1:752">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base:755">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2:753">ofs2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base:755">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2:753">ofs2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz2:754">sz2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base:755">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1:751">ofs1</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof279')">Proof.</span></div>
<div class="proofscript" id="proof279">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="id">clear</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>). <span class="id">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span> <span class="gallina-kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">sz1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">sz2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs1</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_prop">orb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span>). <span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true;</a></span> <span class="id">eauto</span>. <span class="id">right</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">clear</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">ofs2</span>). <span class="id">intros</span> <span class="id">P</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_add_either">unsigned_add_either</a></span> <span class="id">base</span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_add_either">unsigned_add_either</a></span> <span class="id">base</span> <span class="id">ofs2</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[C|C]</span> <span class="id">[D|D];</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Size of integers, in bits. </h2>
<br/>
<span class="vernacular">Definition</span> <span id="Make.size" class="id"><a name="Make.size" class="">size</a></span> (<span id="x:756" class="id"><a name="x:756" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsize">Zsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:756">x</a></span>).<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.size_zero" class="id"><a name="Make.size_zero" class="">size_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof280')">Proof.</span></div>
<div class="proofscript" id="proof280">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.bits_size_1" class="id"><a name="Make.bits_size_1" class="">bits_size_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:757" class="id"><a name="x:757" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:757">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:757">x</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:757">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof281')">Proof.</span></div>
<div class="proofscript" id="proof281">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>). <span class="id">rewrite</span> <span class="id">e;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_size_1">Ztestbit_size_1</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.bits_size_2" class="id"><a name="Make.bits_size_2" class="">bits_size_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:758" class="id"><a name="x:758" class="">x</a></span> <span id="i:759" class="id"><a name="i:759" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:758">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:759">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:758">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:759">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof282')">Proof.</span></div>
<div class="proofscript" id="proof282">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_size_2">Ztestbit_size_2</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.size_range" class="id"><a name="Make.size_range" class="">size_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:760" class="id"><a name="x:760" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:760">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof283')">Proof.</span></div>
<div class="proofscript" id="proof283">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsize_pos">Zsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero;</a></span> <span class="id">simpl</span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.bits_size_3" class="id"><a name="Make.bits_size_3" class="">bits_size_3:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:761" class="id"><a name="x:761" class="">x</a></span> <span id="n:762" class="id"><a name="n:762" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:762">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:763" class="id"><a name="i:763" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:762">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:763">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:761">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:763">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:761">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:762">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof284')">Proof.</span></div>
<div class="proofscript" id="proof284">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>) <span class="id">n</span>). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero;</a></span> <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">H0</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>))) <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.bits_size_4" class="id"><a name="Make.bits_size_4" class="">bits_size_4:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:764" class="id"><a name="x:764" class="">x</a></span> <span id="n:765" class="id"><a name="n:765" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:765">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:764">x</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:765">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:766" class="id"><a name="i:766" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:765">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:766">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:764">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:766">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:764">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:765">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof285')">Proof.</span></div>
<div class="proofscript" id="proof285">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_3">bits_size_3;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>) <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">congruence</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.size_interval_1" class="id"><a name="Make.size_interval_1" class="">size_interval_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:767" class="id"><a name="x:767" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:767">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:767">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof286')">Proof.</span></div>
<div class="proofscript" id="proof286">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsize_interval_1">Zsize_interval_1</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.size_interval_2" class="id"><a name="Make.size_interval_2" class="">size_interval_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:768" class="id"><a name="x:768" class="">x</a></span> <span id="n:769" class="id"><a name="n:769" class="">n,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:769">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:768">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:769">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:769">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:768">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof287')">Proof.</span></div>
<div class="proofscript" id="proof287">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsize_interval_2">Zsize_interval_2;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.size_and" class="id"><a name="Make.size_and" class="">size_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:770" class="id"><a name="a:770" class="">a</a></span> <span id="b:771" class="id"><a name="b:771" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:770">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:771">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:770">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:771">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof288')">Proof.</span></div>
<div class="proofscript" id="proof288">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">b</span>). <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_3">bits_size_3</a></span>. <span class="id">auto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_iff">andb_false_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span> <span class="id">a</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span> <span class="id">b</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">zify;</span> <span class="id">intuition</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">zarith</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.and_interval" class="id"><a name="Make.and_interval" class="">and_interval:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:772" class="id"><a name="a:772" class="">a</a></span> <span id="b:773" class="id"><a name="b:773" class="">b,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:772">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:773">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:772">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:773">b</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof289')">Proof.</span></div>
<div class="proofscript" id="proof289">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_interval_1">size_interval_1</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">a</span> <span class="id">b</span>))<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">a</span> <span class="id">b</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone">two_p_monotone</a></span>. <span class="id">split</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">a</span> <span class="id">b</span>))<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_and">size_and</a></span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.size_or" class="id"><a name="Make.size_or" class="">size_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:774" class="id"><a name="a:774" class="">a</a></span> <span id="b:775" class="id"><a name="b:775" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:774">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:775">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:774">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:775">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof290')">Proof.</span></div>
<div class="proofscript" id="proof290">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">a</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_zero">size_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_zero_l">or_zero_l</a></span>. <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">b</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_zero">size_zero</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_zero">or_zero</a></span>. <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">zify</span>. <span class="id">destruct</span> <span class="id">H3</span> <span class="gallina-kwd">as</span> <span class="id">[[P</span> <span class="id">Q]</span> <span class="id">|</span> <span class="id">[P</span> <span class="id">Q]];</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_4">bits_size_4</a></span>. <span class="id">tauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="id">rewrite</span> <span class="id">!bits_size_2</span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_4">bits_size_4</a></span>. <span class="id">tauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_l">orb_true_l</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) <span class="id">0</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_neg_r">Z.testbit_neg_r</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="id">rewrite</span> <span class="id">!bits_size_2</span>. <span class="id">auto</span>. <span class="id">lia</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.or_interval" class="id"><a name="Make.or_interval" class="">or_interval:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:776" class="id"><a name="a:776" class="">a</a></span> <span id="b:777" class="id"><a name="b:777" class="">b,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:776">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:777">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:776">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:777">b</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof291')">Proof.</span></div>
<div class="proofscript" id="proof291">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_or">size_or</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_interval_1">size_interval_1</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Make.size_xor" class="id"><a name="Make.size_xor" class="">size_xor:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:778" class="id"><a name="a:778" class="">a</a></span> <span id="b:779" class="id"><a name="b:779" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:778">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:779">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:778">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:779">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof292')">Proof.</span></div>
<div class="proofscript" id="proof292">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">b</span>). <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_3">bits_size_3</a></span>. <span class="id">auto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>. <span class="id">rewrite</span> <span class="id">!bits_size_2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="Make.xor_interval" class="id"><a name="Make.xor_interval" class="">xor_interval:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:780" class="id"><a name="a:780" class="">a</a></span> <span id="b:781" class="id"><a name="b:781" class="">b,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:780">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:781">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:780">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:781">b</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof293')">Proof.</span></div>
<div class="proofscript" id="proof293">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_interval_1">size_interval_1</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">a</span> <span class="id">b</span>))<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">a</span> <span class="id">b</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone">two_p_monotone</a></span>. <span class="id">split</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">a</span> <span class="id">b</span>))<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_xor">size_xor</a></span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<h2> Accessing bit fields </h2>
<br/>
<span class="vernacular">Definition</span> <span id="Make.unsigned_bitfield_extract" class="id"><a name="Make.unsigned_bitfield_extract" class="">unsigned_bitfield_extract</a></span> (<span id="pos:782" class="id"><a name="pos:782" class="">pos</a></span> <span id="width:783" class="id"><a name="width:783" class="">width:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="n:784" class="id"><a name="n:784" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:783">width</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:784">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:782">pos</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.signed_bitfield_extract" class="id"><a name="Make.signed_bitfield_extract" class="">signed_bitfield_extract</a></span> (<span id="pos:785" class="id"><a name="pos:785" class="">pos</a></span> <span id="width:786" class="id"><a name="width:786" class="">width:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="n:787" class="id"><a name="n:787" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:786">width</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:787">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:785">pos</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Make.bitfield_insert" class="id"><a name="Make.bitfield_insert" class="">bitfield_insert</a></span> (<span id="pos:788" class="id"><a name="pos:788" class="">pos</a></span> <span id="width:789" class="id"><a name="width:789" class="">width:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="n:790" class="id"><a name="n:790" class="">n</a></span> <span id="p:791" class="id"><a name="p:791" class="">p:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="mask:792" class="id"><a name="mask:792" class="">mask</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:789">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:788">pos</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:789">width</a></span> <span class="id"><a href="compcert.lib.Integers.html#p:791">p</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:788">pos</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:790">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#mask:792">mask</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_unsigned_bitfield_extract" class="id"><a name="Make.bits_unsigned_bitfield_extract" class="">bits_unsigned_bitfield_extract:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="pos:793" class="id"><a name="pos:793" class="">pos</a></span> <span id="width:794" class="id"><a name="width:794" class="">width</a></span> <span id="n:795" class="id"><a name="n:795" class="">n</a></span> <span id="i:796" class="id"><a name="i:796" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:793">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:794">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:793">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:794">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:796">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_bitfield_extract">unsigned_bitfield_extract</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:793">pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:794">width</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:795">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:796">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:796">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:794">width</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:795">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:796">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:793">pos</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof294')">Proof.</span></div>
<div class="proofscript" id="proof294">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_bitfield_extract">unsigned_bitfield_extract</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">width</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_signed_bitfield_extract" class="id"><a name="Make.bits_signed_bitfield_extract" class="">bits_signed_bitfield_extract:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="pos:797" class="id"><a name="pos:797" class="">pos</a></span> <span id="width:798" class="id"><a name="width:798" class="">width</a></span> <span id="n:799" class="id"><a name="n:799" class="">n</a></span> <span id="i:800" class="id"><a name="i:800" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:797">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:798">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:797">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:798">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:800">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_bitfield_extract">signed_bitfield_extract</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:797">pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:798">width</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:799">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:800">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:799">n</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:800">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:798">width</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i:800">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:797">pos</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#width:798">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:797">pos</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof295')">Proof.</span></div>
<div class="proofscript" id="proof295">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_bitfield_extract">signed_bitfield_extract</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">width</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">width</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">width</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bits_bitfield_insert" class="id"><a name="Make.bits_bitfield_insert" class="">bits_bitfield_insert:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="pos:801" class="id"><a name="pos:801" class="">pos</a></span> <span id="width:802" class="id"><a name="width:802" class="">width</a></span> <span id="n:803" class="id"><a name="n:803" class="">n</a></span> <span id="p:804" class="id"><a name="p:804" class="">p</a></span> <span id="i:805" class="id"><a name="i:805" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:801">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:802">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:801">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:802">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:805">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bitfield_insert">bitfield_insert</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:801">pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:802">width</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:803">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#p:804">p</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:805">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:801">pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:805">i</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:805">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#pos:801">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:802">width</a></span>) <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#p:804">p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:805">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:801">pos</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:803">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:805">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof296')">Proof.</span></div>
<div class="proofscript" id="proof296">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitfield_insert">bitfield_insert</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">P:</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">pos</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">pos</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_not">bits_not,</a></span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl,</a></span> <span class="id">!</span> <span class="id">P</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">pos</span>).<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_false">zle_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">cbn</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr,</a></span> <span class="id"><a href="compcert.lib.Zbits.html#Ztestbit_two_p_m1">Ztestbit_two_p_m1</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">pos</span>) <span class="id">width</span>)<span class="id">;</span> <span class="id">cbn</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.unsigned_bitfield_extract_by_shifts" class="id"><a name="Make.unsigned_bitfield_extract_by_shifts" class="">unsigned_bitfield_extract_by_shifts:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="pos:806" class="id"><a name="pos:806" class="">pos</a></span> <span id="width:807" class="id"><a name="width:807" class="">width</a></span> <span id="n:808" class="id"><a name="n:808" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:806">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:807">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:806">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:807">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_bitfield_extract">unsigned_bitfield_extract</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:806">pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:807">width</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:808">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:808">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:806">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:807">width</a></span>))) (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:807">width</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof297')">Proof.</span></div>
<div class="proofscript" id="proof297">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_unsigned_bitfield_extract">bits_unsigned_bitfield_extract</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> (<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">width</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> (<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.signed_bitfield_extract_by_shifts" class="id"><a name="Make.signed_bitfield_extract_by_shifts" class="">signed_bitfield_extract_by_shifts:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="pos:809" class="id"><a name="pos:809" class="">pos</a></span> <span id="width:810" class="id"><a name="width:810" class="">width</a></span> <span id="n:811" class="id"><a name="n:811" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:809">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:810">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:809">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:810">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.signed_bitfield_extract">signed_bitfield_extract</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:809">pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:810">width</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:811">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:811">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:809">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:810">width</a></span>))) (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:810">width</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof298')">Proof.</span></div>
<div class="proofscript" id="proof298">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_signed_bitfield_extract">bits_signed_bitfield_extract</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> (<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> (<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">width</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false];</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Make.bitfield_insert_alternative" class="id"><a name="Make.bitfield_insert_alternative" class="">bitfield_insert_alternative:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="pos:812" class="id"><a name="pos:812" class="">pos</a></span> <span id="width:813" class="id"><a name="width:813" class="">width</a></span> <span id="n:814" class="id"><a name="n:814" class="">n</a></span> <span id="p:815" class="id"><a name="p:815" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:813">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.bitfield_insert">bitfield_insert</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:812">pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:813">width</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:814">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#p:815">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="mask:816" class="id"><a name="mask:816" class="">mask</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#width:813">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:812">pos</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#p:815">p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#pos:812">pos</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#mask:816">mask</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:814">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#mask:816">mask</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof299')">Proof.</span></div>
<div class="proofscript" id="proof299">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitfield_insert">bitfield_insert</a></span>. <br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">m1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">width</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">m2</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id">m1</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">pos</span>)).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_and">zero_ext_and</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">fold</span> <span class="id">m1</span>. <span class="id">unfold</span> <span class="id">m2</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_shl">and_shl</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>.<br/>
<br/>
<h1> Specialization to integers of size 8, 32, and 64 bits </h1>
<br/>
<span class="vernacular">Module</span> <span id="Wordsize_32" class="id"><a name="Wordsize_32" class="">Wordsize_32</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="Wordsize_32.wordsize" class="id"><a name="Wordsize_32.wordsize" class="">wordsize</a></span> <span class="id">:=</span> <span class="id">32</span>%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Remark</span> <span id="Wordsize_32.wordsize_not_zero" class="id"><a name="Wordsize_32.wordsize_not_zero" class="">wordsize_not_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_32.wordsize">wordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>%<span class="id">nat</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof300')">Proof.</span></div>
<div class="proofscript" id="proof300">
 <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_32.wordsize">wordsize;</a></span> <span class="id">congruence</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_32">Wordsize_32</a></span>.<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">opaque</span> <span class="id">[Wordsize_32</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Int" class="id"><a name="Int" class="">Int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_32">Wordsize_32</a></span>).<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">0</span> <span class="id">[Wordsize_32</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="int" class="id"><a name="int" class="">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#int">Int.int</a></span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="int_wordsize_divides_modulus" class="id"><a name="int_wordsize_divides_modulus" class="">int_wordsize_divides_modulus:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide">Z.divide</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#wordsize">Int.wordsize</a></span>) <span class="id"><a href="compcert.lib.Integers.html#modulus">Int.modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof301')">Proof.</span></div>
<div class="proofscript" id="proof301">
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">32-5</span>))<span class="id">;</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="Wordsize_8" class="id"><a name="Wordsize_8" class="">Wordsize_8</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="Wordsize_8.wordsize" class="id"><a name="Wordsize_8.wordsize" class="">wordsize</a></span> <span class="id">:=</span> <span class="id">8</span>%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Remark</span> <span id="Wordsize_8.wordsize_not_zero" class="id"><a name="Wordsize_8.wordsize_not_zero" class="">wordsize_not_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_8.wordsize">wordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>%<span class="id">nat</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof302')">Proof.</span></div>
<div class="proofscript" id="proof302">
 <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_8.wordsize">wordsize;</a></span> <span class="id">congruence</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_8">Wordsize_8</a></span>.<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">opaque</span> <span class="id">[Wordsize_8</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Byte" class="id"><a name="Byte" class="">Byte</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_8">Wordsize_8</a></span>).<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">0</span> <span class="id">[Wordsize_8</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="byte" class="id"><a name="byte" class="">byte</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#int">Byte.int</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Wordsize_64" class="id"><a name="Wordsize_64" class="">Wordsize_64</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="Wordsize_64.wordsize" class="id"><a name="Wordsize_64.wordsize" class="">wordsize</a></span> <span class="id">:=</span> <span class="id">64</span>%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Remark</span> <span id="Wordsize_64.wordsize_not_zero" class="id"><a name="Wordsize_64.wordsize_not_zero" class="">wordsize_not_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_64.wordsize">wordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>%<span class="id">nat</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof303')">Proof.</span></div>
<div class="proofscript" id="proof303">
 <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_64.wordsize">wordsize;</a></span> <span class="id">congruence</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_64">Wordsize_64</a></span>.<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">opaque</span> <span class="id">[Wordsize_64</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Int64" class="id"><a name="Int64" class="">Int64</a></span>.<br/>
<br/>
<span class="vernacular">Include</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_64">Wordsize_64</a></span>).<br/>
<br/>
<div class="doc">Shifts with amount given as a 32-bit integer </div>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.iwordsize'" class="id"><a name="Int64.iwordsize'" class="">iwordsize':</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.shl'" class="id"><a name="Int64.shl'" class="">shl'</a></span> (<span id="x:817" class="id"><a name="x:817" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span id="y:818" class="id"><a name="y:818" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:817">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:818">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Int64.shru'" class="id"><a name="Int64.shru'" class="">shru'</a></span> (<span id="x:819" class="id"><a name="x:819" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span id="y:820" class="id"><a name="y:820" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:819">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:820">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Int64.shr'" class="id"><a name="Int64.shr'" class="">shr'</a></span> (<span id="x:821" class="id"><a name="x:821" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span id="y:822" class="id"><a name="y:822" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:821">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:822">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Int64.rol'" class="id"><a name="Int64.rol'" class="">rol'</a></span> (<span id="x:823" class="id"><a name="x:823" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span id="y:824" class="id"><a name="y:824" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:823">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:824">y</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Int64.shrx'" class="id"><a name="Int64.shrx'" class="">shrx'</a></span> (<span id="x:825" class="id"><a name="x:825" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span id="y:826" class="id"><a name="y:826" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:825">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:826">y</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Int64.shr_carry'" class="id"><a name="Int64.shr_carry'" class="">shr_carry'</a></span> (<span id="x:827" class="id"><a name="x:827" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span id="y:828" class="id"><a name="y:828" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:827">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span> &amp;&amp; <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:827">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:828">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.bits_shl'" class="id"><a name="Int64.bits_shl'" class="">bits_shl':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:829" class="id"><a name="x:829" class="">x</a></span> <span id="y:830" class="id"><a name="y:830" class="">y</a></span> <span id="i:831" class="id"><a name="i:831" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:831">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:829">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:830">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:831">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:831">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:830">y</a></span>) <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:829">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:831">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:830">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof304')">Proof.</span></div>
<div class="proofscript" id="proof304">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.bits_shru'" class="id"><a name="Int64.bits_shru'" class="">bits_shru':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:832" class="id"><a name="x:832" class="">x</a></span> <span id="y:833" class="id"><a name="y:833" class="">y</a></span> <span id="i:834" class="id"><a name="i:834" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:834">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:832">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:833">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:834">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:834">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:833">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:832">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:834">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:833">y</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof305')">Proof.</span></div>
<div class="proofscript" id="proof305">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_above">bits_above;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.bits_shr'" class="id"><a name="Int64.bits_shr'" class="">bits_shr':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:835" class="id"><a name="x:835" class="">x</a></span> <span id="y:836" class="id"><a name="y:836" class="">y</a></span> <span id="i:837" class="id"><a name="i:837" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:837">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:835">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:836">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:837">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:835">x</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:837">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:836">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i:837">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:836">y</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof306')">Proof.</span></div>
<div class="proofscript" id="proof306">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_signed">bits_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shl'_mul_two_p" class="id"><a name="Int64.shl'_mul_two_p" class="">shl'_mul_two_p:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:838" class="id"><a name="x:838" class="">x</a></span> <span id="y:839" class="id"><a name="y:839" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:838">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:839">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:838">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:839">y</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof307')">Proof.</span></div>
<div class="proofscript" id="proof307">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zshiftl_mul_two_p">Zshiftl_mul_two_p</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mult">eqm_mult</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shl'_one_two_p" class="id"><a name="Int64.shl'_one_two_p" class="">shl'_one_two_p:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="y:840" class="id"><a name="y:840" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:840">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:840">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof308')">Proof.</span></div>
<div class="proofscript" id="proof308">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'_mul_two_p">shl'_mul_two_p</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul_commut">mul_commut</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul_one">mul_one</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shl'_mul" class="id"><a name="Int64.shl'_mul" class="">shl'_mul:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:841" class="id"><a name="x:841" class="">x</a></span> <span id="y:842" class="id"><a name="y:842" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:841">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:842">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:841">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:842">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof309')">Proof.</span></div>
<div class="proofscript" id="proof309">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'_one_two_p">shl'_one_two_p</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'_mul_two_p">shl'_mul_two_p</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shl'_zero" class="id"><a name="Int64.shl'_zero" class="">shl'_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:843" class="id"><a name="x:843" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:843">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:843">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof310')">Proof.</span></div>
<div class="proofscript" id="proof310">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shru'_zero" class="id"><a name="Int64.shru'_zero" class="">shru'_zero</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:844" class="id"><a name="x:844" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:844">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:844">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof311')">Proof.</span></div>
<div class="proofscript" id="proof311">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shr'_zero" class="id"><a name="Int64.shr'_zero" class="">shr'_zero</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:845" class="id"><a name="x:845" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:845">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:845">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof312')">Proof.</span></div>
<div class="proofscript" id="proof312">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_signed">repr_signed</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shrx'_zero" class="id"><a name="Int64.shrx'_zero" class="">shrx'_zero:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:846" class="id"><a name="x:846" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx'">shrx'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:846">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:846">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof313')">Proof.</span></div>
<div class="proofscript" id="proof313">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx'">shrx'</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx">shrx</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx_zero">shrx_zero</a></span>. <span class="id">compute;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shrx'_carry" class="id"><a name="Int64.shrx'_carry" class="">shrx'_carry:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:847" class="id"><a name="x:847" class="">x</a></span> <span id="y:848" class="id"><a name="y:848" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:848">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx'">shrx'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:847">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:848">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:847">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:848">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr_carry'">shr_carry'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:847">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:848">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof314')">Proof.</span></div>
<div class="proofscript" id="proof314">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>)) <span class="gallina-kwd">with</span> <span class="id">63</span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">U:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">y1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>. <span class="id">assert</span> (<span class="id">63</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx">shrx</a></span> <span class="id">x</span> <span class="id">y1</span>).<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx'">shrx',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx">shrx,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span>. <span class="id">rewrite</span> <span class="id">U;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx_carry">shrx_carry</a></span>. <br/>
<span class="id">+</span> <span class="id">f_equal</span>. <br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span>. <span class="id">rewrite</span> <span class="id">U;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr_carry">shr_carry,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr_carry'">shr_carry',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span>. <span class="id">rewrite</span> <span class="id">U;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">U;</span> <span class="id">tauto</span>. <br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shrx'_shr_2" class="id"><a name="Int64.shrx'_shr_2" class="">shrx'_shr_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:849" class="id"><a name="x:849" class="">x</a></span> <span id="y:850" class="id"><a name="y:850" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:850">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx'">shrx'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:849">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:850">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:849">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:849">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">64</span>) <span class="id"><a href="compcert.lib.Integers.html#y:850">y</a></span>))) <span class="id"><a href="compcert.lib.Integers.html#y:850">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof315')">Proof.</span></div>
<div class="proofscript" id="proof315">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">z</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>)) <span class="gallina-kwd">with</span> <span class="id">63</span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">N1:</span> <span class="id">63</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">N2:</span> <span class="id">63</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">z;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr;</a></span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id">64</span>) <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">64</span>) <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">z</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id">64</span>)) <span class="gallina-kwd">with</span> <span class="id">64</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">64</span>)) <span class="gallina-kwd">with</span> <span class="id">64</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx'">shrx',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id">63</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx_shr_2">shrx_shr_2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">63</span>). <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Int64.int_ltu_2_inv" class="id"><a name="Int64.int_ltu_2_inv" class="">int_ltu_2_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="y:851" class="id"><a name="y:851" class="">y</a></span> <span id="z:852" class="id"><a name="z:852" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:851">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:852">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:851">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:852">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="y':853" class="id"><a name="y':853" class="">y'</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:851">y</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="z':854" class="id"><a name="z':854" class="">z'</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:852">z</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:851">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y':853">y'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:852">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z':854">z'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y':853">y'</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z':854">z'</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:851">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:852">z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y':853">y'</a></span> <span class="id"><a href="compcert.lib.Integers.html#z':854">z'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y':853">y'</a></span> <span class="id"><a href="compcert.lib.Integers.html#z':854">z'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:851">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:852">z</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof316')">Proof.</span></div>
<div class="proofscript" id="proof316">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id">64</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">128</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">128</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Y:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">y'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Z:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">z'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr;</a></span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">P:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y'</span> <span class="id">z'</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intuition</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">Y;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">Z;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">P</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.or_ror'" class="id"><a name="Int64.or_ror'" class="">or_ror':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:855" class="id"><a name="x:855" class="">x</a></span> <span id="y:856" class="id"><a name="y:856" class="">y</a></span> <span id="z:857" class="id"><a name="z:857" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:856">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:857">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:856">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:857">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:855">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:857">z</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:855">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:856">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:855">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:857">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof317')">Proof.</span></div>
<div class="proofscript" id="proof317">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="gallina-kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H1;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>))).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id">x</span> <span class="id">z</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.or_ror">or_ror;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">F,</span> <span class="id">H1</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru';</a></span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl';</a></span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shl'_shl'" class="id"><a name="Int64.shl'_shl'" class="">shl'_shl':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:858" class="id"><a name="x:858" class="">x</a></span> <span id="y:859" class="id"><a name="y:859" class="">y</a></span> <span id="z:860" class="id"><a name="z:860" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:859">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:860">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:859">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:860">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:858">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:859">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:860">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:858">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:859">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:860">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof318')">Proof.</span></div>
<div class="proofscript" id="proof318">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="gallina-kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">z'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> <span class="id">y'</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> <span class="id">y'</span>) <span class="id">z</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> <span class="id">y'</span>) <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y'</span> <span class="id">z'</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl_shl">shl_shl;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="gallina-kwd">at</span> <span class="id">1,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl';</a></span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shru'_shru'" class="id"><a name="Int64.shru'_shru'" class="">shru'_shru':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:861" class="id"><a name="x:861" class="">x</a></span> <span id="y:862" class="id"><a name="y:862" class="">y</a></span> <span id="z:863" class="id"><a name="z:863" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:862">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:863">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:862">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:863">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:861">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:862">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:863">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:861">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:862">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:863">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof319')">Proof.</span></div>
<div class="proofscript" id="proof319">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="gallina-kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">z'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> <span class="id">y'</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> <span class="id">y'</span>) <span class="id">z</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> <span class="id">y'</span>) <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y'</span> <span class="id">z'</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru_shru">shru_shru;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="gallina-kwd">at</span> <span class="id">1,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru';</a></span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shr'_shr'" class="id"><a name="Int64.shr'_shr'" class="">shr'_shr':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:864" class="id"><a name="x:864" class="">x</a></span> <span id="y:865" class="id"><a name="y:865" class="">y</a></span> <span id="z:866" class="id"><a name="z:866" class="">z,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:865">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:866">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:865">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:866">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:864">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:865">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:866">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:864">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:865">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:866">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof320')">Proof.</span></div>
<div class="proofscript" id="proof320">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="gallina-kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">y'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">z'</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>)) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> <span class="id">y'</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> <span class="id">y'</span>) <span class="id">z</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> <span class="id">y'</span>) <span class="id">z'</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y'</span> <span class="id">z'</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr_shr">shr_shr;</a></span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="gallina-kwd">at</span> <span class="id">1,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr';</a></span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shru'_shl'" class="id"><a name="Int64.shru'_shl'" class="">shru'_shl':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:867" class="id"><a name="x:867" class="">x</a></span> <span id="y:868" class="id"><a name="y:868" class="">y</a></span> <span id="z:869" class="id"><a name="z:869" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:868">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:869">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:867">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:868">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:869">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:869">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:868">y</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:868">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:867">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:868">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:869">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:869">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:867">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:869">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:868">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof321')">Proof.</span></div>
<div class="proofscript" id="proof321">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">set</span> (<span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">set</span> (<span class="id">Z</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">fold</span> <span class="id">Z</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">Z</span> <span class="id">Y</span>).<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl',</a></span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">fold</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>))<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">z</span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru',</a></span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">fold</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id">Y</span>).<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.shr'_shl'" class="id"><a name="Int64.shr'_shl'" class="">shr'_shl':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:870" class="id"><a name="x:870" class="">x</a></span> <span id="y:871" class="id"><a name="y:871" class="">y</a></span> <span id="z:872" class="id"><a name="z:872" class="">z,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:871">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:872">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:870">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:871">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z:872">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:872">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:871">y</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:871">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:870">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:871">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:872">z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:872">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:870">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#z:872">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:871">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof322')">Proof.</span></div>
<div class="proofscript" id="proof322">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">set</span> (<span class="id">Y</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">set</span> (<span class="id">Z</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">fold</span> <span class="id">Z</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>). <span class="id">fold</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">Z</span> <span class="id">Y</span>).<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl',</a></span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id">Y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>)).<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">z</span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">Z</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>))<span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Z</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Z</span>)).<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shl'_zero_ext" class="id"><a name="Int64.shl'_zero_ext" class="">shl'_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:873" class="id"><a name="n:873" class="">n</a></span> <span id="m:874" class="id"><a name="m:874" class="">m</a></span> <span id="x:875" class="id"><a name="x:875" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:873">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:873">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:875">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:874">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:873">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:874">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:875">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:874">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof323')">Proof.</span></div>
<div class="proofscript" id="proof323">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext,</a></span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>)).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>) <span class="id">n</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shl'_sign_ext" class="id"><a name="Int64.shl'_sign_ext" class="">shl'_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:876" class="id"><a name="n:876" class="">n</a></span> <span id="m:877" class="id"><a name="m:877" class="">m</a></span> <span id="x:878" class="id"><a name="x:878" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:876">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:876">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:878">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:877">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:876">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:877">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:878">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:877">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof324')">Proof.</span></div>
<div class="proofscript" id="proof324">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext,</a></span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>)).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shru'_zero_ext" class="id"><a name="Int64.shru'_zero_ext" class="">shru'_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:879" class="id"><a name="n:879" class="">n</a></span> <span id="m:880" class="id"><a name="m:880" class="">m</a></span> <span id="x:881" class="id"><a name="x:881" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:879">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:879">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:880">m</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:881">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:880">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:879">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:881">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:880">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof325')">Proof.</span></div>
<div class="proofscript" id="proof325">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">bit_solve;</span> <span class="id">[|lia]</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
<span class="id">*</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia|rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia];</span> <span class="id">auto</span>.<br/>
<span class="id">*</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shru'_zero_ext_0" class="id"><a name="Int64.shru'_zero_ext_0" class="">shru'_zero_ext_0:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:882" class="id"><a name="n:882" class="">n</a></span> <span id="m:883" class="id"><a name="m:883" class="">m</a></span> <span id="x:884" class="id"><a name="x:884" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:882">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:883">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:882">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:884">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:883">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof326')">Proof.</span></div>
<div class="proofscript" id="proof326">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shr'_sign_ext" class="id"><a name="Int64.shr'_sign_ext" class="">shr'_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:885" class="id"><a name="n:885" class="">n</a></span> <span id="m:886" class="id"><a name="m:886" class="">m</a></span> <span id="x:887" class="id"><a name="x:887" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:885">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:885">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:886">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n:885">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:886">m</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x:887">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m:886">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:885">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:887">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m:886">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof327')">Proof.</span></div>
<div class="proofscript" id="proof327">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span>.<br/>
<span class="id">-</span> <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">,</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.zero_ext_shru'_min" class="id"><a name="Int64.zero_ext_shru'_min" class="">zero_ext_shru'_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:888" class="id"><a name="s:888" class="">s</a></span> <span id="x:889" class="id"><a name="x:889" class="">x</a></span> <span id="n:890" class="id"><a name="n:890" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:890">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:888">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:889">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:890">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:888">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:890">n</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:889">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:890">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof328')">Proof.</span></div>
<div class="proofscript" id="proof328">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case_strong">Z.min_case_strong</a></span><span class="id">;</span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">bit_solve;</span> <span class="id">try</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">s</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.sign_ext_shr'_min" class="id"><a name="Int64.sign_ext_shr'_min" class="">sign_ext_shr'_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:891" class="id"><a name="s:891" class="">s</a></span> <span id="x:892" class="id"><a name="x:892" class="">x</a></span> <span id="n:893" class="id"><a name="n:893" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:893">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:891">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:892">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:893">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:891">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:893">n</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:892">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:893">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof329')">Proof.</span></div>
<div class="proofscript" id="proof329">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_comm">Z.min_comm</a></span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_spec">Z.min_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]];</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>)). <br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> <span class="id">x</span> <span class="id">n</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">C</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">s</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shl'_zero_ext_min" class="id"><a name="Int64.shl'_zero_ext_min" class="">shl'_zero_ext_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:894" class="id"><a name="s:894" class="">s</a></span> <span id="x:895" class="id"><a name="x:895" class="">x</a></span> <span id="n:896" class="id"><a name="n:896" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:896">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:894">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:895">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:896">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">zero_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:894">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:896">n</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#x:895">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:896">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof330')">Proof.</span></div>
<div class="proofscript" id="proof330">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case_strong">Z.min_case_strong</a></span><span class="id">;</span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_zero_ext">bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.shl'_sign_ext_min" class="id"><a name="Int64.shl'_sign_ext_min" class="">shl'_sign_ext_min:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:897" class="id"><a name="s:897" class="">s</a></span> <span id="x:898" class="id"><a name="x:898" class="">x</a></span> <span id="n:899" class="id"><a name="n:899" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:899">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:897">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:898">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:899">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">sign_ext</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.lib.Integers.html#s:897">s</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:899">n</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#x:898">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n:899">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof331')">Proof.</span></div>
<div class="proofscript" id="proof331">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_comm">Z.min_comm</a></span>. <br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_spec">Z.min_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>) <span class="gallina-kwd">as</span> <span class="id">[[A</span> <span class="id">B]</span> <span class="id">|</span> <span class="id">[A</span> <span class="id">B]];</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>))<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_sign_ext">bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id">s</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Powers of two with exponents given as 32-bit ints </div>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.one_bits'" class="id"><a name="Int64.one_bits'" class="">one_bits'</a></span> (<span id="x:900" class="id"><a name="x:900" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:900">x</a></span>) <span class="id">0</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.is_power2'" class="id"><a name="Int64.is_power2'" class="">is_power2'</a></span> (<span id="x:901" class="id"><a name="x:901" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:901">x</a></span>) <span class="id">0</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.one_bits'_range" class="id"><a name="Int64.one_bits'_range" class="">one_bits'_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:902" class="id"><a name="x:902" class="">x</a></span> <span id="i:903" class="id"><a name="i:903" class="">i,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:903">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.one_bits'">one_bits'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:902">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:903">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof332')">Proof.</span></div>
<div class="proofscript" id="proof332">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="gallina-kwd">as</span> <span class="id">[i0</span> <span class="id">[EQ</span> <span class="id">IN]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_range">Z_one_bits_range;</a></span> <span class="id">eauto</span>. <span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="id">intros</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">rewrite</span> <span class="id">EQ</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="Int64.int_of_one_bits'" class="id"><a name="Int64.int_of_one_bits'" class="">int_of_one_bits'</a></span> (<span id="l:904" class="id"><a name="l:904" class="">l:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#l:904">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#int_of_one_bits':905">int_of_one_bits'</a></span> <span class="id">b</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.one_bits'_decomp" class="id"><a name="Int64.one_bits'_decomp" class="">one_bits'_decomp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:907" class="id"><a name="x:907" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:907">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_of_one_bits'">int_of_one_bits'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.one_bits'">one_bits'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:907">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof333')">Proof.</span></div>
<div class="proofscript" id="proof333">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">REC:</span> <span class="gallina-kwd">forall</span> <span id="l:910" class="id"><span id="l:908" class="id"><a name="l:910" class="">l,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="i:911" class="id"><span id="i:909" class="id"><a name="i:911" class="">i,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:909">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#l:908">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:909">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.int_of_one_bits'">int_of_one_bits'</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#l:908">l</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Zbits.html#powerserie">powerserie</a></span> <span class="id"><a href="compcert.lib.Integers.html#l:908">l</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id">IHl</span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'_one_two_p">shl'_one_two_p</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">H</span> <span class="id">a</span>). <span class="id">auto</span>. <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>) <span class="gallina-kwd">at</span> <span class="id">1</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one_bits'">one_bits'</a></span>. <span class="id">rewrite</span> <span class="id">REC</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_powerserie">Z_one_bits_powerserie</a></span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">unsigned_range</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_range">Z_one_bits_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.is_power2'_rng" class="id"><a name="Int64.is_power2'_rng" class="">is_power2'_rng:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:912" class="id"><a name="n:912" class="">n</a></span> <span id="logn:913" class="id"><a name="logn:913" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'">is_power2'</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:912">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:913">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:913">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof334')">Proof.</span></div>
<div class="proofscript" id="proof334">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'">is_power2';</a></span> <span class="id">intros</span> <span class="id">n</span> <span class="id">logn</span> <span class="id">P2</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id">0</span>) <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">i</span> <span class="id">[</span> <span class="id">|</span> <span class="id">?</span> <span class="id">?]]</span> <span class="id">eqn:B;</span> <span class="id">inv</span> <span class="id">P2</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_range">Z_one_bits_range</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.is_power2'_range" class="id"><a name="Int64.is_power2'_range" class="">is_power2'_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:914" class="id"><a name="n:914" class="">n</a></span> <span id="logn:915" class="id"><a name="logn:915" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'">is_power2'</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:914">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:915">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:915">logn</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof335')">Proof.</span></div>
<div class="proofscript" id="proof335">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">iwordsize'</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'_rng">is_power2'_rng</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.is_power2'_correct" class="id"><a name="Int64.is_power2'_correct" class="">is_power2'_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:916" class="id"><a name="n:916" class="">n</a></span> <span id="logn:917" class="id"><a name="logn:917" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'">is_power2'</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:916">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:917">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:916">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:917">logn</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof336')">Proof.</span></div>
<div class="proofscript" id="proof336">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'">is_power2';</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id">0</span>) <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">i</span> <span class="id">[</span> <span class="id">|</span> <span class="id">?</span> <span class="id">?]]</span> <span class="id">eqn:B;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_powerserie">Z_one_bits_powerserie</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>)) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">unsigned_range</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">simpl</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Z_one_bits_range">Z_one_bits_range</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.mul_pow2'" class="id"><a name="Int64.mul_pow2'" class="">mul_pow2':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:918" class="id"><a name="x:918" class="">x</a></span> <span id="n:919" class="id"><a name="n:919" class="">n</a></span> <span id="logn:920" class="id"><a name="logn:920" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'">is_power2'</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:919">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:920">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:918">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:919">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:918">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:920">logn</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof337')">Proof.</span></div>
<div class="proofscript" id="proof337">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'_mul">shl'_mul</a></span>. <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'_one_two_p">shl'_one_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span> <span class="id">n</span>). <span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'_correct">is_power2'_correct;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="Int64.divu_pow2'" class="id"><a name="Int64.divu_pow2'" class="">divu_pow2':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:921" class="id"><a name="x:921" class="">x</a></span> <span id="n:922" class="id"><a name="n:922" class="">n</a></span> <span id="logn:923" class="id"><a name="logn:923" class="">logn,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'">is_power2'</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:922">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:923">logn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:921">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:922">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:921">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn:923">logn</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof338')">Proof.</span></div>
<div class="proofscript" id="proof338">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'_correct">is_power2'_correct</a></span> <span class="id">n</span> <span class="id">logn</span> <span class="id">H</span>). <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.divu">divu</a></span>. <span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Zbits.html#Zshiftr_div_two_p">Zshiftr_div_two_p</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.is_power2'_rng">is_power2'_rng;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Decomposing 64-bit ints as pairs of 32-bit ints </div>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.loword" class="id"><a name="Int64.loword" class="">loword</a></span> (<span id="n:924" class="id"><a name="n:924" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:924">n</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.hiword" class="id"><a name="Int64.hiword" class="">hiword</a></span> (<span id="n:925" class="id"><a name="n:925" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:925">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>))).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.ofwords" class="id"><a name="Int64.ofwords" class="">ofwords</a></span> (<span id="hi:926" class="id"><a name="hi:926" class="">hi</a></span> <span id="lo:927" class="id"><a name="lo:927" class="">lo:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:926">hi</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:927">lo</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.bits_loword" class="id"><a name="Int64.bits_loword" class="">bits_loword:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:928" class="id"><a name="n:928" class="">n</a></span> <span id="i:929" class="id"><a name="i:929" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:929">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:928">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:929">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:928">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:929">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof339')">Proof.</span></div>
<div class="proofscript" id="proof339">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit_repr">Int.testbit_repr</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.bits_hiword" class="id"><a name="Int64.bits_hiword" class="">bits_hiword:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:930" class="id"><a name="n:930" class="">n</a></span> <span id="i:931" class="id"><a name="i:931" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:931">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:930">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:931">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:930">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:931">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof340')">Proof.</span></div>
<div class="proofscript" id="proof340">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit_repr">Int.testbit_repr</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) <span class="id">i</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru">bits_shru</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.bits_ofwords" class="id"><a name="Int64.bits_ofwords" class="">bits_ofwords:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="hi:932" class="id"><a name="hi:932" class="">hi</a></span> <span id="lo:933" class="id"><a name="lo:933" class="">lo</a></span> <span id="i:934" class="id"><a name="i:934" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:934">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:932">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:933">lo</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:934">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:934">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:933">lo</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:934">i</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:932">hi</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i:934">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof341')">Proof.</span></div>
<div class="proofscript" id="proof341">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_or">bits_or;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl">bits_shl;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!testbit_repr;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">lo</span> <span class="id">i</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_above">Int.bits_above</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.lo_ofwords" class="id"><a name="Int64.lo_ofwords" class="">lo_ofwords:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="hi:935" class="id"><a name="hi:935" class="">hi</a></span> <span id="lo:936" class="id"><a name="lo:936" class="">lo,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:935">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:936">lo</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:936">lo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof342')">Proof.</span></div>
<div class="proofscript" id="proof342">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.same_bits_eq">Int.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_loword">bits_loword;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.hi_ofwords" class="id"><a name="Int64.hi_ofwords" class="">hi_ofwords:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="hi:937" class="id"><a name="hi:937" class="">hi</a></span> <span id="lo:938" class="id"><a name="lo:938" class="">lo,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:937">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:938">lo</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:937">hi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof343')">Proof.</span></div>
<div class="proofscript" id="proof343">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.same_bits_eq">Int.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_hiword">bits_hiword;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.ofwords_recompose" class="id"><a name="Int64.ofwords_recompose" class="">ofwords_recompose:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:939" class="id"><a name="n:939" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:939">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:939">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:939">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof344')">Proof.</span></div>
<div class="proofscript" id="proof344">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_loword">bits_loword</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_hiword">bits_hiword</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.ofwords_add" class="id"><a name="Int64.ofwords_add" class="">ofwords_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="lo:940" class="id"><a name="lo:940" class="">lo</a></span> <span id="hi:941" class="id"><a name="hi:941" class="">hi,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:941">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:940">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:941">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:940">lo</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof345')">Proof.</span></div>
<div class="proofscript" id="proof345">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shifted_or_is_add">shifted_or_is_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mult">eqm_mult</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="gallina-kwd">with</span> <span class="id">32;</span> <span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="gallina-kwd">with</span> <span class="id">64;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">lo</span>). <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">exact</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="gallina-kwd">by</span> (<span class="id">compute;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">lo</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.ofwords_add'" class="id"><a name="Int64.ofwords_add'" class="">ofwords_add':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="lo:942" class="id"><a name="lo:942" class="">lo</a></span> <span id="hi:943" class="id"><a name="hi:943" class="">hi,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:943">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:942">lo</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:943">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:942">lo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof346')">Proof.</span></div>
<div class="proofscript" id="proof346">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">hi</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">lo</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">with</span> <span class="id">4294967296</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span> <span class="gallina-kwd">with</span> <span class="id">18446744073709551615</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Int64.eqm_mul_2p32" class="id"><a name="Int64.eqm_mul_2p32" class="">eqm_mul_2p32:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:944" class="id"><a name="x:944" class="">x</a></span> <span id="y:945" class="id"><a name="y:945" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm">Int.eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:944">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:945">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x:944">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>) (<span class="id"><a href="compcert.lib.Integers.html#y:945">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof347')">Proof.</span></div>
<div class="proofscript" id="proof347">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[k</span> <span class="id">EQ]</span>. <span class="gallina-kwd">exists</span> <span class="id">k</span>. <span class="id">rewrite</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">modulus</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>).<br/>
&nbsp;&nbsp;<span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.ofwords_add''" class="id"><a name="Int64.ofwords_add''" class="">ofwords_add'':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="lo:946" class="id"><a name="lo:946" class="">lo</a></span> <span id="hi:947" class="id"><a name="hi:947" class="">hi,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:947">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:946">lo</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi:947">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo:946">lo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof348')">Proof.</span></div>
<div class="proofscript" id="proof348">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">lo</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">lo</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">hi</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">lo</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">min_signed</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">max_signed</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">with</span> <span class="id">4294967296</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_signed_unsigned">Int.eqm_signed_unsigned</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Expressing 64-bit operations in terms of 32-bit operations </div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_bitwise_binop" class="id"><a name="Int64.decompose_bitwise_binop" class="">decompose_bitwise_binop:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:948" class="id"><a name="f:948" class="">f</a></span> <span id="f64:949" class="id"><a name="f64:949" class="">f64</a></span> <span id="f32:950" class="id"><a name="f32:950" class="">f32</a></span> <span id="xh:951" class="id"><a name="xh:951" class="">xh</a></span> <span id="xl:952" class="id"><a name="xl:952" class="">xl</a></span> <span id="yh:953" class="id"><a name="yh:953" class="">yh</a></span> <span id="yl:954" class="id"><a name="yl:954" class="">yl,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:955" class="id"><a name="x:955" class="">x</a></span> <span id="y:956" class="id"><a name="y:956" class="">y</a></span> <span id="i:957" class="id"><a name="i:957" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:957">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f64:949">f64</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:955">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:956">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:957">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#f:948">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:955">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:957">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:956">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:957">i</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:958" class="id"><a name="x:958" class="">x</a></span> <span id="y:959" class="id"><a name="y:959" class="">y</a></span> <span id="i:960" class="id"><a name="i:960" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:960">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f32:950">f32</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:958">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:959">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i:960">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#f:948">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:958">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:960">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:959">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:960">i</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f64:949">f64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:951">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:952">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:953">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:954">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f32:950">f32</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:951">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:953">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#f32:950">f32</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:952">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:954">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof349')">Proof.</span></div>
<div class="proofscript" id="proof349">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_and" class="id"><a name="Int64.decompose_and" class="">decompose_and:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:961" class="id"><a name="xh:961" class="">xh</a></span> <span id="xl:962" class="id"><a name="xl:962" class="">xl</a></span> <span id="yh:963" class="id"><a name="yh:963" class="">yh</a></span> <span id="yl:964" class="id"><a name="yl:964" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:961">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:962">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:963">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:964">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:961">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:963">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:962">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:964">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof350')">Proof.</span></div>
<div class="proofscript" id="proof350">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_bitwise_binop">decompose_bitwise_binop</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_and">bits_and</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_and">Int.bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_or" class="id"><a name="Int64.decompose_or" class="">decompose_or:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:965" class="id"><a name="xh:965" class="">xh</a></span> <span id="xl:966" class="id"><a name="xl:966" class="">xl</a></span> <span id="yh:967" class="id"><a name="yh:967" class="">yh</a></span> <span id="yl:968" class="id"><a name="yl:968" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:965">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:966">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:967">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:968">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:965">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:967">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:966">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:968">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof351')">Proof.</span></div>
<div class="proofscript" id="proof351">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_bitwise_binop">decompose_bitwise_binop</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_or">bits_or</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_xor" class="id"><a name="Int64.decompose_xor" class="">decompose_xor:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:969" class="id"><a name="xh:969" class="">xh</a></span> <span id="xl:970" class="id"><a name="xl:970" class="">xl</a></span> <span id="yh:971" class="id"><a name="yh:971" class="">yh</a></span> <span id="yl:972" class="id"><a name="yl:972" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:969">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:970">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:971">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:972">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.xor">Int.xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:969">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:971">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.xor">Int.xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:970">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:972">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof352')">Proof.</span></div>
<div class="proofscript" id="proof352">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_bitwise_binop">decompose_bitwise_binop</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_xor">bits_xor</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_xor">Int.bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_not" class="id"><a name="Int64.decompose_not" class="">decompose_not:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:973" class="id"><a name="xh:973" class="">xh</a></span> <span id="xl:974" class="id"><a name="xl:974" class="">xl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:973">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:974">xl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:973">xh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:974">xl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof353')">Proof.</span></div>
<div class="proofscript" id="proof353">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.not">not,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_xor">decompose_xor</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">mone</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_shl_1" class="id"><a name="Int64.decompose_shl_1" class="">decompose_shl_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:975" class="id"><a name="xh:975" class="">xh</a></span> <span id="xl:976" class="id"><a name="xl:976" class="">xl</a></span> <span id="y:977" class="id"><a name="y:977" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:977">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:975">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:976">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:977">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:975">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:977">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:976">xl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:977">y</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:976">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:977">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof354')">Proof.</span></div>
<div class="proofscript" id="proof354">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_l">orb_false_l</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_shl_2" class="id"><a name="Int64.decompose_shl_2" class="">decompose_shl_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:978" class="id"><a name="xh:978" class="">xh</a></span> <span id="xl:979" class="id"><a name="xl:979" class="">xl</a></span> <span id="y:980" class="id"><a name="y:980" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:980">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">shl'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:978">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:979">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:980">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:979">xl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:980">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof355')">Proof.</span></div>
<div class="proofscript" id="proof355">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl'">bits_shl'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero">Int.bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_shru_1" class="id"><a name="Int64.decompose_shru_1" class="">decompose_shru_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:981" class="id"><a name="xh:981" class="">xh</a></span> <span id="xl:982" class="id"><a name="xl:982" class="">xl</a></span> <span id="y:983" class="id"><a name="y:983" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:983">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:981">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:982">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:983">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:981">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:983">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:982">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:983">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:981">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:983">y</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof356')">Proof.</span></div>
<div class="proofscript" id="proof356">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_l">orb_false_l</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_shru_2" class="id"><a name="Int64.decompose_shru_2" class="">decompose_shru_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:984" class="id"><a name="xh:984" class="">xh</a></span> <span id="xl:985" class="id"><a name="xl:985" class="">xl</a></span> <span id="y:986" class="id"><a name="y:986" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:986">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">shru'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:984">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:985">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:986">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:984">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:986">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof357')">Proof.</span></div>
<div class="proofscript" id="proof357">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru'">bits_shru'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero">Int.bits_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_shr_1" class="id"><a name="Int64.decompose_shr_1" class="">decompose_shr_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:987" class="id"><a name="xh:987" class="">xh</a></span> <span id="xl:988" class="id"><a name="xl:988" class="">xl</a></span> <span id="y:989" class="id"><a name="y:989" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:989">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:987">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:988">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:989">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:987">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:989">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:988">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:989">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:987">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:989">y</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof358')">Proof.</span></div>
<div class="proofscript" id="proof358">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">y</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_l">orb_false_l</a></span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_shr_2" class="id"><a name="Int64.decompose_shr_2" class="">decompose_shr_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:990" class="id"><a name="xh:990" class="">xh</a></span> <span id="xl:991" class="id"><a name="xl:991" class="">xl</a></span> <span id="y:992" class="id"><a name="y:992" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:992">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">shr'</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:990">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:991">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y:992">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:990">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:990">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:992">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof359')">Proof.</span></div>
<div class="proofscript" id="proof359">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shr'">bits_shr'</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_add" class="id"><a name="Int64.decompose_add" class="">decompose_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:993" class="id"><a name="xh:993" class="">xh</a></span> <span id="xl:994" class="id"><a name="xl:994" class="">xl</a></span> <span id="yh:995" class="id"><a name="yh:995" class="">yh</a></span> <span id="yl:996" class="id"><a name="yl:996" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:993">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:994">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:995">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:996">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:993">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:995">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:994">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:996">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:994">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:996">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof360')">Proof.</span></div>
<div class="proofscript" id="proof360">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add_unsigned">add_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">ofwords_add'</a></span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_add_carry">Int.unsigned_add_carry</a></span> <span class="id">xl</span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">cc</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span> <span class="id">xl</span> <span class="id">yl</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Xl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">Xh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Yl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">Yh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">Yh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yh</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yl</span>)) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">cc</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">cc</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> (<span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yl</span>)) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yh</span>) <span class="gallina-kwd">with</span> ((<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span>) <span class="id">-</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span>) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_sub">Int.eqm_sub</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_sub" class="id"><a name="Int64.decompose_sub" class="">decompose_sub:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:997" class="id"><a name="xh:997" class="">xh</a></span> <span id="xl:998" class="id"><a name="xl:998" class="">xl</a></span> <span id="yh:999" class="id"><a name="yh:999" class="">yh</a></span> <span id="yl:1000" class="id"><a name="yl:1000" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:997">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:998">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:999">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1000">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:997">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:999">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub_borrow">Int.sub_borrow</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:998">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1000">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:998">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1000">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof361')">Proof.</span></div>
<div class="proofscript" id="proof361">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">ofwords_add'</a></span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_sub_borrow">Int.unsigned_sub_borrow</a></span> <span class="id">xl</span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">bb</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_borrow">Int.sub_borrow</a></span> <span class="id">xl</span> <span class="id">yl</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Xl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">Xh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">Yl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">Yh</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> (<span class="id">Yh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">Yl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Yh</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Yl</span>)) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">bb</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Yl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">bb</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> (<span class="id">Xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Yl</span>)) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Yh</span>) <span class="gallina-kwd">with</span> ((<span class="id">Xh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">Yh</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span>) <span class="id">+</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span>) <span class="gallina-kwd">by</span> <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_sub'" class="id"><a name="Int64.decompose_sub'" class="">decompose_sub':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:1001" class="id"><a name="xh:1001" class="">xh</a></span> <span id="xl:1002" class="id"><a name="xl:1002" class="">xl</a></span> <span id="yh:1003" class="id"><a name="yh:1003" class="">yh</a></span> <span id="yl:1004" class="id"><a name="yl:1004" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1001">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1002">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1003">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1004">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1001">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1003">yh</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1002">xl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1004">yl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1002">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1004">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof362')">Proof.</span></div>
<div class="proofscript" id="proof362">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_sub">decompose_sub</a></span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_borrow_add_carry">Int.sub_borrow_add_carry</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_add_not_3">Int.sub_add_not_3</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_assoc">Int.xor_assoc</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_idem">Int.xor_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_zero">Int.xor_zero</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_zero_l">Int.xor_zero_l</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id">yl</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">compute;</span> <span class="id">[right|left];</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mkint_eq">Int.mkint_eq</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="Int64.mul'" class="id"><a name="Int64.mul'" class="">mul'</a></span> (<span id="x:1005" class="id"><a name="x:1005" class="">x</a></span> <span id="y:1006" class="id"><a name="y:1006" class="">y:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1005">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1006">y</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.mul'_mulhu" class="id"><a name="Int64.mul'_mulhu" class="">mul'_mulhu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1007" class="id"><a name="x:1007" class="">x</a></span> <span id="y:1008" class="id"><a name="y:1008" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1007">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1008">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1007">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1008">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1007">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1008">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof363')">Proof.</span></div>
<div class="proofscript" id="proof363">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul',</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">p</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ph</span> <span class="id">:=</span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75">/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>). <span class="id">set</span> (<span class="id">pl</span> <span class="id">:=</span> <span class="id">p</span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id">ph</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">pl</span>)).<br/>
<span class="id">-</span> <span class="id">f_equal</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Z_div_mod_eq">Z_div_mod_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus_pos">Int.modulus_pos</a></span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_eq">Int.unsigned_repr_eq</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_mul" class="id"><a name="Int64.decompose_mul" class="">decompose_mul:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:1009" class="id"><a name="xh:1009" class="">xh</a></span> <span id="xl:1010" class="id"><a name="xl:1010" class="">xl</a></span> <span id="yh:1011" class="id"><a name="yh:1011" class="">yh</a></span> <span id="yl:1012" class="id"><a name="yl:1012" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1009">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1010">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1011">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1012">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1010">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1012">yl</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1010">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1011">yh</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1009">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1012">yl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1010">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1012">yl</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof364')">Proof.</span></div>
<div class="proofscript" id="proof364">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">pl</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id">xl</span> <span class="id">yl</span>))<span class="id">;</span> <span class="id">set</span> (<span class="id">ph</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id">xl</span> <span class="id">yl</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EQ0:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id">xl</span> <span class="id">yl</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">ph</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">pl</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">ofwords_recompose</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id">xl</span> <span class="id">yl</span>)). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">ofwords_add'</a></span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span>. <span class="id">rewrite</span> <span class="id">!ofwords_add'</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">XL</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">XH</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">YL</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>)<span class="id">;</span> <span class="id">set</span> (<span class="id">YH</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">PH</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">ph</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">set</span> (<span class="id">PL</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">pl</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (((<span class="id">PH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YH</span>) <span class="id">+</span> <span class="id">XH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">PL</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_unsigned">Int.add_unsigned</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_unsigned">Int.add_unsigned</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span> <span class="id">xl</span> <span class="id">yl</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">XH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">EQ0</span>. <span class="id">f_equal</span>. <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> ((<span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">XH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul'">mul'</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">XH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>))).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_l">Z.add_0_l</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id">XH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">XL</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">XH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YL</span>) <span class="id">*</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="id">2:</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">modulus</a></span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-</a></span> <span class="id">XH</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e">*</a></span> <span class="id">YH</span>). <span class="id">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">ring</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_mul_2" class="id"><a name="Int64.decompose_mul_2" class="">decompose_mul_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:1013" class="id"><a name="xh:1013" class="">xh</a></span> <span id="xl:1014" class="id"><a name="xl:1014" class="">xl</a></span> <span id="yh:1015" class="id"><a name="yh:1015" class="">yh</a></span> <span id="yl:1016" class="id"><a name="yl:1016" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1013">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1014">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1015">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1016">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1014">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1016">yl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1014">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1015">yh</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1013">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1016">yl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1014">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1016">yl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof365')">Proof.</span></div>
<div class="proofscript" id="proof365">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_mul">decompose_mul</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul'_mulhu">mul'_mulhu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">hi_ofwords,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">lo_ofwords</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_ltu" class="id"><a name="Int64.decompose_ltu" class="">decompose_ltu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:1017" class="id"><a name="xh:1017" class="">xh</a></span> <span id="xl:1018" class="id"><a name="xl:1018" class="">xl</a></span> <span id="yh:1019" class="id"><a name="yh:1019" class="">yh</a></span> <span id="yl:1020" class="id"><a name="yl:1020" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1017">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1018">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1019">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1020">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1017">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1019">yh</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1018">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1020">yl</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1017">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1019">yh</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof366')">Proof.</span></div>
<div class="proofscript" id="proof366">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add'">ofwords_add'</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">with</span> <span class="id">4294967296</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_leu" class="id"><a name="Int64.decompose_leu" class="">decompose_leu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:1021" class="id"><a name="xh:1021" class="">xh</a></span> <span id="xl:1022" class="id"><a name="xl:1022" class="">xl</a></span> <span id="yh:1023" class="id"><a name="yh:1023" class="">yh</a></span> <span id="yl:1024" class="id"><a name="yl:1024" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1023">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1024">yl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1021">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1022">xl</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1021">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1023">yh</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1024">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1022">xl</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1021">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1023">yh</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof367')">Proof.</span></div>
<div class="proofscript" id="proof367">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_ltu">decompose_ltu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_sym">Int.eq_sym</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_lt" class="id"><a name="Int64.decompose_lt" class="">decompose_lt:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:1025" class="id"><a name="xh:1025" class="">xh</a></span> <span id="xl:1026" class="id"><a name="xl:1026" class="">xl</a></span> <span id="yh:1027" class="id"><a name="yh:1027" class="">yh</a></span> <span id="yl:1028" class="id"><a name="yl:1028" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1025">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1026">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1027">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1028">yl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1025">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1027">yh</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1026">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1028">yl</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1025">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1027">yh</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof368')">Proof.</span></div>
<div class="proofscript" id="proof368">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add''">ofwords_add''</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_signed">Int.eq_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">e</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">32</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">with</span> <span class="id">4294967296</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.decompose_le" class="id"><a name="Int64.decompose_le" class="">decompose_le:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xh:1029" class="id"><a name="xh:1029" class="">xh</a></span> <span id="xl:1030" class="id"><a name="xl:1030" class="">xl</a></span> <span id="yh:1031" class="id"><a name="yh:1031" class="">yh</a></span> <span id="yl:1032" class="id"><a name="yl:1032" class="">yl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1031">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1032">yl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1029">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1030">xl</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1029">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1031">yh</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl:1032">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl:1030">xl</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh:1029">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh:1031">yh</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof369')">Proof.</span></div>
<div class="proofscript" id="proof369">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_lt">decompose_lt</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_sym">Int.eq_sym</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_signed">Int.eq_signed</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Utility proofs for mixed 32bit and 64bit arithmetic </div>
<br/>
<span class="vernacular">Remark</span> <span id="Int64.int_unsigned_range" class="id"><a name="Int64.int_unsigned_range" class="">int_unsigned_range:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1033" class="id"><a name="x:1033" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1033">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof370')">Proof.</span></div>
<div class="proofscript" id="proof370">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span>) <span class="gallina-kwd">with</span>  <span class="id">64</span>%<span class="id">nat</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.wordsize">Int.wordsize</a></span>) <span class="gallina-kwd">with</span> <span class="id">32</span>%<span class="id">nat</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="Int64.int_unsigned_repr" class="id"><a name="Int64.int_unsigned_repr" class="">int_unsigned_repr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1034" class="id"><a name="x:1034" class="">x,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1034">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1034">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof371')">Proof.</span></div>
<div class="proofscript" id="proof371">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Int64.int_sub_ltu" class="id"><a name="Int64.int_sub_ltu" class="">int_sub_ltu:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1035" class="id"><a name="x:1035" class="">x</a></span> <span id="y:1036" class="id"><a name="y:1036" class="">y,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1035">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1036">y=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1036">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1035">x</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1036">y</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1035">x</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof372')">Proof.</span></div>
<div class="proofscript" id="proof372">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub_ltu">Int.sub_ltu</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>). <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_repr">int_unsigned_repr</a></span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> <span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_repr">int_unsigned_repr</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub_ltu">Int.sub_ltu</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>). <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="id">intros</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Int64">Int64</a></span>.<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">0</span> <span class="id">[Wordsize_64</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="int64" class="id"><a name="int64" class="">int64</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#int">Int64.int</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Opaque</span> <span class="id"><a href="compcert.lib.Integers.html#repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#repr">Byte.repr</a></span>.<br/>
<br/>
<h1> Specialization to offsets in pointer values </h1>
<br/>
<span class="vernacular">Module</span> <span id="Wordsize_Ptrofs" class="id"><a name="Wordsize_Ptrofs" class="">Wordsize_Ptrofs</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="Wordsize_Ptrofs.wordsize" class="id"><a name="Wordsize_Ptrofs.wordsize" class="">wordsize</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id">64</span>%<span class="id">nat</span> <span class="gallina-kwd">else</span> <span class="id">32</span>%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Remark</span> <span id="Wordsize_Ptrofs.wordsize_not_zero" class="id"><a name="Wordsize_Ptrofs.wordsize_not_zero" class="">wordsize_not_zero:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">wordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>%<span class="id">nat</span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof373')">Proof.</span></div>
<div class="proofscript" id="proof373">
 <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">wordsize;</a></span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">congruence</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs">Wordsize_Ptrofs</a></span>.<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">opaque</span> <span class="id">[Wordsize_Ptrofs</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Ptrofs" class="id"><a name="Ptrofs" class="">Ptrofs</a></span>.<br/>
<br/>
<span class="vernacular">Include</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs">Wordsize_Ptrofs</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.to_int" class="id"><a name="Ptrofs.to_int" class="">to_int</a></span> (<span id="x:1037" class="id"><a name="x:1037" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1037">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.to_int64" class="id"><a name="Ptrofs.to_int64" class="">to_int64</a></span> (<span id="x:1038" class="id"><a name="x:1038" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1038">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.of_int" class="id"><a name="Ptrofs.of_int" class="">of_int</a></span> (<span id="x:1039" class="id"><a name="x:1039" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1039">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.of_intu" class="id"><a name="Ptrofs.of_intu" class="">of_intu</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.of_ints" class="id"><a name="Ptrofs.of_ints" class="">of_ints</a></span> (<span id="x:1040" class="id"><a name="x:1040" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1040">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.of_int64" class="id"><a name="Ptrofs.of_int64" class="">of_int64</a></span> (<span id="x:1041" class="id"><a name="x:1041" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1041">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.of_int64u" class="id"><a name="Ptrofs.of_int64u" class="">of_int64u</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.of_int64s" class="id"><a name="Ptrofs.of_int64s" class="">of_int64s</a></span> (<span id="x:1042" class="id"><a name="x:1042" class="">x:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1042">x</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="Ptrofs.AGREE32" class="id"><a name="Ptrofs.AGREE32" class="">AGREE32</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="Ptrofs.AGREE32._32" class="id"><a name="Ptrofs.AGREE32._32" class="">_32:</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.modulus_eq32" class="id"><a name="Ptrofs.modulus_eq32" class="">modulus_eq32:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof374')">Proof.</span></div>
<div class="proofscript" id="proof374">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span> <span class="gallina-kwd">with</span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id">64</span>%<span class="id">nat</span> <span class="gallina-kwd">else</span> <span class="id">32</span>%<span class="id">nat</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE32._32">_32</a></span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.eqm32" class="id"><a name="Ptrofs.eqm32" class="">eqm32:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1044" class="id"><a name="x:1044" class="">x</a></span> <span id="y:1045" class="id"><a name="y:1045" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm">Int.eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1044">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1045">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1044">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1045">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof375')">Proof.</span></div>
<div class="proofscript" id="proof375">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm">Int.eqm</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32;</a></span> <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.agree32" class="id"><a name="Ptrofs.agree32" class="">agree32</a></span> (<span id="a:1046" class="id"><a name="a:1046" class="">a:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">Ptrofs.int</a></span>) (<span id="b:1047" class="id"><a name="b:1047" class="">b:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1046">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1047">b</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_repr" class="id"><a name="Ptrofs.agree32_repr" class="">agree32_repr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1048" class="id"><a name="i:1048" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:1048">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:1048">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof376')">Proof.</span></div>
<div class="proofscript" id="proof376">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr_eq">Ptrofs.unsigned_repr_eq</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_eq">Int.unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_signed" class="id"><a name="Ptrofs.agree32_signed" class="">agree32_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1049" class="id"><a name="a:1049" class="">a</a></span> <span id="b:1050" class="id"><a name="b:1050" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1049">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1050">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1049">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1050">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof377')">Proof.</span></div>
<div class="proofscript" id="proof377">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32;</a></span> <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">half_modulus,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32</a></span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_of_int" class="id"><a name="Ptrofs.agree32_of_int" class="">agree32_of_int:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:1051" class="id"><a name="b:1051" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1051">b</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b:1051">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof378')">Proof.</span></div>
<div class="proofscript" id="proof378">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span> <span class="id">b</span>) <span class="gallina-kwd">at</span> <span class="id">2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_of_ints" class="id"><a name="Ptrofs.agree32_of_ints" class="">agree32_of_ints:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:1052" class="id"><a name="b:1052" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">of_ints</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1052">b</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b:1052">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof379')">Proof.</span></div>
<div class="proofscript" id="proof379">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr_signed">Int.repr_signed</a></span> <span class="id">b</span>) <span class="gallina-kwd">at</span> <span class="id">2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_of_int_eq" class="id"><a name="Ptrofs.agree32_of_int_eq" class="">agree32_of_int_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1053" class="id"><a name="a:1053" class="">a</a></span> <span id="b:1054" class="id"><a name="b:1054" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1053">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1054">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1054">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1053">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof380')">Proof.</span></div>
<div class="proofscript" id="proof380">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_of_ints_eq" class="id"><a name="Ptrofs.agree32_of_ints_eq" class="">agree32_of_ints_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1055" class="id"><a name="a:1055" class="">a</a></span> <span id="b:1056" class="id"><a name="b:1056" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1055">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1056">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">of_ints</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1056">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1055">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof381')">Proof.</span></div>
<div class="proofscript" id="proof381">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">of_ints;</a></span> <span class="id">intros</span>. <span class="id">erewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_signed">agree32_signed</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_signed">repr_signed</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_to_int" class="id"><a name="Ptrofs.agree32_to_int" class="">agree32_to_int:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1057" class="id"><a name="a:1057" class="">a,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1057">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1057">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof382')">Proof.</span></div>
<div class="proofscript" id="proof382">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id">a</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_to_int_eq" class="id"><a name="Ptrofs.agree32_to_int_eq" class="">agree32_to_int_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1058" class="id"><a name="a:1058" class="">a</a></span> <span id="b:1059" class="id"><a name="b:1059" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1058">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1059">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1058">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1059">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof383')">Proof.</span></div>
<div class="proofscript" id="proof383">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_neg" class="id"><a name="Ptrofs.agree32_neg" class="">agree32_neg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1060" class="id"><a name="a1:1060" class="">a1</a></span> <span id="b1:1061" class="id"><a name="b1:1061" class="">b1,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1060">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1061">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1060">a1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1061">b1</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof384')">Proof.</span></div>
<div class="proofscript" id="proof384">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_add" class="id"><a name="Ptrofs.agree32_add" class="">agree32_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1062" class="id"><a name="a1:1062" class="">a1</a></span> <span id="b1:1063" class="id"><a name="b1:1063" class="">b1</a></span> <span id="a2:1064" class="id"><a name="a2:1064" class="">a2</a></span> <span id="b2:1065" class="id"><a name="b2:1065" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1062">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1063">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1064">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1065">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1062">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1064">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1063">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1065">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof385')">Proof.</span></div>
<div class="proofscript" id="proof385">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H,</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_sub" class="id"><a name="Ptrofs.agree32_sub" class="">agree32_sub:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1066" class="id"><a name="a1:1066" class="">a1</a></span> <span id="b1:1067" class="id"><a name="b1:1067" class="">b1</a></span> <span id="a2:1068" class="id"><a name="a2:1068" class="">a2</a></span> <span id="b2:1069" class="id"><a name="b2:1069" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1066">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1067">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1068">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1069">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1066">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1068">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1067">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1069">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof386')">Proof.</span></div>
<div class="proofscript" id="proof386">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H,</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_mul" class="id"><a name="Ptrofs.agree32_mul" class="">agree32_mul:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1070" class="id"><a name="a1:1070" class="">a1</a></span> <span id="b1:1071" class="id"><a name="b1:1071" class="">b1</a></span> <span id="a2:1072" class="id"><a name="a2:1072" class="">a2</a></span> <span id="b2:1073" class="id"><a name="b2:1073" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1070">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1071">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1072">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1073">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1070">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1072">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1071">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1073">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof387')">Proof.</span></div>
<div class="proofscript" id="proof387">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H,</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree32_divs" class="id"><a name="Ptrofs.agree32_divs" class="">agree32_divs:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1074" class="id"><a name="a1:1074" class="">a1</a></span> <span id="b1:1075" class="id"><a name="b1:1075" class="">b1</a></span> <span id="a2:1076" class="id"><a name="a2:1076" class="">a2</a></span> <span id="b2:1077" class="id"><a name="b2:1077" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1074">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1075">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1076">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1077">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1074">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1076">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.divs">Int.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1075">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1077">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof388')">Proof.</span></div>
<div class="proofscript" id="proof388">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.divs">Int.divs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_signed">agree32_signed</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.of_int_to_int" class="id"><a name="Ptrofs.of_int_to_int" class="">of_int_to_int:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1078" class="id"><a name="n:1078" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1078">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1078">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof389')">Proof.</span></div>
<div class="proofscript" id="proof389">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_repr_eq">eqm_repr_eq</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm32">eqm32</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_sym">Int.eqm_sym</a></span><span class="id">;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr">Int.eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.to_int_of_int" class="id"><a name="Ptrofs.to_int_of_int" class="">to_int_of_int:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1079" class="id"><a name="n:1079" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1079">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1079">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof390')">Proof.</span></div>
<div class="proofscript" id="proof390">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr">unsigned_repr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">max_unsigned</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE32">AGREE32</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Ptrofs.AGREE64" class="id"><a name="Ptrofs.AGREE64" class="">AGREE64</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="Ptrofs.AGREE64._64" class="id"><a name="Ptrofs.AGREE64._64" class="">_64:</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.modulus_eq64" class="id"><a name="Ptrofs.modulus_eq64" class="">modulus_eq64:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof391')">Proof.</span></div>
<div class="proofscript" id="proof391">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span> <span class="gallina-kwd">with</span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id">64</span>%<span class="id">nat</span> <span class="gallina-kwd">else</span> <span class="id">32</span>%<span class="id">nat</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE64._64">_64</a></span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.eqm64" class="id"><a name="Ptrofs.eqm64" class="">eqm64:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1081" class="id"><a name="x:1081" class="">x</a></span> <span id="y:1082" class="id"><a name="y:1082" class="">y,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm">Int64.eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1081">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1082">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x:1081">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y:1082">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof392')">Proof.</span></div>
<div class="proofscript" id="proof392">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm">Int64.eqm</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64;</a></span> <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="Ptrofs.agree64" class="id"><a name="Ptrofs.agree64" class="">agree64</a></span> (<span id="a:1083" class="id"><a name="a:1083" class="">a:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">Ptrofs.int</a></span>) (<span id="b:1084" class="id"><a name="b:1084" class="">b:</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1083">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1084">b</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_repr" class="id"><a name="Ptrofs.agree64_repr" class="">agree64_repr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1085" class="id"><a name="i:1085" class="">i,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:1085">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i:1085">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof393')">Proof.</span></div>
<div class="proofscript" id="proof393">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr_eq">Ptrofs.unsigned_repr_eq</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr_eq">Int64.unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_signed" class="id"><a name="Ptrofs.agree64_signed" class="">agree64_signed:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1086" class="id"><a name="a:1086" class="">a</a></span> <span id="b:1087" class="id"><a name="b:1087" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1086">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1087">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1086">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1087">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof394')">Proof.</span></div>
<div class="proofscript" id="proof394">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64;</a></span> <span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">signed,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">half_modulus,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64</a></span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_of_int" class="id"><a name="Ptrofs.agree64_of_int" class="">agree64_of_int:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:1088" class="id"><a name="b:1088" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1088">b</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b:1088">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof395')">Proof.</span></div>
<div class="proofscript" id="proof395">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span> <span class="id">b</span>) <span class="gallina-kwd">at</span> <span class="id">2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_of_int_eq" class="id"><a name="Ptrofs.agree64_of_int_eq" class="">agree64_of_int_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1089" class="id"><a name="a:1089" class="">a</a></span> <span id="b:1090" class="id"><a name="b:1090" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1089">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1090">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1090">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1089">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof396')">Proof.</span></div>
<div class="proofscript" id="proof396">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_to_int" class="id"><a name="Ptrofs.agree64_to_int" class="">agree64_to_int:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1091" class="id"><a name="a:1091" class="">a,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1091">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1091">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof397')">Proof.</span></div>
<div class="proofscript" id="proof397">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id">a</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_to_int_eq" class="id"><a name="Ptrofs.agree64_to_int_eq" class="">agree64_to_int_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:1092" class="id"><a name="a:1092" class="">a</a></span> <span id="b:1093" class="id"><a name="b:1093" class="">b,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1092">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1093">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a:1092">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#b:1093">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof398')">Proof.</span></div>
<div class="proofscript" id="proof398">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64;</a></span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_neg" class="id"><a name="Ptrofs.agree64_neg" class="">agree64_neg:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1094" class="id"><a name="a1:1094" class="">a1</a></span> <span id="b1:1095" class="id"><a name="b1:1095" class="">b1,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1094">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1095">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1094">a1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.neg">Int64.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1095">b1</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof399')">Proof.</span></div>
<div class="proofscript" id="proof399">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.neg">Int64.neg</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_add" class="id"><a name="Ptrofs.agree64_add" class="">agree64_add:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1096" class="id"><a name="a1:1096" class="">a1</a></span> <span id="b1:1097" class="id"><a name="b1:1097" class="">b1</a></span> <span id="a2:1098" class="id"><a name="a2:1098" class="">a2</a></span> <span id="b2:1099" class="id"><a name="b2:1099" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1096">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1097">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1098">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1099">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1096">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1098">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">Int64.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1097">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1099">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof400')">Proof.</span></div>
<div class="proofscript" id="proof400">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H,</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_sub" class="id"><a name="Ptrofs.agree64_sub" class="">agree64_sub:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1100" class="id"><a name="a1:1100" class="">a1</a></span> <span id="b1:1101" class="id"><a name="b1:1101" class="">b1</a></span> <span id="a2:1102" class="id"><a name="a2:1102" class="">a2</a></span> <span id="b2:1103" class="id"><a name="b2:1103" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1100">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1101">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1102">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1103">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1100">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1102">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">Int64.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1101">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1103">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof401')">Proof.</span></div>
<div class="proofscript" id="proof401">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H,</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_mul" class="id"><a name="Ptrofs.agree64_mul" class="">agree64_mul:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1104" class="id"><a name="a1:1104" class="">a1</a></span> <span id="b1:1105" class="id"><a name="b1:1105" class="">b1</a></span> <span id="a2:1106" class="id"><a name="a2:1106" class="">a2</a></span> <span id="b2:1107" class="id"><a name="b2:1107" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1104">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1105">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1106">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1107">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1104">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1106">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">Int64.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1105">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1107">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof402')">Proof.</span></div>
<div class="proofscript" id="proof402">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H,</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.agree64_divs" class="id"><a name="Ptrofs.agree64_divs" class="">agree64_divs:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a1:1108" class="id"><a name="a1:1108" class="">a1</a></span> <span id="b1:1109" class="id"><a name="b1:1109" class="">b1</a></span> <span id="a2:1110" class="id"><a name="a2:1110" class="">a2</a></span> <span id="b2:1111" class="id"><a name="b2:1111" class="">b2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1108">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1109">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1110">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1111">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1:1108">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2:1110">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.divs">Int64.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1:1109">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2:1111">b2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof403')">Proof.</span></div>
<div class="proofscript" id="proof403">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.divs">Int64.divs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_signed">agree64_signed</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.of_int64_to_int64" class="id"><a name="Ptrofs.of_int64_to_int64" class="">of_int64_to_int64:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1112" class="id"><a name="n:1112" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1112">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1112">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof404')">Proof.</span></div>
<div class="proofscript" id="proof404">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_repr_eq">eqm_repr_eq</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm64">eqm64</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">Int64.eqm_sym</a></span><span class="id">;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">Int64.eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Ptrofs.to_int64_of_int64" class="id"><a name="Ptrofs.to_int64_of_int64" class="">to_int64_of_int64:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1113" class="id"><a name="n:1113" class="">n,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1113">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#n:1113">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof405')">Proof.</span></div>
<div class="proofscript" id="proof405">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr">unsigned_repr</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">max_unsigned</a></span>. <span class="id">rewrite</span>  <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE64">AGREE64</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span><br/>
&nbsp;&nbsp;<span class="id">agree32_repr</span> <span class="id">agree32_of_int</span> <span class="id">agree32_of_ints</span> <span class="id">agree32_of_int_eq</span> <span class="id">agree32_of_ints_eq</span><br/>
&nbsp;&nbsp;<span class="id">agree32_to_int</span> <span class="id">agree32_to_int_eq</span> <span class="id">agree32_neg</span> <span class="id">agree32_add</span> <span class="id">agree32_sub</span> <span class="id">agree32_mul</span> <span class="id">agree32_divs</span><br/>
&nbsp;&nbsp;<span class="id">agree64_repr</span> <span class="id">agree64_of_int</span> <span class="id">agree64_of_int_eq</span><br/>
&nbsp;&nbsp;<span class="id">agree64_to_int</span> <span class="id">agree64_to_int_eq</span> <span class="id">agree64_neg</span> <span class="id">agree64_add</span> <span class="id">agree64_sub</span> <span class="id">agree64_mul</span> <span class="id">agree64_divs</span> <span class="id">:</span> <span class="id">ptrofs</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs">Ptrofs</a></span>.<br/>
<br/>
<span class="vernacular">Strategy</span> <span class="id">0</span> <span class="id">[Wordsize_Ptrofs</span>.<span class="id">wordsize]</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="ptrofs" class="id"><a name="ptrofs" class="">ptrofs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#int">Ptrofs.int</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Opaque</span> <span class="id"><a href="compcert.lib.Integers.html#repr">Ptrofs.repr</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span><br/>
&nbsp;&nbsp;<span class="id">Int.modulus_pos</span> <span class="id">Int.eqm_refl</span> <span class="id">Int.eqm_refl2</span> <span class="id">Int.eqm_sym</span> <span class="id">Int.eqm_trans</span><br/>
&nbsp;&nbsp;<span class="id">Int.eqm_small_eq</span> <span class="id">Int.eqm_add</span> <span class="id">Int.eqm_neg</span> <span class="id">Int.eqm_sub</span> <span class="id">Int.eqm_mult</span><br/>
&nbsp;&nbsp;<span class="id">Int.eqm_unsigned_repr</span> <span class="id">Int.eqm_unsigned_repr_l</span> <span class="id">Int.eqm_unsigned_repr_r</span><br/>
&nbsp;&nbsp;<span class="id">Int.unsigned_range</span> <span class="id">Int.unsigned_range_2</span><br/>
&nbsp;&nbsp;<span class="id">Int.repr_unsigned</span> <span class="id">Int.repr_signed</span> <span class="id">Int.unsigned_repr</span> <span class="id">:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span><br/>
&nbsp;&nbsp;<span class="id">Int64.modulus_pos</span> <span class="id">Int64.eqm_refl</span> <span class="id">Int64.eqm_refl2</span> <span class="id">Int64.eqm_sym</span> <span class="id">Int64.eqm_trans</span><br/>
&nbsp;&nbsp;<span class="id">Int64.eqm_small_eq</span> <span class="id">Int64.eqm_add</span> <span class="id">Int64.eqm_neg</span> <span class="id">Int64.eqm_sub</span> <span class="id">Int64.eqm_mult</span><br/>
&nbsp;&nbsp;<span class="id">Int64.eqm_unsigned_repr</span> <span class="id">Int64.eqm_unsigned_repr_l</span> <span class="id">Int64.eqm_unsigned_repr_r</span><br/>
&nbsp;&nbsp;<span class="id">Int64.unsigned_range</span> <span class="id">Int64.unsigned_range_2</span><br/>
&nbsp;&nbsp;<span class="id">Int64.repr_unsigned</span> <span class="id">Int64.repr_signed</span> <span class="id">Int64.unsigned_repr</span> <span class="id">:</span> <span class="id">ints</span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.modulus_pos</span> <span class="id">Ptrofs.eqm_refl</span> <span class="id">Ptrofs.eqm_refl2</span> <span class="id">Ptrofs.eqm_sym</span> <span class="id">Ptrofs.eqm_trans</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.eqm_small_eq</span> <span class="id">Ptrofs.eqm_add</span> <span class="id">Ptrofs.eqm_neg</span> <span class="id">Ptrofs.eqm_sub</span> <span class="id">Ptrofs.eqm_mult</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.eqm_unsigned_repr</span> <span class="id">Ptrofs.eqm_unsigned_repr_l</span> <span class="id">Ptrofs.eqm_unsigned_repr_r</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.unsigned_range</span> <span class="id">Ptrofs.unsigned_range_2</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.repr_unsigned</span> <span class="id">Ptrofs.repr_signed</span> <span class="id">Ptrofs.unsigned_repr</span> <span class="id">:</span> <span class="id">ints</span>.<br/>
<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
