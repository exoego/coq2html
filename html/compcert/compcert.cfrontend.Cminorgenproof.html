
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Cminorgenproof</title>
<meta name="description" content="Documentation of Coq module Cminorgenproof" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Cminorgenproof</h1>
<br/>
<div class="doc">Correctness proof for Cminor generation. </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Program.Equality.html">Coq.Program.Equality</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html">Permutation</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.FSets.FSetAVL.html">FSetAVL</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Structures.Orders.html">Orders</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Mergesort.html">Mergesort</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.lib.Ordered.html">Ordered</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="vernacular">Require</span> <span class="id"><a href="compcert.lib.Intv.html">Intv</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></span> <span class="id"><a href="compcert.common.Switch.html">Switch</a></span> <span class="id"><a href="compcert.backend.Cminor.html">Cminor</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="match_prog" class="id"><a name="match_prog" class="">match_prog</a></span> (<span id="p:1" class="id"><a name="p:1" class="">p:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#program">Csharpminor.program</a></span>) (<span id="tp:2" class="id"><a name="tp:2" class="">tp:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#program">Cminor.program</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#match_program">match_program</a></span> (<span class="gallina-kwd">fun</span> <span id="cu:3" class="id"><a name="cu:3" class="">cu</a></span> <span id="f:4" class="id"><a name="f:4" class="">f</a></span> <span id="tf:5" class="id"><a name="tf:5" class="">tf</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_fundef">transl_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:4">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:5">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:1">p</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tp:2">tp</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transf_program_match" class="id"><a name="transf_program_match" class="">transf_program_match:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:6" class="id"><a name="p:6" class="">p</a></span> <span id="tp:7" class="id"><a name="tp:7" class="">tp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_program">transl_program</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:6">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tp:7">tp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:6">p</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tp:7">tp</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Linking.html#match_transform_partial_program">match_transform_partial_program;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="TRANSLATION" class="id"><a name="TRANSLATION" class="">TRANSLATION</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="TRANSLATION.prog" class="id"><a name="TRANSLATION.prog" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#program">Csharpminor.program</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="TRANSLATION.tprog" class="id"><a name="TRANSLATION.tprog" class="">tprog:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#program">program</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="TRANSLATION.TRANSL" class="id"><a name="TRANSLATION.TRANSL" class="">TRANSL:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tprog">tprog</a></span>.<br/>
<span class="vernacular">Let</span> <span id="TRANSLATION.ge" class="id"><a name="TRANSLATION.ge" class="">ge</a></span> <span class="id">:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#genv">Csharpminor.genv</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.prog">prog</a></span>.<br/>
<span class="vernacular">Let</span> <span id="TRANSLATION.tge" class="id"><a name="TRANSLATION.tge" class="">tge:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#genv">genv</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tprog">tprog</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="symbols_preserved" class="id"><a name="symbols_preserved" class="">symbols_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="s:11" class="id"><a name="s:11" class="">s:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:11">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:11">s</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_transf_partial">Genv.find_symbol_transf_partial</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.TRANSL">TRANSL</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="senv_preserved" class="id"><a name="senv_preserved" class="">senv_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.senv_transf_partial">Genv.senv_transf_partial</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.TRANSL">TRANSL</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="function_ptr_translated" class="id"><a name="function_ptr_translated" class="">function_ptr_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="b:12" class="id"><a name="b:12" class="">b:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="f:13" class="id"><a name="f:13" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#fundef">Csharpminor.fundef</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:12">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:13">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tf:14" class="id"><a name="tf:14" class="">tf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:12">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:14">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_fundef">transl_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:13">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:14">tf</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_transf_partial">Genv.find_funct_ptr_transf_partial</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.TRANSL">TRANSL</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="functions_translated" class="id"><a name="functions_translated" class="">functions_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="v:15" class="id"><a name="v:15" class="">v:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span id="f:16" class="id"><a name="f:16" class="">f:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#fundef">Csharpminor.fundef</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:15">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:16">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tf:17" class="id"><a name="tf:17" class="">tf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:15">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:17">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_fundef">transl_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:16">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:17">tf</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_transf_partial">Genv.find_funct_transf_partial</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.TRANSL">TRANSL</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sig_preserved_body" class="id"><a name="sig_preserved_body" class="">sig_preserved_body:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:18" class="id"><a name="f:18" class="">f</a></span> <span id="tf:19" class="id"><a name="tf:19" class="">tf</a></span> <span id="cenv:20" class="id"><a name="cenv:20" class="">cenv</a></span> <span id="size:21" class="id"><a name="size:21" class="">size,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_funbody">transl_funbody</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:20">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#size:21">size</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:18">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:19">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:19">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_sig">fn_sig</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_sig">Csharpminor.fn_sig</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:18">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_funbody">transl_funbody</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">monadInv</span> <span class="id">H;</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="sig_preserved" class="id"><a name="sig_preserved" class="">sig_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:22" class="id"><a name="f:22" class="">f</a></span> <span id="tf:23" class="id"><a name="tf:23" class="">tf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_fundef">transl_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:22">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:23">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#funsig">Cminor.funsig</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:23">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">Csharpminor.funsig</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:22">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">tf;</span> <span class="id">destruct</span> <span class="id">f;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_function">transl_function</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#build_compilenv">build_compilenv</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">z</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>)<span class="id">;</span> <span class="id">simpl</span> <span class="id">bind;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sig_preserved_body">sig_preserved_body;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<h1> Derived properties of memory operations </h1>
<br/>
<span class="vernacular">Lemma</span> <span id="load_freelist" class="id"><a name="load_freelist" class="">load_freelist:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fbl:24" class="id"><a name="fbl:24" class="">fbl</a></span> <span id="chunk:25" class="id"><a name="chunk:25" class="">chunk</a></span> <span id="m:26" class="id"><a name="m:26" class="">m</a></span> <span id="b:27" class="id"><a name="b:27" class="">b</a></span> <span id="ofs:28" class="id"><a name="ofs:28" class="">ofs</a></span> <span id="m':29" class="id"><a name="m':29" class="">m',</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':30" class="id"><a name="b':30" class="">b'</a></span> <span id="lo:31" class="id"><a name="lo:31" class="">lo</a></span> <span id="hi:32" class="id"><a name="hi:32" class="">hi,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':30">b',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:31">lo,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:32">hi</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fbl:24">fbl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':30">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:27">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:26">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fbl:24">fbl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':29">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#chunk:25">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':29">m'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:27">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:28">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#chunk:25">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:26">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:27">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:28">ofs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">fbl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">lo]</span> <span class="id">hi]</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H0</span>. <span class="id">simpl</span>. <span class="id">case_eq</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b'</span> <span class="id">lo</span> <span class="id">hi</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m1</span> <span class="id">FR1</span> <span class="id">FRL</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id">chunk</span> <span class="id">m1</span> <span class="id">b</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHfbl;</span> <span class="id">eauto</span>. <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_free">Mem.load_free</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#not_eq_sym">not_eq_sym</a></span>. <span class="id">eapply</span> <span class="id">H</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="perm_freelist" class="id"><a name="perm_freelist" class="">perm_freelist:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fbl:33" class="id"><a name="fbl:33" class="">fbl</a></span> <span id="m:34" class="id"><a name="m:34" class="">m</a></span> <span id="m':35" class="id"><a name="m':35" class="">m'</a></span> <span id="b:36" class="id"><a name="b:36" class="">b</a></span> <span id="ofs:37" class="id"><a name="ofs:37" class="">ofs</a></span> <span id="k:38" class="id"><a name="k:38" class="">k</a></span> <span id="p:39" class="id"><a name="p:39" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:34">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fbl:33">fbl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':35">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':35">m'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:36">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:37">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:38">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:39">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:34">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:36">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:37">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:38">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:39">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">fbl;</span> <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">lo]</span> <span class="id">hi]</span>. <span class="id">case_eq</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b'</span> <span class="id">lo</span> <span class="id">hi</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nextblock_freelist" class="id"><a name="nextblock_freelist" class="">nextblock_freelist:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fbl:40" class="id"><a name="fbl:40" class="">fbl</a></span> <span id="m:41" class="id"><a name="m:41" class="">m</a></span> <span id="m':42" class="id"><a name="m':42" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:41">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fbl:40">fbl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':42">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':42">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:41">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">fbl;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">m';</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[[b</span> <span class="id">lo]</span> <span class="id">hi]</span>.<br/>
&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span>)<span class="id">;</span> <span class="id">intros;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m0</span>). <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="free_list_freeable" class="id"><a name="free_list_freeable" class="">free_list_freeable:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="l:43" class="id"><a name="l:43" class="">l</a></span> <span id="m:44" class="id"><a name="m:44" class="">m</a></span> <span id="m':45" class="id"><a name="m':45" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:44">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#l:43">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':45">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:46" class="id"><a name="b:46" class="">b</a></span> <span id="lo:47" class="id"><a name="lo:47" class="">lo</a></span> <span id="hi:48" class="id"><a name="hi:48" class="">hi,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:46">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:47">lo,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:48">hi</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#l:43">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:44">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:46">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:47">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:48">hi</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">l;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">lo']</span> <span class="id">hi']</span>.<br/>
&nbsp;&nbsp;<span class="id">caseEq</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b'</span> <span class="id">lo'</span> <span class="id">hi'</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">m1</span> <span class="id">FREE1</span> <span class="id">FREE2</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id">IHl;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nextblock_storev" class="id"><a name="nextblock_storev" class="">nextblock_storev:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:49" class="id"><a name="chunk:49" class="">chunk</a></span> <span id="m:50" class="id"><a name="m:50" class="">m</a></span> <span id="addr:51" class="id"><a name="addr:51" class="">addr</a></span> <span id="v:52" class="id"><a name="v:52" class="">v</a></span> <span id="m':53" class="id"><a name="m':53" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#chunk:49">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:50">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#addr:51">addr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:52">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':53">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':53">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:50">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">addr;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Correspondence between C#minor's and Cminor's environments and memory states </h1>
<br/>
<div class="doc">In C#minor, every variable is stored in a separate memory block.
  In the corresponding Cminor code, these variables become sub-blocks
  of the stack data block.  We capture these changes in memory via a
  memory injection <span class="bracket"><span class="id">f</span></span>:
  <span class="bracket"><span class="id">f</span> <span class="id">b</span> = <span class="id">Some</span>(<span class="id">b</span>', <span class="id">ofs</span>)</span> means that C#minor block <span class="bracket"><span class="id">b</span></span> corresponds
  to a sub-block of Cminor block <span class="bracket"><span class="id">b</span></span> at offset <span class="bracket"><span class="id">ofs</span></span>.
  A memory injection <span class="bracket"><span class="id">f</span></span> defines a relation <span class="bracket"><span class="id">Val.inject</span> <span class="id">f</span></span> between
  values and a relation <span class="bracket"><span class="id">Mem.inject</span> <span class="id">f</span></span> between memory states.  These
  relations will be used intensively in our proof of simulation
  between C#minor and Cminor executions. </div>
<br/>
<h2> Matching between Cshaprminor's temporaries and Cminor's variables </h2>
<br/>
<span class="vernacular">Definition</span> <span id="match_temps" class="id"><a name="match_temps" class="">match_temps</a></span> (<span id="f:54" class="id"><a name="f:54" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="le:55" class="id"><a name="le:55" class="">le:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#temp_env">Csharpminor.temp_env</a></span>) (<span id="te:56" class="id"><a name="te:56" class="">te:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#env">env</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:57" class="id"><a name="id:57" class="">id</a></span> <span id="v:58" class="id"><a name="v:58" class="">v,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:55">le!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:58">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="v':59" class="id"><a name="v':59" class="">v',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:56">te!</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:57">id</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v':59">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:54">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:58">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v':59">v'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_temps_invariant" class="id"><a name="match_temps_invariant" class="">match_temps_invariant:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:60" class="id"><a name="f:60" class="">f</a></span> <span id="f':61" class="id"><a name="f':61" class="">f'</a></span> <span id="le:62" class="id"><a name="le:62" class="">le</a></span> <span id="te:63" class="id"><a name="te:63" class="">te,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:60">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:62">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:63">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:60">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f':61">f'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f':61">f'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:62">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:63">te</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>) <span class="gallina-kwd">as</span> <span class="id">[v'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">v';</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_temps_assign" class="id"><a name="match_temps_assign" class="">match_temps_assign:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:64" class="id"><a name="f:64" class="">f</a></span> <span id="le:65" class="id"><a name="le:65" class="">le</a></span> <span id="te:66" class="id"><a name="te:66" class="">te</a></span> <span id="id:67" class="id"><a name="id:67" class="">id</a></span> <span id="v:68" class="id"><a name="v:68" class="">v</a></span> <span id="tv:69" class="id"><a name="tv:69" class="">tv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:64">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:65">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:66">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:64">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:68">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:69">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:64">f</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:67">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:68">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:65">le</a></span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:67">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:69">tv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:66">te</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h2> Matching between C#minor's variable environment and Cminor's stack pointer </h2>
<br/>
<span class="vernacular">Inductive</span> <span id="match_var" class="id"><a name="match_var" class="">match_var</a></span> (<span id="f:70" class="id"><a name="f:70" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="sp:71" class="id"><a name="sp:71" class="">sp:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>)<span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_var_local" class="id"><a name="match_var_local" class="">match_var_local:</a></span> <span class="gallina-kwd">forall</span> <span id="b:74" class="id"><a name="b:74" class="">b</a></span> <span id="sz:75" class="id"><a name="sz:75" class="">sz</a></span> <span id="ofs:76" class="id"><a name="ofs:76" class="">ofs,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:70">f</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:74">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:71">sp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:76">ofs</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_var:72">match_var</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:70">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:71">sp</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:74">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:75">sz</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:76">ofs</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_var_global" class="id"><a name="match_var_global" class="">match_var_global:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_var:72">match_var</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:70">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:71">sp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<div class="doc">Matching between a C#minor environment <span class="bracket"><span class="id">e</span></span> and a Cminor
  stack pointer <span class="bracket"><span class="id">sp</span></span>. The <span class="bracket"><span class="id">lo</span></span> and <span class="bracket"><span class="id">hi</span></span> parameters delimit the range
  of addresses for the blocks referenced from <span class="bracket"><span class="id">te</span></span>. </div>
<br/>
<span class="vernacular">Record</span> <span id="match_env" class="id"><a name="match_env" class="">match_env</a></span> (<span id="f:77" class="id"><a name="f:77" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="cenv:78" class="id"><a name="cenv:78" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="e:79" class="id"><a name="e:79" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>) (<span id="sp:80" class="id"><a name="sp:80" class="">sp:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="lo:81" class="id"><a name="lo:81" class="">lo</a></span> <span id="hi:82" class="id"><a name="hi:82" class="">hi:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">mk_match_env</span> <span class="id">{</span><br/>
<br/>
<div class="doc">C#minor local variables match sub-blocks of the Cminor stack data block. </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_vars" class="id"><a name="me_vars" class="">me_vars:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:84" class="id"><a name="id:84" class="">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_var">match_var</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:77">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:80">sp</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:79">e!id</a></span>) (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:78">cenv!id</a></span>)<span class="id">;</span><br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">lo</span>, <span class="id">hi</span></span> is a proper interval. </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_low_high" class="id"><a name="me_low_high" class="">me_low_high:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:81">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:82">hi;</a></span><br/>
<br/>
<div class="doc">Every block appearing in the C#minor environment <span class="bracket"><span class="id">e</span></span> must be
  in the range <span class="bracket"><span class="id">lo</span>, <span class="id">hi</span></span>. </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_bounded" class="id"><a name="me_bounded" class="">me_bounded:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:87" class="id"><a name="id:87" class="">id</a></span> <span id="b:88" class="id"><a name="b:88" class="">b</a></span> <span id="sz:89" class="id"><a name="sz:89" class="">sz,</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:87">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:79">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:88">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:89">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:81">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:88">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:88">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:82">hi;</a></span><br/>
<br/>
<div class="doc">All blocks mapped to sub-blocks of the Cminor stack data must be
    images of variables from the C#minor environment <span class="bracket"><span class="id">e</span></span> </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_inv" class="id"><a name="me_inv" class="">me_inv:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:91" class="id"><a name="b:91" class="">b</a></span> <span id="delta:92" class="id"><a name="delta:92" class="">delta,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:77">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:91">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:80">sp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:92">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="id:93" class="id"><a name="id:93" class="">id,</a></span> <span class="gallina-kwd">exists</span> <span id="sz:94" class="id"><a name="sz:94" class="">sz,</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:93">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:79">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:91">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:94">sz</a></span>)<span class="id">;</span><br/>
<br/>
<div class="doc">All C#minor blocks below <span class="bracket"><span class="id">lo</span></span> (i.e. allocated before the blocks
  referenced from <span class="bracket"><span class="id">e</span></span>) must map to blocks that are below <span class="bracket"><span class="id">sp</span></span>
  (i.e. allocated before the stack data for the current Cminor function). </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_incr" class="id"><a name="me_incr" class="">me_incr:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:96" class="id"><a name="b:96" class="">b</a></span> <span id="tb:97" class="id"><a name="tb:97" class="">tb</a></span> <span id="delta:98" class="id"><a name="delta:98" class="">delta,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:77">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:96">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tb:97">tb,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:98">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:96">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:81">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tb:97">tb</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:80">sp</a></span><br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">geninv</span> <span class="id">x</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id">H</span> <span class="id">:=</span> <span class="id">fresh</span> <span class="gallina-kwd">in</span> (<span class="id">generalize</span> <span class="id">x;</span> <span class="id">intro</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_invariant" class="id"><a name="match_env_invariant" class="">match_env_invariant:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:100" class="id"><a name="f1:100" class="">f1</a></span> <span id="cenv:101" class="id"><a name="cenv:101" class="">cenv</a></span> <span id="e:102" class="id"><a name="e:102" class="">e</a></span> <span id="sp:103" class="id"><a name="sp:103" class="">sp</a></span> <span id="lo:104" class="id"><a name="lo:104" class="">lo</a></span> <span id="hi:105" class="id"><a name="hi:105" class="">hi</a></span> <span id="f2:106" class="id"><a name="f2:106" class="">f2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:100">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:101">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:102">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:103">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:104">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:105">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:100">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:106">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:107" class="id"><a name="b:107" class="">b</a></span> <span id="delta:108" class="id"><a name="delta:108" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:106">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:107">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:103">sp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:108">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:100">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:107">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:103">sp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:108">delta</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:109" class="id"><a name="b:109" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:109">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:104">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:106">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:109">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:100">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:109">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:106">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:101">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:102">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:103">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:104">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:105">hi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">geninv</span> (<span class="id">me_vars0</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;bounded&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;below&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">match_env</span></span> and external calls </div>
<br/>
<span class="vernacular">Remark</span> <span id="inject_incr_separated_same" class="id"><a name="inject_incr_separated_same" class="">inject_incr_separated_same:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:110" class="id"><a name="f1:110" class="">f1</a></span> <span id="f2:111" class="id"><a name="f2:111" class="">f2</a></span> <span id="m1:112" class="id"><a name="m1:112" class="">m1</a></span> <span id="m1':113" class="id"><a name="m1':113" class="">m1',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:110">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:111">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:110">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:111">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:112">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':113">m1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:114" class="id"><a name="b:114" class="">b,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:112">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:114">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:111">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:114">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:110">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:114">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">case_eq</span> (<span class="id">f1</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[b'</span> <span class="id">delta]</span> <span class="id">EQ</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">EQ</span>. <span class="id">case_eq</span> (<span class="id">f2</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[b'1</span> <span class="id">delta1]</span> <span class="id">EQ1</span>. <span class="id">exploit</span> <span class="id">H0;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inject_incr_separated_same'" class="id"><a name="inject_incr_separated_same'" class="">inject_incr_separated_same':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:115" class="id"><a name="f1:115" class="">f1</a></span> <span id="f2:116" class="id"><a name="f2:116" class="">f2</a></span> <span id="m1:117" class="id"><a name="m1:117" class="">m1</a></span> <span id="m1':118" class="id"><a name="m1':118" class="">m1',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:115">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:116">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:115">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:116">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:117">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':118">m1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:119" class="id"><a name="b:119" class="">b</a></span> <span id="b':120" class="id"><a name="b':120" class="">b'</a></span> <span id="delta:121" class="id"><a name="delta:121" class="">delta,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:116">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:119">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':120">b',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:121">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':118">m1'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':120">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:115">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:119">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':120">b',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:121">delta</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">case_eq</span> (<span class="id">f1</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[b'1</span> <span class="id">delta1]</span> <span class="id">EQ</span>. <span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id">H0;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_external_call" class="id"><a name="match_env_external_call" class="">match_env_external_call:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:122" class="id"><a name="f1:122" class="">f1</a></span> <span id="cenv:123" class="id"><a name="cenv:123" class="">cenv</a></span> <span id="e:124" class="id"><a name="e:124" class="">e</a></span> <span id="sp:125" class="id"><a name="sp:125" class="">sp</a></span> <span id="lo:126" class="id"><a name="lo:126" class="">lo</a></span> <span id="hi:127" class="id"><a name="hi:127" class="">hi</a></span> <span id="f2:128" class="id"><a name="f2:128" class="">f2</a></span> <span id="m1:129" class="id"><a name="m1:129" class="">m1</a></span> <span id="m1':130" class="id"><a name="m1':130" class="">m1',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:122">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:123">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:124">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:125">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:126">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:127">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:122">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:128">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:122">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:128">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:129">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':130">m1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:127">hi</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:129">m1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:125">sp</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':130">m1'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:128">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:123">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:124">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:125">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:126">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:127">hi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env_invariant">match_env_invariant</a></span> <span class="gallina-kwd">with</span> <span class="id">f1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#inject_incr_separated_same'">inject_incr_separated_same';</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#inject_incr_separated_same">inject_incr_separated_same;</a></span> <span class="id">eauto</span>. <span class="id">red</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">match_env</span></span> and allocations </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_alloc" class="id"><a name="match_env_alloc" class="">match_env_alloc:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:131" class="id"><a name="f1:131" class="">f1</a></span> <span id="id:132" class="id"><a name="id:132" class="">id</a></span> <span id="cenv:133" class="id"><a name="cenv:133" class="">cenv</a></span> <span id="e:134" class="id"><a name="e:134" class="">e</a></span> <span id="sp:135" class="id"><a name="sp:135" class="">sp</a></span> <span id="lo:136" class="id"><a name="lo:136" class="">lo</a></span> <span id="m1:137" class="id"><a name="m1:137" class="">m1</a></span> <span id="sz:138" class="id"><a name="sz:138" class="">sz</a></span> <span id="m2:139" class="id"><a name="m2:139" class="">m2</a></span> <span id="b:140" class="id"><a name="b:140" class="">b</a></span> <span id="ofs:141" class="id"><a name="ofs:141" class="">ofs</a></span> <span id="f2:142" class="id"><a name="f2:142" class="">f2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:131">f1</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.remove">PTree.remove</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:132">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:133">cenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:134">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:135">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:136">lo</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:137">m1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:137">m1</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:138">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:139">m2,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:140">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:133">cenv!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:141">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:131">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:142">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:142">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:140">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:135">sp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:141">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':143" class="id"><a name="b':143" class="">b',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':143">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:140">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:142">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':143">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:131">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':143">b'</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:134">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:142">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:133">cenv</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:132">id</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:140">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:138">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:134">e</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:135">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:136">lo</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:139">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">f2;</span> <span class="id">intros</span> <span class="id">ME</span> <span class="id">ALLOC</span> <span class="id">CENV</span> <span class="id">INCR</span> <span class="id">SAME</span> <span class="id">OTHER</span> <span class="id">ENV</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">NEXTBLOCK</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">RES</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ME;</span> <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;new&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0</span>. <span class="id">rewrite</span> <span class="id">CENV</span>. <span class="id">constructor</span>. <span class="id">econstructor</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_commut">Ptrofs.add_commut</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;old&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id">me_vars0</span> <span class="id">id0</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gro">PTree.gro</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">M;</span> <span class="id">inv</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;low-high&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">NEXTBLOCK;</span> <span class="id">extlia</span>.<br/>
<span class="comment">(*&nbsp;bounded&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">NEXTBLOCK;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">me_bounded0;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">NEXTBLOCK;</span> <span class="id">extlia</span>.<br/>
<span class="comment">(*&nbsp;inv&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m1</span>)).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">b</span>. <span class="id">rewrite</span> <span class="id">SAME</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="gallina-kwd">exists</span> <span class="id">id;</span> <span class="gallina-kwd">exists</span> <span class="id">sz</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">OTHER</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">exploit</span> <span class="id">me_inv0;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[id1</span> <span class="id">[sz1</span> <span class="id">EQ]]</span>. <span class="gallina-kwd">exists</span> <span class="id">id1;</span> <span class="gallina-kwd">exists</span> <span class="id">sz1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">congruence</span>.<br/>
<span class="comment">(*&nbsp;incr&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">OTHER</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The sizes of blocks appearing in <span class="bracket"><span class="id">e</span></span> are respected. </div>
<br/>
<span class="vernacular">Definition</span> <span id="match_bounds" class="id"><a name="match_bounds" class="">match_bounds</a></span> (<span id="e:144" class="id"><a name="e:144" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>) (<span id="m:145" class="id"><a name="m:145" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:146" class="id"><a name="id:146" class="">id</a></span> <span id="b:147" class="id"><a name="b:147" class="">b</a></span> <span id="sz:148" class="id"><a name="sz:148" class="">sz</a></span> <span id="ofs:149" class="id"><a name="ofs:149" class="">ofs</a></span> <span id="p:150" class="id"><a name="p:150" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:146">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:144">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:147">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:148">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:145">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:147">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:149">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:150">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:149">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:148">sz</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_bounds_invariant" class="id"><a name="match_bounds_invariant" class="">match_bounds_invariant:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:151" class="id"><a name="e:151" class="">e</a></span> <span id="m1:152" class="id"><a name="m1:152" class="">m1</a></span> <span id="m2:153" class="id"><a name="m2:153" class="">m2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_bounds">match_bounds</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:151">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:152">m1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:154" class="id"><a name="id:154" class="">id</a></span> <span id="b:155" class="id"><a name="b:155" class="">b</a></span> <span id="sz:156" class="id"><a name="sz:156" class="">sz</a></span> <span id="ofs:157" class="id"><a name="ofs:157" class="">ofs</a></span> <span id="p:158" class="id"><a name="p:158" class="">p,</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:154">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:151">e</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:155">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:156">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:153">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:155">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:157">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:158">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:152">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:155">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:157">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:158">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_bounds">match_bounds</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:151">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:153">m2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h2> Permissions on the Cminor stack block </h2>
<br/>
<div class="doc">The parts of the Cminor stack data block that are not images of
    C#minor local variable blocks remain freeable at all times. </div>
<br/>
<span class="vernacular">Inductive</span> <span id="is_reachable_from_env" class="id"><a name="is_reachable_from_env" class="">is_reachable_from_env</a></span> (<span id="f:159" class="id"><a name="f:159" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="e:160" class="id"><a name="e:160" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>) (<span id="sp:161" class="id"><a name="sp:161" class="">sp:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="ofs:162" class="id"><a name="ofs:162" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="is_reachable_intro" class="id"><a name="is_reachable_intro" class="">is_reachable_intro:</a></span> <span class="gallina-kwd">forall</span> <span id="id:165" class="id"><a name="id:165" class="">id</a></span> <span id="b:166" class="id"><a name="b:166" class="">b</a></span> <span id="sz:167" class="id"><a name="sz:167" class="">sz</a></span> <span id="delta:168" class="id"><a name="delta:168" class="">delta,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:160">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:166">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:167">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:159">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:166">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:161">sp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:168">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:168">delta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:162">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:168">delta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:167">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_from_env:163">is_reachable_from_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:159">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:160">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:161">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:162">ofs</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="padding_freeable" class="id"><a name="padding_freeable" class="">padding_freeable</a></span> (<span id="f:169" class="id"><a name="f:169" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="e:170" class="id"><a name="e:170" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>) (<span id="tm:171" class="id"><a name="tm:171" class="">tm:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="sp:172" class="id"><a name="sp:172" class="">sp:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="sz:173" class="id"><a name="sz:173" class="">sz:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ofs:174" class="id"><a name="ofs:174" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:174">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:173">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:171">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:172">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:174">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_from_env">is_reachable_from_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:169">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:170">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:172">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:174">ofs</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="padding_freeable_invariant" class="id"><a name="padding_freeable_invariant" class="">padding_freeable_invariant:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:175" class="id"><a name="f1:175" class="">f1</a></span> <span id="e:176" class="id"><a name="e:176" class="">e</a></span> <span id="tm1:177" class="id"><a name="tm1:177" class="">tm1</a></span> <span id="sp:178" class="id"><a name="sp:178" class="">sp</a></span> <span id="sz:179" class="id"><a name="sz:179" class="">sz</a></span> <span id="cenv:180" class="id"><a name="cenv:180" class="">cenv</a></span> <span id="lo:181" class="id"><a name="lo:181" class="">lo</a></span> <span id="hi:182" class="id"><a name="hi:182" class="">hi</a></span> <span id="f2:183" class="id"><a name="f2:183" class="">f2</a></span> <span id="tm2:184" class="id"><a name="tm2:184" class="">tm2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#padding_freeable">padding_freeable</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:175">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:176">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:177">tm1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:178">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:179">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:175">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:180">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:176">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:178">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:181">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:182">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:185" class="id"><a name="ofs:185" class="">ofs,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:177">tm1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:178">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:185">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:184">tm2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:178">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:185">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:186" class="id"><a name="b:186" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:186">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:182">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:183">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:186">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:175">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:186">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#padding_freeable">padding_freeable</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:183">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:176">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:184">tm2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:178">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:179">sz</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_bounded">me_bounded;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[D</span> <span class="id">E]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H2;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Decidability of the <span class="bracket"><span class="id">is_reachable_from_env</span></span> predicate. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_reachable_from_env_dec" class="id"><a name="is_reachable_from_env_dec" class="">is_reachable_from_env_dec:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:187" class="id"><a name="f:187" class="">f</a></span> <span id="e:188" class="id"><a name="e:188" class="">e</a></span> <span id="sp:189" class="id"><a name="sp:189" class="">sp</a></span> <span id="ofs:190" class="id"><a name="ofs:190" class="">ofs,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_from_env">is_reachable_from_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:187">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:188">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:189">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:190">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~is_reachable_from_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:187">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:188">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:189">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:190">ofs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">pred</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="id_b_sz:193" class="id"><span id="id_b_sz:191" class="id"><a name="id_b_sz:193" class="">id_b_sz</a></span></span> <span class="id">:</span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id_b_sz:191">id_b_sz</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id,</a></span> (<span class="id">b,</span> <span class="id">sz</span>)) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">f</span> <span class="id">b</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">sp',</span> <span class="id">delta</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">sp</span> <span class="id">sp'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">delta</span> <span class="id">ofs</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> (<span class="id">delta</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">sz</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#existsb">List.existsb</a></span> <span class="id">pred</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>)) <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;yes&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#existsb_exists">List.existsb_exists</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Heqb</span> <span class="gallina-kwd">as</span> <span class="id">[[id</span> <span class="id">[b</span> <span class="id">sz]]</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">B</span>. <span class="id">destruct</span> (<span class="id">f</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[sp'</span> <span class="id">delta]</span> <span class="id">|]</span> <span class="id">eqn:?;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">sp</span> <span class="id">sp'</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_intro">is_reachable_intro</a></span> <span class="gallina-kwd">with</span> <span class="id">id</span> <span class="id">b</span> <span class="id">sz</span> <span class="id">delta</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;no&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">right;</span> <span class="id">red;</span> <span class="id">intro</span> <span class="id">NE;</span> <span class="id">inv</span> <span class="id">NE</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#existsb">existsb</a></span> <span class="id">pred</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#existsb_exists">List.existsb_exists</a></span>. <span class="gallina-kwd">exists</span> (<span class="id">id,</span> (<span class="id">b,</span> <span class="id">sz</span>))<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>. <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<h1> Correspondence between global environments </h1>
<br/>
<div class="doc">Global environments match if the memory injection <span class="bracket"><span class="id">f</span></span> leaves unchanged
  the references to global symbols and functions. </div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_globalenvs" class="id"><a name="match_globalenvs" class="">match_globalenvs</a></span> (<span id="f:195" class="id"><a name="f:195" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="bound:196" class="id"><a name="bound:196" class="">bound:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>)<span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="mk_match_globalenvs" class="id"><a name="mk_match_globalenvs" class="">mk_match_globalenvs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="DOMAIN:200" class="id"><a name="DOMAIN:200" class="">DOMAIN:</a></span> <span class="gallina-kwd">forall</span> <span id="b:199" class="id"><a name="b:199" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:199">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:196">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:195">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:199">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:199">b,</a></span> <span class="id">0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="IMAGE:204" class="id"><a name="IMAGE:204" class="">IMAGE:</a></span> <span class="gallina-kwd">forall</span> <span id="b1:201" class="id"><a name="b1:201" class="">b1</a></span> <span id="b2:202" class="id"><a name="b2:202" class="">b2</a></span> <span id="delta:203" class="id"><a name="delta:203" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:195">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b1:201">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b2:202">b2,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:203">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b2:202">b2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:196">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b1:201">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b2:202">b2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="SYMBOLS:207" class="id"><a name="SYMBOLS:207" class="">SYMBOLS:</a></span> <span class="gallina-kwd">forall</span> <span id="id:205" class="id"><a name="id:205" class="">id</a></span> <span id="b:206" class="id"><a name="b:206" class="">b,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:205">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:206">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:206">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:196">bound</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="FUNCTIONS:210" class="id"><a name="FUNCTIONS:210" class="">FUNCTIONS:</a></span> <span class="gallina-kwd">forall</span> <span id="b:208" class="id"><a name="b:208" class="">b</a></span> <span id="fd:209" class="id"><a name="fd:209" class="">fd,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:208">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fd:209">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:208">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:196">bound</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="VARINFOS:213" class="id"><a name="VARINFOS:213" class="">VARINFOS:</a></span> <span class="gallina-kwd">forall</span> <span id="b:211" class="id"><a name="b:211" class="">b</a></span> <span id="gv:212" class="id"><a name="gv:212" class="">gv,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:211">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#gv:212">gv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:211">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:196">bound</a></span>).<br/>
<br/>
<span class="vernacular">Remark</span> <span id="inj_preserves_globals" class="id"><a name="inj_preserves_globals" class="">inj_preserves_globals:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:214" class="id"><a name="f:214" class="">f</a></span> <span id="hi:215" class="id"><a name="hi:215" class="">hi,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:214">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:215">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#meminj_preserves_globals">meminj_preserves_globals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:214">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">apply</span> <span class="id">DOMAIN</span>. <span class="id">eapply</span> <span class="id">SYMBOLS</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">apply</span> <span class="id">DOMAIN</span>. <span class="id">eapply</span> <span class="id">VARINFOS</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id">IMAGE;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Invariant on abstract call stacks  </h1>
<br/>
<div class="doc">Call stacks represent abstractly the execution state of the current
  C#minor and Cminor functions, as well as the states of the
  calling functions.  A call stack is a list of frames, each frame
  collecting information on the current execution state of a C#minor
  function and its Cminor translation. </div>
<br/>
<span class="vernacular">Inductive</span> <span id="frame" class="id"><a name="frame" class="">frame</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span id="Frame" class="id"><a name="Frame" class="">Frame</a></span>(<span id="cenv:218" class="id"><a name="cenv:218" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="tf:219" class="id"><a name="tf:219" class="">tf:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#function">Cminor.function</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="e:220" class="id"><a name="e:220" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="le:221" class="id"><a name="le:221" class="">le:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#temp_env">Csharpminor.temp_env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="te:222" class="id"><a name="te:222" class="">te:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#env">Cminor.env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="sp:223" class="id"><a name="sp:223" class="">sp:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="lo:224" class="id"><a name="lo:224" class="">lo</a></span> <span id="hi:225" class="id"><a name="hi:225" class="">hi:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="callstack" class="id"><a name="callstack" class="">callstack</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#frame">frame</a></span>.<br/>
<br/>
<div class="doc">Matching of call stacks imply:
<ul>
<li>
 matching of environments for each of the frames
</li>
<li>
 matching of the global environments
</li>
<li>
 separation conditions over the memory blocks allocated for C#minor local variables;
</li>
<li>
 separation conditions over the memory blocks allocated for Cminor stack data;
</li>
<li>
 freeable permissions on the parts of the Cminor stack data blocks
  that are not images of C#minor local variable blocks.
</li>
</ul>
</div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_callstack" class="id"><a name="match_callstack" class="">match_callstack</a></span> (<span id="f:226" class="id"><a name="f:226" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="m:227" class="id"><a name="m:227" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="tm:228" class="id"><a name="tm:228" class="">tm:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>)<span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#callstack">callstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="mcs_nil" class="id"><a name="mcs_nil" class="">mcs_nil:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="hi:231" class="id"><a name="hi:231" class="">hi</a></span> <span id="bound:232" class="id"><a name="bound:232" class="">bound</a></span> <span id="tbound:233" class="id"><a name="tbound:233" class="">tbound,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:226">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:231">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:231">hi</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:232">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:231">hi</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:233">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack:229">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:226">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:227">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:228">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:232">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:233">tbound</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="mcs_cons" class="id"><a name="mcs_cons" class="">mcs_cons:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:234" class="id"><a name="cenv:234" class="">cenv</a></span> <span id="tf:235" class="id"><a name="tf:235" class="">tf</a></span> <span id="e:236" class="id"><a name="e:236" class="">e</a></span> <span id="le:237" class="id"><a name="le:237" class="">le</a></span> <span id="te:238" class="id"><a name="te:238" class="">te</a></span> <span id="sp:239" class="id"><a name="sp:239" class="">sp</a></span> <span id="lo:240" class="id"><a name="lo:240" class="">lo</a></span> <span id="hi:241" class="id"><a name="hi:241" class="">hi</a></span> <span id="cs:242" class="id"><a name="cs:242" class="">cs</a></span> <span id="bound:243" class="id"><a name="bound:243" class="">bound</a></span> <span id="tbound:244" class="id"><a name="tbound:244" class="">tbound</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="BOUND:245" class="id"><a name="BOUND:245" class="">BOUND:</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:241">hi</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:243">bound</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TBOUND:246" class="id"><a name="TBOUND:246" class="">TBOUND:</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:239">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:244">tbound</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MTMP:247" class="id"><a name="MTMP:247" class="">MTMP:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:226">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:237">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:238">te</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MENV:248" class="id"><a name="MENV:248" class="">MENV:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:226">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:234">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:236">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:239">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:240">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:241">hi</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="BOUND:249" class="id"><a name="BOUND:249" class="">BOUND:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_bounds">match_bounds</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:236">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:227">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="PERM:250" class="id"><a name="PERM:250" class="">PERM:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#padding_freeable">padding_freeable</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:226">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:236">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:228">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:239">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:235">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCS:251" class="id"><a name="MCS:251" class="">MCS:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack:229">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:226">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:227">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:228">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:242">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:240">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:239">sp</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack:229">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:226">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:227">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:228">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:234">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:235">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:236">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:237">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:238">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:239">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:240">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:241">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:242">cs</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:243">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:244">tbound</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">match_callstack</span></span> implies <span class="bracket"><span class="id">match_globalenvs</span></span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_match_globalenvs" class="id"><a name="match_callstack_match_globalenvs" class="">match_callstack_match_globalenvs:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:252" class="id"><a name="f:252" class="">f</a></span> <span id="m:253" class="id"><a name="m:253" class="">m</a></span> <span id="tm:254" class="id"><a name="tm:254" class="">tm</a></span> <span id="cs:255" class="id"><a name="cs:255" class="">cs</a></span> <span id="bound:256" class="id"><a name="bound:256" class="">bound</a></span> <span id="tbound:257" class="id"><a name="tbound:257" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:252">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:253">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:254">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:255">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:256">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:257">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="hi:258" class="id"><a name="hi:258" class="">hi,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:252">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:258">hi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Invariance properties for <span class="bracket"><span class="id">match_callstack</span></span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_invariant" class="id"><a name="match_callstack_invariant" class="">match_callstack_invariant:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:259" class="id"><a name="f1:259" class="">f1</a></span> <span id="m1:260" class="id"><a name="m1:260" class="">m1</a></span> <span id="tm1:261" class="id"><a name="tm1:261" class="">tm1</a></span> <span id="f2:262" class="id"><a name="f2:262" class="">f2</a></span> <span id="m2:263" class="id"><a name="m2:263" class="">m2</a></span> <span id="tm2:264" class="id"><a name="tm2:264" class="">tm2</a></span> <span id="cs:265" class="id"><a name="cs:265" class="">cs</a></span> <span id="bound:266" class="id"><a name="bound:266" class="">bound</a></span> <span id="tbound:267" class="id"><a name="tbound:267" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:259">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:260">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:261">tm1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:265">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:266">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:267">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:259">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:262">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:268" class="id"><a name="b:268" class="">b</a></span> <span id="ofs:269" class="id"><a name="ofs:269" class="">ofs</a></span> <span id="p:270" class="id"><a name="p:270" class="">p,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:268">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:266">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:263">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:268">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:269">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:270">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:260">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:268">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:269">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:270">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="sp:271" class="id"><a name="sp:271" class="">sp</a></span> <span id="ofs:272" class="id"><a name="ofs:272" class="">ofs,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:271">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:267">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:261">tm1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:271">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:272">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:264">tm2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:271">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:272">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:273" class="id"><a name="b:273" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:273">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:266">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:262">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:273">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:259">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:273">b</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:274" class="id"><a name="b:274" class="">b</a></span> <span id="b':275" class="id"><a name="b':275" class="">b'</a></span> <span id="delta:276" class="id"><a name="delta:276" class="">delta,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:262">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:274">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':275">b',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:276">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':275">b'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:267">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:259">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:274">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':275">b',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:276">delta</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:262">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:263">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:264">tm2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:265">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:266">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:267">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">intros;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IMAGE;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id">H6;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id">lo</span> <span class="id">hi</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_low_high">me_low_high;</a></span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps_invariant">match_temps_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env_invariant">match_env_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">H3</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_bounds_invariant">match_bounds_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H1;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_bounded">me_bounded;</a></span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#padding_freeable_invariant">padding_freeable_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">H3</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHmatch_callstack;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H1;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H3;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H4;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_incr_bound" class="id"><a name="match_callstack_incr_bound" class="">match_callstack_incr_bound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:277" class="id"><a name="f:277" class="">f</a></span> <span id="m:278" class="id"><a name="m:278" class="">m</a></span> <span id="tm:279" class="id"><a name="tm:279" class="">tm</a></span> <span id="cs:280" class="id"><a name="cs:280" class="">cs</a></span> <span id="bound:281" class="id"><a name="bound:281" class="">bound</a></span> <span id="tbound:282" class="id"><a name="tbound:282" class="">tbound</a></span> <span id="bound':283" class="id"><a name="bound':283" class="">bound'</a></span> <span id="tbound':284" class="id"><a name="tbound':284" class="">tbound',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:277">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:278">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:279">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:280">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:281">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:282">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:281">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound':283">bound'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:282">tbound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound':284">tbound'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:277">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:278">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:279">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:280">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound':283">bound'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound':284">tbound'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Assigning a temporary variable. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_set_temp" class="id"><a name="match_callstack_set_temp" class="">match_callstack_set_temp:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:285" class="id"><a name="f:285" class="">f</a></span> <span id="cenv:286" class="id"><a name="cenv:286" class="">cenv</a></span> <span id="e:287" class="id"><a name="e:287" class="">e</a></span> <span id="le:288" class="id"><a name="le:288" class="">le</a></span> <span id="te:289" class="id"><a name="te:289" class="">te</a></span> <span id="sp:290" class="id"><a name="sp:290" class="">sp</a></span> <span id="lo:291" class="id"><a name="lo:291" class="">lo</a></span> <span id="hi:292" class="id"><a name="hi:292" class="">hi</a></span> <span id="cs:293" class="id"><a name="cs:293" class="">cs</a></span> <span id="bound:294" class="id"><a name="bound:294" class="">bound</a></span> <span id="tbound:295" class="id"><a name="tbound:295" class="">tbound</a></span> <span id="m:296" class="id"><a name="m:296" class="">m</a></span> <span id="tm:297" class="id"><a name="tm:297" class="">tm</a></span> <span id="tf:298" class="id"><a name="tf:298" class="">tf</a></span> <span id="id:299" class="id"><a name="id:299" class="">id</a></span> <span id="v:300" class="id"><a name="v:300" class="">v</a></span> <span id="tv:301" class="id"><a name="tv:301" class="">tv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:285">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:300">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:301">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:285">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:296">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:297">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:286">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:298">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:287">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:288">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:289">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:290">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:291">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:292">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:293">cs</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:294">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:295">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:285">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:296">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:297">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:286">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:298">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:287">e</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:299">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:300">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:288">le</a></span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:299">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:301">tv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:289">te</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:290">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:291">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:292">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:293">cs</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:294">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:295">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps_assign">match_temps_assign;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Preservation of <span class="bracket"><span class="id">match_callstack</span></span> by freeing all blocks allocated
  for local variables at function entry (on the C#minor side)
  and simultaneously freeing the Cminor stack data block. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_blocks_of_env" class="id"><a name="in_blocks_of_env" class="">in_blocks_of_env:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:302" class="id"><a name="e:302" class="">e</a></span> <span id="id:303" class="id"><a name="id:303" class="">id</a></span> <span id="b:304" class="id"><a name="b:304" class="">b</a></span> <span id="sz:305" class="id"><a name="sz:305" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:302">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:304">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:305">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:304">b,</a></span> <span class="id">0,</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:305">sz</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:302">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">b,</span> <span class="id">0,</span> <span class="id">sz</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#block_of_binding">block_of_binding</a></span> (<span class="id">id,</span> (<span class="id">b,</span> <span class="id">sz</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">List.in_map</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="in_blocks_of_env_inv" class="id"><a name="in_blocks_of_env_inv" class="">in_blocks_of_env_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:306" class="id"><a name="b:306" class="">b</a></span> <span id="lo:307" class="id"><a name="lo:307" class="">lo</a></span> <span id="hi:308" class="id"><a name="hi:308" class="">hi</a></span> <span id="e:309" class="id"><a name="e:309" class="">e,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:306">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:307">lo,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:308">hi</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:309">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="id:310" class="id"><a name="id:310" class="">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:309">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:306">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:308">hi</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:307">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[id</span> <span class="id">[b'</span> <span class="id">sz]]</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#block_of_binding">block_of_binding</a></span> <span class="gallina-kwd">in</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">id;</span> <span class="id">intuition</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_complete">PTree.elements_complete</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_freelist" class="id"><a name="match_callstack_freelist" class="">match_callstack_freelist:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:311" class="id"><a name="f:311" class="">f</a></span> <span id="cenv:312" class="id"><a name="cenv:312" class="">cenv</a></span> <span id="tf:313" class="id"><a name="tf:313" class="">tf</a></span> <span id="e:314" class="id"><a name="e:314" class="">e</a></span> <span id="le:315" class="id"><a name="le:315" class="">le</a></span> <span id="te:316" class="id"><a name="te:316" class="">te</a></span> <span id="sp:317" class="id"><a name="sp:317" class="">sp</a></span> <span id="lo:318" class="id"><a name="lo:318" class="">lo</a></span> <span id="hi:319" class="id"><a name="hi:319" class="">hi</a></span> <span id="cs:320" class="id"><a name="cs:320" class="">cs</a></span> <span id="m:321" class="id"><a name="m:321" class="">m</a></span> <span id="m':322" class="id"><a name="m':322" class="">m'</a></span> <span id="tm:323" class="id"><a name="tm:323" class="">tm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:311">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:321">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:323">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:321">m</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:314">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':322">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:311">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:321">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:323">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:312">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:313">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:314">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:315">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:316">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:317">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:318">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:319">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:320">cs</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:321">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:323">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tm':324" class="id"><a name="tm':324" class="">tm',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:323">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:317">sp</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:313">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':324">tm'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:311">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':322">m'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':324">tm'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:320">cs</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':322">m'</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':324">tm'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:311">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':322">m'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':324">tm'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">tm;</span> <span class="id">intros</span> <span class="id">INJ</span> <span class="id">FREELIST</span> <span class="id">MCS</span>. <span class="id">inv</span> <span class="id">MCS</span>. <span class="id">inv</span> <span class="id">MENV</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{tm'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id">tm</span> <span class="id">sp</span> <span class="id">0</span> (<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id">tf</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':325">tm'}</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm_free">Mem.range_perm_free</a></span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">PERM;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">|</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">A</span>. <span class="id">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">0</span> <span class="id">sz</span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable</a></span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#free_list_freeable">free_list_freeable;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#in_blocks_of_env">in_blocks_of_env;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">ofs</span> <span class="gallina-kwd">with</span> ((<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">delta</span>) <span class="id">+</span> <span class="id">delta</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_inject">Mem.perm_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id">H3</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">X</span> <span class="gallina-kwd">as</span>  <span class="id">[tm'</span> <span class="id">FREE]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#nextblock_freelist">nextblock_freelist;</a></span> <span class="id">eauto</span>. <span class="id">intro</span> <span class="id">NEXT</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intro</span> <span class="id">NEXT'</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tm'</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">NEXT;</span> <span class="id">rewrite</span> <span class="id">NEXT'</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_incr_bound">match_callstack_incr_bound</a></span> <span class="gallina-kwd">with</span> <span class="id">lo</span> <span class="id">sp;</span> <span class="id">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_invariant">match_callstack_invariant</a></span> <span class="gallina-kwd">with</span> <span class="id">f</span> <span class="id">m</span> <span class="id">tm;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#perm_freelist">perm_freelist;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_1">Mem.perm_free_1</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block;</a></span> <span class="id">extlia</span>. <span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_inject">Mem.free_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id">me_inv0;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[id</span> <span class="id">[sz</span> <span class="id">A]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">0;</span> <span class="gallina-kwd">exists</span> <span class="id">sz;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#in_blocks_of_env">in_blocks_of_env;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">BOUND0;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_max">Mem.perm_max</a></span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Preservation of <span class="bracket"><span class="id">match_callstack</span></span> by external calls. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_external_call" class="id"><a name="match_callstack_external_call" class="">match_callstack_external_call:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:327" class="id"><a name="f1:327" class="">f1</a></span> <span id="f2:328" class="id"><a name="f2:328" class="">f2</a></span> <span id="m1:329" class="id"><a name="m1:329" class="">m1</a></span> <span id="m2:330" class="id"><a name="m2:330" class="">m2</a></span> <span id="m1':331" class="id"><a name="m1':331" class="">m1'</a></span> <span id="m2':332" class="id"><a name="m2':332" class="">m2',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:327">f1</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:329">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:330">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="id"><a href="compcert.common.Events.html#loc_out_of_reach">loc_out_of_reach</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:327">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:329">m1</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':331">m1'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2':332">m2'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:327">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:328">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:327">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:328">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:329">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':331">m1'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:333" class="id"><a name="b:333" class="">b</a></span> <span id="ofs:334" class="id"><a name="ofs:334" class="">ofs</a></span> <span id="p:335" class="id"><a name="p:335" class="">p,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:329">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:333">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:330">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:333">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:334">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:335">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:329">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:333">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:334">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:335">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cs:336" class="id"><a name="cs:336" class="">cs</a></span> <span id="bound:337" class="id"><a name="bound:337" class="">bound</a></span> <span id="tbound:338" class="id"><a name="tbound:338" class="">tbound,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:327">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:329">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':331">m1'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:336">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:337">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:338">tbound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:337">bound</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:329">m1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:338">tbound</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1':331">m1'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:328">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:330">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2':332">m2'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:336">cs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:337">bound</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tbound:338">tbound</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m2'</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">UNMAPPED</span> <span class="id">OUTOFREACH</span> <span class="id">INCR</span> <span class="id">SEPARATED</span> <span class="id">MAXPERMS</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
<span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#mcs_nil">mcs_nil</a></span> <span class="gallina-kwd">with</span> <span class="id">hi;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">case_eq</span> (<span class="id">f1</span> <span class="id">b1</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[b2'</span> <span class="id">delta']</span> <span class="id">EQ</span>. <span class="id">rewrite</span> (<span class="id">INCR</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>) <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">EQ</span>. <span class="id">exploit</span> <span class="id">SEPARATED;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">elim</span> <span class="id">B</span>. <span class="id">red</span>. <span class="id">extlia</span>.<br/>
<span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps_invariant">match_temps_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env_invariant">match_env_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">SEPARATED</span>. <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">f1</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">delta']|]</span> <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">INCR;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SEPARATED;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">elim</span> <span class="id">B</span>. <span class="id">red</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">assert</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id">lo</span> <span class="id">hi</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_low_high">me_low_high;</a></span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">f1</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">delta']|]</span> <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">INCR;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">f2</span> <span class="id">b</span>) <span class="gallina-kwd">as</span> <span class="id">[[b'</span> <span class="id">delta']|]</span> <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SEPARATED;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">elim</span> <span class="id">A</span>. <span class="id">red</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_bounds_invariant">match_bounds_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">MAXPERMS;</span> <span class="id">eauto</span>. <span class="id">red</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_bounded">me_bounded;</a></span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;padding-freeable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_from_env_dec">is_reachable_from_env_dec</a></span> <span class="id">f1</span> <span class="id">e</span> <span class="id">sp</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="id">right</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_intro">is_reachable_intro</a></span> <span class="gallina-kwd">with</span> <span class="id">id</span> <span class="id">b</span> <span class="id">sz</span> <span class="id">delta;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">PERM;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A|A];</span> <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_unchanged_on">Mem.perm_unchanged_on</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">elim</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_inv">me_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[id</span> <span class="id">[lv</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">BOUND0;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_intro">is_reachable_intro</a></span> <span class="gallina-kwd">with</span> <span class="id">id</span> <span class="id">b0</span> <span class="id">lv</span> <span class="id">delta;</span> <span class="id">auto;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">IHmatch_callstack;</span> <span class="id">eauto</span>. <span class="id">inv</span> <span class="id">MENV;</span> <span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">match_callstack</span></span> and allocations </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_alloc_right" class="id"><a name="match_callstack_alloc_right" class="">match_callstack_alloc_right:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:339" class="id"><a name="f:339" class="">f</a></span> <span id="m:340" class="id"><a name="m:340" class="">m</a></span> <span id="tm:341" class="id"><a name="tm:341" class="">tm</a></span> <span id="cs:342" class="id"><a name="cs:342" class="">cs</a></span> <span id="tf:343" class="id"><a name="tf:343" class="">tf</a></span> <span id="tm':344" class="id"><a name="tm':344" class="">tm'</a></span> <span id="sp:345" class="id"><a name="sp:345" class="">sp</a></span> <span id="le:346" class="id"><a name="le:346" class="">le</a></span> <span id="te:347" class="id"><a name="te:347" class="">te</a></span> <span id="cenv:348" class="id"><a name="cenv:348" class="">cenv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:339">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:340">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:341">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:342">cs</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:340">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:341">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:341">tm</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:343">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':344">tm',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:345">sp</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:339">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:340">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:341">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:339">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:346">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:347">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:349" class="id"><a name="id:349" class="">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:348">cenv!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:339">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:340">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':344">tm'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:348">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:343">tf</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:346">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:347">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:345">sp</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:340">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:340">m</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:342">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:340">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':344">tm'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">NEXTBLOCK</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">RES</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H3</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_2">Mem.valid_block_inject_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">RES</span>. <span class="id">change</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">tm</span> <span class="id">tb</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_2">Mem.valid_block_inject_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">left</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_2">Mem.perm_alloc_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_invariant">match_callstack_invariant</a></span> <span class="gallina-kwd">with</span> (<span class="id">tm1</span> <span class="id">:=</span> <span class="id">tm</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">RES;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_1">Mem.perm_alloc_1</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_alloc_left" class="id"><a name="match_callstack_alloc_left" class="">match_callstack_alloc_left:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:350" class="id"><a name="f1:350" class="">f1</a></span> <span id="m1:351" class="id"><a name="m1:351" class="">m1</a></span> <span id="tm:352" class="id"><a name="tm:352" class="">tm</a></span> <span id="id:353" class="id"><a name="id:353" class="">id</a></span> <span id="cenv:354" class="id"><a name="cenv:354" class="">cenv</a></span> <span id="tf:355" class="id"><a name="tf:355" class="">tf</a></span> <span id="e:356" class="id"><a name="e:356" class="">e</a></span> <span id="le:357" class="id"><a name="le:357" class="">le</a></span> <span id="te:358" class="id"><a name="te:358" class="">te</a></span> <span id="sp:359" class="id"><a name="sp:359" class="">sp</a></span> <span id="lo:360" class="id"><a name="lo:360" class="">lo</a></span> <span id="cs:361" class="id"><a name="cs:361" class="">cs</a></span> <span id="sz:362" class="id"><a name="sz:362" class="">sz</a></span> <span id="m2:363" class="id"><a name="m2:363" class="">m2</a></span> <span id="b:364" class="id"><a name="b:364" class="">b</a></span> <span id="f2:365" class="id"><a name="f2:365" class="">f2</a></span> <span id="ofs:366" class="id"><a name="ofs:366" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:350">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:351">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:352">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.remove">PTree.remove</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:353">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:354">cenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:355">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:356">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:357">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:358">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:359">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:360">lo</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:351">m1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:361">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:351">m1</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:352">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:351">m1</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:362">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:363">m2,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:364">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:354">cenv!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:366">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:350">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:365">f2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:365">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:364">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:359">sp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:366">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':367" class="id"><a name="b':367" class="">b',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':367">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:364">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:365">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':367">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:350">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b':367">b'</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:356">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:365">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:363">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:352">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:354">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:355">tf</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:353">id</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:364">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:362">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:356">e</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:357">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:358">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:359">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:360">lo</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:363">m2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:361">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:363">m2</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:352">tm</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">NEXTBLOCK</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">RES</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LO:</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> <span class="id">lo</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m1</span>)) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_low_high">me_low_high;</a></span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps_invariant">match_temps_invariant;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_env_alloc">match_env_alloc;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">H</span>. <span class="id">subst</span> <span class="id">b0</span> <span class="id">sz0</span> <span class="id">id0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_3">Mem.perm_alloc_3</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">BOUND0;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#me_bounded">me_bounded;</a></span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id">PERM;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A|A]</span>. <span class="id">auto</span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">A</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#is_reachable_intro">is_reachable_intro</a></span> <span class="gallina-kwd">with</span> <span class="id">id0</span> <span class="id">b0</span> <span class="id">sz0</span> <span class="id">delta;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">auto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_invariant">match_callstack_invariant</a></span> <span class="gallina-kwd">with</span> (<span class="id">m1</span> <span class="id">:=</span> <span class="id">m1</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">H4</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b0</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">b0</span>. <span class="id">rewrite</span> <span class="id">H3</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H4</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Correctness of stack allocation of local variables </h1>
<br/>
<div class="doc">This section shows the correctness of the translation of Csharpminor
  local variables as sub-blocks of the Cminor stack data.  This is the most difficult part of the proof. </div>
<br/>
<span class="vernacular">Definition</span> <span id="cenv_remove" class="id"><a name="cenv_remove" class="">cenv_remove</a></span> (<span id="cenv:368" class="id"><a name="cenv:368" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>) (<span id="vars:369" class="id"><a name="vars:369" class="">vars:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) <span class="id">:</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span> (<span class="gallina-kwd">fun</span> <span id="id_lv:370" class="id"><a name="id_lv:370" class="">id_lv</a></span> <span id="ce:371" class="id"><a name="ce:371" class="">ce</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.remove">PTree.remove</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id_lv:370">id_lv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ce:371">ce</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:368">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:369">vars</a></span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="cenv_remove_gso" class="id"><a name="cenv_remove_gso" class="">cenv_remove_gso:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:372" class="id"><a name="id:372" class="">id</a></span> <span id="vars:373" class="id"><a name="vars:373" class="">vars</a></span> <span id="cenv:374" class="id"><a name="cenv:374" class="">cenv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:372">id</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:373">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:372">id</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_remove">cenv_remove</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:374">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:373">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:372">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:374">cenv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gro">PTree.gro</a></span>. <span class="id">apply</span> <span class="id">IHvars</span>. <span class="id">intuition</span>. <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="cenv_remove_gss" class="id"><a name="cenv_remove_gss" class="">cenv_remove_gss:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:375" class="id"><a name="id:375" class="">id</a></span> <span id="vars:376" class="id"><a name="vars:376" class="">vars</a></span> <span id="cenv:377" class="id"><a name="cenv:377" class="">cenv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:375">id</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:376">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:375">id</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_remove">cenv_remove</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:377">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:376">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.grspec">PTree.grspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.elt_eq">PTree.elt_eq</a></span> <span class="id">id</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">a</span>)). <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H;</span> <span class="id">intuition</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">exfalso</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cenv_compat" class="id"><a name="cenv_compat" class="">cenv_compat</a></span> (<span id="cenv:378" class="id"><a name="cenv:378" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>) (<span id="vars:379" class="id"><a name="vars:379" class="">vars:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) (<span id="tsz:380" class="id"><a name="tsz:380" class="">tsz:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:381" class="id"><a name="id:381" class="">id</a></span> <span id="sz:382" class="id"><a name="sz:382" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:381">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:382">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:379">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ofs:383" class="id"><a name="ofs:383" class="">ofs,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:381">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:378">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:383">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inj_offset_aligned">Mem.inj_offset_aligned</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:383">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:382">sz</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:383">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:383">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:382">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tsz:380">tsz</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="cenv_separated" class="id"><a name="cenv_separated" class="">cenv_separated</a></span> (<span id="cenv:384" class="id"><a name="cenv:384" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>) (<span id="vars:385" class="id"><a name="vars:385" class="">vars:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id1:386" class="id"><a name="id1:386" class="">id1</a></span> <span id="sz1:387" class="id"><a name="sz1:387" class="">sz1</a></span> <span id="ofs1:388" class="id"><a name="ofs1:388" class="">ofs1</a></span> <span id="id2:389" class="id"><a name="id2:389" class="">id2</a></span> <span id="sz2:390" class="id"><a name="sz2:390" class="">sz2</a></span> <span id="ofs2:391" class="id"><a name="ofs2:391" class="">ofs2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id1:386">id1,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:387">sz1</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:385">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id2:389">id2,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz2:390">sz2</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:385">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id1:386">id1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:384">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs1:388">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id2:389">id2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:384">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs2:391">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id1:386">id1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id2:389">id2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs1:388">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:387">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs2:391">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs2:391">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz2:390">sz2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs1:388">ofs1</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="cenv_mem_separated" class="id"><a name="cenv_mem_separated" class="">cenv_mem_separated</a></span> (<span id="cenv:392" class="id"><a name="cenv:392" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>) (<span id="vars:393" class="id"><a name="vars:393" class="">vars:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) (<span id="f:394" class="id"><a name="f:394" class="">f:</a></span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span id="sp:395" class="id"><a name="sp:395" class="">sp:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="m:396" class="id"><a name="m:396" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:397" class="id"><a name="id:397" class="">id</a></span> <span id="sz:398" class="id"><a name="sz:398" class="">sz</a></span> <span id="ofs:399" class="id"><a name="ofs:399" class="">ofs</a></span> <span id="b:400" class="id"><a name="b:400" class="">b</a></span> <span id="delta:401" class="id"><a name="delta:401" class="">delta</a></span> <span id="ofs':402" class="id"><a name="ofs':402" class="">ofs'</a></span> <span id="k:403" class="id"><a name="k:403" class="">k</a></span> <span id="p:404" class="id"><a name="p:404" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:397">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:398">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:393">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:397">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:392">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:399">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:394">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:400">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:395">sp,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:401">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:396">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:400">b</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs':402">ofs'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:403">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:404">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:399">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs':402">ofs'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#delta:401">delta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:398">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:399">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_alloc_variables_rec" class="id"><a name="match_callstack_alloc_variables_rec" class="">match_callstack_alloc_variables_rec:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tm:405" class="id"><a name="tm:405" class="">tm</a></span> <span id="sp:406" class="id"><a name="sp:406" class="">sp</a></span> <span id="tf:407" class="id"><a name="tf:407" class="">tf</a></span> <span id="cenv:408" class="id"><a name="cenv:408" class="">cenv</a></span> <span id="le:409" class="id"><a name="le:409" class="">le</a></span> <span id="te:410" class="id"><a name="te:410" class="">te</a></span> <span id="lo:411" class="id"><a name="lo:411" class="">lo</a></span> <span id="cs:412" class="id"><a name="cs:412" class="">cs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:406">sp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:407">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:413" class="id"><a name="ofs:413" class="">ofs</a></span> <span id="k:414" class="id"><a name="k:414" class="">k</a></span> <span id="p:415" class="id"><a name="p:415" class="">p,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:406">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:413">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:414">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:415">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:413">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:407">tf</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:416" class="id"><a name="ofs:416" class="">ofs</a></span> <span id="k:417" class="id"><a name="k:417" class="">k</a></span> <span id="p:418" class="id"><a name="p:418" class="">p,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:416">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:407">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:406">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:416">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:417">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#p:418">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e1:419" class="id"><a name="e1:419" class="">e1</a></span> <span id="m1:420" class="id"><a name="m1:420" class="">m1</a></span> <span id="vars:421" class="id"><a name="vars:421" class="">vars</a></span> <span id="e2:422" class="id"><a name="e2:422" class="">e2</a></span> <span id="m2:423" class="id"><a name="m2:423" class="">m2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e1:419">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:420">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:421">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e2:422">e2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:423">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f1:424" class="id"><a name="f1:424" class="">f1,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:421">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:408">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:421">vars</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:407">tf</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:408">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:421">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_mem_separated">cenv_mem_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:408">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:421">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:424">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:406">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:420">m1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:425" class="id"><a name="id:425" class="">id</a></span> <span id="sz:426" class="id"><a name="sz:426" class="">sz,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:425">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:426">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:421">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e1:419">e1!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:424">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:420">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_remove">cenv_remove</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:408">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:421">vars</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:407">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e1:419">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:409">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:410">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:406">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:411">lo</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:420">m1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:412">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:420">m1</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:424">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:420">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="f2:427" class="id"><a name="f2:427" class="">f2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:427">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:423">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:408">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:407">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e2:422">e2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:409">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:410">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:406">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:411">lo</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:423">m2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:412">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:423">m2</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:427">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:423">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:405">tm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">cs;</span> <span class="id">intros</span> <span class="id">VALID</span> <span class="id">REPRES</span> <span class="id">STKSIZE</span> <span class="id">STKPERMS</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">f1</span> <span class="id">NOREPET</span> <span class="id">COMPAT</span> <span class="id">SEP1</span> <span class="id">SEP2</span> <span class="id">UNBOUND</span> <span class="id">MCS</span> <span class="id">MINJ</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">MCS</span>. <span class="gallina-kwd">exists</span> <span class="id">f1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">NOREPET</span>. <span class="id">inv</span> <span class="id">NOREPET</span>.<br/>
<span class="comment">(*&nbsp;exploit&nbsp;Mem.alloc_result;&nbsp;eauto.&nbsp;intros&nbsp;RES.<br/>
&nbsp;&nbsp;exploit&nbsp;Mem.nextblock_alloc;&nbsp;eauto.&nbsp;intros&nbsp;NB.*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">COMPAT</span> <span class="id">id</span> <span class="id">sz</span>). <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>. <span class="id">intros</span> <span class="id">[ofs</span> <span class="id">[CENV</span> <span class="id">[ALIGNED</span> <span class="id">[LOB</span> <span class="id">HIB]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_left_mapped_inject">Mem.alloc_left_mapped_inject</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">MINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">VALID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">ofs</span>). <span class="id">zify</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id">STKSIZE;</span> <span class="id">eauto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id">STKPERMS</span>. <span class="id">zify</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">0</span>) <span class="gallina-kwd">with</span> <span class="id">sz</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id">SEP2</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>. <span class="id">eexact</span> <span class="id">CENV</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[f2</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">D]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHalloc_variables</span> <span class="id">f2</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">COMPAT</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">SEP1;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_inv">Mem.perm_alloc_inv</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b1</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">b</span>. <span class="id">rewrite</span> <span class="id">C</span> <span class="gallina-kwd">in</span> <span class="id">H5;</span> <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SEP1</span>. <span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span>. <span class="id">eapply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">id0</span>. <span class="id">elim</span> <span class="id">H3</span>. <span class="id">change</span> <span class="id">id</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id,</span> <span class="id">sz0</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">SEP2</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_cons">in_cons;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">D</span> <span class="gallina-kwd">in</span> <span class="id">H5;</span> <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">eapply</span> <span class="id">UNBOUND;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">id0</span>. <span class="id">elim</span> <span class="id">H3</span>. <span class="id">change</span> <span class="id">id</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id,</span> <span class="id">sz0</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_alloc_left">match_callstack_alloc_left;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_remove_gso">cenv_remove_gso;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">UNBOUND</span> <span class="gallina-kwd">with</span> <span class="id">sz;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_callstack_alloc_variables" class="id"><a name="match_callstack_alloc_variables" class="">match_callstack_alloc_variables:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tm1:428" class="id"><a name="tm1:428" class="">tm1</a></span> <span id="sp:429" class="id"><a name="sp:429" class="">sp</a></span> <span id="tm2:430" class="id"><a name="tm2:430" class="">tm2</a></span> <span id="m1:431" class="id"><a name="m1:431" class="">m1</a></span> <span id="vars:432" class="id"><a name="vars:432" class="">vars</a></span> <span id="e:433" class="id"><a name="e:433" class="">e</a></span> <span id="m2:434" class="id"><a name="m2:434" class="">m2</a></span> <span id="cenv:435" class="id"><a name="cenv:435" class="">cenv</a></span> <span id="f1:436" class="id"><a name="f1:436" class="">f1</a></span> <span id="cs:437" class="id"><a name="cs:437" class="">cs</a></span> <span id="fn:438" class="id"><a name="fn:438" class="">fn</a></span> <span id="le:439" class="id"><a name="le:439" class="">le</a></span> <span id="te:440" class="id"><a name="te:440" class="">te,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:428">tm1</a></span> <span class="id">0</span> (<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:438">fn</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:430">tm2,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:429">sp</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:438">fn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:431">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:432">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:433">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:434">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:432">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:435">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:432">vars</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:438">fn</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:435">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:432">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:441" class="id"><a name="id:441" class="">id</a></span> <span id="ofs:442" class="id"><a name="ofs:442" class="">ofs,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:435">cenv!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:442">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:441">id</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:432">vars</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:436">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:431">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:428">tm1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:436">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:431">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:428">tm1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:437">cs</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:431">m1</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm1:428">tm1</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f1:436">f1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:439">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:440">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="f2:443" class="id"><a name="f2:443" class="">f2,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:443">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:434">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:430">tm2</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:435">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:438">fn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:433">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:439">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:440">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:429">sp</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m1:431">m1</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:434">m2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:437">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:434">m2</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:430">tm2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f2:443">f2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m2:434">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm2:430">tm2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_alloc_variables_rec">match_callstack_alloc_variables_rec;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_new_block">Mem.valid_new_block</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_3">Mem.perm_alloc_3</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Memtype.html#Freeable">Freeable;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_2">Mem.perm_alloc_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">f1</span>). <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eelim</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_2">Mem.valid_block_inject_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_alloc_right">match_callstack_alloc_right;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In_dec">In_dec</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">vars</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_remove_gss">cenv_remove_gss;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_remove_gso">cenv_remove_gso;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">cenv!id</span>) <span class="gallina-kwd">as</span> <span class="id">[ofs|]</span> <span class="id">eqn:?;</span> <span class="id">auto</span>. <span class="id">elim</span> <span class="id">n;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_right_inject">Mem.alloc_right_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of the compilation environment produced by <span class="bracket"><span class="id">build_compilenv</span></span> </div>
<br/>
<span class="vernacular">Remark</span> <span id="block_alignment_pos" class="id"><a name="block_alignment_pos" class="">block_alignment_pos:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sz:444" class="id"><a name="sz:444" class="">sz,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:444">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sz</span> <span class="id">2</span>). <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sz</span> <span class="id">4</span>). <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sz</span> <span class="id">8</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="assign_variable_incr" class="id"><a name="assign_variable_incr" class="">assign_variable_incr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:445" class="id"><a name="id:445" class="">id</a></span> <span id="sz:446" class="id"><a name="sz:446" class="">sz</a></span> <span id="cenv:447" class="id"><a name="cenv:447" class="">cenv</a></span> <span id="stksz:448" class="id"><a name="stksz:448" class="">stksz</a></span> <span id="cenv':449" class="id"><a name="cenv':449" class="">cenv'</a></span> <span id="stksz':450" class="id"><a name="stksz':450" class="">stksz',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:447">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#stksz:448">stksz</a></span>) (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:445">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:446">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv':449">cenv',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#stksz':450">stksz'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#stksz:448">stksz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#stksz':450">stksz'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#align_le">align_le</a></span> <span class="id">stksz</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id">sz</span>) (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#block_alignment_pos">block_alignment_pos</a></span> <span class="id">sz</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">0</span> <span class="id">sz</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmax_bound_l">Zmax_bound_l</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="assign_variables_incr" class="id"><a name="assign_variables_incr" class="">assign_variables_incr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vars:451" class="id"><a name="vars:451" class="">vars</a></span> <span id="cenv:452" class="id"><a name="cenv:452" class="">cenv</a></span> <span id="sz:453" class="id"><a name="sz:453" class="">sz</a></span> <span id="cenv':454" class="id"><a name="cenv':454" class="">cenv'</a></span> <span id="sz':455" class="id"><a name="sz':455" class="">sz',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variables">assign_variables</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:452">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:453">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:451">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv':454">cenv',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz':455">sz'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:453">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz':455">sz'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">intros</span> <span class="id">until</span> <span class="id">sz'</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">lia</span>.<br/>
<span class="vernacular">Opaque</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">s]</span>. <span class="id">simpl</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable</a></span> (<span class="id">cenv,</span> <span class="id">sz</span>) (<span class="id">id,</span> <span class="id">s</span>)) <span class="gallina-kwd">as</span> <span class="id">[cenv1</span> <span class="id">sz1]</span> <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">sz1</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#assign_variable_incr">assign_variable_incr;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
<span class="vernacular">Transparent</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inj_offset_aligned_block" class="id"><a name="inj_offset_aligned_block" class="">inj_offset_aligned_block:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="stacksize:456" class="id"><a name="stacksize:456" class="">stacksize</a></span> <span id="sz:457" class="id"><a name="sz:457" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inj_offset_aligned">Mem.inj_offset_aligned</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#stacksize:456">stacksize</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:457">sz</a></span>)) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:457">sz</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_trans">Z.divide_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id">sz</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memdata.html#align_chunk">align_chunk</a></span>.  <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_1_l">Z.divide_1_l</a></span><span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_refl">Z.divide_refl</a></span><span class="id">;</span> <span class="id">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id">4</span>). <span class="gallina-kwd">exists</span> <span class="id">2;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id">8</span>). <span class="gallina-kwd">exists</span> <span class="id">4;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">4</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc">|</a></span> <span class="id">8</span>). <span class="gallina-kwd">exists</span> <span class="id">2;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sz</span> <span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">auto;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sz</span> <span class="id">4</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">auto;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sz</span> <span class="id">8</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">auto;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#align_divides">align_divides</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#block_alignment_pos">block_alignment_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inj_offset_aligned_block'" class="id"><a name="inj_offset_aligned_block'" class="">inj_offset_aligned_block':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="stacksize:458" class="id"><a name="stacksize:458" class="">stacksize</a></span> <span id="sz:459" class="id"><a name="sz:459" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inj_offset_aligned">Mem.inj_offset_aligned</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#stacksize:458">stacksize</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:459">sz</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:459">sz</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id">sz</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">0</span> <span class="id">sz</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#inj_offset_aligned_block">inj_offset_aligned_block</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmax_spec">Zmax_spec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sz</span> <span class="id">0</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> <span class="id">1</span>. <span class="id">reflexivity</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="assign_variable_sound" class="id"><a name="assign_variable_sound" class="">assign_variable_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv1:460" class="id"><a name="cenv1:460" class="">cenv1</a></span> <span id="sz1:461" class="id"><a name="sz1:461" class="">sz1</a></span> <span id="id:462" class="id"><a name="id:462" class="">id</a></span> <span id="sz:463" class="id"><a name="sz:463" class="">sz</a></span> <span id="cenv2:464" class="id"><a name="cenv2:464" class="">cenv2</a></span> <span id="sz2:465" class="id"><a name="sz2:465" class="">sz2</a></span> <span id="vars:466" class="id"><a name="vars:466" class="">vars,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv1:460">cenv1,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:461">sz1</a></span>) (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:462">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:463">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv2:464">cenv2,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz2:465">sz2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:462">id</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:466">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:461">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv1:460">cenv1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:466">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:461">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv1:460">cenv1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:466">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv2:464">cenv2</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:466">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:462">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:463">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz2:465">sz2</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv2:464">cenv2</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:466">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:462">id,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:463">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">vars;</span> <span class="id">intros</span> <span class="id">ASV</span> <span class="id">NOREPET</span> <span class="id">POS</span> <span class="id">COMPAT</span> <span class="id">SEP</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ASV</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">LE:</span> <span class="id">sz1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id">sz1</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id">sz</span>)). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#align_le">align_le</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#block_alignment_pos">block_alignment_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EITHER:</span> <span class="gallina-kwd">forall</span> <span id="id':469" class="id"><span id="id':467" class="id"><a name="id':469" class="">id'</a></span></span> <span id="sz':470" class="id"><span id="sz':468" class="id"><a name="sz':470" class="">sz',</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id':467">id',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz':468">sz'</a></span>) (<span class="id">vars</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> (<span class="id">id,</span> <span class="id">sz</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id':467">id',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz':468">sz'</a></span>) <span class="id">vars</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id':467">id'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id':467">id',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz':468">sz'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">id,</span> <span class="id">sz</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#in_app">in_app</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">id'</span>. <span class="id">elim</span> <span class="id">NOREPET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> <span class="id">id</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">id,</span> <span class="id">sz'</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">auto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">EITHER</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[[P</span> <span class="id">Q]</span> <span class="id">|</span> <span class="id">P]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">COMPAT;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ofs</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">D]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">P</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id">sz1</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#block_alignment">block_alignment</a></span> <span class="id">sz</span>)).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#inj_offset_aligned_block">inj_offset_aligned_block</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">EITHER</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">apply</span> <span class="id">EITHER</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[[P</span> <span class="id">Q]</span> <span class="id">|</span> <span class="id">P];</span> <span class="id">destruct</span> <span class="id">H0</span> <span class="gallina-kwd">as</span> <span class="id">[[R</span> <span class="id">S]</span> <span class="id">|</span> <span class="id">R]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id">SEP;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">R</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">COMPAT;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ofs</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">D]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">ofs1</span>) <span class="gallina-kwd">by</span> <span class="id">congruence</span>. <span class="id">subst</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">P</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span> <span class="gallina-kwd">in</span> <span class="id">H2;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">COMPAT;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ofs</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">[C</span> <span class="id">D]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">ofs2</span>) <span class="gallina-kwd">by</span> <span class="id">congruence</span>. <span class="id">subst</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">zify;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="assign_variables_sound" class="id"><a name="assign_variables_sound" class="">assign_variables_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vars':471" class="id"><a name="vars':471" class="">vars'</a></span> <span id="cenv1:472" class="id"><a name="cenv1:472" class="">cenv1</a></span> <span id="sz1:473" class="id"><a name="sz1:473" class="">sz1</a></span> <span id="cenv2:474" class="id"><a name="cenv2:474" class="">cenv2</a></span> <span id="sz2:475" class="id"><a name="sz2:475" class="">sz2</a></span> <span id="vars:476" class="id"><a name="vars:476" class="">vars,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variables">assign_variables</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv1:472">cenv1,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:473">sz1</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars':471">vars'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv2:474">cenv2,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz2:475">sz2</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars':471">vars'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:476">vars</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:473">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv1:472">cenv1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:476">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz1:473">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv1:472">cenv1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:476">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv2:474">cenv2</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:476">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars':471">vars'</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz2:475">sz2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv2:474">cenv2</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:476">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars':471">vars'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars';</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">sz]</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#in_app">in_app</a></span> <span class="gallina-kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet_app">list_norepet_app</a></span> <span class="gallina-kwd">in</span> <span class="id">H7</span>. <span class="id">destruct</span> <span class="id">H7</span> <span class="gallina-kwd">as</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">R]]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable</a></span> (<span class="id">cenv1,</span> <span class="id">sz1</span>) (<span class="id">id,</span> <span class="id">sz</span>)) <span class="gallina-kwd">as</span> <span class="id">[cenv'</span> <span class="id">sz']</span> <span class="id">eqn:?</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#assign_variable_sound">assign_variable_sound</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">vars</span>). <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHvars'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">vars</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> ((<span class="id">id,</span> <span class="id">sz</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet_app">list_norepet_app</a></span>. <span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet_append_commut">list_norepet_append_commut</a></span>. <span class="id">simpl</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="id">simpl</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#in_app">in_app</a></span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H4</span>. <span class="id">destruct</span> <span class="id">H4</span>. <span class="id">subst</span> <span class="id">y</span>. <span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">x</span>. <span class="id">tauto</span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#assign_variable_incr">assign_variable_incr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqp</span>). <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_ass">app_ass</a></span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="permutation_norepet" class="id"><a name="permutation_norepet" class="">permutation_norepet:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="A:477" class="id"><a name="A:477" class="">A:</a></span> <span class="gallina-kwd">Type</span>) (<span id="l:478" class="id"><a name="l:478" class="">l</a></span> <span id="l':479" class="id"><a name="l':479" class="">l':</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#A:477">A</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation">Permutation</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#l:478">l</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#l':479">l'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#l:478">l</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#l':479">l'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">red;</span> <span class="id">intros;</span> <span class="id">elim</span> <span class="id">H3</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_in">Permutation_in</a></span> <span class="gallina-kwd">with</span> <span class="id">l';</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_sym">Permutation_sym;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">constructor</span>. <span class="id">simpl;</span> <span class="id">intuition</span>. <span class="id">constructor</span>. <span class="id">intuition</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="build_compilenv_sound" class="id"><a name="build_compilenv_sound" class="">build_compilenv_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:480" class="id"><a name="f:480" class="">f</a></span> <span id="cenv:481" class="id"><a name="cenv:481" class="">cenv</a></span> <span id="sz:482" class="id"><a name="sz:482" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#build_compilenv">build_compilenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:480">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:481">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:482">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:480">f</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:481">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:480">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:482">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:481">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:480">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#build_compilenv">build_compilenv;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">vars1</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id">f</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#VarSort.Permuted_sort">VarSort.Permuted_sort</a></span> <span class="id">vars1</span>). <span class="id">intros</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">vars2</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#VarSort.sort">VarSort.sort</a></span> <span class="id">vars1</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_compat">cenv_compat</a></span> <span class="id">cenv</span> <span class="id">vars2</span> <span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv_separated">cenv_separated</a></span> <span class="id">cenv</span> <span class="id">vars2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> <span class="id">vars2</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6">++</a></span> <span class="id">vars2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#assign_variables_sound">assign_variables_sound</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#permutation_norepet">permutation_norepet</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">vars1</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_map">Permutation_map</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H1</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">A</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_in">Permutation_in</a></span> <span class="gallina-kwd">with</span> <span class="id">vars1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">B;</span> <span class="id">eauto;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_in">Permutation_in</a></span> <span class="gallina-kwd">with</span> <span class="id">vars1;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="assign_variables_domain" class="id"><a name="assign_variables_domain" class="">assign_variables_domain:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:483" class="id"><a name="id:483" class="">id</a></span> <span id="vars:484" class="id"><a name="vars:484" class="">vars</a></span> <span id="cesz:485" class="id"><a name="cesz:485" class="">cesz,</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variables">assign_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cesz:485">cesz</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:484">vars</a></span>))<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cesz:485">cesz</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:483">id</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:484">vars</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHvars;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#assign_variable">assign_variable</a></span>. <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">sz1]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">cesz</span> <span class="gallina-kwd">as</span> <span class="id">[cenv</span> <span class="id">stksz]</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id1</span>). <span class="id">auto</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="build_compilenv_domain" class="id"><a name="build_compilenv_domain" class="">build_compilenv_domain:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:486" class="id"><a name="f:486" class="">f</a></span> <span id="cenv:487" class="id"><a name="cenv:487" class="">cenv</a></span> <span id="sz:488" class="id"><a name="sz:488" class="">sz</a></span> <span id="id:489" class="id"><a name="id:489" class="">id</a></span> <span id="ofs:490" class="id"><a name="ofs:490" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#build_compilenv">build_compilenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:486">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:487">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:488">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:487">cenv!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ofs:490">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:489">id</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:486">f</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#build_compilenv">build_compilenv;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">vars1</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id">f</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#VarSort.Permuted_sort">VarSort.Permuted_sort</a></span> <span class="id">vars1</span>). <span class="id">intros</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">vars2</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#VarSort.sort">VarSort.sort</a></span> <span class="id">vars1</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#assign_variables_domain">assign_variables_domain</a></span> <span class="id">id</span> <span class="id">vars2</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z,</a></span> <span class="id">0</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_in">Permutation_in</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">vars2</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_map">Permutation_map</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Sorting.Permutation.html#Permutation_sym">Permutation_sym;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Initialization of C#minor temporaries and Cminor local variables. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="create_undef_temps_val" class="id"><a name="create_undef_temps_val" class="">create_undef_temps_val:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:491" class="id"><a name="id:491" class="">id</a></span> <span id="v:492" class="id"><a name="v:492" class="">v</a></span> <span id="temps:493" class="id"><a name="temps:493" class="">temps,</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#temps:493">temps</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:492">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:491">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#temps:493">temps</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:492">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">temps;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHtemps;</span> <span class="id">eauto</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="set_params'" class="id"><a name="set_params'" class="">set_params'</a></span> (<span id="vl:494" class="id"><a name="vl:494" class="">vl:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span id="il:495" class="id"><a name="il:495" class="">il:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="te:496" class="id"><a name="te:496" class="">te:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#env">Cminor.env</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.Cminor.html#env">Cminor.env</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:495">il,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vl:494">vl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">i1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">is,</span> <span class="id">v1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">vs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params':497">set_params'</a></span> <span class="id">vs</span> <span class="id">is</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">i1</span> <span class="id">v1</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:496">te</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">i1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">is,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params':497">set_params'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">is</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">i1</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:496">te</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:496">te</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bind_parameters_agree_rec" class="id"><a name="bind_parameters_agree_rec" class="">bind_parameters_agree_rec:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:500" class="id"><a name="f:500" class="">f</a></span> <span id="vars:501" class="id"><a name="vars:501" class="">vars</a></span> <span id="vals:502" class="id"><a name="vals:502" class="">vals</a></span> <span id="tvals:503" class="id"><a name="tvals:503" class="">tvals</a></span> <span id="le1:504" class="id"><a name="le1:504" class="">le1</a></span> <span id="le2:505" class="id"><a name="le2:505" class="">le2</a></span> <span id="te:506" class="id"><a name="te:506" class="">te,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:501">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vals:502">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le1:504">le1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le2:505">le2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:500">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vals:502">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tvals:503">tvals</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:500">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le1:504">le1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:506">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:500">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le2:505">le2</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'">set_params'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tvals:503">tvals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:501">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:506">te</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="vernacular">Opaque</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">vals;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">vals;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">eapply</span> <span class="id">IHvars;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="gallina-kwd">exists</span> <span class="id">v';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_params'_outside" class="id"><a name="set_params'_outside" class="">set_params'_outside:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:507" class="id"><a name="id:507" class="">id</a></span> <span id="il:508" class="id"><a name="il:508" class="">il</a></span> <span id="vl:509" class="id"><a name="vl:509" class="">vl</a></span> <span id="te:510" class="id"><a name="te:510" class="">te,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:507">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:508">il</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'">set_params'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vl:509">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:508">il</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:510">te</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:510">te!id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">il;</span> <span class="id">simpl;</span> <span class="id">intros</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">vl;</span> <span class="id">rewrite</span> <span class="id">IHil</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">intuition</span>. <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">intuition</span>. <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_params'_inside" class="id"><a name="set_params'_inside" class="">set_params'_inside:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:511" class="id"><a name="id:511" class="">id</a></span> <span id="il:512" class="id"><a name="il:512" class="">il</a></span> <span id="vl:513" class="id"><a name="vl:513" class="">vl</a></span> <span id="te1:514" class="id"><a name="te1:514" class="">te1</a></span> <span id="te2:515" class="id"><a name="te2:515" class="">te2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:511">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:512">il</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'">set_params'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vl:513">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:512">il</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te1:514">te1</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'">set_params'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vl:513">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:512">il</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te2:515">te2</a></span>)<span class="id">!id</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">il;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">vl;</span> <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_dec">List.in_dec</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">il</span>)<span class="id">;</span> <span class="id">auto;</span><br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_outside">set_params'_outside;</a></span> <span class="id">auto;</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">a</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">id</span>) <span class="gallina-kwd">by</span> <span class="id">intuition;</span> <span class="id">subst</span> <span class="id">a;</span> <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_params_set_params'" class="id"><a name="set_params_set_params'" class="">set_params_set_params':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="il:516" class="id"><a name="il:516" class="">il</a></span> <span id="vl:517" class="id"><a name="vl:517" class="">vl</a></span> <span id="id:518" class="id"><a name="id:518" class="">id,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:516">il</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#set_params">set_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vl:517">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:516">il</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'">set_params'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vl:517">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:516">il</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>))<span class="id">!id</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">il;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">vl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">a</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_outside">set_params'_outside;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHil;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_dec">List.in_dec</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">il</span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_inside">set_params'_inside;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_outside">set_params'_outside;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">a</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_outside">set_params'_outside;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHil;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_dec">List.in_dec</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">il</span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_inside">set_params'_inside;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_outside">set_params'_outside;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_locals_outside" class="id"><a name="set_locals_outside" class="">set_locals_outside:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:519" class="id"><a name="e:519" class="">e</a></span> <span id="id:520" class="id"><a name="id:520" class="">id</a></span> <span id="il:521" class="id"><a name="il:521" class="">il,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:520">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:521">il</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#set_locals">set_locals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:521">il</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:519">e</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:519">e!id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">il;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gso">PTree.gso</a></span>. <span class="id">apply</span> <span class="id">IHil</span>. <span class="id">tauto</span>. <span class="id">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_locals_inside" class="id"><a name="set_locals_inside" class="">set_locals_inside:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:522" class="id"><a name="e:522" class="">e</a></span> <span id="id:523" class="id"><a name="id:523" class="">id</a></span> <span id="il:524" class="id"><a name="il:524" class="">il,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:523">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:524">il</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#set_locals">set_locals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#il:524">il</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:522">e</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">il;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span>. <span class="id">subst</span> <span class="id">a</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">a</span>). <span class="id">auto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="set_locals_set_params'" class="id"><a name="set_locals_set_params'" class="">set_locals_set_params':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vars:525" class="id"><a name="vars:525" class="">vars</a></span> <span id="vals:526" class="id"><a name="vals:526" class="">vals</a></span> <span id="params:527" class="id"><a name="params:527" class="">params</a></span> <span id="id:528" class="id"><a name="id:528" class="">id,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:527">params</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:527">params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:525">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#set_locals">set_locals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:525">vars</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#set_params">set_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vals:526">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:527">params</a></span>)) <span class="id">!</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:528">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'">set_params'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vals:526">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:527">params</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#set_locals">set_locals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vars:525">vars</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>))) <span class="id">!</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:528">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">vars</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~In</a></span> <span class="id">id</span> <span class="id">params</span>). <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_disjoint_notin">list_disjoint_notin</a></span> <span class="gallina-kwd">with</span> <span class="id">vars;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_disjoint_sym">list_disjoint_sym;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_locals_inside">set_locals_inside;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_outside">set_params'_outside;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_locals_inside">set_locals_inside;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_locals_outside">set_locals_outside;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params_set_params'">set_params_set_params';</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">params</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_inside">set_params'_inside;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_params'_outside">set_params'_outside;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_locals_outside">set_locals_outside;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bind_parameters_agree" class="id"><a name="bind_parameters_agree" class="">bind_parameters_agree:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:529" class="id"><a name="f:529" class="">f</a></span> <span id="params:530" class="id"><a name="params:530" class="">params</a></span> <span id="temps:531" class="id"><a name="temps:531" class="">temps</a></span> <span id="vals:532" class="id"><a name="vals:532" class="">vals</a></span> <span id="tvals:533" class="id"><a name="tvals:533" class="">tvals</a></span> <span id="le:534" class="id"><a name="le:534" class="">le,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:530">params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vals:532">vals</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#temps:531">temps</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:534">le</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:529">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#vals:532">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tvals:533">tvals</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:530">params</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:530">params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#temps:531">temps</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_temps">match_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:529">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:534">le</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#set_locals">set_locals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#temps:531">temps</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#set_params">set_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tvals:533">tvals</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#params:530">params</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bind_parameters_agree_rec">bind_parameters_agree_rec;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Cminor.html#set_locals">set_locals</a></span> <span class="id">temps</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#create_undef_temps_val">create_undef_temps_val;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">subst</span> <span class="id">v0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef;</a></span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_locals_inside">set_locals_inside;</a></span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[v'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">v';</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">A</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#set_locals_set_params'">set_locals_set_params';</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The main result in this section. </div>
<br/>
<span class="vernacular">Theorem</span> <span id="match_callstack_function_entry" class="id"><a name="match_callstack_function_entry" class="">match_callstack_function_entry:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fn:535" class="id"><a name="fn:535" class="">fn</a></span> <span id="cenv:536" class="id"><a name="cenv:536" class="">cenv</a></span> <span id="tf:537" class="id"><a name="tf:537" class="">tf</a></span> <span id="m:538" class="id"><a name="m:538" class="">m</a></span> <span id="e:539" class="id"><a name="e:539" class="">e</a></span> <span id="m':540" class="id"><a name="m':540" class="">m'</a></span> <span id="tm:541" class="id"><a name="tm:541" class="">tm</a></span> <span id="tm':542" class="id"><a name="tm':542" class="">tm'</a></span> <span id="sp:543" class="id"><a name="sp:543" class="">sp</a></span> <span id="f:544" class="id"><a name="f:544" class="">f</a></span> <span id="cs:545" class="id"><a name="cs:545" class="">cs</a></span> <span id="args:546" class="id"><a name="args:546" class="">args</a></span> <span id="targs:547" class="id"><a name="targs:547" class="">targs</a></span> <span id="le:548" class="id"><a name="le:548" class="">le,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#build_compilenv">build_compilenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:536">cenv,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:537">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:537">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet">list_norepet</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_params">Csharpminor.fn_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#list_disjoint">list_disjoint</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_params">Csharpminor.fn_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_temps">Csharpminor.fn_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#empty_env">Csharpminor.empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:538">m</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_vars">Csharpminor.fn_vars</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:539">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':540">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#bind_parameters">bind_parameters</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_params">Csharpminor.fn_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#args:546">args</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#create_undef_temps">create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>.(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_temps">fn_temps</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:548">le</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:544">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#args:546">args</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#targs:547">targs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:541">tm</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:537">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':542">tm',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:543">sp</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:544">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:538">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:541">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:545">cs</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:538">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:541">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:544">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:538">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:541">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="te:549" class="id"><a name="te:549" class="">te</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Cminor.html#set_locals">set_locals</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_temps">Csharpminor.fn_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>) (<span class="id"><a href="compcert.backend.Cminor.html#set_params">set_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#targs:547">targs</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_params">Csharpminor.fn_params</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:535">fn</a></span>)) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="f':550" class="id"><a name="f':550" class="">f',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f':550">f'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':540">m'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':542">tm'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:536">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:537">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:539">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:548">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:549">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:543">sp</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:538">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':540">m'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:545">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':540">m'</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':542">tm'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f':550">f'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m':540">m'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm':542">tm'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#build_compilenv_sound">build_compilenv_sound;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[C1</span> <span class="id">C2]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_alloc_variables">match_callstack_alloc_variables;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#build_compilenv_domain">build_compilenv_domain;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bind_parameters_agree">bind_parameters_agree;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Compatibility of evaluation functions with respect to memory injections. </h1>
<br/>
<span class="vernacular">Remark</span> <span id="val_inject_val_of_bool" class="id"><a name="val_inject_val_of_bool" class="">val_inject_val_of_bool:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:551" class="id"><a name="f:551" class="">f</a></span> <span id="b:552" class="id"><a name="b:552" class="">b,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:551">f</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.of_bool">Val.of_bool</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:552">b</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.of_bool">Val.of_bool</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:552">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">destruct</span> <span class="id">b;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="val_inject_val_of_optbool" class="id"><a name="val_inject_val_of_optbool" class="">val_inject_val_of_optbool:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:553" class="id"><a name="f:553" class="">f</a></span> <span id="ob:554" class="id"><a name="ob:554" class="">ob,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:553">f</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ob:554">ob</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ob:554">ob</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">destruct</span> <span class="id">ob;</span> <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Ltac</span> <span class="id">TrivialExists</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">|-</span> <span class="gallina-kwd">exists</span> <span id="y:556" class="id"><span id="y:555" class="id"><a name="y:556" class="">y,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">?x</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#y:555">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">split;</span> <span class="id">[auto</span> <span class="id">|</span> <span class="id">try</span>(<span class="id">econstructor;</span> <span class="id">eauto</span>)<span class="id">]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">|-</span> <span class="gallina-kwd">exists</span> <span id="y:558" class="id"><span id="y:557" class="id"><a name="y:558" class="">y,</a></span></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">?x</span>) <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">[eauto</span> <span class="gallina-kwd">with</span> <span class="id">evalexpr</span> <span class="id">|</span> <span class="id">constructor]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">|-</span> <span class="gallina-kwd">exists</span> <span id="y:560" class="id"><span id="y:559" class="id"><a name="y:560" class="">y,</a></span></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">?x</span>) <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">[eauto</span> <span class="gallina-kwd">with</span> <span class="id">evalexpr</span> <span class="id">|</span> <span class="id">constructor]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">|-</span> <span class="gallina-kwd">exists</span> <span id="y:562" class="id"><span id="y:561" class="id"><a name="y:562" class="">y,</a></span></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">?x</span>) <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">[eauto</span> <span class="gallina-kwd">with</span> <span class="id">evalexpr</span> <span class="id">|</span> <span class="id">constructor]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Compatibility of <span class="bracket"><span class="id">eval_unop</span></span> with respect to <span class="bracket"><span class="id">Val.inject</span></span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_unop_compat" class="id"><a name="eval_unop_compat" class="">eval_unop_compat:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:563" class="id"><a name="f:563" class="">f</a></span> <span id="op:564" class="id"><a name="op:564" class="">op</a></span> <span id="v1:565" class="id"><a name="v1:565" class="">v1</a></span> <span id="tv1:566" class="id"><a name="tv1:566" class="">tv1</a></span> <span id="v:567" class="id"><a name="v:567" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_unop">eval_unop</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#op:564">op</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v1:565">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:567">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:563">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v1:565">v1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv1:566">tv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:568" class="id"><a name="tv:568" class="">tv,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_unop">eval_unop</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#op:564">op</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv1:566">tv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:568">tv</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:563">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:567">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:568">tv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">op;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_int">Float.to_int</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_int">Float32.to_int</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">Float32.to_intu</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_long">Float.to_long</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">Float.to_longu</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_long">Float32.to_long</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_longu">Float32.to_longu</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Compatibility of <span class="bracket"><span class="id">eval_binop</span></span> with respect to <span class="bracket"><span class="id">Val.inject</span></span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="eval_binop_compat" class="id"><a name="eval_binop_compat" class="">eval_binop_compat:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:569" class="id"><a name="f:569" class="">f</a></span> <span id="op:570" class="id"><a name="op:570" class="">op</a></span> <span id="v1:571" class="id"><a name="v1:571" class="">v1</a></span> <span id="tv1:572" class="id"><a name="tv1:572" class="">tv1</a></span> <span id="v2:573" class="id"><a name="v2:573" class="">v2</a></span> <span id="tv2:574" class="id"><a name="tv2:574" class="">tv2</a></span> <span id="v:575" class="id"><a name="v:575" class="">v</a></span> <span id="m:576" class="id"><a name="m:576" class="">m</a></span> <span id="tm:577" class="id"><a name="tm:577" class="">tm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#op:570">op</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v1:571">v1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v2:573">v2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:576">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:575">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:569">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v1:571">v1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv1:572">tv1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:569">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v2:573">v2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv2:574">tv2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:569">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:576">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:577">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:578" class="id"><a name="tv:578" class="">tv,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#op:570">op</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv1:572">tv1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv2:574">tv2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:577">tm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:578">tv</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:569">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:575">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:578">tv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">op;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_inject">Val.add_inject</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.sub_inject">Val.sub_inject</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4;</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4</span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4;</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4</span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.addl_inject">Val.addl_inject</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.subl_inject">Val.subl_inject</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4;</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4</span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4;</span> <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H4</span>. <span class="id">TrivialExists</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">TrivialExists;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cmp&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#val_inject_val_of_optbool">val_inject_val_of_optbool</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cmpu&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="gallina-kwd">as</span> <span class="id">[b|]</span> <span class="id">eqn:E</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">tm</span>) <span class="id">c</span> <span class="id">tv1</span> <span class="id">tv2</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#val_inject_val_of_optbool">val_inject_val_of_optbool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool_inject">Val.cmpu_bool_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer_inject_val">Mem.valid_pointer_inject_val</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer_inject_val">Mem.weak_valid_pointer_inject_val</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer_inject_no_overflow">Mem.weak_valid_pointer_inject_no_overflow</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.different_pointers_inject">Mem.different_pointers_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cmpf&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#val_inject_val_of_optbool">val_inject_val_of_optbool</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cmpfs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#val_inject_val_of_optbool">val_inject_val_of_optbool</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cmpl&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpl">Val.cmpl</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#val_inject_val_of_bool">val_inject_val_of_bool</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cmplu&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="gallina-kwd">as</span> <span class="id">[b|]</span> <span class="id">eqn:E</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">tm</span>) <span class="id">c</span> <span class="id">tv1</span> <span class="id">tv2</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#val_inject_val_of_bool">val_inject_val_of_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool_inject">Val.cmplu_bool_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer_inject_val">Mem.valid_pointer_inject_val</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer_inject_val">Mem.weak_valid_pointer_inject_val</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer_inject_no_overflow">Mem.weak_valid_pointer_inject_no_overflow</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.different_pointers_inject">Mem.different_pointers_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<h1> Correctness of Cminor construction functions </h1>
<br/>
<div class="doc">Correctness of the variable accessor <span class="bracket"><span class="id">var_addr</span></span> </div>
<br/>
<span class="vernacular">Lemma</span> <span id="var_addr_correct" class="id"><a name="var_addr_correct" class="">var_addr_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:579" class="id"><a name="cenv:579" class="">cenv</a></span> <span id="id:580" class="id"><a name="id:580" class="">id</a></span> <span id="f:581" class="id"><a name="f:581" class="">f</a></span> <span id="tf:582" class="id"><a name="tf:582" class="">tf</a></span> <span id="e:583" class="id"><a name="e:583" class="">e</a></span> <span id="le:584" class="id"><a name="le:584" class="">le</a></span> <span id="te:585" class="id"><a name="te:585" class="">te</a></span> <span id="sp:586" class="id"><a name="sp:586" class="">sp</a></span> <span id="lo:587" class="id"><a name="lo:587" class="">lo</a></span> <span id="hi:588" class="id"><a name="hi:588" class="">hi</a></span> <span id="m:589" class="id"><a name="m:589" class="">m</a></span> <span id="cs:590" class="id"><a name="cs:590" class="">cs</a></span> <span id="tm:591" class="id"><a name="tm:591" class="">tm</a></span> <span id="b:592" class="id"><a name="b:592" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:581">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:589">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:591">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:579">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:582">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:583">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:584">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:585">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:586">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:587">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:588">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:590">cs</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:589">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:591">tm</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_var_addr">eval_var_addr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:583">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:580">id</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:592">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:593" class="id"><a name="tv:593" class="">tv,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:586">sp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:585">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:591">tm</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#var_addr">var_addr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:579">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#id:580">id</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:593">tv</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:581">f</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:592">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:593">tv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#var_addr">var_addr;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_var">match_var</a></span> <span class="id">f</span> <span class="id">sp</span> <span class="id">e!id</span> <span class="id">cenv!id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MENV</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">sp</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">ofs</span>))<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_match_globalenvs">match_callstack_match_globalenvs;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[bnd</span> <span class="id">MG]</span>. <span class="id">inv</span> <span class="id">MG</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>. <br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Semantic preservation for the translation </h1>
<br/>
<div class="doc">The proof of semantic preservation uses simulation diagrams of the
  following form:
<pre>
       e, m1, s ----------------- sp, te1, tm1, ts
          |                                |
         t|                                |t
          v                                v
       e, m2, out --------------- sp, te2, tm2, tout</pre>
  where <span class="bracket"><span class="id">ts</span></span> is the Cminor statement obtained by translating the
  C#minor statement <span class="bracket"><span class="id">s</span></span>.  The left vertical arrow is an execution
  of a C#minor statement.  The right vertical arrow is an execution
  of a Cminor statement.  The precondition (top vertical bar)
  includes a <span class="bracket"><span class="id">mem_inject</span></span> relation between the memory states <span class="bracket"><span class="id">m1</span></span> and <span class="bracket"><span class="id">tm1</span></span>,
  and a <span class="bracket"><span class="id">match_callstack</span></span> relation for any callstack having
  <span class="bracket"><span class="id">e</span></span>, <span class="bracket"><span class="id">te1</span></span>, <span class="bracket"><span class="id">sp</span></span> as top frame.  The postcondition (bottom vertical bar)
  is the existence of a memory injection <span class="bracket"><span class="id">f2</span></span> that extends the injection
  <span class="bracket"><span class="id">f1</span></span> we started with, preserves the <span class="bracket"><span class="id">match_callstack</span></span> relation for
  the transformed callstack at the final state, and validates a
  <span class="bracket"><span class="id">outcome_inject</span></span> relation between the outcomes <span class="bracket"><span class="id">out</span></span> and <span class="bracket"><span class="id">tout</span></span>.
</div>
<br/>
<h2> Semantic preservation for expressions </h2>
<br/>
<span class="vernacular">Remark</span> <span id="bool_of_val_inject" class="id"><a name="bool_of_val_inject" class="">bool_of_val_inject:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:594" class="id"><a name="f:594" class="">f</a></span> <span id="v:595" class="id"><a name="v:595" class="">v</a></span> <span id="tv:596" class="id"><a name="tv:596" class="">tv</a></span> <span id="b:597" class="id"><a name="b:597" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.bool_of_val">Val.bool_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:595">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:597">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:594">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:595">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:596">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.bool_of_val">Val.bool_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:596">tv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#b:597">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_constant_correct" class="id"><a name="transl_constant_correct" class="">transl_constant_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:598" class="id"><a name="f:598" class="">f</a></span> <span id="sp:599" class="id"><a name="sp:599" class="">sp</a></span> <span id="cst:600" class="id"><a name="cst:600" class="">cst</a></span> <span id="v:601" class="id"><a name="v:601" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_constant">Csharpminor.eval_constant</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cst:600">cst</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:601">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:602" class="id"><a name="tv:602" class="">tv,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_constant">eval_constant</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:599">sp</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_constant">transl_constant</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cst:600">cst</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:602">tv</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:598">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:601">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:602">tv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">cst;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_expr_correct" class="id"><a name="transl_expr_correct" class="">transl_expr_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:603" class="id"><a name="f:603" class="">f</a></span> <span id="m:604" class="id"><a name="m:604" class="">m</a></span> <span id="tm:605" class="id"><a name="tm:605" class="">tm</a></span> <span id="cenv:606" class="id"><a name="cenv:606" class="">cenv</a></span> <span id="tf:607" class="id"><a name="tf:607" class="">tf</a></span> <span id="e:608" class="id"><a name="e:608" class="">e</a></span> <span id="le:609" class="id"><a name="le:609" class="">le</a></span> <span id="te:610" class="id"><a name="te:610" class="">te</a></span> <span id="sp:611" class="id"><a name="sp:611" class="">sp</a></span> <span id="lo:612" class="id"><a name="lo:612" class="">lo</a></span> <span id="hi:613" class="id"><a name="hi:613" class="">hi</a></span> <span id="cs:614" class="id"><a name="cs:614" class="">cs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:615" class="id"><a name="MINJ:615" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:603">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:604">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:605">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MATCH:616" class="id"><a name="MATCH:616" class="">MATCH:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:603">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:604">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:605">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:606">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:607">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:608">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:609">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:610">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:611">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:612">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:613">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:614">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:604">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:605">tm</a></span>))<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:617" class="id"><a name="a:617" class="">a</a></span> <span id="v:618" class="id"><a name="v:618" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:608">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:609">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:604">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#a:617">a</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:618">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ta:619" class="id"><a name="ta:619" class="">ta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:620" class="id"><a name="TR:620" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_expr">transl_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:606">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#a:617">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ta:619">ta</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:621" class="id"><a name="tv:621" class="">tv,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:611">sp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:610">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:605">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ta:619">ta</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:621">tv</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:603">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:618">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:621">tv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">3;</span> <span class="id">intros;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">TR;</span> <span class="id">try</span> (<span class="id">monadInv</span> <span class="id">TR</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Etempvar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MATCH</span>. <span class="id">exploit</span> <span class="id">MTMP;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Eaddrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#var_addr_correct">var_addr_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Econst&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_constant_correct">transl_constant_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Eunop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_expr;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[EVAL1</span> <span class="id">INJ1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#eval_unop_compat">eval_unop_compat;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[EVAL</span> <span class="id">INJ]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Ebinop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_expr1;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[EVAL1</span> <span class="id">INJ1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_expr2;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[EVAL2</span> <span class="id">INJ2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#eval_binop_compat">eval_binop_compat;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[EVAL</span> <span class="id">INJ]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Eload&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_expr;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[EVAL1</span> <span class="id">INJ1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_inject">Mem.loadv_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[LOAD</span> <span class="id">INJ]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">tv;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_exprlist_correct" class="id"><a name="transl_exprlist_correct" class="">transl_exprlist_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:622" class="id"><a name="f:622" class="">f</a></span> <span id="m:623" class="id"><a name="m:623" class="">m</a></span> <span id="tm:624" class="id"><a name="tm:624" class="">tm</a></span> <span id="cenv:625" class="id"><a name="cenv:625" class="">cenv</a></span> <span id="tf:626" class="id"><a name="tf:626" class="">tf</a></span> <span id="e:627" class="id"><a name="e:627" class="">e</a></span> <span id="le:628" class="id"><a name="le:628" class="">le</a></span> <span id="te:629" class="id"><a name="te:629" class="">te</a></span> <span id="sp:630" class="id"><a name="sp:630" class="">sp</a></span> <span id="lo:631" class="id"><a name="lo:631" class="">lo</a></span> <span id="hi:632" class="id"><a name="hi:632" class="">hi</a></span> <span id="cs:633" class="id"><a name="cs:633" class="">cs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:634" class="id"><a name="MINJ:634" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:622">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:623">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:624">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MATCH:635" class="id"><a name="MATCH:635" class="">MATCH:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:622">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:623">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:624">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:625">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:626">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:627">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:628">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:629">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:630">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:631">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:632">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:633">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:623">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:624">tm</a></span>))<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:636" class="id"><a name="a:636" class="">a</a></span> <span id="v:637" class="id"><a name="v:637" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_exprlist">Csharpminor.eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:627">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:628">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:623">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#a:636">a</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:637">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ta:638" class="id"><a name="ta:638" class="">ta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:639" class="id"><a name="TR:639" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_exprlist">transl_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:625">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#a:636">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ta:638">ta</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tv:640" class="id"><a name="tv:640" class="">tv,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:630">sp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:629">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:624">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ta:638">ta</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:640">tv</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:622">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:637">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:640">tv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">3;</span> <span class="id">intros;</span> <span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[EVAL1</span> <span class="id">VINJ1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_exprlist;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[EVAL2</span> <span class="id">VINJ2]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">tv1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">tv2</span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Semantic preservation for statements and functions </h2>
<br/>
<span class="vernacular">Inductive</span> <span id="match_cont" class="id"><a name="match_cont" class="">match_cont:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#cont">Csharpminor.cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#cont">Cminor.cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#exit_env">exit_env</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#callstack">callstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kstop" class="id"><a name="match_Kstop" class="">match_Kstop:</a></span> <span class="gallina-kwd">forall</span> <span id="cenv:643" class="id"><a name="cenv:643" class="">cenv</a></span> <span id="xenv:644" class="id"><a name="xenv:644" class="">xenv,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kstop">Csharpminor.Kstop</a></span> <span class="id"><a href="compcert.backend.Cminor.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:643">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:644">xenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kseq" class="id"><a name="match_Kseq" class="">match_Kseq:</a></span> <span class="gallina-kwd">forall</span> <span id="s:645" class="id"><a name="s:645" class="">s</a></span> <span id="k:646" class="id"><a name="k:646" class="">k</a></span> <span id="ts:647" class="id"><a name="ts:647" class="">ts</a></span> <span id="tk:648" class="id"><a name="tk:648" class="">tk</a></span> <span id="cenv:649" class="id"><a name="cenv:649" class="">cenv</a></span> <span id="xenv:650" class="id"><a name="xenv:650" class="">xenv</a></span> <span id="cs:651" class="id"><a name="cs:651" class="">cs,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:649">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:650">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:645">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:647">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:646">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:648">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:649">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:650">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:651">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Csharpminor.Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:645">s</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:646">k</a></span>) (<span class="id"><a href="compcert.backend.Cminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:647">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:648">tk</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:649">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:650">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:651">cs</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kseq2" class="id"><a name="match_Kseq2" class="">match_Kseq2:</a></span> <span class="gallina-kwd">forall</span> <span id="s1:652" class="id"><a name="s1:652" class="">s1</a></span> <span id="s2:653" class="id"><a name="s2:653" class="">s2</a></span> <span id="k:654" class="id"><a name="k:654" class="">k</a></span> <span id="ts1:655" class="id"><a name="ts1:655" class="">ts1</a></span> <span id="tk:656" class="id"><a name="tk:656" class="">tk</a></span> <span id="cenv:657" class="id"><a name="cenv:657" class="">cenv</a></span> <span id="xenv:658" class="id"><a name="xenv:658" class="">xenv</a></span> <span id="cs:659" class="id"><a name="cs:659" class="">cs,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:657">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:658">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s1:652">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts1:655">ts1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Csharpminor.Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s2:653">s2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:654">k</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:656">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:657">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:658">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:659">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Csharpminor.Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Csharpminor.Sseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s1:652">s1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s2:653">s2</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:654">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts1:655">ts1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:656">tk</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:657">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:658">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:659">cs</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kblock" class="id"><a name="match_Kblock" class="">match_Kblock:</a></span> <span class="gallina-kwd">forall</span> <span id="k:660" class="id"><a name="k:660" class="">k</a></span> <span id="tk:661" class="id"><a name="tk:661" class="">tk</a></span> <span id="cenv:662" class="id"><a name="cenv:662" class="">cenv</a></span> <span id="xenv:663" class="id"><a name="xenv:663" class="">xenv</a></span> <span id="cs:664" class="id"><a name="cs:664" class="">cs,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:660">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:661">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:662">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:663">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:664">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Csharpminor.Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:660">k</a></span>) (<span class="id"><a href="compcert.backend.Cminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:661">tk</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:662">cenv</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:663">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:664">cs</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kblock2" class="id"><a name="match_Kblock2" class="">match_Kblock2:</a></span> <span class="gallina-kwd">forall</span> <span id="k:665" class="id"><a name="k:665" class="">k</a></span> <span id="tk:666" class="id"><a name="tk:666" class="">tk</a></span> <span id="cenv:667" class="id"><a name="cenv:667" class="">cenv</a></span> <span id="xenv:668" class="id"><a name="xenv:668" class="">xenv</a></span> <span id="cs:669" class="id"><a name="cs:669" class="">cs,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:665">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:666">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:667">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:668">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:669">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:665">k</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:666">tk</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:667">cenv</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:668">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:669">cs</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kcall" class="id"><a name="match_Kcall" class="">match_Kcall:</a></span> <span class="gallina-kwd">forall</span> <span id="optid:670" class="id"><a name="optid:670" class="">optid</a></span> <span id="fn:671" class="id"><a name="fn:671" class="">fn</a></span> <span id="e:672" class="id"><a name="e:672" class="">e</a></span> <span id="le:673" class="id"><a name="le:673" class="">le</a></span> <span id="k:674" class="id"><a name="k:674" class="">k</a></span> <span id="tfn:675" class="id"><a name="tfn:675" class="">tfn</a></span> <span id="sp:676" class="id"><a name="sp:676" class="">sp</a></span> <span id="te:677" class="id"><a name="te:677" class="">te</a></span> <span id="tk:678" class="id"><a name="tk:678" class="">tk</a></span> <span id="cenv:679" class="id"><a name="cenv:679" class="">cenv</a></span> <span id="xenv:680" class="id"><a name="xenv:680" class="">xenv</a></span> <span id="lo:681" class="id"><a name="lo:681" class="">lo</a></span> <span id="hi:682" class="id"><a name="hi:682" class="">hi</a></span> <span id="cs:683" class="id"><a name="cs:683" class="">cs</a></span> <span id="sz:684" class="id"><a name="sz:684" class="">sz</a></span> <span id="cenv':685" class="id"><a name="cenv':685" class="">cenv',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_funbody">transl_funbody</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:679">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:684">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:671">fn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:675">tfn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:674">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:678">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:679">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:680">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:683">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont:641">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kcall">Csharpminor.Kcall</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#optid:670">optid</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:671">fn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:672">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:673">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:674">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#Kcall">Kcall</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#optid:670">optid</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:675">tfn</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:676">sp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:677">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:678">tk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv':685">cenv'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:679">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:675">tfn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:672">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:673">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:677">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:676">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:681">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:682">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:683">cs</a></span>).<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="match_states" class="id"><a name="match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#state">Csharpminor.state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#state">Cminor.state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_state" class="id"><a name="match_state" class="">match_state:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fn:688" class="id"><a name="fn:688" class="">fn</a></span> <span id="s:689" class="id"><a name="s:689" class="">s</a></span> <span id="k:690" class="id"><a name="k:690" class="">k</a></span> <span id="e:691" class="id"><a name="e:691" class="">e</a></span> <span id="le:692" class="id"><a name="le:692" class="">le</a></span> <span id="m:693" class="id"><a name="m:693" class="">m</a></span> <span id="tfn:694" class="id"><a name="tfn:694" class="">tfn</a></span> <span id="ts:695" class="id"><a name="ts:695" class="">ts</a></span> <span id="tk:696" class="id"><a name="tk:696" class="">tk</a></span> <span id="sp:697" class="id"><a name="sp:697" class="">sp</a></span> <span id="te:698" class="id"><a name="te:698" class="">te</a></span> <span id="tm:699" class="id"><a name="tm:699" class="">tm</a></span> <span id="cenv:700" class="id"><a name="cenv:700" class="">cenv</a></span> <span id="xenv:701" class="id"><a name="xenv:701" class="">xenv</a></span> <span id="f:702" class="id"><a name="f:702" class="">f</a></span> <span id="lo:703" class="id"><a name="lo:703" class="">lo</a></span> <span id="hi:704" class="id"><a name="hi:704" class="">hi</a></span> <span id="cs:705" class="id"><a name="cs:705" class="">cs</a></span> <span id="sz:706" class="id"><a name="sz:706" class="">sz</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TRF:707" class="id"><a name="TRF:707" class="">TRF:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_funbody">transl_funbody</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:700">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:706">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:688">fn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:694">tfn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:708" class="id"><a name="TR:708" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:700">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:701">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:689">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:695">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:709" class="id"><a name="MINJ:709" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:702">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:693">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:699">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCS:710" class="id"><a name="MCS:710" class="">MCS:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:702">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:693">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:699">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:700">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:694">tfn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:691">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:692">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:698">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:697">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:703">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:704">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:705">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:693">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:699">tm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:711" class="id"><a name="MK:711" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:690">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:696">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:700">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:701">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:705">cs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states:686">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">Csharpminor.State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:688">fn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:689">s</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:690">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:691">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:692">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:693">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:694">tfn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:695">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:696">tk</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:697">sp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:698">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:699">tm</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_state_seq" class="id"><a name="match_state_seq" class="">match_state_seq:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fn:712" class="id"><a name="fn:712" class="">fn</a></span> <span id="s1:713" class="id"><a name="s1:713" class="">s1</a></span> <span id="s2:714" class="id"><a name="s2:714" class="">s2</a></span> <span id="k:715" class="id"><a name="k:715" class="">k</a></span> <span id="e:716" class="id"><a name="e:716" class="">e</a></span> <span id="le:717" class="id"><a name="le:717" class="">le</a></span> <span id="m:718" class="id"><a name="m:718" class="">m</a></span> <span id="tfn:719" class="id"><a name="tfn:719" class="">tfn</a></span> <span id="ts1:720" class="id"><a name="ts1:720" class="">ts1</a></span> <span id="tk:721" class="id"><a name="tk:721" class="">tk</a></span> <span id="sp:722" class="id"><a name="sp:722" class="">sp</a></span> <span id="te:723" class="id"><a name="te:723" class="">te</a></span> <span id="tm:724" class="id"><a name="tm:724" class="">tm</a></span> <span id="cenv:725" class="id"><a name="cenv:725" class="">cenv</a></span> <span id="xenv:726" class="id"><a name="xenv:726" class="">xenv</a></span> <span id="f:727" class="id"><a name="f:727" class="">f</a></span> <span id="lo:728" class="id"><a name="lo:728" class="">lo</a></span> <span id="hi:729" class="id"><a name="hi:729" class="">hi</a></span> <span id="cs:730" class="id"><a name="cs:730" class="">cs</a></span> <span id="sz:731" class="id"><a name="sz:731" class="">sz</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TRF:732" class="id"><a name="TRF:732" class="">TRF:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_funbody">transl_funbody</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:725">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:731">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:712">fn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:719">tfn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:733" class="id"><a name="TR:733" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:725">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:726">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s1:713">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts1:720">ts1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:734" class="id"><a name="MINJ:734" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:727">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:718">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:724">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCS:735" class="id"><a name="MCS:735" class="">MCS:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:727">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:718">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:724">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:725">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:719">tfn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:716">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:717">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:723">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:722">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:728">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:729">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:730">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:718">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:724">tm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:736" class="id"><a name="MK:736" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Csharpminor.Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s2:714">s2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:715">k</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:721">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:725">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:726">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:730">cs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states:686">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">Csharpminor.State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:712">fn</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Csharpminor.Sseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s1:713">s1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s2:714">s2</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:715">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:716">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:717">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:718">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:719">tfn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts1:720">ts1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:721">tk</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:722">sp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:723">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:724">tm</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_callstate" class="id"><a name="match_callstate" class="">match_callstate:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fd:737" class="id"><a name="fd:737" class="">fd</a></span> <span id="args:738" class="id"><a name="args:738" class="">args</a></span> <span id="k:739" class="id"><a name="k:739" class="">k</a></span> <span id="m:740" class="id"><a name="m:740" class="">m</a></span> <span id="tfd:741" class="id"><a name="tfd:741" class="">tfd</a></span> <span id="targs:742" class="id"><a name="targs:742" class="">targs</a></span> <span id="tk:743" class="id"><a name="tk:743" class="">tk</a></span> <span id="tm:744" class="id"><a name="tm:744" class="">tm</a></span> <span id="f:745" class="id"><a name="f:745" class="">f</a></span> <span id="cs:746" class="id"><a name="cs:746" class="">cs</a></span> <span id="cenv:747" class="id"><a name="cenv:747" class="">cenv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:748" class="id"><a name="TR:748" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_fundef">transl_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fd:737">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfd:741">tfd</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:749" class="id"><a name="MINJ:749" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:745">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:740">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:744">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCS:750" class="id"><a name="MCS:750" class="">MCS:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:745">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:740">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:744">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:746">cs</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:740">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:744">tm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:751" class="id"><a name="MK:751" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:739">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:743">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:747">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:746">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ISCC:752" class="id"><a name="ISCC:752" class="">ISCC:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#is_call_cont">Csharpminor.is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:739">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ARGSINJ:753" class="id"><a name="ARGSINJ:753" class="">ARGSINJ:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:745">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#args:738">args</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#targs:742">targs</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states:686">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Callstate">Csharpminor.Callstate</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fd:737">fd</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#args:738">args</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:739">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:740">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfd:741">tfd</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#targs:742">targs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:743">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:744">tm</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_returnstate" class="id"><a name="match_returnstate" class="">match_returnstate:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:754" class="id"><a name="v:754" class="">v</a></span> <span id="k:755" class="id"><a name="k:755" class="">k</a></span> <span id="m:756" class="id"><a name="m:756" class="">m</a></span> <span id="tv:757" class="id"><a name="tv:757" class="">tv</a></span> <span id="tk:758" class="id"><a name="tk:758" class="">tk</a></span> <span id="tm:759" class="id"><a name="tm:759" class="">tm</a></span> <span id="f:760" class="id"><a name="f:760" class="">f</a></span> <span id="cs:761" class="id"><a name="cs:761" class="">cs</a></span> <span id="cenv:762" class="id"><a name="cenv:762" class="">cenv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:763" class="id"><a name="MINJ:763" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:760">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:756">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:759">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCS:764" class="id"><a name="MCS:764" class="">MCS:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:760">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:756">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:759">tm</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:761">cs</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:756">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:759">tm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:765" class="id"><a name="MK:765" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:755">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:758">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:762">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:761">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="RESINJ:766" class="id"><a name="RESINJ:766" class="">RESINJ:</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:760">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:754">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:757">tv</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states:686">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Returnstate">Csharpminor.Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:754">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:755">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:756">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Cminor.html#Returnstate">Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:757">tv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:758">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:759">tm</a></span>).<br/>
<br/>
<span class="vernacular">Remark</span> <span id="val_inject_function_pointer" class="id"><a name="val_inject_function_pointer" class="">val_inject_function_pointer:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bound:767" class="id"><a name="bound:767" class="">bound</a></span> <span id="v:768" class="id"><a name="v:768" class="">v</a></span> <span id="fd:769" class="id"><a name="fd:769" class="">fd</a></span> <span id="f:770" class="id"><a name="f:770" class="">f</a></span> <span id="tv:771" class="id"><a name="tv:771" class="">tv,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:768">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fd:769">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_globalenvs">match_globalenvs</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:770">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bound:767">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:770">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:768">v</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:771">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tv:771">tv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#v:768">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_inv">Genv.find_funct_inv</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[b</span> <span class="id">EQ]</span>. <span class="id">subst</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_find_funct_ptr">Genv.find_funct_find_funct_ptr</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">f</span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b,</span> <span class="id">0</span>)). <span class="id">inv</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id">DOMAIN</span>. <span class="id">eapply</span> <span class="id">FUNCTIONS;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H2</span> <span class="gallina-kwd">in</span> <span class="id">H5;</span> <span class="id">inv</span> <span class="id">H5</span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_call_cont" class="id"><a name="match_call_cont" class="">match_call_cont:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="k:772" class="id"><a name="k:772" class="">k</a></span> <span id="tk:773" class="id"><a name="tk:773" class="">tk</a></span> <span id="cenv:774" class="id"><a name="cenv:774" class="">cenv</a></span> <span id="xenv:775" class="id"><a name="xenv:775" class="">xenv</a></span> <span id="cs:776" class="id"><a name="cs:776" class="">cs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:772">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:773">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:774">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:775">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:776">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#call_cont">Csharpminor.call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:772">k</a></span>) (<span class="id"><a href="compcert.backend.Cminor.html#call_cont">call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:773">tk</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:774">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:776">cs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_is_call_cont" class="id"><a name="match_is_call_cont" class="">match_is_call_cont:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tfn:777" class="id"><a name="tfn:777" class="">tfn</a></span> <span id="te:778" class="id"><a name="te:778" class="">te</a></span> <span id="sp:779" class="id"><a name="sp:779" class="">sp</a></span> <span id="tm:780" class="id"><a name="tm:780" class="">tm</a></span> <span id="k:781" class="id"><a name="k:781" class="">k</a></span> <span id="tk:782" class="id"><a name="tk:782" class="">tk</a></span> <span id="cenv:783" class="id"><a name="cenv:783" class="">cenv</a></span> <span id="xenv:784" class="id"><a name="xenv:784" class="">xenv</a></span> <span id="cs:785" class="id"><a name="cs:785" class="">cs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:781">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:782">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:783">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:784">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:785">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#is_call_cont">Csharpminor.is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:781">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tk':786" class="id"><a name="tk':786" class="">tk',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.backend.Cminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:777">tfn</a></span> <span class="id"><a href="compcert.backend.Cminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:782">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:779">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:778">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:780">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:777">tfn</a></span> <span class="id"><a href="compcert.backend.Cminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':786">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:779">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:778">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:780">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.backend.Cminor.html#is_call_cont">is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':786">tk'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:781">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':786">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:783">cenv</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:785">cs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">intros;</span> <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">split</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmatch_cont;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tk'</span> <span class="id">[A</span> <span class="id">B]]</span>. <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left;</a></span> <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">traceEq</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">split</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of <span class="bracket"><span class="id">switch</span></span> compilation </div>
<br/>
<span class="vernacular">Inductive</span> <span id="lbl_stmt_tail" class="id"><a name="lbl_stmt_tail" class="">lbl_stmt_tail:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#lbl_stmt">lbl_stmt</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#lbl_stmt">lbl_stmt</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="lstail_O" class="id"><a name="lstail_O" class="">lstail_O:</a></span> <span class="gallina-kwd">forall</span> <span id="sl:789" class="id"><a name="sl:789" class="">sl,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail:787">lbl_stmt_tail</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:789">sl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:789">sl</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="lstail_S" class="id"><a name="lstail_S" class="">lstail_S:</a></span> <span class="gallina-kwd">forall</span> <span id="c:790" class="id"><a name="c:790" class="">c</a></span> <span id="s:791" class="id"><a name="s:791" class="">s</a></span> <span id="sl:792" class="id"><a name="sl:792" class="">sl</a></span> <span id="n:793" class="id"><a name="n:793" class="">n</a></span> <span id="sl':794" class="id"><a name="sl':794" class="">sl',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail:787">lbl_stmt_tail</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:792">sl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:793">n</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl':794">sl'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail:787">lbl_stmt_tail</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#LScons">LScons</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#c:790">c</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:791">s</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:792">sl</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:793">n</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl':794">sl'</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="switch_table_default" class="id"><a name="switch_table_default" class="">switch_table_default:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sl:795" class="id"><a name="sl:795" class="">sl</a></span> <span id="base:796" class="id"><a name="base:796" class="">base,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="n:797" class="id"><a name="n:797" class="">n,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail">lbl_stmt_tail</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:795">sl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:797">n</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_default">select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:795">sl</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:795">sl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#base:796">base</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:797">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#base:796">base</a></span>)%<span class="id">nat</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">sl;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">split</span>. <span class="id">constructor</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">o</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> (<span class="id">IHsl</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">base</span>)) <span class="gallina-kwd">as</span> (<span class="id">n</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>). <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id">sl</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">base</span>)) <span class="gallina-kwd">as</span> <span class="id">[tbl</span> <span class="id">dfl];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">split</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id">sl</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">base</span>)) <span class="gallina-kwd">as</span> <span class="id">[tbl</span> <span class="id">dfl];</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="switch_table_case" class="id"><a name="switch_table_case" class="">switch_table_case:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:798" class="id"><a name="i:798" class="">i</a></span> <span id="sl:799" class="id"><a name="sl:799" class="">sl</a></span> <span id="base:800" class="id"><a name="base:800" class="">base</a></span> <span id="dfl:801" class="id"><a name="dfl:801" class="">dfl,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#i:798">i</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:799">sl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Switch.html#switch_target">switch_target</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#i:798">i</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#dfl:801">dfl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:799">sl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#base:800">base</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#dfl:801">dfl</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">sl'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="n:802" class="id"><a name="n:802" class="">n,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail">lbl_stmt_tail</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:799">sl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:802">n</a></span> <span class="id">sl'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Switch.html#switch_target">switch_target</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#i:798">i</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#dfl:801">dfl</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:799">sl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#base:800">base</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:802">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#base:800">base</a></span>)%<span class="id">nat</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">sl;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id">sl</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">base</span>)) <span class="gallina-kwd">as</span> <span class="id">[tbl1</span> <span class="id">dfl1]</span> <span class="id">eqn:ST</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_sym">dec_eq_sym</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHsl</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">base</span>) <span class="id">dfl</span>). <span class="id">rewrite</span> <span class="id">ST</span> <span class="gallina-kwd">in</span> <span class="id">IHsl</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">i</span> <span class="id">sl</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHsl</span> <span class="gallina-kwd">as</span> (<span class="id">x</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>). <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHsl</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">base</span>) <span class="id">dfl</span>). <span class="id">rewrite</span> <span class="id">ST</span> <span class="gallina-kwd">in</span> <span class="id">IHsl</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">i</span> <span class="id">sl</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHsl</span> <span class="gallina-kwd">as</span> (<span class="id">x</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>). <span class="gallina-kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="switch_table_select" class="id"><a name="switch_table_select" class="">switch_table_select:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:803" class="id"><a name="i:803" class="">i</a></span> <span id="sl:804" class="id"><a name="sl:804" class="">sl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail">lbl_stmt_tail</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:804">sl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Switch.html#switch_target">switch_target</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#i:803">i</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:804">sl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:804">sl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch">select_switch</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#i:803">i</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sl:804">sl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch">select_switch;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_table_case">switch_table_case</a></span> <span class="id">i</span> <span class="id">sl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id">sl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">i</span> <span class="id">sl</span>) <span class="gallina-kwd">as</span> <span class="id">[sl'|]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">n</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>). <span class="id">replace</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)%<span class="id">nat</span> <span class="gallina-kwd">with</span> <span class="id">n</span> <span class="gallina-kwd">in</span> <span class="id">Q</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">E;</span> <span class="id">rewrite</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_table_default">switch_table_default</a></span> <span class="id">sl</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="gallina-kwd">as</span> (<span class="id">n</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)%<span class="id">nat</span> <span class="gallina-kwd">with</span> <span class="id">n</span> <span class="gallina-kwd">in</span> <span class="id">Q</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Inductive</span> <span id="transl_lblstmt_cont" class="id"><a name="transl_lblstmt_cont" class="">transl_lblstmt_cont</a></span>(<span id="cenv:805" class="id"><a name="cenv:805" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>) (<span id="xenv:806" class="id"><a name="xenv:806" class="">xenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#exit_env">exit_env</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#lbl_stmt">lbl_stmt</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#cont">cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#cont">cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="tlsc_default" class="id"><a name="tlsc_default" class="">tlsc_default:</a></span> <span class="gallina-kwd">forall</span> <span id="k:809" class="id"><a name="k:809" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont:807">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:805">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:806">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#LSnil">LSnil</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:809">k</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Kblock">Kblock</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.backend.Cminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:809">k</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="tlsc_case" class="id"><a name="tlsc_case" class="">tlsc_case:</a></span> <span class="gallina-kwd">forall</span> <span id="i:810" class="id"><a name="i:810" class="">i</a></span> <span id="s:811" class="id"><a name="s:811" class="">s</a></span> <span id="ls:812" class="id"><a name="ls:812" class="">ls</a></span> <span id="k:813" class="id"><a name="k:813" class="">k</a></span> <span id="ts:814" class="id"><a name="ts:814" class="">ts</a></span> <span id="k':815" class="id"><a name="k':815" class="">k',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:805">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#LScons">LScons</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#i:810">i</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:811">s</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:812">ls</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:806">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:811">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:814">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont:807">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:805">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:806">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:812">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:813">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k':815">k'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont:807">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:805">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:806">xenv</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#LScons">LScons</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#i:810">i</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:811">s</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:812">ls</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:813">k</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Kblock">Kblock</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:814">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k':815">k'</a></span>)).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="switch_descent" class="id"><a name="switch_descent" class="">switch_descent:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:816" class="id"><a name="cenv:816" class="">cenv</a></span> <span id="xenv:817" class="id"><a name="xenv:817" class="">xenv</a></span> <span id="k:818" class="id"><a name="k:818" class="">k</a></span> <span id="ls:819" class="id"><a name="ls:819" class="">ls</a></span> <span id="body:820" class="id"><a name="body:820" class="">body</a></span> <span id="s:821" class="id"><a name="s:821" class="">s,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_lblstmt">transl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:816">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:819">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:817">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:819">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:820">body</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:821">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="k':822" class="id"><a name="k':822" class="">k',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:816">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:817">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:819">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:818">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k':822">k'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="f:823" class="id"><a name="f:823" class="">f</a></span> <span id="sp:824" class="id"><a name="sp:824" class="">sp</a></span> <span id="e:825" class="id"><a name="e:825" class="">e</a></span> <span id="m:826" class="id"><a name="m:826" class="">m,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.backend.Cminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:823">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:821">s</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:818">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:824">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:825">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:826">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:823">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:820">body</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k':822">k'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:824">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:825">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:826">m</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_two">plus_two</a></span>. <span class="id">constructor</span>. <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">IHls;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[k'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star_trans">plus_star_trans</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="switch_ascent" class="id"><a name="switch_ascent" class="">switch_ascent:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:827" class="id"><a name="f:827" class="">f</a></span> <span id="sp:828" class="id"><a name="sp:828" class="">sp</a></span> <span id="e:829" class="id"><a name="e:829" class="">e</a></span> <span id="m:830" class="id"><a name="m:830" class="">m</a></span> <span id="cenv:831" class="id"><a name="cenv:831" class="">cenv</a></span> <span id="xenv:832" class="id"><a name="xenv:832" class="">xenv</a></span> <span id="ls:833" class="id"><a name="ls:833" class="">ls</a></span> <span id="n:834" class="id"><a name="n:834" class="">n</a></span> <span id="ls':835" class="id"><a name="ls':835" class="">ls',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail">lbl_stmt_tail</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:833">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:834">n</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls':835">ls'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="k:836" class="id"><a name="k:836" class="">k</a></span> <span id="k1:837" class="id"><a name="k1:837" class="">k1,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:831">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:832">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:833">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:836">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k1:837">k1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="k2:838" class="id"><a name="k2:838" class="">k2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.backend.Cminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:827">f</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Sexit">Sexit</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:834">n</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k1:837">k1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:828">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:829">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:830">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:827">f</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Sexit">Sexit</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k2:838">k2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:828">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:829">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:830">m</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:831">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:832">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls':835">ls'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:836">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k2:838">k2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id">k1;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">exploit</span> <span class="id">IHlbl_stmt_tail;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">k2</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">k2;</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>. <span class="id">eexact</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="switch_match_cont" class="id"><a name="switch_match_cont" class="">switch_match_cont:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:839" class="id"><a name="cenv:839" class="">cenv</a></span> <span id="xenv:840" class="id"><a name="xenv:840" class="">xenv</a></span> <span id="k:841" class="id"><a name="k:841" class="">k</a></span> <span id="cs:842" class="id"><a name="cs:842" class="">cs</a></span> <span id="tk:843" class="id"><a name="tk:843" class="">tk</a></span> <span id="ls:844" class="id"><a name="ls:844" class="">ls</a></span> <span id="tk':845" class="id"><a name="tk':845" class="">tk',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:841">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:843">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:839">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:840">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:842">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:839">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:840">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:844">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:843">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':845">tk'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Csharpminor.Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#seq_of_lbl_stmt">seq_of_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:844">ls</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:841">k</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':845">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:839">cenv</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:844">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:840">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:842">cs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">intros;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_Kblock2">match_Kblock2</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_Kblock2">match_Kblock2</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_Kseq2">match_Kseq2</a></span>. <span class="id">auto</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="switch_match_states" class="id"><a name="switch_match_states" class="">switch_match_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fn:846" class="id"><a name="fn:846" class="">fn</a></span> <span id="k:847" class="id"><a name="k:847" class="">k</a></span> <span id="e:848" class="id"><a name="e:848" class="">e</a></span> <span id="le:849" class="id"><a name="le:849" class="">le</a></span> <span id="m:850" class="id"><a name="m:850" class="">m</a></span> <span id="tfn:851" class="id"><a name="tfn:851" class="">tfn</a></span> <span id="ts:852" class="id"><a name="ts:852" class="">ts</a></span> <span id="tk:853" class="id"><a name="tk:853" class="">tk</a></span> <span id="sp:854" class="id"><a name="sp:854" class="">sp</a></span> <span id="te:855" class="id"><a name="te:855" class="">te</a></span> <span id="tm:856" class="id"><a name="tm:856" class="">tm</a></span> <span id="cenv:857" class="id"><a name="cenv:857" class="">cenv</a></span> <span id="xenv:858" class="id"><a name="xenv:858" class="">xenv</a></span> <span id="f:859" class="id"><a name="f:859" class="">f</a></span> <span id="lo:860" class="id"><a name="lo:860" class="">lo</a></span> <span id="hi:861" class="id"><a name="hi:861" class="">hi</a></span> <span id="cs:862" class="id"><a name="cs:862" class="">cs</a></span> <span id="sz:863" class="id"><a name="sz:863" class="">sz</a></span> <span id="ls:864" class="id"><a name="ls:864" class="">ls</a></span> <span id="body:865" class="id"><a name="body:865" class="">body</a></span> <span id="tk':866" class="id"><a name="tk':866" class="">tk'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TRF:867" class="id"><a name="TRF:867" class="">TRF:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_funbody">transl_funbody</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:857">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sz:863">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:846">fn</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:851">tfn</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:868" class="id"><a name="TR:868" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_lblstmt">transl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:857">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:864">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:858">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:864">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:865">body</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:852">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MINJ:869" class="id"><a name="MINJ:869" class="">MINJ:</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:859">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:850">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:856">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MCS:870" class="id"><a name="MCS:870" class="">MCS:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:859">f</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:850">m</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:856">tm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:857">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:851">tfn</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:848">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:849">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:855">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:854">sp</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lo:860">lo</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#hi:861">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:862">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:850">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:856">tm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:871" class="id"><a name="MK:871" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:847">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:853">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:857">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:858">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:862">cs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TK:872" class="id"><a name="TK:872" class="">TK:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:857">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:858">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:864">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:853">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':866">tk'</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="S:873" class="id"><a name="S:873" class="">S,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.backend.Cminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tfn:851">tfn</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Sexit">Sexit</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':866">tk'</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sp:854">sp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#te:855">te</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tm:856">tm</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S:873">S</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">Csharpminor.State</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#fn:846">fn</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#seq_of_lbl_stmt">seq_of_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:864">ls</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:847">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#e:848">e</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#le:849">le</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:850">m</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S:873">S</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">TK</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_two">plus_two</a></span>. <span class="id">constructor</span>. <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_state">match_state;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_state_seq">match_state_seq;</a></span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_match_cont">switch_match_cont;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_lblstmt_suffix" class="id"><a name="transl_lblstmt_suffix" class="">transl_lblstmt_suffix:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:874" class="id"><a name="cenv:874" class="">cenv</a></span> <span id="xenv:875" class="id"><a name="xenv:875" class="">xenv</a></span> <span id="ls:876" class="id"><a name="ls:876" class="">ls</a></span> <span id="n:877" class="id"><a name="n:877" class="">n</a></span> <span id="ls':878" class="id"><a name="ls':878" class="">ls',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl_stmt_tail">lbl_stmt_tail</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:876">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#n:877">n</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls':878">ls'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="body:879" class="id"><a name="body:879" class="">body</a></span> <span id="ts:880" class="id"><a name="ts:880" class="">ts,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_lblstmt">transl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:874">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:876">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:875">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:876">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:879">body</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:880">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="body':881" class="id"><a name="body':881" class="">body',</a></span> <span class="gallina-kwd">exists</span> <span id="ts':882" class="id"><a name="ts':882" class="">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_lblstmt">transl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:874">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls':878">ls'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:875">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls':878">ls'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body':881">body'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':882">ts'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id">body,</span> <span class="id">ts;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H0</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Commutation between <span class="bracket"><span class="id">find_label</span></span> and compilation </div>
<br/>
<span class="vernacular">Section</span> <span id="TRANSLATION.FIND_LABEL" class="id"><a name="TRANSLATION.FIND_LABEL" class="">FIND_LABEL</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="TRANSLATION.FIND_LABEL.lbl" class="id"><a name="TRANSLATION.FIND_LABEL.lbl" class="">lbl:</a></span> <span class="id"><a href="compcert.backend.Cminor.html#label">label</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="TRANSLATION.FIND_LABEL.cenv" class="id"><a name="TRANSLATION.FIND_LABEL.cenv" class="">cenv:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#compilenv">compilenv</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="TRANSLATION.FIND_LABEL.cs" class="id"><a name="TRANSLATION.FIND_LABEL.cs" class="">cs:</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#callstack">callstack</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_lblstmt_find_label_context" class="id"><a name="transl_lblstmt_find_label_context" class="">transl_lblstmt_find_label_context:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="xenv:886" class="id"><a name="xenv:886" class="">xenv</a></span> <span id="ls:887" class="id"><a name="ls:887" class="">ls</a></span> <span id="body:888" class="id"><a name="body:888" class="">body</a></span> <span id="ts:889" class="id"><a name="ts:889" class="">ts</a></span> <span id="tk1:890" class="id"><a name="tk1:890" class="">tk1</a></span> <span id="tk2:891" class="id"><a name="tk2:891" class="">tk2</a></span> <span id="ts':892" class="id"><a name="ts':892" class="">ts'</a></span> <span id="tk':893" class="id"><a name="tk':893" class="">tk',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_lblstmt">transl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:887">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:886">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:887">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:888">body</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:889">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:886">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:887">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk1:890">tk1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk2:891">tk2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:888">body</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk2:891">tk2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':892">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':893">tk'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:889">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk1:890">tk1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':892">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':893">tk'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">ls;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">eapply</span> <span class="id">IHls;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">x</span> <span class="gallina-kwd">with</span> <span class="id">ts0</span> <span class="gallina-kwd">by</span> <span class="id">congruence</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_find_label" class="id"><a name="transl_find_label" class="">transl_find_label:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:894" class="id"><a name="s:894" class="">s</a></span> <span id="k:895" class="id"><a name="k:895" class="">k</a></span> <span id="xenv:896" class="id"><a name="xenv:896" class="">xenv</a></span> <span id="ts:897" class="id"><a name="ts:897" class="">ts</a></span> <span id="tk:898" class="id"><a name="tk:898" class="">tk,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:896">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:894">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:897">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:895">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:898">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:896">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cs">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">Csharpminor.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:894">s</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:895">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:897">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:898">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">s',</span> <span class="id">k'</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ts':899" class="id"><a name="ts':899" class="">ts',</a></span> <span class="gallina-kwd">exists</span> <span id="tk':900" class="id"><a name="tk':900" class="">tk',</a></span> <span class="gallina-kwd">exists</span> <span id="xenv':901" class="id"><a name="xenv':901" class="">xenv',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:897">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:898">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':899">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':900">tk'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv':901">xenv'</a></span> <span class="id">s'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':899">ts'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id">k'</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':900">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv':901">xenv'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cs">cs</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
<br/>
<span class="gallina-kwd">with</span> <span id="transl_lblstmt_find_label" class="id"><a name="transl_lblstmt_find_label" class="">transl_lblstmt_find_label:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ls:902" class="id"><a name="ls:902" class="">ls</a></span> <span id="xenv:903" class="id"><a name="xenv:903" class="">xenv</a></span> <span id="body:904" class="id"><a name="body:904" class="">body</a></span> <span id="k:905" class="id"><a name="k:905" class="">k</a></span> <span id="ts:906" class="id"><a name="ts:906" class="">ts</a></span> <span id="tk:907" class="id"><a name="tk:907" class="">tk</a></span> <span id="tk1:908" class="id"><a name="tk1:908" class="">tk1,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_lblstmt">transl_lblstmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_env">switch_env</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:902">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:903">xenv</a></span>) <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:902">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:904">body</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:906">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:905">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:907">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:903">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cs">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_cont">transl_lblstmt_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:903">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:902">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:907">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk1:908">tk1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#body:904">body</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk1:908">tk1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label_ls">Csharpminor.find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ls:902">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:905">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:906">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:907">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">s',</span> <span class="id">k'</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ts':909" class="id"><a name="ts':909" class="">ts',</a></span> <span class="gallina-kwd">exists</span> <span id="tk':910" class="id"><a name="tk':910" class="">tk',</a></span> <span class="gallina-kwd">exists</span> <span id="xenv':911" class="id"><a name="xenv':911" class="">xenv',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts:906">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:907">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':909">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':910">tk'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv':911">xenv'</a></span> <span class="id">s'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':909">ts'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id">k'</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':910">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cenv">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv':911">xenv'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.cs">cs</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">s;</span> <span class="id">try</span> (<span class="id">monadInv</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s1</span>). <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_Kseq">match_Kseq</a></span>. <span class="id">eexact</span> <span class="id">EQ1</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">Csharpminor.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">s1</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Csharpminor.Kseq</a></span> <span class="id">s2</span> <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[xenv'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="gallina-kwd">exists</span> <span class="id">xenv'</span>. <span class="id">intuition</span>. <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id">transl_find_label</span> <span class="gallina-kwd">with</span> <span class="id">xenv;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s1</span>). <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">Csharpminor.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">s1</span> <span class="id">k</span>) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[xenv'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="gallina-kwd">exists</span> <span class="id">xenv'</span>. <span class="id">intuition</span>. <span class="id">rewrite</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id">transl_find_label</span> <span class="gallina-kwd">with</span> <span class="id">xenv;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">transl_find_label</span> <span class="gallina-kwd">with</span> <span class="id">xenv</span>. <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;block&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">transl_find_label</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">xenv</span>). <span class="id">auto</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="gallina-kwd">as</span> <span class="id">[tbl</span> <span class="id">dfl]</span>. <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_descent">switch_descent;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[k'</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">transl_lblstmt_find_label</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o;</span> <span class="id">monadInv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">tk;</span> <span class="gallina-kwd">exists</span> <span class="id">xenv;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">transl_find_label</span> <span class="gallina-kwd">with</span> <span class="id">xenv;</span> <span class="id">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">ls;</span> <span class="id">monadInv</span> <span class="id">H;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;nil&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;cons&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s</span>). <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_match_cont">switch_match_cont;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">Csharpminor.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL.lbl">lbl</a></span> <span class="id">s</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Csharpminor.Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#seq_of_lbl_stmt">seq_of_lbl_stmt</a></span> <span class="id">ls</span>) <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k'']</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[xenv'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="gallina-kwd">exists</span> <span class="id">xenv';</span> <span class="id">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_find_label_context">transl_lblstmt_find_label_context;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">replace</span> <span class="id">x</span> <span class="gallina-kwd">with</span> <span class="id">ts0</span> <span class="gallina-kwd">by</span> <span class="id">congruence</span>. <span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">eapply</span> <span class="id">transl_lblstmt_find_label</span>. <span class="id">eauto</span>. <span class="id">auto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">replace</span> <span class="id">x</span> <span class="gallina-kwd">with</span> <span class="id">ts0</span> <span class="gallina-kwd">by</span> <span class="id">congruence</span>. <span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.FIND_LABEL">FIND_LABEL</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_find_label_body" class="id"><a name="transl_find_label_body" class="">transl_find_label_body:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cenv:912" class="id"><a name="cenv:912" class="">cenv</a></span> <span id="xenv:913" class="id"><a name="xenv:913" class="">xenv</a></span> <span id="size:914" class="id"><a name="size:914" class="">size</a></span> <span id="f:915" class="id"><a name="f:915" class="">f</a></span> <span id="tf:916" class="id"><a name="tf:916" class="">tf</a></span> <span id="k:917" class="id"><a name="k:917" class="">k</a></span> <span id="tk:918" class="id"><a name="tk:918" class="">tk</a></span> <span id="cs:919" class="id"><a name="cs:919" class="">cs</a></span> <span id="lbl:920" class="id"><a name="lbl:920" class="">lbl</a></span> <span id="s':921" class="id"><a name="s':921" class="">s'</a></span> <span id="k':922" class="id"><a name="k':922" class="">k',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_funbody">transl_funbody</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:912">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#size:914">size</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:915">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:916">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:917">k</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:918">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:912">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv:913">xenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:919">cs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">Csharpminor.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl:920">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#f:915">f</a></span>.(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_body">Csharpminor.fn_body</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#call_cont">Csharpminor.call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k:917">k</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s':921">s',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k':922">k'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ts':923" class="id"><a name="ts':923" class="">ts',</a></span> <span class="gallina-kwd">exists</span> <span id="tk':924" class="id"><a name="tk':924" class="">tk',</a></span> <span class="gallina-kwd">exists</span> <span id="xenv':925" class="id"><a name="xenv':925" class="">xenv',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Cminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#lbl:920">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tf:916">tf</a></span>.(<span class="id"><a href="compcert.backend.Cminor.html#fn_body">fn_body</a></span>) (<span class="id"><a href="compcert.backend.Cminor.html#call_cont">call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk:918">tk</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':923">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':924">tk'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_stmt">transl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:912">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv':925">xenv'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s':921">s'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#ts':923">ts'</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#k':922">k'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#tk':924">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cenv:912">cenv</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#xenv':925">xenv'</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#cs:919">cs</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_find_label">transl_find_label</a></span>. <span class="id">eexact</span> <span class="id">EQ</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_call_cont">match_call_cont</a></span>. <span class="id">eexact</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">lbl</span>). <span class="id">rewrite</span> <span class="id">H1</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The simulation diagram. </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="seq_left_depth" class="id"><a name="seq_left_depth" class="">seq_left_depth</a></span> (<span id="s:926" class="id"><a name="s:926" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#stmt">Csharpminor.stmt</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#s:926">s</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Csharpminor.Sseq</a></span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#seq_left_depth:927">seq_left_depth</a></span> <span class="id">s1</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="measure" class="id"><a name="measure" class="">measure</a></span> (<span id="S:929" class="id"><a name="S:929" class="">S:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#state">Csharpminor.state</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S:929">S</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">Csharpminor.State</a></span> <span class="id">fn</span> <span class="id">s</span> <span class="id">k</span> <span class="id">e</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#le">le</a></span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#seq_left_depth">seq_left_depth</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_step_correct" class="id"><a name="transl_step_correct" class="">transl_step_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S1:931" class="id"><a name="S1:931" class="">S1</a></span> <span id="t:932" class="id"><a name="t:932" class="">t</a></span> <span id="S2:933" class="id"><a name="S2:933" class="">S2,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">Csharpminor.step</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S1:931">S1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#t:932">t</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S2:933">S2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="T1:934" class="id"><a name="T1:934" class="">T1,</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S1:931">S1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#T1:934">T1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists</span> <span id="T2:935" class="id"><a name="T2:935" class="">T2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.backend.Cminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#T1:934">T1</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#t:932">t</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#T2:935">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S2:933">S2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#T2:935">T2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#measure">measure</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S2:933">S2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#measure">measure</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S1:931">S1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#t:932">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S2:933">S2</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#T1:934">T1</a></span>)%<span class="id">nat</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">T1</span> <span class="id">MSTATE;</span> <span class="id">inv</span> <span class="id">MSTATE</span>.<br/>
<br/>
<span class="comment">(*&nbsp;skip&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">dependent</span> <span class="id">induction</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_state_seq">match_state_seq;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHMK;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[T2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">T2;</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;skip&nbsp;block&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">dependent</span> <span class="id">induction</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHMK;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[T2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">T2;</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="comment">(*&nbsp;skip&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_is_call_cont">match_is_call_cont;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tk'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_freelist">match_callstack_freelist;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[P</span> <span class="id">[Q</span> <span class="id">R]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_right">plus_right</a></span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Cminor.html#step_skip_call">step_skip_call</a></span>. <span class="id">auto</span>. <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;set&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[EVAL</span> <span class="id">VINJ]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_set_temp">match_callstack_set_temp;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;store&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tv1</span> <span class="id">[EVAL1</span> <span class="id">VINJ1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tv2</span> <span class="id">[EVAL2</span> <span class="id">VINJ2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_mapped_inject">Mem.storev_mapped_inject</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[STORE'</span> <span class="id">MINJ']]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">VINJ1;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="gallina-kwd">in</span> <span class="id">STORE'</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">STORE'</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_invariant">match_callstack_invariant</a></span> <span class="gallina-kwd">with</span> <span class="id">f0</span> <span class="id">m</span> <span class="id">tm;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_store_2">Mem.perm_store_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_store_1">Mem.perm_store_1</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#functions_translated">functions_translated;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tfd</span> <span class="id">[FIND</span> <span class="id">TRANS]]</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tvf</span> <span class="id">[EVAL1</span> <span class="id">VINJ1]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">tvf</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">vf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_match_globalenvs">match_callstack_match_globalenvs;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[bnd</span> <span class="id">MG]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#val_inject_function_pointer">val_inject_function_pointer;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">tvf</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_exprlist_correct">transl_exprlist_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tvargs</span> <span class="id">[EVAL2</span> <span class="id">VINJ2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Cminor.html#step_call">step_call;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sig_preserved">sig_preserved;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_Kcall">match_Kcall</a></span> <span class="gallina-kwd">with</span> (<span class="id">cenv'</span> <span class="id">:=</span> <span class="id">cenv</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_exprlist_correct">transl_exprlist_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[tvargs</span> <span class="id">[EVAL2</span> <span class="id">VINJ2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_match_globalenvs">match_callstack_match_globalenvs;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[hi'</span> <span class="id">MG]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_inject">external_call_mem_inject;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#inj_preserves_globals">inj_preserves_globals;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[f'</span> <span class="id">[vres'</span> <span class="id">[tm'</span> <span class="id">[EC</span> <span class="id">[VINJ</span> <span class="id">[MINJ'</span> <span class="id">[UNMAPPED</span> <span class="id">[OUTOFREACH</span> <span class="id">[INCR</span> <span class="id">SEPARATED]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">MCS':</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack">match_callstack</a></span> <span class="id">f'</span> <span class="id">m'</span> <span class="id">tm'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#Frame">Frame</a></span> <span class="id">cenv</span> <span class="id">tfn</span> <span class="id">e</span> <span class="id">le</span> <span class="id">te</span> <span class="id">sp</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">cs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m'</span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_incr_bound">match_callstack_incr_bound</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_external_call">match_callstack_external_call;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_max_perm">external_call_max_perm;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="vernacular">Opaque</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Cminor.html#set_optvar">set_optvar</a></span>. <span class="id">destruct</span> <span class="id">optid;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_set_temp">match_callstack_set_temp;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="comment">(*&nbsp;seq&nbsp;2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[EVAL</span> <span class="id">VINJ]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.backend.Cminor.html#State">State</a></span> <span class="id">tfn</span> (<span class="gallina-kwd">if</span> <span class="id">b</span> <span class="gallina-kwd">then</span> <span class="id">x0</span> <span class="gallina-kwd">else</span> <span class="id">x1</span>) <span class="id">tk</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">sp</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id">te</span> <span class="id">tm</span>)<span class="id">;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Cminor.html#step_ifthenelse">step_ifthenelse;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#bool_of_val_inject">bool_of_val_inject;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;block&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;exit&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">dependent</span> <span class="id">induction</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHMK;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[T2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">T2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHMK;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[T2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">T2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
<br/>
<span class="comment">(*&nbsp;exit&nbsp;block&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">dependent</span> <span class="id">induction</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHMK;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[T2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">T2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
<br/>
<span class="comment">(*&nbsp;exit&nbsp;block&nbsp;n+1&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">dependent</span> <span class="id">induction</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHMK;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[T2</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">T2;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star;</a></span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
<br/>
<span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">TR</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#switch_table">switch_table</a></span> <span class="id">cases</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) <span class="gallina-kwd">as</span> <span class="id">[tbl</span> <span class="id">dfl]</span> <span class="id">eqn:STBL</span>. <span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[EVAL</span> <span class="id">VINJ]]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SA:</span> <span class="id"><a href="compcert.common.Switch.html#switch_argument">switch_argument</a></span> <span class="id">islong</span> <span class="id">tv</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">VINJ;</span> <span class="id">constructor</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_descent">switch_descent;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[k1</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_ascent">switch_ascent;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_table_select">switch_table_select</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">STBL;</span> <span class="id">simpl</span>. <span class="id">intros</span> <span class="id">[k2</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_lblstmt_suffix">transl_lblstmt_suffix;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> (<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_table_select">switch_table_select</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">intros</span> <span class="id">[body'</span> <span class="id">[ts'</span> <span class="id">E]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#switch_match_states">switch_match_states;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[T2</span> <span class="id">[F</span> <span class="id">G]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="gallina-kwd">exists</span> <span class="id">T2;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star_trans">plus_star_trans</a></span>. <span class="id">eapply</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star</a></span>. <span class="id">eexact</span> <span class="id">F</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;none&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_freelist">match_callstack_freelist;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Cminor.html#step_return_0">step_return_0</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_call_cont">match_call_cont;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;some&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tv</span> <span class="id">[EVAL</span> <span class="id">VINJ]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_freelist">match_callstack_freelist;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tm'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.Cminor.html#step_return_1">step_return_1</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_call_cont">match_call_cont;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_find_label_body">transl_find_label_body;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[xenv'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.Cminor.html#step_goto">step_goto</a></span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;internal&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">generalize</span> <span class="id">EQ;</span> <span class="id">clear</span> <span class="id">EQ;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_function">transl_function</a></span>.<br/>
&nbsp;&nbsp;<span class="id">caseEq</span> (<span class="id"><a href="compcert.cfrontend.Cminorgen.html#build_compilenv">build_compilenv</a></span> <span class="id">f</span>). <span class="id">intros</span> <span class="id">ce</span> <span class="id">sz</span> <span class="id">BC</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">sz</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>)<span class="id">;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span> <span class="id">TRBODY</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">TRBODY;</span> <span class="id">intro</span> <span class="id">TMP</span>. <span class="id">monadInv</span> <span class="id">TMP</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">tf</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.Cminor.html#mkfunction">mkfunction</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_sig">Csharpminor.fn_sig</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_params">Csharpminor.fn_params</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#fn_temps">Csharpminor.fn_temps</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sz</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x0</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">caseEq</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id">tm</span> <span class="id">0</span> (<span class="id"><a href="compcert.backend.Cminor.html#fn_stackspace">fn_stackspace</a></span> <span class="id">tf</span>)). <span class="id">intros</span> <span class="id">tm'</span> <span class="id">sp</span> <span class="id">ALLOC'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_function_entry">match_callstack_function_entry;</a></span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[f2</span> <span class="id">[MCS2</span> <span class="id">MINJ2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor;</span> <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eexact</span> <span class="id">TRBODY</span>. <span class="id">eauto</span>. <span class="id">eexact</span> <span class="id">MINJ2</span>. <span class="id">eexact</span> <span class="id">MCS2</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MK;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">ISCC;</span> <span class="id">contradiction</span> <span class="id">||</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;external&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_match_globalenvs">match_callstack_match_globalenvs;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[hi</span> <span class="id">MG]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_inject">external_call_mem_inject;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#inj_preserves_globals">inj_preserves_globals;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[f'</span> <span class="id">[vres'</span> <span class="id">[tm'</span> <span class="id">[EC</span> <span class="id">[VINJ</span> <span class="id">[MINJ'</span> <span class="id">[UNMAPPED</span> <span class="id">[OUTOFREACH</span> <span class="id">[INCR</span> <span class="id">SEPARATED]]]]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_incr_bound">match_callstack_incr_bound</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_external_call">match_callstack_external_call;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_max_perm">external_call_max_perm;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_nextblock">external_call_nextblock;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MK</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.Cminor.html#set_optvar">set_optvar</a></span>. <span class="id">destruct</span> <span class="id">optid;</span> <span class="id">simpl;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstack_set_temp">match_callstack_set_temp;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_globalenvs_init" class="id"><a name="match_globalenvs_init" class="">match_globalenvs_init:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:936" class="id"><a name="m:936" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem">Genv.init_mem</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.prog">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:936">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_globalenvs">match_globalenvs</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.flat_inj">Mem.flat_inj</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:936">m</a></span>)) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#m:936">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.flat_inj">Mem.flat_inj</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#pred_dec_true">pred_dec_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.flat_inj">Mem.flat_inj</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id">b1</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m</span>))<span class="id">;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_not_fresh">Genv.find_symbol_not_fresh</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_not_fresh">Genv.find_funct_ptr_not_fresh</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info_not_fresh">Genv.find_var_info_not_fresh</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_initial_states" class="id"><a name="transl_initial_states" class="">transl_initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S:937" class="id"><a name="S:937" class="">S,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#initial_state">Csharpminor.initial_state</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S:937">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="R:938" class="id"><a name="R:938" class="">R,</a></span> <span class="id"><a href="compcert.backend.Cminor.html#initial_state">Cminor.initial_state</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tprog">tprog</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#R:938">R</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S:937">S</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#R:938">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#function_ptr_translated">function_ptr_translated;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tf</span> <span class="id">[FIND</span> <span class="id">TR]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_transf_partial">Genv.init_mem_transf_partial</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.TRANSL">TRANSL</a></span>). <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">fold</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tge">tge</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.common.AST.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tprog">tprog</a></span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.AST.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.prog">prog</a></span>). <span class="id">eexact</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cminorgen.html#transl_program">transl_program</a></span> <span class="gallina-kwd">in</span> <span class="id">TRANSL</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Linking.html#match_program_main">match_program_main;</a></span> <span class="id">eauto</span>. <br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">FIND</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#sig_preserved">sig_preserved;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_callstate">match_callstate</a></span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Memory.html#Mem.flat_inj">Mem.flat_inj</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m0</span>)) (<span class="id">cs</span> <span class="id">:=</span> @<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#frame">frame</a></span>) (<span class="id">cenv</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.initmem_inject">Genv.initmem_inject</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#mcs_nil">mcs_nil</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m0</span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_globalenvs_init">match_globalenvs_init;</a></span> <span class="id">auto</span>. <span class="id">extlia</span>. <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">red;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_final_states" class="id"><a name="transl_final_states" class="">transl_final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S:939" class="id"><a name="S:939" class="">S</a></span> <span id="R:940" class="id"><a name="R:940" class="">R</a></span> <span id="r:941" class="id"><a name="r:941" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S:939">S</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#R:940">R</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#final_state">Csharpminor.final_state</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#S:939">S</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#r:941">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.Cminor.html#final_state">Cminor.final_state</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#R:940">R</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#r:941">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MK</span>. <span class="id">inv</span> <span class="id">RESINJ</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="transl_program_correct" class="id"><a name="transl_program_correct" class="">transl_program_correct:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#semantics">Csharpminor.semantics</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.prog">prog</a></span>) (<span class="id"><a href="compcert.backend.Cminor.html#semantics">Cminor.semantics</a></span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION.tprog">tprog</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_star">forward_simulation_star;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_initial_states">transl_initial_states</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_final_states">transl_final_states</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#transl_step_correct">transl_step_correct</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.Cminorgenproof.html#TRANSLATION">TRANSLATION</a></span>.<br/>
<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
