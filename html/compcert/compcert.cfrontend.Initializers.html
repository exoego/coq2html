
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Initializers</title>
<meta name="description" content="Documentation of Coq module Initializers" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Initializers</h1>
<br/>
<div class="doc">Compile-time evaluation of initializers for global C variables. </div>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></span>.<br/>
<br/>
<span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<br/>
<h1> Evaluation of compile-time constant expressions </h1>
<br/>
<div class="doc">To evaluate constant expressions at compile-time, we use the same <span class="bracket"><span class="id">value</span></span>
  type and the same <span class="bracket"><span class="id">sem_</span>*</span> functions that are used in CompCert C's semantics
  (module <span class="bracket"><span class="id">Csem</span></span>).  However, we interpret pointer values symbolically:
  <span class="bracket"><span class="id">Vptr</span> <span class="id">id</span> <span class="id">ofs</span></span> represents the address of global variable <span class="bracket"><span class="id">id</span></span>
  plus byte offset <span class="bracket"><span class="id">ofs</span></span>. </div>
<br/>
<div class="doc"><span class="bracket"><span class="id">constval</span> <span class="id">a</span></span> evaluates the constant expression <span class="bracket"><span class="id">a</span></span>.
If <span class="bracket"><span class="id">a</span></span> is a r-value, the returned value denotes:
<ul>
<li>
 <span class="bracket"><span class="id">Vint</span> <span class="id">n</span></span>, <span class="bracket"><span class="id">Vlong</span> <span class="id">n</span></span>, <span class="bracket"><span class="id">Vfloat</span> <span class="id">f</span></span>, <span class="bracket"><span class="id">Vsingle</span> <span class="id">f</span></span>: the corresponding number
</li>
<li>
 <span class="bracket"><span class="id">Vptr</span> <span class="id">id</span> <span class="id">ofs</span></span>: address of global variable <span class="bracket"><span class="id">id</span></span> plus byte offset <span class="bracket"><span class="id">ofs</span></span>
</li>
<li>
 <span class="bracket"><span class="id">Vundef</span></span>: erroneous expression
</li>
</ul>
If <span class="bracket"><span class="id">a</span></span> is a l-value, the returned value denotes:
<ul>
<li>
 <span class="bracket"><span class="id">Vptr</span> <span class="id">id</span> <span class="id">ofs</span></span>: global variable <span class="bracket"><span class="id">id</span></span> plus byte offset <span class="bracket"><span class="id">ofs</span></span>
</li>
</ul>
</div>
<br/>
<span class="vernacular">Definition</span> <span id="do_cast" class="id"><a name="do_cast" class="">do_cast</a></span> (<span id="v:1" class="id"><a name="v:1" class="">v:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span id="t1:2" class="id"><a name="t1:2" class="">t1</a></span> <span id="t2:3" class="id"><a name="t2:3" class="">t2:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v:1">v</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#t1:2">t1</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#t2:3">t2</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">v'</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;undefined cast&quot;</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="lookup_composite" class="id"><a name="lookup_composite" class="">lookup_composite</a></span> (<span id="ce:4" class="id"><a name="ce:4" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="id:5" class="id"><a name="id:5" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite">composite</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:4">ce!id</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">co</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">co</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#MSG">MSG</a></span> <span class="id">&quot;Undefined struct or union &quot;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Errors.html#CTX">CTX</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#id:5">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="constval" class="id"><a name="constval" class="">constval</a></span> (<span id="ce:6" class="id"><a name="ce:6" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="a:7" class="id"><a name="a:7" class="">a:</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#a:7">a</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="vernacular">Eval</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">v</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;illegal constant&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evalof">Evalof</a></span> <span class="id">l</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">ty</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_reference">By_reference</a></span> <span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_copy">By_copy</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;dereferencing of an l-value&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eaddrof">Eaddrof</a></span> <span class="id">l</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">l</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eunop">Eunop</a></span> <span class="id">op</span> <span class="id">r1</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v1:11" class="id"><a name="v1:11" class="">v1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r1;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v1:11">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;undefined unary operation&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v1:12" class="id"><a name="v1:12" class="">v1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r1;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v2:13" class="id"><a name="v2:13" class="">v2</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r2;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v1:12">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#v2:13">v2</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r2</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;undefined binary operation&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecast">Ecast</a></span> <span class="id">r</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v1:14" class="id"><a name="v1:14" class="">v1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v1:14">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r</span>) <span class="id">ty</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Esizeof">Esizeof</a></span> <span class="id">ty1</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">ty1</span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ealignof">Ealignof</a></span> <span class="id">ty1</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">ty1</span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v1:15" class="id"><a name="v1:15" class="">v1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r1;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v2:16" class="id"><a name="v2:16" class="">v2</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r2;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v1:15">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v2:16">v2</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r2</span>) <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_bool">type_bool</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;undefined &amp;&amp; operation&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v1:17" class="id"><a name="v1:17" class="">v1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r1;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v2:18" class="id"><a name="v2:18" class="">v2</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r2;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v1:17">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v2:18">v2</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r2</span>) <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_bool">type_bool</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;undefined || operation&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econdition">Econdition</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">r3</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v1:19" class="id"><a name="v1:19" class="">v1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r1;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v2:20" class="id"><a name="v2:20" class="">v2</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r2;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v3:21" class="id"><a name="v3:21" class="">v3</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r3;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v1:19">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v2:20">v2</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r2</span>) <span class="id">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v3:21">v3</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r3</span>) <span class="id">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;condition is undefined&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v1:22" class="id"><a name="v1:22" class="">v1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r1;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evar">Evar</a></span> <span class="id">x</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ederef">Ederef</a></span> <span class="id">r</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> <span class="id">l</span> <span class="id">f</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#d831cce0aa70e7a29495d70e235abad9">do</a></span> (<span id="delta:25" class="id"><a name="delta:25" class="">delta,</a></span> <span id="bf:26" class="id"><a name="bf:26" class="">bf</a></span>) <span class="id">&lt;-</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">l</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="co:23" class="id"><a name="co:23" class="">co</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">id;</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#co:23">co</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="co:24" class="id"><a name="co:24" class="">co</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">id;</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#union_field_offset">union_field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#co:24">co</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;ill-typed field access&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v:27" class="id"><a name="v:27" class="">v</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">l;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#bf:26">bf</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Full">Full</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Val.addl">Val.addl</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v:27">v</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#delta:25">delta</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v:27">v</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#delta:25">delta</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Bits">Bits</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;taking the address of a bitfield&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id">r</span> <span class="id">tycast</span> <span class="id">ty</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v:29" class="id"><a name="v:29" class="">v</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval:8">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:6">ce</a></span> <span class="id">r;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v:29">v</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r</span>) <span class="id">tycast</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;not a compile-time constant&quot;</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">constval_cast</span> <span class="id">ce</span> <span class="id">a</span> <span class="id">ty</span></span> evaluates <span class="bracket"><span class="id">a</span></span> then converts its value to type <span class="bracket"><span class="id">ty</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="constval_cast" class="id"><a name="constval_cast" class="">constval_cast</a></span> (<span id="ce:30" class="id"><a name="ce:30" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="a:31" class="id"><a name="a:31" class="">a:</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span id="ty:32" class="id"><a name="ty:32" class="">ty:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v:33" class="id"><a name="v:33" class="">v</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:30">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#a:31">a;</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v:33">v</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#a:31">a</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:32">ty</a></span>.<br/>
<br/>
<h1> Building and recording initialization data </h1>
<br/>
<div class="doc">The following <span class="bracket"><span class="id">state</span></span> type is the output of the translation of
    initializers.  It contains the list of initialization data
    generated so far, the corresponding position in bytes, and the
    total size expected for the final initialization data, in bytes. </div>
<br/>
<span class="vernacular">Record</span> <span id="state" class="id"><a name="state" class="">state</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="init" class="id"><a name="init" class="">init:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data;</a></span>      <span class="docright">(* reversed  *)</span><br/>
&nbsp;&nbsp;<span id="curr" class="id"><a name="curr" class="">curr:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z;</a></span>                   <span class="docright">(* current position for head of <span class="bracket"><span class="id">init</span></span>  *)</span><br/>
&nbsp;&nbsp;<span id="total_size" class="id"><a name="total_size" class="">total_size:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>              <span class="docright">(* total expected size  *)</span><br/>
<span class="id">}</span>.<br/>
<br/>
<div class="doc">A state <span class="bracket"><span class="id">s</span></span> can also be viewed as a memory block.  The size of
    the block is <span class="bracket"><span class="id">s</span>.(<span class="id">total_size</span>)</span>, it is initialized with zero bytes,
    then filled with the initialization data <span class="bracket"><span class="id">rev</span> <span class="id">s</span>.(<span class="id">init</span>)</span> like
    <span class="bracket"><span class="id">Genv.store_init_data_list</span></span> does. </div>
<br/>
<span class="vernacular">Definition</span> <span id="initial_state" class="id"><a name="initial_state" class="">initial_state</a></span> (<span id="sz:38" class="id"><a name="sz:38" class="">sz:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil;</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span> <span class="id">:=</span> <span class="id">0;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:38">sz</a></span> <span class="id">|}</span>.<br/>
<br/>
<div class="doc">We now define abstract "store" operations that operate
    directly on the state, but whose behavior mimic those of
    storing in the corresponding memory block.  To initialize
    bitfields, we also need an abstract "load" operation.
    The operations are optimized for stores that occur at increasing
    positions, like those that take place during initialization. </div>
<br/>
<div class="doc">Initialization from bytes </div>
<br/>
<span class="vernacular">Definition</span> <span id="int_of_byte" class="id"><a name="int_of_byte" class="">int_of_byte</a></span> (<span id="b:39" class="id"><a name="b:39" class="">b:</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Byte.unsigned">Byte.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#b:39">b</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Init_byte" class="id"><a name="Init_byte" class="">Init_byte</a></span> (<span id="b:40" class="id"><a name="b:40" class="">b:</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.common.AST.html#Init_int8">Init_int8</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#int_of_byte">int_of_byte</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#b:40">b</a></span>).<br/>
<br/>
<div class="doc">Add a list of bytes to a reversed initialization data list. </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="add_rev_bytes" class="id"><a name="add_rev_bytes" class="">add_rev_bytes</a></span> (<span id="l:41" class="id"><a name="l:41" class="">l:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span>) (<span id="il:42" class="id"><a name="il:42" class="">il:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#l:41">l</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:42">il</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">l</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#add_rev_bytes:43">add_rev_bytes</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#l:41">l</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_byte">Init_byte</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:42">il</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Add <span class="bracket"><span class="id">n</span></span> zero bytes to an initialization data list. </div>
<br/>
<span class="vernacular">Definition</span> <span id="add_zeros" class="id"><a name="add_zeros" class="">add_zeros</a></span> (<span id="n:45" class="id"><a name="n:45" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="il:46" class="id"><a name="il:46" class="">il:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.iter">Z.iter</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:45">n</a></span> (<span class="gallina-kwd">fun</span> <span id="l:47" class="id"><a name="l:47" class="">l</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#Init_int8">Init_int8</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#l:47">l</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#il:46">il</a></span>.<br/>
<br/>
<div class="doc">Make sure the <span class="bracket"><span class="id">depth</span></span> positions at the top of <span class="bracket"><span class="id">il</span></span> are bytes,
    that is, <span class="bracket"><span class="id">Init_int8</span></span> items.  Other numerical items are split
    into bytes.  <span class="bracket"><span class="id">Init_addrof</span></span> items cannot be split and result in
    an error. </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="normalize" class="id"><a name="normalize" class="">normalize</a></span> (<span id="il:48" class="id"><a name="il:48" class="">il:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) (<span id="depth:49" class="id"><a name="depth:49" class="">depth:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;normalize: empty list&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_int8">Init_int8</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il':52" class="id"><a name="il':52" class="">il'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize:50">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.common.AST.html#Init_int8">Init_int8</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il':52">il'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_int16">Init_int16</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il':53" class="id"><a name="il':53" class="">il'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize:50">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">2</span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#add_rev_bytes">add_rev_bytes</a></span> (<span class="id"><a href="compcert.common.Memdata.html#encode_int">encode_int</a></span> <span class="id">2</span>%<span class="id">nat</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>)) <span class="id"><a href="compcert.cfrontend.Initializers.html#il':53">il'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_int32">Init_int32</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il':54" class="id"><a name="il':54" class="">il'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize:50">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">4</span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#add_rev_bytes">add_rev_bytes</a></span> (<span class="id"><a href="compcert.common.Memdata.html#encode_int">encode_int</a></span> <span class="id">4</span>%<span class="id">nat</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>)) <span class="id"><a href="compcert.cfrontend.Initializers.html#il':54">il'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_int64">Init_int64</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il':55" class="id"><a name="il':55" class="">il'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize:50">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">8</span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#add_rev_bytes">add_rev_bytes</a></span> (<span class="id"><a href="compcert.common.Memdata.html#encode_int">encode_int</a></span> <span class="id">8</span>%<span class="id">nat</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>)) <span class="id"><a href="compcert.cfrontend.Initializers.html#il':55">il'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_float32">Init_float32</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il':56" class="id"><a name="il':56" class="">il'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize:50">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">4</span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#add_rev_bytes">add_rev_bytes</a></span> (<span class="id"><a href="compcert.common.Memdata.html#encode_int">encode_int</a></span> <span class="id">4</span>%<span class="id">nat</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">Float32.to_bits</a></span> <span class="id">f</span>))) <span class="id"><a href="compcert.cfrontend.Initializers.html#il':56">il'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_float64">Init_float64</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il':57" class="id"><a name="il':57" class="">il'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize:50">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">8</span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#add_rev_bytes">add_rev_bytes</a></span> (<span class="id"><a href="compcert.common.Memdata.html#encode_int">encode_int</a></span> <span class="id">8</span>%<span class="id">nat</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">Float.to_bits</a></span> <span class="id">f</span>))) <span class="id"><a href="compcert.cfrontend.Initializers.html#il':57">il'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_addrof">Init_addrof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;normalize: Init_addrof&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_space">Init_space</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="n:58" class="id"><a name="n:58" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">0</span> <span class="id">n</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:58">n</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il':59" class="id"><a name="il':59" class="">il'</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize:50">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:58">n</a></span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#add_zeros">add_zeros</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:58">n</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il':59">il'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#add_zeros">add_zeros</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span> (<span class="id"><a href="compcert.common.AST.html#Init_space">Init_space</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#n:58">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#depth:49">depth</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:48">il</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Split <span class="bracket"><span class="id">il</span></span> into <span class="bracket"><span class="id">depth</span></span> bytes and the initialization list that follows.
    The bytes are returned reversed. </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="decompose_rec" class="id"><a name="decompose_rec" class="">decompose_rec</a></span> (<span id="accu:60" class="id"><a name="accu:60" class="">accu:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span>) (<span id="il:61" class="id"><a name="il:61" class="">il:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) (<span id="depth:62" class="id"><a name="depth:62" class="">depth:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#depth:62">depth</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#accu:60">accu,</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:61">il</a></span>) <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:61">il</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Init_int8">Init_int8</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#decompose_rec:63">decompose_rec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Byte.repr">Byte.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#accu:60">accu</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#il:61">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:62">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;decompose: wrong shape&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="decompose" class="id"><a name="decompose" class="">decompose</a></span> (<span id="il:65" class="id"><a name="il:65" class="">il:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) (<span id="depth:66" class="id"><a name="depth:66" class="">depth:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#decompose_rec">decompose_rec</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:65">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#depth:66">depth</a></span>.<br/>
<br/>
<div class="doc">Decompose an initialization list in three parts:
    <span class="bracket"><span class="id">depth</span></span> bytes (reversed), <span class="bracket"><span class="id">sz</span></span> bytes (reversed),
    and the remainder of the initialization list. </div>
<br/>
<span class="vernacular">Definition</span> <span id="trisection" class="id"><a name="trisection" class="">trisection</a></span> (<span id="il:67" class="id"><a name="il:67" class="">il:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) (<span id="depth:68" class="id"><a name="depth:68" class="">depth</a></span> <span id="sz:69" class="id"><a name="sz:69" class="">sz:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#byte">byte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="il0:70" class="id"><a name="il0:70" class="">il0</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#normalize">normalize</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:67">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#depth:68">depth</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:69">sz</a></span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#d831cce0aa70e7a29495d70e235abad9">do</a></span> (<span id="bytes1:71" class="id"><a name="bytes1:71" class="">bytes1,</a></span> <span id="il1:72" class="id"><a name="il1:72" class="">il1</a></span>) <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#decompose">decompose</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il0:70">il0</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#depth:68">depth;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#d831cce0aa70e7a29495d70e235abad9">do</a></span> (<span id="bytes2:73" class="id"><a name="bytes2:73" class="">bytes2,</a></span> <span id="il2:74" class="id"><a name="il2:74" class="">il2</a></span>) <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#decompose">decompose</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il1:72">il1</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:69">sz;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#bytes1:71">bytes1,</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#bytes2:73">bytes2,</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il2:74">il2</a></span>).<br/>
<br/>
<div class="doc">Graphically: <span class="bracket"><span class="id">rev</span> <span class="id">il</span></span> is equal to
<pre>
                 &lt;---sz---&gt;&lt;--depth--&gt;
+----------------+---------+---------+
|                |         |         |
+----------------+---------+---------+
    rev il2         bytes2    bytes1</pre>
</div>
<br/>
<div class="doc">Add padding if necessary so that position <span class="bracket"><span class="id">pos</span></span> is within the state. </div>
<br/>
<span class="vernacular">Definition</span> <span id="pad_to" class="id"><a name="pad_to" class="">pad_to</a></span> (<span id="s:75" class="id"><a name="s:75" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>) (<span id="pos:76" class="id"><a name="pos:76" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:76">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:75">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:75">s</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id">{|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.AST.html#Init_space">Init_space</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:76">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:75">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:75">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:76">pos;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:75">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span>) <span class="id">|}</span>.<br/>
<br/>
<div class="doc">Store the initialization data <span class="bracket"><span class="id">i</span></span> at position <span class="bracket"><span class="id">pos</span></span> in state <span class="bracket"><span class="id">s</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="store_data" class="id"><a name="store_data" class="">store_data</a></span> (<span id="s:77" class="id"><a name="s:77" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>) (<span id="pos:78" class="id"><a name="pos:78" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="i:79" class="id"><a name="i:79" class="">i:</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="sz:80" class="id"><a name="sz:80" class="">sz</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.AST.html#init_data_size">init_data_size</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#i:79">i</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:80">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#i:79">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.AST.html#Init_space">Init_space</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:80">sz;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span>) <span class="id">|}</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="s':81" class="id"><a name="s':81" class="">s'</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pad_to">pad_to</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:77">s</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:80">sz</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="x3:82" class="id"><a name="x3:82" class="">x3</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#trisection">trisection</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s':81">s'</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#s':81">s'</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:78">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:80">sz</a></span>)) <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:80">sz;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id">'</span>(<span class="id">bytes1,</span> <span class="id">_,</span> <span class="id">il2</span>) <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#x3:82">x3</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">{|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#add_rev_bytes">add_rev_bytes</a></span> <span class="id">bytes1</span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#i:79">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">il2</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s':81">s'</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s':81">s'</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span>) <span class="id">|}</span>.<br/>
<br/>
<div class="doc">Store the integer <span class="bracket"><span class="id">n</span></span> of size <span class="bracket"><span class="id">isz</span></span> at position <span class="bracket"><span class="id">pos</span></span> in state <span class="bracket"><span class="id">s</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="init_data_for_carrier" class="id"><a name="init_data_for_carrier" class="">init_data_for_carrier</a></span> (<span id="isz:84" class="id"><a name="isz:84" class="">isz:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#intsize">intsize</a></span>) (<span id="n:85" class="id"><a name="n:85" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#isz:84">isz</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#I8">I8</a></span> <span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#IBool">IBool</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#Init_int8">Init_int8</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:85">n</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#I16">I16</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#Init_int16">Init_int16</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:85">n</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#I32">I32</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.AST.html#Init_int32">Init_int32</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:85">n</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="store_int" class="id"><a name="store_int" class="">store_int</a></span> (<span id="s:87" class="id"><a name="s:87" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>) (<span id="pos:88" class="id"><a name="pos:88" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="isz:89" class="id"><a name="isz:89" class="">isz:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#intsize">intsize</a></span>) (<span id="n:90" class="id"><a name="n:90" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#store_data">store_data</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:87">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:88">pos</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#init_data_for_carrier">init_data_for_carrier</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#isz:89">isz</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#n:90">n</a></span>).<br/>
<br/>
<div class="doc">Load the integer of size <span class="bracket"><span class="id">isz</span></span> at position <span class="bracket"><span class="id">pos</span></span> in state <span class="bracket"><span class="id">s</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="load_int" class="id"><a name="load_int" class="">load_int</a></span> (<span id="s:91" class="id"><a name="s:91" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>) (<span id="pos:92" class="id"><a name="pos:92" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="isz:93" class="id"><a name="isz:93" class="">isz:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#intsize">intsize</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="chunk:94" class="id"><a name="chunk:94" class="">chunk</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cop.html#chunk_for_carrier">chunk_for_carrier</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#isz:93">isz</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="sz:95" class="id"><a name="sz:95" class="">sz</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#chunk:94">chunk</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:92">pos</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:92">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:95">sz</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#s:91">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="s':96" class="id"><a name="s':96" class="">s'</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pad_to">pad_to</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:91">s</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:92">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:95">sz</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="x3:97" class="id"><a name="x3:97" class="">x3</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#trisection">trisection</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s':96">s'</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#s':96">s'</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:92">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:95">sz</a></span>)) <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:95">sz;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id">'</span>(<span class="id">_,</span> <span class="id">bytes2,</span> <span class="id">_</span>) <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#x3:97">x3</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.common.Memdata.html#decode_int">decode_int</a></span> <span class="id">bytes2</span>)).<br/>
<br/>
<div class="doc">Extract the final initialization data from a state. </div>
<br/>
<span class="vernacular">Definition</span> <span id="init_data_list_of_state" class="id"><a name="init_data_list_of_state" class="">init_data_list_of_state</a></span> (<span id="s:99" class="id"><a name="s:99" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:99">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#curr">curr</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#s:99">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="s':100" class="id"><a name="s':100" class="">s'</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pad_to">pad_to</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:99">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:99">s</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#total_size">total_size</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#rev'">List.rev</a></span><span class="id">'</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s':100">s'</a></span>.(<span class="id"><a href="compcert.cfrontend.Initializers.html#init">init</a></span>)).<br/>
<br/>
<h1> Translation of initializers </h1>
<br/>
<span class="vernacular">Inductive</span> <span id="initializer" class="id"><a name="initializer" class="">initializer</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Init_single" class="id"><a name="Init_single" class="">Init_single</a></span> (<span id="a:105" class="id"><a name="a:105" class="">a:</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Init_array" class="id"><a name="Init_array" class="">Init_array</a></span> (<span id="il:106" class="id"><a name="il:106" class="">il:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list:102">initializer_list</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Init_struct" class="id"><a name="Init_struct" class="">Init_struct</a></span> (<span id="il:107" class="id"><a name="il:107" class="">il:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list:102">initializer_list</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Init_union" class="id"><a name="Init_union" class="">Init_union</a></span> (<span id="f:108" class="id"><a name="f:108" class="">f:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="i:109" class="id"><a name="i:109" class="">i:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer:101">initializer</a></span>)<br/>
<span class="gallina-kwd">with</span> <span id="initializer_list" class="id"><a name="initializer_list" class="">initializer_list</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Init_nil" class="id"><a name="Init_nil" class="">Init_nil</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Init_cons" class="id"><a name="Init_cons" class="">Init_cons</a></span> (<span id="i:110" class="id"><a name="i:110" class="">i:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer:101">initializer</a></span>) (<span id="il:111" class="id"><a name="il:111" class="">il:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list:102">initializer_list</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="length_initializer_list" class="id"><a name="length_initializer_list" class="">length_initializer_list</a></span> (<span id="il:112" class="id"><a name="il:112" class="">il:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="gallina-kwd">fix</span> <span id="length:117" class="id"><a name="length:117" class="">length</a></span> (<span id="accu:113" class="id"><a name="accu:113" class="">accu:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="il:114" class="id"><a name="il:114" class="">il:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:114">il</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#accu:113">accu</a></span> <span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_cons">Init_cons</a></span> <span class="id">_</span> <span class="id">il</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#length:115">length</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#accu:113">accu</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#il:114">il</a></span> <span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">in</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#length:117">length</a></span> <span class="id">0</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:112">il</a></span>.<br/>
<br/>
<div class="doc">Translate an initializing expression <span class="bracket"><span class="id">a</span></span> for a scalar variable
  of type <span class="bracket"><span class="id">ty</span></span>.  Return the corresponding initialization datum. </div>
<br/>
<span class="vernacular">Definition</span> <span id="transl_init_single" class="id"><a name="transl_init_single" class="">transl_init_single</a></span> (<span id="ce:118" class="id"><a name="ce:118" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="ty:119" class="id"><a name="ty:119" class="">ty:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span id="a:120" class="id"><a name="a:120" class="">a:</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v:121" class="id"><a name="v:121" class="">v</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval_cast">constval_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:118">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#a:120">a</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:119">ty;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v:121">v,</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:119">ty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tint">Tint</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#I8">I8|IBool</a></span>) <span class="id">sg</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_int8">Init_int8</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tint">Tint</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#I16">I16</a></span> <span class="id">sg</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_int16">Init_int16</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tint">Tint</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#I32">I32</a></span> <span class="id">sg</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_int32">Init_int32</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>)<span class="id">;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_int32">Init_int32</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tlong">Tlong</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_int64">Init_int64</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>)<span class="id">;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_int64">Init_int64</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">f,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfloat">Tfloat</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#F32">F32</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_float32">Init_float32</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfloat">Tfloat</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#F64">F64</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_float64">Init_float64</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tint">Tint</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#I32">I32</a></span> <span class="id">sg</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>)<span class="id">;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_addrof">Init_addrof</a></span> <span class="id">id</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tlong">Tlong</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>)<span class="id">;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_addrof">Init_addrof</a></span> <span class="id">id</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tpointer">Tpointer</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span>(<span class="id"><a href="compcert.common.AST.html#Init_addrof">Init_addrof</a></span> <span class="id">id</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span>(<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;undefined operation in initializer&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;type mismatch in initializer&quot;</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Initialize a bitfield <span class="bracket"><span class="id">Bits</span> <span class="id">sz</span> <span class="id">sg</span> <span class="id">p</span> <span class="id">w</span></span> with expression <span class="bracket"><span class="id">a</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="transl_init_bitfield" class="id"><a name="transl_init_bitfield" class="">transl_init_bitfield</a></span> (<span id="ce:124" class="id"><a name="ce:124" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="s:125" class="id"><a name="s:125" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ty:126" class="id"><a name="ty:126" class="">ty:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span id="sz:127" class="id"><a name="sz:127" class="">sz:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#intsize">intsize</a></span>) (<span id="p:128" class="id"><a name="p:128" class="">p</a></span> <span id="w:129" class="id"><a name="w:129" class="">w:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="i:130" class="id"><a name="i:130" class="">i:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer">initializer</a></span>) (<span id="pos:131" class="id"><a name="pos:131" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#i:130">i</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_single">Init_single</a></span> <span class="id">a</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="v:133" class="id"><a name="v:133" class="">v</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#constval_cast">constval_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:124">ce</a></span> <span class="id">a</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:126">ty;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#v:133">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="c:135" class="id"><a name="c:135" class="">c</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#load_int">load_int</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:125">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:131">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:127">sz;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="c':136" class="id"><a name="c':136" class="">c'</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bitfield_insert">Int.bitfield_insert</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#first_bit">first_bit</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:127">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#p:128">p</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#w:129">w</a></span>) <span class="id"><a href="compcert.cfrontend.Initializers.html#w:129">w</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#c:135">c</a></span> <span class="id">n</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#store_int">store_int</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:125">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:131">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#sz:127">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#c':136">c'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;undefined operation in bitfield initializer&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;type mismatch in bitfield initializer&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;bitfield initialized by composite initializer&quot;</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Padding bitfields and bitfields with zero width are not initialized. </div>
<br/>
<span class="vernacular">Definition</span> <span id="member_not_initialized" class="id"><a name="member_not_initialized" class="">member_not_initialized</a></span> (<span id="m:137" class="id"><a name="m:137" class="">m:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#member">member</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#m:137">m</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Member_plain">Member_plain</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Member_bitfield">Member_bitfield</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">w</span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">w</span> <span class="id">0</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">Translate an initializer <span class="bracket"><span class="id">i</span></span> for a variable of type <span class="bracket"><span class="id">ty</span></span>
    and store the corresponding list of initialization data in state <span class="bracket"><span class="id">s</span></span>
    at position <span class="bracket"><span class="id">pos</span></span>.  Return the updated state. </div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="transl_init_rec" class="id"><a name="transl_init_rec" class="">transl_init_rec</a></span> (<span id="ce:139" class="id"><a name="ce:139" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="s:140" class="id"><a name="s:140" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ty:141" class="id"><a name="ty:141" class="">ty:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span id="i:142" class="id"><a name="i:142" class="">i:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer">initializer</a></span>) (<span id="pos:143" class="id"><a name="pos:143" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{struct</span> <span class="id">i}</span> <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#i:142">i,</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:141">ty</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_single">Init_single</a></span> <span class="id">a,</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="d:160" class="id"><a name="d:160" class="">d</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_single">transl_init_single</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:141">ty</a></span> <span class="id">a;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#store_data">store_data</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:140">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:143">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#d:160">d</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_array">Init_array</a></span> <span class="id">il,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tarray">Tarray</a></span> <span class="id">tyelt</span> <span class="id">nelt</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#12216c5245592abf529ce37a686618d9">assertion</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#length_initializer_list">length_initializer_list</a></span> <span class="id">il</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">0</span> <span class="id">nelt</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_array:156">transl_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:140">s</a></span> <span class="id">tyelt</span> <span class="id">il</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:143">pos</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_struct">Init_struct</a></span> <span class="id">il,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="co:161" class="id"><a name="co:161" class="">co</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id">id;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#co:161">co</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_struct:157">transl_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:140">s</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#co:161">co</a></span>) <span class="id">il</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:143">pos</a></span> <span class="id">0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Union">Union</a></span>  <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#MSG">MSG</a></span> <span class="id">&quot;struct/union mismatch on &quot;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Errors.html#CTX">CTX</a></span> <span class="id">id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_union">Init_union</a></span> <span class="id">f</span> <span class="id">i1,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="co:162" class="id"><a name="co:162" class="">co</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id">id;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#co:162">co</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#MSG">MSG</a></span> <span class="id">&quot;union/struct mismatch on &quot;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="compcert.common.Errors.html#CTX">CTX</a></span> <span class="id">id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Union">Union</a></span> <span class="id">=&gt;</span>  <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="ty1:163" class="id"><a name="ty1:163" class="">ty1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#co:162">co</a></span>)<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#d831cce0aa70e7a29495d70e235abad9">do</a></span> (<span id="delta:164" class="id"><a name="delta:164" class="">delta,</a></span> <span id="layout:165" class="id"><a name="layout:165" class="">layout</a></span>) <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#union_field_offset">union_field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#co:162">co</a></span>)<span class="id"><a href="compcert.common.Errors.html#d831cce0aa70e7a29495d70e235abad9">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#layout:165">layout</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Full">Full</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_rec:155">transl_init_rec</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:140">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty1:163">ty1</a></span> <span class="id">i1</span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:143">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#delta:164">delta</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Bits">Bits</a></span> <span class="id">sz</span> <span class="id">sg</span> <span class="id">p</span> <span class="id">w</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_bitfield">transl_init_bitfield</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:139">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:140">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty1:163">ty1</a></span> <span class="id">sz</span> <span class="id">p</span> <span class="id">w</span> <span class="id">i1</span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:143">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#delta:164">delta</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;wrong type for compound initializer&quot;</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
<br/>
<span class="gallina-kwd">with</span> <span id="transl_init_array" class="id"><a name="transl_init_array" class="">transl_init_array</a></span> (<span id="ce:144" class="id"><a name="ce:144" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="s:145" class="id"><a name="s:145" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="tyelt:146" class="id"><a name="tyelt:146" class="">tyelt:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span id="il:147" class="id"><a name="il:147" class="">il:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span>) (<span id="pos:148" class="id"><a name="pos:148" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{struct</span> <span class="id">il}</span> <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:147">il</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:145">s</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_cons">Init_cons</a></span> <span class="id">i1</span> <span class="id">il'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="s1:168" class="id"><a name="s1:168" class="">s1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_rec:155">transl_init_rec</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:144">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:145">s</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#tyelt:146">tyelt</a></span> <span class="id">i1</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:148">pos;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_array:156">transl_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:144">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s1:168">s1</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#tyelt:146">tyelt</a></span> <span class="id">il'</span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#pos:148">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:144">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#tyelt:146">tyelt</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
<br/>
<span class="gallina-kwd">with</span> <span id="transl_init_struct" class="id"><a name="transl_init_struct" class="">transl_init_struct</a></span> (<span id="ce:149" class="id"><a name="ce:149" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="s:150" class="id"><a name="s:150" class="">s:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ms:151" class="id"><a name="ms:151" class="">ms:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#members">members</a></span>) (<span id="il:152" class="id"><a name="il:152" class="">il:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="base:153" class="id"><a name="base:153" class="">base:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="pos:154" class="id"><a name="pos:154" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{struct</span> <span class="id">il}</span> <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#il:152">il</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:150">s</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_cons">Init_cons</a></span> <span class="id">i1</span> <span class="id">il'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="gallina-kwd">fix</span> <span id="init:178" class="id"><a name="init:178" class="">init</a></span> (<span id="ms:170" class="id"><a name="ms:170" class="">ms:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#members">members</a></span>) (<span id="pos:171" class="id"><a name="pos:171" class="">pos:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">{struct</span> <span class="id">ms}</span> <span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#state">state</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ms:170">ms</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> (<span class="id"><a href="compcert.common.Errors.html#msg">msg</a></span> <span class="id">&quot;too many elements in struct initializer&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">ms'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#member_not_initialized">member_not_initialized</a></span> <span class="id">m</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#init:172">init</a></span> <span class="id">ms'</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#next_field">next_field</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:149">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:171">pos</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#d831cce0aa70e7a29495d70e235abad9">do</a></span> (<span id="delta:174" class="id"><a name="delta:174" class="">delta,</a></span> <span id="layout:175" class="id"><a name="layout:175" class="">layout</a></span>) <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#layout_field">layout_field</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:149">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:171">pos</a></span> <span class="id">m;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="s1:177" class="id"><a name="s1:177" class="">s1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#layout:175">layout</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Full">Full</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_rec:155">transl_init_rec</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:149">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:150">s</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_member">type_member</a></span> <span class="id">m</span>) <span class="id">i1</span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#base:153">base</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#delta:174">delta</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Bits">Bits</a></span> <span class="id">sz</span> <span class="id">sg</span> <span class="id">p</span> <span class="id">w</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_bitfield">transl_init_bitfield</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:149">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s:150">s</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_member">type_member</a></span> <span class="id">m</span>) <span class="id">sz</span> <span class="id">p</span> <span class="id">w</span> <span class="id">i1</span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#base:153">base</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#delta:174">delta</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_struct:157">transl_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:149">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s1:177">s1</a></span> <span class="id">ms'</span> <span class="id">il'</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#base:153">base</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#next_field">next_field</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:149">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:171">pos</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#init:178">init</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ms:151">ms</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#pos:154">pos</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div class="doc">The entry point. </div>
<br/>
<span class="vernacular">Definition</span> <span id="transl_init" class="id"><a name="transl_init" class="">transl_init</a></span> (<span id="ce:179" class="id"><a name="ce:179" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>) (<span id="ty:180" class="id"><a name="ty:180" class="">ty:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span id="i:181" class="id"><a name="i:181" class="">i:</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer">initializer</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">:</span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="s0:182" class="id"><a name="s0:182" class="">s0</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#initial_state">initial_state</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:179">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:180">ty</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">do</a></span> <span id="s1:183" class="id"><a name="s1:183" class="">s1</a></span> <span class="id"><a href="compcert.common.Errors.html#31429f277ebd19fb111a24091d40088a">&lt;-</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_rec">transl_init_rec</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ce:179">ce</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s0:182">s0</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#ty:180">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#i:181">i</a></span> <span class="id">0;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#init_data_list_of_state">init_data_list_of_state</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#s1:183">s1</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
