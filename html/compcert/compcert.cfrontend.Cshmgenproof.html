
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Cshmgenproof</title>
<meta name="description" content="Documentation of Coq module Cshmgenproof" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Cshmgenproof</h1>
<br/>
<h1> Correctness of the translation from Clight to C#minor. </h1>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html">Clight</a></span> <span class="id"><a href="compcert.backend.Cminor.html">Cminor</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></span>.<br/>
<br/>
<h1> Relational specification of the transformation </h1>
<br/>
<span class="vernacular">Inductive</span> <span id="match_fundef" class="id"><a name="match_fundef" class="">match_fundef</a></span> (<span id="p:1" class="id"><a name="p:1" class="">p:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.cfrontend.Clight.html#fundef">Clight.fundef</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#fundef">Csharpminor.fundef</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_fundef_internal" class="id"><a name="match_fundef_internal" class="">match_fundef_internal:</a></span> <span class="gallina-kwd">forall</span> <span id="f:4" class="id"><a name="f:4" class="">f</a></span> <span id="tf:5" class="id"><a name="tf:5" class="">tf,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p:1">p</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:4">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:5">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef:2">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p:1">p</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Ctypes.Internal</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:4">f</a></span>) (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:5">tf</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_fundef_external" class="id"><a name="match_fundef_external" class="">match_fundef_external:</a></span> <span class="gallina-kwd">forall</span> <span id="ef:6" class="id"><a name="ef:6" class="">ef</a></span> <span id="args:7" class="id"><a name="args:7" class="">args</a></span> <span id="res:8" class="id"><a name="res:8" class="">res</a></span> <span id="cc:9" class="id"><a name="cc:9" class="">cc,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ef:6">ef</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:7">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:8">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc:9">cc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef:2">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p:1">p</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">Ctypes.External</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ef:6">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:7">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:8">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc:9">cc</a></span>) (<span class="id"><a href="compcert.common.AST.html#External">AST.External</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ef:6">ef</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="match_varinfo" class="id"><a name="match_varinfo" class="">match_varinfo</a></span> (<span id="v:10" class="id"><a name="v:10" class="">v:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span id="tv:11" class="id"><a name="tv:11" class="">tv:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="match_prog" class="id"><a name="match_prog" class="">match_prog</a></span> (<span id="p:12" class="id"><a name="p:12" class="">p:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) (<span id="tp:13" class="id"><a name="tp:13" class="">tp:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#program">Csharpminor.program</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#match_program_gen">match_program_gen</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_varinfo">match_varinfo</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p:12">p</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p:12">p</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tp:13">tp</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transf_program_match" class="id"><a name="transf_program_match" class="">transf_program_match:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:14" class="id"><a name="p:14" class="">p</a></span> <span id="tp:15" class="id"><a name="tp:15" class="">tp,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_program">transl_program</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p:14">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tp:15">tp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p:14">p</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tp:15">tp</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_program">transl_program;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Linking.html#match_transform_partial_program2">match_transform_partial_program2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">f;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
<span class="id">+</span> <span class="id">monadInv</span> <span class="id">H0</span>. <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#signature_eq">signature_eq</a></span> (<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">e</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id">t</span> <span class="id">t0</span> <span class="id">c</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of operations over types </h1>
<br/>
<span class="vernacular">Remark</span> <span id="transl_params_types" class="id"><a name="transl_params_types" class="">transl_params_types:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="params:16" class="id"><a name="params:16" class="">params,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#typ_of_type">typ_of_type</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#params:16">params</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#typlist_of_typelist">typlist_of_typelist</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#params:16">params</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">params;</span> <span class="id">simpl</span>. <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty];</span> <span class="id">simpl</span>. <span class="id">f_equal;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_fundef_sig1" class="id"><a name="transl_fundef_sig1" class="">transl_fundef_sig1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:17" class="id"><a name="ce:17" class="">ce</a></span> <span id="f:18" class="id"><a name="f:18" class="">f</a></span> <span id="tf:19" class="id"><a name="tf:19" class="">tf</a></span> <span id="args:20" class="id"><a name="args:20" class="">args</a></span> <span id="res:21" class="id"><a name="res:21" class="">res</a></span> <span id="cc:22" class="id"><a name="cc:22" class="">cc,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:17">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:18">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:19">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:18">f</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#fun_case_f">fun_case_f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:20">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:21">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc:22">cc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:19">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:20">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:21">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc:22">cc</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H1</span>. <span class="id">simpl</span>. <span class="id">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#signature_of_function">signature_of_function,</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_params_types">transl_params_types</a></span>.<br/>
<span class="id">-</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_fundef_sig2" class="id"><a name="transl_fundef_sig2" class="">transl_fundef_sig2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:23" class="id"><a name="ce:23" class="">ce</a></span> <span id="f:24" class="id"><a name="f:24" class="">f</a></span> <span id="tf:25" class="id"><a name="tf:25" class="">tf</a></span> <span id="args:26" class="id"><a name="args:26" class="">args</a></span> <span id="res:27" class="id"><a name="res:27" class="">res</a></span> <span id="cc:28" class="id"><a name="cc:28" class="">cc,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:23">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:24">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:25">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:24">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:26">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:27">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc:28">cc</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:25">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:26">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:27">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc:28">cc</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_fundef_sig1">transl_fundef_sig1;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_sizeof" class="id"><a name="transl_sizeof" class="">transl_sizeof:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="cunit:29" class="id"><a name="cunit:29" class="">cunit</a></span> <span id="prog:30" class="id"><a name="prog:30" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span id="t:31" class="id"><a name="t:31" class="">t</a></span> <span id="sz:32" class="id"><a name="sz:32" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:29">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:30">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:29">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:31">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:32">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:32">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:30">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:31">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn:C;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_stable">Ctypes.sizeof_stable</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_alignof" class="id"><a name="transl_alignof" class="">transl_alignof:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="cunit:33" class="id"><a name="cunit:33" class="">cunit</a></span> <span id="prog:34" class="id"><a name="prog:34" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span id="t:35" class="id"><a name="t:35" class="">t</a></span> <span id="al:36" class="id"><a name="al:36" class="">al,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:33">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:34">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:33">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:35">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al:36">al</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al:36">al</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">Ctypes.alignof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:34">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:35">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#alignof">alignof</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn:C;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_stable">Ctypes.alignof_stable</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_alignof_blockcopy" class="id"><a name="transl_alignof_blockcopy" class="">transl_alignof_blockcopy:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="cunit:37" class="id"><a name="cunit:37" class="">cunit</a></span> <span id="prog:38" class="id"><a name="prog:38" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span id="t:39" class="id"><a name="t:39" class="">t</a></span> <span id="sz:40" class="id"><a name="sz:40" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:37">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:38">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:37">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:39">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:40">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:40">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:38">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:39">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:37">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:39">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:38">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:39">t</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn:C;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">symmetry</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_stable">Ctypes.sizeof_stable</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">C</span>. <span class="id">induction</span> <span class="id">t;</span> <span class="id">simpl;</span> <span class="id">auto;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>)<span class="id">!i</span> <span class="gallina-kwd">as</span> <span class="id">[co|]</span> <span class="id">eqn:X;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">erewrite</span> <span class="id">H1</span> <span class="gallina-kwd">by</span> <span class="id">eauto;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="union_field_offset_stable" class="id"><a name="union_field_offset_stable" class="">union_field_offset_stable:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="cunit:41" class="id"><a name="cunit:41" class="">cunit</a></span> <span id="prog:42" class="id"><a name="prog:42" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span id="id:43" class="id"><a name="id:43" class="">id</a></span> <span id="co:44" class="id"><a name="co:44" class="">co</a></span> <span id="f:45" class="id"><a name="f:45" class="">f,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:41">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:42">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:41">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:44">co</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:42">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:44">co</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#union_field_offset">union_field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:42">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:45">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:44">co</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#union_field_offset">union_field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:41">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:45">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:44">co</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_consistent">composite_consistent</a></span> <span class="id">cunit</span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id">co</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#build_composite_env_consistent">build_composite_env_consistent</a></span> <span class="gallina-kwd">with</span> <span class="id">cunit</span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span>) <span class="id">id;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[_</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#union_field_offset_stable">Ctypes.union_field_offset_stable</a></span><span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_consistent_complete">co_consistent_complete</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="field_offset_stable" class="id"><a name="field_offset_stable" class="">field_offset_stable:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="cunit:46" class="id"><a name="cunit:46" class="">cunit</a></span> <span id="prog:47" class="id"><a name="prog:47" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span id="id:48" class="id"><a name="id:48" class="">id</a></span> <span id="co:49" class="id"><a name="co:49" class="">co</a></span> <span id="f:50" class="id"><a name="f:50" class="">f,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:46">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:47">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:46">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:49">co</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:47">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:49">co</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog:47">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:50">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:49">co</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:46">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:50">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co:49">co</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">C:</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_consistent">composite_consistent</a></span> <span class="id">cunit</span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id">co</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#build_composite_env_consistent">build_composite_env_consistent</a></span> <span class="gallina-kwd">with</span> <span class="id">cunit</span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span>) <span class="id">id;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[_</span> <span class="id">A]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset_stable">Ctypes.field_offset_stable</a></span><span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_consistent_complete">co_consistent_complete</a></span>.<br/>
Qed.</div>
<br/>
<h1> Properties of the translation functions </h1>
<br/>
<div class="doc">Properties of labeled statements </div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_lbl_stmt_1" class="id"><a name="transl_lbl_stmt_1" class="">transl_lbl_stmt_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:51" class="id"><a name="ce:51" class="">ce</a></span> <span id="tyret:52" class="id"><a name="tyret:52" class="">tyret</a></span> <span id="nbrk:53" class="id"><a name="nbrk:53" class="">nbrk</a></span> <span id="ncnt:54" class="id"><a name="ncnt:54" class="">ncnt</a></span> <span id="n:55" class="id"><a name="n:55" class="">n</a></span> <span id="sl:56" class="id"><a name="sl:56" class="">sl</a></span> <span id="tsl:57" class="id"><a name="tsl:57" class="">tsl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:51">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:52">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:53">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:54">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:56">sl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:57">tsl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:51">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:52">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:53">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:54">ncnt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">Clight.select_switch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:55">n</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:56">sl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch">select_switch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:55">n</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:57">tsl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="gallina-kwd">forall</span> <span id="sl:60" class="id"><span id="sl:58" class="id"><a name="sl:60" class="">sl</a></span></span> <span id="tsl:61" class="id"><span id="tsl:59" class="id"><a name="tsl:61" class="">tsl,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:58">sl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:59">tsl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_default">Clight.select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:58">sl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_default">select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:59">tsl</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">sl;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id">o;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">CASE:</span> <span class="gallina-kwd">forall</span> <span id="sl:65" class="id"><span id="sl:62" class="id"><a name="sl:65" class="">sl</a></span></span> <span id="tsl:66" class="id"><span id="tsl:63" class="id"><a name="tsl:66" class="">tsl,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:62">sl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:63">tsl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">Clight.select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:62">sl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:63">tsl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">sl'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tsl':67" class="id"><span id="tsl':64" class="id"><a name="tsl':67" class="">tsl',</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:63">tsl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl':64">tsl'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">sl'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl':64">tsl'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span> <span class="id">sl;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H;</span> <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id">o</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">z</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHsl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHsl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">specialize</span> (<span class="id">CASE</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">Clight.select_switch</a></span><span class="id">,</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch">select_switch</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">Clight.select_switch_case</a></span> <span class="id">n</span> <span class="id">sl</span>) <span class="gallina-kwd">as</span> <span class="id">[sl'|]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">CASE</span> <span class="gallina-kwd">as</span> <span class="id">[tsl'</span> <span class="id">[P</span> <span class="id">Q]]</span>. <span class="id">rewrite</span> <span class="id">P,</span> <span class="id">Q</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">CASE</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_lbl_stmt_2" class="id"><a name="transl_lbl_stmt_2" class="">transl_lbl_stmt_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:68" class="id"><a name="ce:68" class="">ce</a></span> <span id="tyret:69" class="id"><a name="tyret:69" class="">tyret</a></span> <span id="nbrk:70" class="id"><a name="nbrk:70" class="">nbrk</a></span> <span id="ncnt:71" class="id"><a name="ncnt:71" class="">ncnt</a></span> <span id="sl:72" class="id"><a name="sl:72" class="">sl</a></span> <span id="tsl:73" class="id"><a name="tsl:73" class="">tsl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:68">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:69">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:70">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:71">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:72">sl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:73">tsl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:68">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:69">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:70">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:71">ncnt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl:72">sl</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#seq_of_lbl_stmt">seq_of_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl:73">tsl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">sl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> (<span class="id">IHsl</span> <span class="id">_</span> <span class="id">EQ1</span>). <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Correctness of Csharpminor construction functions </h1>
<br/>
<span class="vernacular">Section</span> <span id="CONSTRUCTORS" class="id"><a name="CONSTRUCTORS" class="">CONSTRUCTORS</a></span>.<br/>
<br/>
<span class="vernacular">Variables</span> <span id="CONSTRUCTORS.cunit" class="id"><a name="CONSTRUCTORS.cunit" class="">cunit</a></span> <span id="CONSTRUCTORS.prog" class="id"><a name="CONSTRUCTORS.prog" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CONSTRUCTORS.LINK" class="id"><a name="CONSTRUCTORS.LINK" class="">LINK:</a></span> <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CONSTRUCTORS.ge" class="id"><a name="CONSTRUCTORS.ge" class="">ge:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#genv">genv</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="make_intconst_correct" class="id"><a name="make_intconst_correct" class="">make_intconst_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:78" class="id"><a name="n:78" class="">n</a></span> <span id="e:79" class="id"><a name="e:79" class="">e</a></span> <span id="le:80" class="id"><a name="le:80" class="">le</a></span> <span id="m:81" class="id"><a name="m:81" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:79">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:80">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:81">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:78">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:78">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span>. <span class="id">econstructor</span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_floatconst_correct" class="id"><a name="make_floatconst_correct" class="">make_floatconst_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:82" class="id"><a name="n:82" class="">n</a></span> <span id="e:83" class="id"><a name="e:83" class="">e</a></span> <span id="le:84" class="id"><a name="le:84" class="">le</a></span> <span id="m:85" class="id"><a name="m:85" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:83">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:84">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:85">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatconst">make_floatconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:82">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:82">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatconst">make_floatconst</a></span>. <span class="id">econstructor</span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_singleconst_correct" class="id"><a name="make_singleconst_correct" class="">make_singleconst_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:86" class="id"><a name="n:86" class="">n</a></span> <span id="e:87" class="id"><a name="e:87" class="">e</a></span> <span id="le:88" class="id"><a name="le:88" class="">le</a></span> <span id="m:89" class="id"><a name="m:89" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:87">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:88">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:89">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleconst">make_singleconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:86">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:86">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleconst">make_singleconst</a></span>. <span class="id">econstructor</span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_longconst_correct" class="id"><a name="make_longconst_correct" class="">make_longconst_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:90" class="id"><a name="n:90" class="">n</a></span> <span id="e:91" class="id"><a name="e:91" class="">e</a></span> <span id="le:92" class="id"><a name="le:92" class="">le</a></span> <span id="m:93" class="id"><a name="m:93" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:91">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:92">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:93">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longconst">make_longconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:90">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:90">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatconst">make_floatconst</a></span>. <span class="id">econstructor</span>. <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_ptrofsconst_correct" class="id"><a name="make_ptrofsconst_correct" class="">make_ptrofsconst_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:94" class="id"><a name="n:94" class="">n</a></span> <span id="e:95" class="id"><a name="e:95" class="">e</a></span> <span id="le:96" class="id"><a name="le:96" class="">le</a></span> <span id="m:97" class="id"><a name="m:97" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:95">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:96">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:97">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_ptrofsconst">make_ptrofsconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:94">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:94">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_ptrofsconst">make_ptrofsconst</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF</span>.<br/>
<span class="id">-</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">-</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_singleoffloat_correct" class="id"><a name="make_singleoffloat_correct" class="">make_singleoffloat_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:98" class="id"><a name="a:98" class="">a</a></span> <span id="n:99" class="id"><a name="n:99" class="">n</a></span> <span id="e:100" class="id"><a name="e:100" class="">e</a></span> <span id="le:101" class="id"><a name="le:101" class="">le</a></span> <span id="m:102" class="id"><a name="m:102" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:100">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:101">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:102">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:98">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:99">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:100">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:101">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:102">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleoffloat">make_singleoffloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:98">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:99">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_floatofsingle_correct" class="id"><a name="make_floatofsingle_correct" class="">make_floatofsingle_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:103" class="id"><a name="a:103" class="">a</a></span> <span id="n:104" class="id"><a name="n:104" class="">n</a></span> <span id="e:105" class="id"><a name="e:105" class="">e</a></span> <span id="le:106" class="id"><a name="le:106" class="">le</a></span> <span id="m:107" class="id"><a name="m:107" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:105">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:106">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:107">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:103">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:104">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:105">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:106">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:107">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatofsingle">make_floatofsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:103">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:104">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_floatofint_correct" class="id"><a name="make_floatofint_correct" class="">make_floatofint_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:108" class="id"><a name="a:108" class="">a</a></span> <span id="n:109" class="id"><a name="n:109" class="">n</a></span> <span id="sg:110" class="id"><a name="sg:110" class="">sg</a></span> <span id="e:111" class="id"><a name="e:111" class="">e</a></span> <span id="le:112" class="id"><a name="le:112" class="">le</a></span> <span id="m:113" class="id"><a name="m:113" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:111">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:112">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:113">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:108">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:109">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:111">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:112">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:113">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatofint">make_floatofint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:108">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sg:110">sg</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_float">cast_int_float</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sg:110">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:109">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatofint">make_floatofint,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_float">cast_int_float</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">sg;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">make_intconst_correct</span> <span class="id">make_floatconst_correct</span> <span class="id">make_longconst_correct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_singleconst_correct</span> <span class="id">make_singleoffloat_correct</span> <span class="id">make_floatofsingle_correct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_floatofint_correct:</span> <span class="id">cshm</span>.<br/>
<span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#eval_exprlist">eval_exprlist:</a></span> <span class="id">cshm</span>.<br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">traceEq:</span> <span class="id">cshm</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="make_cmpu_ne_zero_correct" class="id"><a name="make_cmpu_ne_zero_correct" class="">make_cmpu_ne_zero_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:114" class="id"><a name="e:114" class="">e</a></span> <span id="le:115" class="id"><a name="le:115" class="">le</a></span> <span id="m:116" class="id"><a name="m:116" class="">m</a></span> <span id="a:117" class="id"><a name="a:117" class="">a</a></span> <span id="n:118" class="id"><a name="n:118" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:114">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:115">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:116">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:117">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:118">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:114">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:115">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:116">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmpu_ne_zero">make_cmpu_ne_zero</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:117">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:118">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Ocmpu">Ocmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span>) <span class="id">a</span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.cmpu">Int.cmpu</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">CMP:</span> <span class="gallina-kwd">forall</span> <span id="ob:120" class="id"><span id="ob:119" class="id"><a name="ob:120" class="">ob,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ob:119">ob</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">ob;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_false">Int.eq_false</a></span>. <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one_not_zero">Int.one_not_zero</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpl">Val.cmpl</a></span> <span class="gallina-kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">inv</span> <span class="id">H6;</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H6</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span> <span class="gallina-kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">inv</span> <span class="id">H6;</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_cmpu_ne_zero_correct_ptr" class="id"><a name="make_cmpu_ne_zero_correct_ptr" class="">make_cmpu_ne_zero_correct_ptr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:121" class="id"><a name="e:121" class="">e</a></span> <span id="le:122" class="id"><a name="le:122" class="">le</a></span> <span id="m:123" class="id"><a name="m:123" class="">m</a></span> <span id="a:124" class="id"><a name="a:124" class="">a</a></span> <span id="b:125" class="id"><a name="b:125" class="">b</a></span> <span id="i:126" class="id"><a name="i:126" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:121">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:122">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:123">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:124">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:125">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:126">i</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:123">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:125">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:126">i</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:121">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:122">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:123">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmpu_ne_zero">make_cmpu_ne_zero</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:124">a</a></span>) <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Ocmpu">Ocmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span>) <span class="id">a</span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)) <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id">H0,</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_true">Int.eq_true</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">OF_OPTBOOL:</span> <span class="gallina-kwd">forall</span> <span id="ob:128" class="id"><span id="ob:127" class="id"><a name="ob:128" class="">ob,</a></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ob:127">ob</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">ob</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">discriminate</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">OF_BOOL:</span> <span class="gallina-kwd">forall</span> <span id="ob:130" class="id"><span id="ob:129" class="id"><a name="ob:130" class="">ob,</a></span></span> <span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.common.Values.html#Val.of_bool">Val.of_bool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ob:129">ob</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">ob</span> <span class="gallina-kwd">as</span> <span class="id">[[]|];</span> <span class="id">discriminate</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">b0;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eelim</span> <span class="id">OF_OPTBOOL;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eelim</span> <span class="id">OF_OPTBOOL;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eelim</span> <span class="id">OF_OPTBOOL;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eelim</span> <span class="id">OF_OPTBOOL;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eelim</span> <span class="id">OF_BOOL;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eelim</span> <span class="id">OF_BOOL;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_cast_int_correct" class="id"><a name="make_cast_int_correct" class="">make_cast_int_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:131" class="id"><a name="e:131" class="">e</a></span> <span id="le:132" class="id"><a name="le:132" class="">le</a></span> <span id="m:133" class="id"><a name="m:133" class="">m</a></span> <span id="a:134" class="id"><a name="a:134" class="">a</a></span> <span id="n:135" class="id"><a name="n:135" class="">n</a></span> <span id="sz:136" class="id"><a name="sz:136" class="">sz</a></span> <span id="si:137" class="id"><a name="si:137" class="">si,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:131">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:132">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:133">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:134">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:135">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:131">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:132">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:133">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast_int">make_cast_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:134">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:136">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:137">si</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_int">cast_int_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:136">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:137">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:135">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast_int">make_cast_int,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_int">cast_int_int</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">sz</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_longofint_correct" class="id"><a name="make_longofint_correct" class="">make_longofint_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:138" class="id"><a name="e:138" class="">e</a></span> <span id="le:139" class="id"><a name="le:139" class="">le</a></span> <span id="m:140" class="id"><a name="m:140" class="">m</a></span> <span id="a:141" class="id"><a name="a:141" class="">a</a></span> <span id="n:142" class="id"><a name="n:142" class="">n</a></span> <span id="si:143" class="id"><a name="si:143" class="">si,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:138">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:139">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:140">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:141">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:142">n</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:138">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:139">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:140">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:141">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:143">si</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:143">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n:142">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span>. <span class="id">destruct</span> <span class="id">si;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">make_cast_int_correct</span> <span class="id">make_longofint_correct:</span> <span class="id">cshm</span>.<br/>
<br/>
<span class="vernacular">Ltac</span> <span class="id">InvEval</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span> <span class="id">discriminate</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">InvEval</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id">?x</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span> <span class="id">destruct</span> <span class="id">x</span> <span class="id">eqn:?;</span> <span class="id">InvEval</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">[</span> <span class="id">H:</span> <span class="gallina-kwd">match</span> <span class="id">?x</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">]</span> <span class="id">=&gt;</span> <span class="id">destruct</span> <span class="id">x</span> <span class="id">eqn:?;</span> <span class="id">InvEval</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="make_cast_correct" class="id"><a name="make_cast_correct" class="">make_cast_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:144" class="id"><a name="e:144" class="">e</a></span> <span id="le:145" class="id"><a name="le:145" class="">le</a></span> <span id="m:146" class="id"><a name="m:146" class="">m</a></span> <span id="a:147" class="id"><a name="a:147" class="">a</a></span> <span id="b:148" class="id"><a name="b:148" class="">b</a></span> <span id="v:149" class="id"><a name="v:149" class="">v</a></span> <span id="ty1:150" class="id"><a name="ty1:150" class="">ty1</a></span> <span id="ty2:151" class="id"><a name="ty2:151" class="">ty2</a></span> <span id="v':152" class="id"><a name="v':152" class="">v',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast">make_cast</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty1:150">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty2:151">ty2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:147">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:148">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:144">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:145">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:146">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:147">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:149">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:149">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty1:150">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty2:151">ty2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:146">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v':152">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:144">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:145">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:146">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:148">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v':152">v'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast">make_cast,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_cast">classify_cast</a></span> <span class="id">ty1</span> <span class="id">ty2</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">InvEval;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleofint">make_singleofint,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_float">cast_int_float</a></span>. <span class="id">destruct</span> <span class="id">si1;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_int_correct">make_cast_int_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_float_int">cast_float_int</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqo</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intoffloat">make_intoffloat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si2;</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">Heqo;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_int_correct">make_cast_int_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_single_int">cast_single_int</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqo</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intofsingle">make_intofsingle</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si2;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">Heqo;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatoflong">make_floatoflong,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_long_float">cast_long_float</a></span>. <span class="id">destruct</span> <span class="id">si1;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleoflong">make_singleoflong,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_long_single">cast_long_single</a></span>. <span class="id">destruct</span> <span class="id">si1;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_float_long">cast_float_long</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqo</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longoffloat">make_longoffloat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si2;</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">Heqo;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_single_long">cast_single_long</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqo</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofsingle">make_longofsingle</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">si2;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">Heqo;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;pointer&nbsp;(32&nbsp;bits)&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.cmpu">Int64.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;pointer&nbsp;(64&nbsp;bits)&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqb1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Heqb0,</span> <span class="id">Heqb1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf">Val.cmpf</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp_ne_eq">Float.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float.zero">Float.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs">Val.cmpfs</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp_ne_eq">Float32.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.zero">Float32.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_boolean_correct" class="id"><a name="make_boolean_correct" class="">make_boolean_correct:</a></span><br/>
&nbsp;<span class="gallina-kwd">forall</span> <span id="e:153" class="id"><a name="e:153" class="">e</a></span> <span id="le:154" class="id"><a name="le:154" class="">le</a></span> <span id="m:155" class="id"><a name="m:155" class="">m</a></span> <span id="a:156" class="id"><a name="a:156" class="">a</a></span> <span id="v:157" class="id"><a name="v:157" class="">v</a></span> <span id="ty:158" class="id"><a name="ty:158" class="">ty</a></span> <span id="b:159" class="id"><a name="b:159" class="">b,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:153">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:154">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:155">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:156">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:157">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:157">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:158">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:155">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:159">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="vb:160" class="id"><a name="vb:160" class="">vb,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:153">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:154">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:155">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_boolean">make_boolean</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:156">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:158">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:160">vb</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.common.Values.html#Val.bool_of_val">Val.bool_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:160">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:159">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_boolean">make_boolean</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_bool">classify_bool</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">n</span> <span class="id">:=</span> <span class="id">i</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ptr&nbsp;32&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="compcert.common.Values.html#Vone">Vone;</a></span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr;</a></span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span>. <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">simpl;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ptr&nbsp;64&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="compcert.common.Values.html#Vone">Vone;</a></span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="gallina-kwd">in</span> <span class="id">Heqb0</span>. <span class="id">rewrite</span> <span class="id">Heqb0,</span> <span class="id">Heqb1,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf">Val.cmpf</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp_ne_eq">Float.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float.zero">Float.zero</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs">Val.cmpfs</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp_ne_eq">Float32.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.zero">Float32.zero</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_neg_correct" class="id"><a name="make_neg_correct" class="">make_neg_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:161" class="id"><a name="a:161" class="">a</a></span> <span id="tya:162" class="id"><a name="tya:162" class="">tya</a></span> <span id="c:163" class="id"><a name="c:163" class="">c</a></span> <span id="va:164" class="id"><a name="va:164" class="">va</a></span> <span id="v:165" class="id"><a name="v:165" class="">v</a></span> <span id="e:166" class="id"><a name="e:166" class="">e</a></span> <span id="le:167" class="id"><a name="le:167" class="">le</a></span> <span id="m:168" class="id"><a name="m:168" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_neg">sem_neg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:164">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:162">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:165">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_neg">make_neg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:161">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:162">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:163">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:166">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:167">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:168">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:161">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:164">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:166">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:167">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:168">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:163">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:165">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_neg">sem_neg,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_neg">make_neg;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">MAKE;</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_absfloat_correct" class="id"><a name="make_absfloat_correct" class="">make_absfloat_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:169" class="id"><a name="a:169" class="">a</a></span> <span id="tya:170" class="id"><a name="tya:170" class="">tya</a></span> <span id="c:171" class="id"><a name="c:171" class="">c</a></span> <span id="va:172" class="id"><a name="va:172" class="">va</a></span> <span id="v:173" class="id"><a name="v:173" class="">v</a></span> <span id="e:174" class="id"><a name="e:174" class="">e</a></span> <span id="le:175" class="id"><a name="le:175" class="">le</a></span> <span id="m:176" class="id"><a name="m:176" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_absfloat">sem_absfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:172">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:170">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:173">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_absfloat">make_absfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:169">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:170">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:171">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:174">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:175">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:176">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:169">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:172">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:174">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:175">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:176">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:171">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:173">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_absfloat">sem_absfloat,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_absfloat">make_absfloat;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">MAKE;</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatoflong">make_floatoflong,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_long_float">cast_long_float</a></span>. <span class="id">destruct</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor;</span> <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor;</span> <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_notbool_correct" class="id"><a name="make_notbool_correct" class="">make_notbool_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:177" class="id"><a name="a:177" class="">a</a></span> <span id="tya:178" class="id"><a name="tya:178" class="">tya</a></span> <span id="c:179" class="id"><a name="c:179" class="">c</a></span> <span id="va:180" class="id"><a name="va:180" class="">va</a></span> <span id="v:181" class="id"><a name="v:181" class="">v</a></span> <span id="e:182" class="id"><a name="e:182" class="">e</a></span> <span id="le:183" class="id"><a name="le:183" class="">le</a></span> <span id="m:184" class="id"><a name="m:184" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_notbool">sem_notbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:180">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:178">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:184">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:181">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notbool">make_notbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:177">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:178">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:179">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:182">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:183">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:184">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:177">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:180">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:182">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:183">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:184">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:179">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:181">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_notbool">sem_notbool,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notbool">make_notbool;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_bool">classify_bool</a></span> <span class="id">tya</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">MAKE;</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">SEM;</span> <span class="id">InvEval</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.cmpu">Int.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn:V;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="gallina-kwd">in</span> <span class="id">V</span>. <span class="id">rewrite</span> <span class="id">SF,</span> <span class="id">V,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.cmpu">Int64.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn:V;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="gallina-kwd">in</span> <span class="id">V</span>. <span class="id">rewrite</span> <span class="id">SF,</span> <span class="id">V,</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf">Val.cmpf</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float.zero">Float.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs">Val.cmpfs</a></span><span class="id">,</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.zero">Float32.zero</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_notint_correct" class="id"><a name="make_notint_correct" class="">make_notint_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:185" class="id"><a name="a:185" class="">a</a></span> <span id="tya:186" class="id"><a name="tya:186" class="">tya</a></span> <span id="c:187" class="id"><a name="c:187" class="">c</a></span> <span id="va:188" class="id"><a name="va:188" class="">va</a></span> <span id="v:189" class="id"><a name="v:189" class="">v</a></span> <span id="e:190" class="id"><a name="e:190" class="">e</a></span> <span id="le:191" class="id"><a name="le:191" class="">le</a></span> <span id="m:192" class="id"><a name="m:192" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_notint">sem_notint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:188">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:186">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:189">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notint">make_notint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:185">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:186">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:187">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:190">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:191">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:192">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:185">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:188">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:190">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:191">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:192">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:187">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:189">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_notint">sem_notint,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notint">make_notint;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_notint">classify_notint</a></span> <span class="id">tya</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">MAKE;</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="binary_constructor_correct" class="id"><a name="binary_constructor_correct" class="">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="make:193" class="id"><a name="make:193" class="">make:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="sem:194" class="id"><a name="sem:194" class="">sem:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:195" class="id"><a name="a:195" class="">a</a></span> <span id="tya:196" class="id"><a name="tya:196" class="">tya</a></span> <span id="b:197" class="id"><a name="b:197" class="">b</a></span> <span id="tyb:198" class="id"><a name="tyb:198" class="">tyb</a></span> <span id="c:199" class="id"><a name="c:199" class="">c</a></span> <span id="va:200" class="id"><a name="va:200" class="">va</a></span> <span id="vb:201" class="id"><a name="vb:201" class="">vb</a></span> <span id="v:202" class="id"><a name="v:202" class="">v</a></span> <span id="e:203" class="id"><a name="e:203" class="">e</a></span> <span id="le:204" class="id"><a name="le:204" class="">le</a></span> <span id="m:205" class="id"><a name="m:205" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sem:194">sem</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:200">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:196">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:201">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb:198">tyb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:205">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:202">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make:193">make</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:195">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:196">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:197">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb:198">tyb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:199">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:203">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:204">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:205">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:195">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:200">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:203">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:204">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:205">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:197">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:201">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:203">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:204">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:205">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:199">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:202">v</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="shift_constructor_correct" class="id"><a name="shift_constructor_correct" class="">shift_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="make:206" class="id"><a name="make:206" class="">make:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="sem:207" class="id"><a name="sem:207" class="">sem:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:208" class="id"><a name="a:208" class="">a</a></span> <span id="tya:209" class="id"><a name="tya:209" class="">tya</a></span> <span id="b:210" class="id"><a name="b:210" class="">b</a></span> <span id="tyb:211" class="id"><a name="tyb:211" class="">tyb</a></span> <span id="c:212" class="id"><a name="c:212" class="">c</a></span> <span id="va:213" class="id"><a name="va:213" class="">va</a></span> <span id="vb:214" class="id"><a name="vb:214" class="">vb</a></span> <span id="v:215" class="id"><a name="v:215" class="">v</a></span> <span id="e:216" class="id"><a name="e:216" class="">e</a></span> <span id="le:217" class="id"><a name="le:217" class="">le</a></span> <span id="m:218" class="id"><a name="m:218" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sem:207">sem</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:213">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:209">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:214">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb:211">tyb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:215">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make:206">make</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:208">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:209">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:210">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb:211">tyb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:212">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:216">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:217">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:218">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:208">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:213">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:216">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:217">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:218">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:210">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:214">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:216">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:217">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:218">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:212">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:215">v</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="CONSTRUCTORS.MAKE_BIN" class="id"><a name="CONSTRUCTORS.MAKE_BIN" class="">MAKE_BIN</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="CONSTRUCTORS.MAKE_BIN.sem_int" class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_int" class="">sem_int:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signedness">signedness</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CONSTRUCTORS.MAKE_BIN.sem_long" class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_long" class="">sem_long:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signedness">signedness</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CONSTRUCTORS.MAKE_BIN.sem_float" class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_float" class="">sem_float:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CONSTRUCTORS.MAKE_BIN.sem_single" class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_single" class="">sem_single:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="CONSTRUCTORS.MAKE_BIN.iop" class="id"><a name="CONSTRUCTORS.MAKE_BIN.iop" class="">iop</a></span> <span id="CONSTRUCTORS.MAKE_BIN.iopu" class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopu" class="">iopu</a></span> <span id="CONSTRUCTORS.MAKE_BIN.fop" class="id"><a name="CONSTRUCTORS.MAKE_BIN.fop" class="">fop</a></span> <span id="CONSTRUCTORS.MAKE_BIN.sop" class="id"><a name="CONSTRUCTORS.MAKE_BIN.sop" class="">sop</a></span> <span id="CONSTRUCTORS.MAKE_BIN.lop" class="id"><a name="CONSTRUCTORS.MAKE_BIN.lop" class="">lop</a></span> <span id="CONSTRUCTORS.MAKE_BIN.lopu" class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopu" class="">lopu:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#binary_operation">binary_operation</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="CONSTRUCTORS.MAKE_BIN.iop_ok" class="id"><a name="CONSTRUCTORS.MAKE_BIN.iop_ok" class="">iop_ok:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:229" class="id"><a name="x:229" class="">x</a></span> <span id="y:230" class="id"><a name="y:230" class="">y</a></span> <span id="m:231" class="id"><a name="m:231" class="">m,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:229">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:230">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:231">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Signed">Signed</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:229">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:230">y</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CONSTRUCTORS.MAKE_BIN.iopu_ok" class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopu_ok" class="">iopu_ok:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:233" class="id"><a name="x:233" class="">x</a></span> <span id="y:234" class="id"><a name="y:234" class="">y</a></span> <span id="m:235" class="id"><a name="m:235" class="">m,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:233">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:234">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:235">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Unsigned">Unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:233">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:234">y</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CONSTRUCTORS.MAKE_BIN.lop_ok" class="id"><a name="CONSTRUCTORS.MAKE_BIN.lop_ok" class="">lop_ok:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:237" class="id"><a name="x:237" class="">x</a></span> <span id="y:238" class="id"><a name="y:238" class="">y</a></span> <span id="m:239" class="id"><a name="m:239" class="">m,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:237">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:238">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:239">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Signed">Signed</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:237">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:238">y</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CONSTRUCTORS.MAKE_BIN.lopu_ok" class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopu_ok" class="">lopu_ok:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:241" class="id"><a name="x:241" class="">x</a></span> <span id="y:242" class="id"><a name="y:242" class="">y</a></span> <span id="m:243" class="id"><a name="m:243" class="">m,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:241">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:242">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:243">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Unsigned">Unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:241">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:242">y</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CONSTRUCTORS.MAKE_BIN.fop_ok" class="id"><a name="CONSTRUCTORS.MAKE_BIN.fop_ok" class="">fop_ok:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:245" class="id"><a name="x:245" class="">x</a></span> <span id="y:246" class="id"><a name="y:246" class="">y</a></span> <span id="m:247" class="id"><a name="m:247" class="">m,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:245">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:246">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:247">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:245">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:246">y</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CONSTRUCTORS.MAKE_BIN.sop_ok" class="id"><a name="CONSTRUCTORS.MAKE_BIN.sop_ok" class="">sop_ok:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:249" class="id"><a name="x:249" class="">x</a></span> <span id="y:250" class="id"><a name="y:250" class="">y</a></span> <span id="m:251" class="id"><a name="m:251" class="">m,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:249">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:250">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:251">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:249">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:250">y</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="make_binarith_correct" class="id"><a name="make_binarith_correct" class="">make_binarith_correct:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith">make_binarith</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith">make_binarith,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith;</a></span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">cls</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cop.html#classify_binarith">classify_binarith</a></span> <span class="id">tya</span> <span class="id">tyb</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ty</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cop.html#binarith_type">binarith_type</a></span> <span class="id">cls</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">va</span> <span class="id">tya</span> <span class="id">ty</span> <span class="id">m</span>) <span class="gallina-kwd">as</span> <span class="id">[va'|]</span> <span class="id">eqn:Ca;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">vb</span> <span class="id">tyb</span> <span class="id">ty</span> <span class="id">m</span>) <span class="gallina-kwd">as</span> <span class="id">[vb'|]</span> <span class="id">eqn:Cb;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EV1'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ1</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EV2'</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">cls;</span> <span class="id">inv</span> <span class="id">EQ2;</span> <span class="id">destruct</span> <span class="id">va';</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">destruct</span> <span class="id">vb';</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop_ok">iop_ok;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu_ok">iopu_ok;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop_ok">lop_ok;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu_ok">lopu_ok;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">erewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.fop_ok">fop_ok</a></span> <span class="gallina-kwd">in</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
<span class="id">-</span> <span class="id">erewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sop_ok">sop_ok</a></span> <span class="gallina-kwd">in</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_binarith_int_correct" class="id"><a name="make_binarith_int_correct" class="">make_binarith_int_correct:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith_int">make_binarith_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> (<span class="gallina-kwd">fun</span> <span id="x:253" class="id"><a name="x:253" class="">x</a></span> <span id="y:254" class="id"><a name="y:254" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) (<span class="gallina-kwd">fun</span> <span id="x:255" class="id"><a name="x:255" class="">x</a></span> <span id="y:256" class="id"><a name="y:256" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith_int">make_binarith_int,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith;</a></span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">cls</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cop.html#classify_binarith">classify_binarith</a></span> <span class="id">tya</span> <span class="id">tyb</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">ty</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cop.html#binarith_type">binarith_type</a></span> <span class="id">cls</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">va</span> <span class="id">tya</span> <span class="id">ty</span> <span class="id">m</span>) <span class="gallina-kwd">as</span> <span class="id">[va'|]</span> <span class="id">eqn:Ca;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">vb</span> <span class="id">tyb</span> <span class="id">ty</span> <span class="id">m</span>) <span class="gallina-kwd">as</span> <span class="id">[vb'|]</span> <span class="id">eqn:Cb;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EV1'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ1</span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EV2'</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">cls;</span> <span class="id">inv</span> <span class="id">EQ2;</span> <span class="id">destruct</span> <span class="id">va';</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">destruct</span> <span class="id">vb';</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop_ok">iop_ok;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu_ok">iopu_ok;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop_ok">lop_ok;</a></span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu_ok">lopu_ok;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN">MAKE_BIN</a></span>.<br/>
<br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> (<span class="id">simpl;</span> <span class="id">reflexivity</span>) <span class="id">:</span> <span class="id">cshm</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="make_add_correct" class="id"><a name="make_add_correct" class="">make_add_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add">make_add</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)) (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_add">sem_add</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="ty:268" class="id"><span id="ty:257" class="id"><a name="ty:268" class="">ty</a></span></span> <span id="si:269" class="id"><span id="si:258" class="id"><a name="si:269" class="">si</a></span></span> <span id="a:270" class="id"><span id="a:259" class="id"><a name="a:270" class="">a</a></span></span> <span id="b:271" class="id"><span id="b:260" class="id"><a name="b:271" class="">b</a></span></span> <span id="c:272" class="id"><span id="c:261" class="id"><a name="c:272" class="">c</a></span></span> <span id="e:273" class="id"><span id="e:262" class="id"><a name="e:273" class="">e</a></span></span> <span id="le:274" class="id"><span id="le:263" class="id"><a name="le:274" class="">le</a></span></span> <span id="m:275" class="id"><span id="m:264" class="id"><a name="m:275" class="">m</a></span></span> <span id="va:276" class="id"><span id="va:265" class="id"><a name="va:276" class="">va</a></span></span> <span id="vb:277" class="id"><span id="vb:266" class="id"><a name="vb:277" class="">vb</a></span></span> <span id="v:278" class="id"><span id="v:267" class="id"><a name="v:278" class="">v,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_int">make_add_ptr_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:257">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:258">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:259">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:260">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:261">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:262">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:263">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:264">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:259">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:265">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:262">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:263">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:264">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:260">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:266">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:257">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:258">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:265">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:266">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:267">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:262">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:263">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:264">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:261">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:267">v</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_int">make_add_ptr_int,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_int">sem_add_ptr_int;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">v;</span> <span class="id">intros</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">SEM;</span> <span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">inv</span> <span class="id">EQ0;</span> <span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">Ptrofs.agree64</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span> <span class="id">si</span> <span class="id">i0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">si;</span> <span class="id">simpl;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">Ptrofs.agree64_repr</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) <span class="id">i0</span>) <span class="gallina-kwd">by</span> (<span class="id">destruct</span> <span class="id">si;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">B:</span> <span class="gallina-kwd">forall</span> <span id="ty:289" class="id"><span id="ty:279" class="id"><a name="ty:289" class="">ty</a></span></span> <span id="a:290" class="id"><span id="a:280" class="id"><a name="a:290" class="">a</a></span></span> <span id="b:291" class="id"><span id="b:281" class="id"><a name="b:291" class="">b</a></span></span> <span id="c:292" class="id"><span id="c:282" class="id"><a name="c:292" class="">c</a></span></span> <span id="e:293" class="id"><span id="e:283" class="id"><a name="e:293" class="">e</a></span></span> <span id="le:294" class="id"><span id="le:284" class="id"><a name="le:294" class="">le</a></span></span> <span id="m:295" class="id"><span id="m:285" class="id"><a name="m:295" class="">m</a></span></span> <span id="va:296" class="id"><span id="va:286" class="id"><a name="va:296" class="">va</a></span></span> <span id="vb:297" class="id"><span id="vb:287" class="id"><a name="vb:297" class="">vb</a></span></span> <span id="v:298" class="id"><span id="v:288" class="id"><a name="v:298" class="">v,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_long">make_add_ptr_long</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:279">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:280">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:281">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:282">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:283">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:284">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:285">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:280">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:286">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:283">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:284">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:285">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:281">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:287">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:279">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:286">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:287">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:288">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:283">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:284">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:285">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:282">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:288">v</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_long">make_add_ptr_long,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_long">sem_add_ptr_long;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">v;</span> <span class="id">intros</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">SEM;</span> <span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">inv</span> <span class="id">EQ0;</span> <span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i0</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i0</span>)) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">Ptrofs.agree32_repr</a></span><span class="id">;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add">make_add,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_add">sem_add;</a></span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_add">classify_add</a></span> <span class="id">tya</span> <span class="id">tyb</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct;</a></span> <span class="id">eauto;</span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_sub_correct" class="id"><a name="make_sub_correct" class="">make_sub_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_sub">make_sub</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)) (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_sub">sem_sub</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_sub">make_sub,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_sub">sem_sub;</a></span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_sub">classify_sub</a></span> <span class="id">tya</span> <span class="id">tyb</span>)<span class="id">;</span> <span class="id">try</span> (<span class="id">monadInv</span> <span class="id">MAKE</span>).<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">inv</span> <span class="id">EQ0;</span> <span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
<span class="id">+</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">Ptrofs.agree64</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span> <span class="id">si</span> <span class="id">i0</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">si;</span> <span class="id">simpl;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">Ptrofs.agree64_repr</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) <span class="id">i0</span>) <span class="gallina-kwd">by</span> (<span class="id">destruct</span> <span class="id">si;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>) <span class="gallina-kwd">in</span> <span class="id">EQ0</span>. <span class="id">clear</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">sz</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>) <span class="id">ty</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b0</span> <span class="id">b1</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">0</span> <span class="id">sz</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">sz</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>)<span class="id">;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">SEM;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E1:</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">sz</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed_repr">Ptrofs.signed_repr</a></span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.min_signed_neg">Ptrofs.min_signed_neg</a></span><span class="id">;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">inversion</span> <span class="id">EQ0;</span> <span class="id">clear</span> <span class="id">EQ0;</span> <span class="id">subst</span> <span class="id">c</span>.<br/>
<span class="id">+</span> <span class="id">assert</span> (<span class="id">E:</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">sz</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed_neg">Int64.min_signed_neg</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">Ptrofs.half_modulus</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">Ptrofs.modulus_eq64</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">reflexivity</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">SF,</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_zero">Int64.signed_zero</a></span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_mone">Int64.signed_mone</a></span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r;</a></span> <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs;</a></span> <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">symmetry</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">+</span> <span class="id">assert</span> (<span class="id">E:</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">sz</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_repr">Int.signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed_neg">Int.min_signed_neg</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">Ptrofs.half_modulus</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">Ptrofs.modulus</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.wordsize">Ptrofs.wordsize</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">rewrite</span> <span class="id">SF,</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_zero">Int.signed_zero</a></span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_mone">Int.signed_mone</a></span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r;</a></span> <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs;</a></span> <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF;</span> <span class="id">inv</span> <span class="id">EQ0;</span> <span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
<span class="id">+</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">inv</span> <span class="id">SEM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i0</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i0</span>)) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">Ptrofs.agree32_repr</a></span><span class="id">;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct;</a></span> <span class="id">eauto;</span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_mul_correct" class="id"><a name="make_mul_correct" class="">make_mul_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_mul">make_mul</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_mul">sem_mul</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct;</a></span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_div_correct" class="id"><a name="make_div_correct" class="">make_div_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_div">make_div</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_div">sem_div</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct;</a></span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_mod_correct" class="id"><a name="make_mod_correct" class="">make_mod_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_mod">make_mod</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_mod">sem_mod</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct;</a></span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_and_correct" class="id"><a name="make_and_correct" class="">make_and_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_and">make_and</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_and">sem_and</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct;</a></span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_or_correct" class="id"><a name="make_or_correct" class="">make_or_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_or">make_or</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_or">sem_or</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct;</a></span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_xor_correct" class="id"><a name="make_xor_correct" class="">make_xor_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_xor">make_xor</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_xor">sem_xor</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct;</a></span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Ltac</span> <span class="id">comput</span> <span class="id">val</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id">x</span> <span class="id">:=</span> <span class="id">fresh</span> <span class="gallina-kwd">in</span> <span class="id">set</span> <span class="id">val</span> <span class="gallina-kwd">as</span> <span class="id">x</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">vm_compute</span> <span class="gallina-kwd">in</span> <span class="id">x;</span> <span class="id">subst</span> <span class="id">x</span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="small_shift_amount_1" class="id"><a name="small_shift_amount_1" class="">small_shift_amount_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:299" class="id"><a name="i:299" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:299">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:299">i</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:299">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:299">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu_inv">Int64.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">comput</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="small_shift_amount_2" class="id"><a name="small_shift_amount_2" class="">small_shift_amount_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:300" class="id"><a name="i:300" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:300">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">32</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:300">i</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu_inv">Int64.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">32</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">comput</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="small_shift_amount_3" class="id"><a name="small_shift_amount_3" class="">small_shift_amount_3:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:301" class="id"><a name="i:301" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:301">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:301">i</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:301">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="id">comput</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_shl_correct" class="id"><a name="make_shl_correct" class="">make_shl_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#shift_constructor_correct">shift_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shl">make_shl</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shl">sem_shl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shl">make_shl,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shl">sem_shl,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shift">sem_shift;</a></span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_shift">classify_shift</a></span> <span class="id">tya</span> <span class="id">tyb</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">MAKE;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">va;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_1">small_shift_amount_1;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal;</span> <span class="id">f_equal</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">Int64.shl</a></span><span class="id">',</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">Int64.shl</a></span>. <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">32</span>)) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_2">small_shift_amount_2;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">Int64.shl</a></span><span class="id">',</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">Int64.shl</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_3">small_shift_amount_3;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_shr_correct" class="id"><a name="make_shr_correct" class="">make_shr_correct:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#shift_constructor_correct">shift_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shr">make_shr</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shr">sem_shr</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shr">make_shr,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shr">sem_shr,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shift">sem_shift;</a></span><br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_shift">classify_shift</a></span> <span class="id">tya</span> <span class="id">tyb</span>)<span class="id">;</span> <span class="id">inv</span> <span class="id">MAKE;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">va;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_1">small_shift_amount_1;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">A;</span><br/>
&nbsp;&nbsp;<span class="id">f_equal;</span> <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">Int64.shr</a></span><span class="id">',</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">Int64.shr</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">Int64.shru</a></span><span class="id">',</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">32</span>)) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_2">small_shift_amount_2;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">s;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">Int64.shr</a></span><span class="id">',</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">Int64.shr</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_3">small_shift_amount_3;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">Int64.shru</a></span><span class="id">',</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span><span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_3">small_shift_amount_3;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_cmp_ptr_correct" class="id"><a name="make_cmp_ptr_correct" class="">make_cmp_ptr_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cmp:302" class="id"><a name="cmp:302" class="">cmp</a></span> <span id="e:303" class="id"><a name="e:303" class="">e</a></span> <span id="le:304" class="id"><a name="le:304" class="">le</a></span> <span id="m:305" class="id"><a name="m:305" class="">m</a></span> <span id="a:306" class="id"><a name="a:306" class="">a</a></span> <span id="va:307" class="id"><a name="va:307" class="">va</a></span> <span id="b:308" class="id"><a name="b:308" class="">b</a></span> <span id="vb:309" class="id"><a name="vb:309" class="">vb</a></span> <span id="v:310" class="id"><a name="v:310" class="">v,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#cmp_ptr">cmp_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:305">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp:302">cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:307">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:309">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:310">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:303">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:304">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:305">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:306">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:307">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:303">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:304">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:305">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:308">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:309">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:303">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:304">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:305">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp_ptr">make_cmp_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp:302">cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:306">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:308">b</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:310">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cmp_ptr">cmp_ptr,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp_ptr">make_cmp_ptr;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id">cmp</span> <span class="id">va</span> <span class="id">vb</span>) <span class="gallina-kwd">as</span> <span class="id">[bo|];</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="make_ptrofs_of_int_correct" class="id"><a name="make_ptrofs_of_int_correct" class="">make_ptrofs_of_int_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:311" class="id"><a name="e:311" class="">e</a></span> <span id="le:312" class="id"><a name="le:312" class="">le</a></span> <span id="m:313" class="id"><a name="m:313" class="">m</a></span> <span id="a:314" class="id"><a name="a:314" class="">a</a></span> <span id="i:315" class="id"><a name="i:315" class="">i</a></span> <span id="si:316" class="id"><a name="si:316" class="">si,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:311">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:312">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:313">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:314">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:315">i</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:311">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:312">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:313">m</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:314">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:316">si</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:314">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si:316">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:315">i</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs,</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint</a></span>. <span class="id">destruct</span> <span class="id">si</span>.<br/>
<span class="id">+</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">Ptrofs.of_ints</a></span> <span class="id">i</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">Int64.eqm_samerepr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm64">Ptrofs.eqm64</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
<span class="id">+</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_intu">Ptrofs.of_intu</a></span> <span class="id">i</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">Int64.eqm_samerepr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm64">Ptrofs.eqm64</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">si</span>.<br/>
<span class="id">+</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">Ptrofs.of_ints</a></span> <span class="id">i</span>)) <span class="gallina-kwd">with</span> <span class="id">i</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">+</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_intu">Ptrofs.of_intu</a></span> <span class="id">i</span>)) <span class="gallina-kwd">with</span> <span class="id">i</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="make_ptrofs_of_int64_correct" class="id"><a name="make_ptrofs_of_int64_correct" class="">make_ptrofs_of_int64_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:317" class="id"><a name="e:317" class="">e</a></span> <span id="le:318" class="id"><a name="le:318" class="">le</a></span> <span id="m:319" class="id"><a name="m:319" class="">m</a></span> <span id="a:320" class="id"><a name="a:320" class="">a</a></span> <span id="i:321" class="id"><a name="i:321" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:317">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:318">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:319">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:320">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:321">i</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:317">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:318">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:319">m</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:320">a</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Eunop">Eunop</a></span> <span class="id"><a href="compcert.backend.Cminor.html#Ointoflong">Ointoflong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:320">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i:321">i</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF</span>.<br/>
<span class="id">-</span> <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i</span>)) <span class="gallina-kwd">with</span> <span class="id">i</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">-</span> <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm32">Ptrofs.eqm32</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_cmp_correct" class="id"><a name="make_cmp_correct" class="">make_cmp_correct:</a></span> <span class="gallina-kwd">forall</span> <span id="cmp:322" class="id"><a name="cmp:322" class="">cmp,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp">make_cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp:322">cmp</a></span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cmp">sem_cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp:322">cmp</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cmp">sem_cmp,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp">make_cmp;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_cmp">classify_cmp</a></span> <span class="id">tya</span> <span class="id">tyb</span>).<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">MAKE</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">MAKE</span>. <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">InvEval;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">MAKE</span>. <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">MAKE</span>. <span class="id">destruct</span> <span class="id">vb;</span> <span class="id">InvEval;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">MAKE</span>. <span class="id">destruct</span> <span class="id">va;</span> <span class="id">InvEval;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct;</a></span> <span class="id">eauto;</span> <span class="id">intros;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_unop_correct" class="id"><a name="transl_unop_correct" class="">transl_unop_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="op:323" class="id"><a name="op:323" class="">op</a></span> <span id="a:324" class="id"><a name="a:324" class="">a</a></span> <span id="tya:325" class="id"><a name="tya:325" class="">tya</a></span> <span id="c:326" class="id"><a name="c:326" class="">c</a></span> <span id="va:327" class="id"><a name="va:327" class="">va</a></span> <span id="v:328" class="id"><a name="v:328" class="">v</a></span> <span id="e:329" class="id"><a name="e:329" class="">e</a></span> <span id="le:330" class="id"><a name="le:330" class="">le</a></span> <span id="m:331" class="id"><a name="m:331" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_unop">transl_unop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op:323">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:324">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:325">tya</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:326">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op:323">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:327">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:325">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:331">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:328">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:329">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:330">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:331">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:324">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:327">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:329">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:330">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:331">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:326">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:328">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">op;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_notbool_correct">make_notbool_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_notint_correct">make_notint_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_neg_correct">make_neg_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_absfloat_correct">make_absfloat_correct;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_binop_correct" class="id"><a name="transl_binop_correct" class="">transl_binop_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="op:332" class="id"><a name="op:332" class="">op</a></span> <span id="a:333" class="id"><a name="a:333" class="">a</a></span> <span id="tya:334" class="id"><a name="tya:334" class="">tya</a></span> <span id="b:335" class="id"><a name="b:335" class="">b</a></span> <span id="tyb:336" class="id"><a name="tyb:336" class="">tyb</a></span> <span id="c:337" class="id"><a name="c:337" class="">c</a></span> <span id="va:338" class="id"><a name="va:338" class="">va</a></span> <span id="vb:339" class="id"><a name="vb:339" class="">vb</a></span> <span id="v:340" class="id"><a name="v:340" class="">v</a></span> <span id="e:341" class="id"><a name="e:341" class="">e</a></span> <span id="le:342" class="id"><a name="le:342" class="">le</a></span> <span id="m:343" class="id"><a name="m:343" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_binop">transl_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op:332">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:333">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:334">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:335">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb:336">tyb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:337">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op:332">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:338">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya:334">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:339">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb:336">tyb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:343">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:340">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:341">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:342">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:343">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:333">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va:338">va</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:341">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:342">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:343">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:335">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb:339">vb</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:341">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:342">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:343">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c:337">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:340">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">op;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_add_correct">make_add_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_sub_correct">make_sub_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_mul_correct">make_mul_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_div_correct">make_div_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_mod_correct">make_mod_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_and_correct">make_and_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_or_correct">make_or_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_xor_correct">make_xor_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_shl_correct">make_shl_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_shr_correct">make_shr_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="int_ltu_true" class="id"><a name="int_ltu_true" class="">int_ltu_true:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:344" class="id"><a name="x:344" class="">x,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:344">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:344">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> (<span class="id">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span><span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="first_bit_range" class="id"><a name="first_bit_range" class="">first_bit_range:</a></span> <span class="gallina-kwd">forall</span> <span id="sz:345" class="id"><a name="sz:345" class="">sz</a></span> <span id="pos:346" class="id"><a name="pos:346" class="">pos</a></span> <span id="width:347" class="id"><a name="width:347" class="">width,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#pos:346">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#width:347">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#pos:346">pos</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#width:347">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#bitsize_carrier">bitsize_carrier</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:345">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#first_bit">first_bit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:345">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#pos:346">pos</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#width:347">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#first_bit">first_bit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:345">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#pos:346">pos</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#width:347">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#width:347">width</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bitsize_carrier">bitsize_carrier</a></span> <span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="gallina-kwd">by</span> (<span class="id">destruct</span> <span class="id">sz;</span> <span class="id">compute;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#first_bit">first_bit;</a></span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_load_correct" class="id"><a name="make_load_correct" class="">make_load_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="addr:348" class="id"><a name="addr:348" class="">addr</a></span> <span id="ty:349" class="id"><a name="ty:349" class="">ty</a></span> <span id="bf:350" class="id"><a name="bf:350" class="">bf</a></span> <span id="code:351" class="id"><a name="code:351" class="">code</a></span> <span id="b:352" class="id"><a name="b:352" class="">b</a></span> <span id="ofs:353" class="id"><a name="ofs:353" class="">ofs</a></span> <span id="v:354" class="id"><a name="v:354" class="">v</a></span> <span id="e:355" class="id"><a name="e:355" class="">e</a></span> <span id="le:356" class="id"><a name="le:356" class="">le</a></span> <span id="m:357" class="id"><a name="m:357" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_load">make_load</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr:348">addr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:349">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:350">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code:351">code</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:355">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:356">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:357">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr:348">addr</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:352">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:353">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:349">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:357">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:352">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:353">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:350">bf</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:354">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:355">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:356">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:357">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code:351">code</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:354">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_load">make_load;</a></span> <span class="id">intros</span> <span class="id">until</span> <span class="id">m;</span> <span class="id">intros</span> <span class="id">MKLOAD</span> <span class="id">EVEXP</span> <span class="id">DEREF</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">DEREF</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;scalar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Eload">eval_Eload</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;reference&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;copy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;bitfield&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_extract_bitfield">make_extract_bitfield</a></span> <span class="gallina-kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bitfield_extract">bitfield_extract</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#first_bit_range">first_bit_range</a></span> <span class="id">sz</span> <span class="id">pos</span> <span class="id">width</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">intros</span> <span class="id">[A1</span> <span class="id">A2]</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">amount1</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#first_bit">first_bit</a></span> <span class="id">sz</span> <span class="id">pos</span> <span class="id">width</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">width</span>)) <span class="gallina-kwd">in</span> <span class="id">MKLOAD</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">amount2</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">width</span>)) <span class="gallina-kwd">in</span> <span class="id">MKLOAD</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id">pos</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">0</span> <span class="id">width</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">pos</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">width</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#bitsize_carrier">bitsize_carrier</a></span> <span class="id">sz</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">MKLOAD</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">e1</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Eload">Eload</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#chunk_for_carrier">chunk_for_carrier</a></span> <span class="id">sz</span>) <span class="id">addr</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E1:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">e1</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">c</span>)) <span class="gallina-kwd">by</span> (<span class="id">econstructor;</span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">e2</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Ebinop">Ebinop</a></span> <span class="id"><a href="compcert.backend.Cminor.html#Oshl">Oshl</a></span> <span class="id">e1</span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span> <span class="id">amount1</span>)).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E2:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">e2</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id">c</span> <span class="id">amount1</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>. <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id">amount1</span> <span class="gallina-kwd">at</span> <span class="id">1;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#int_ltu_true">int_ltu_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>. <span class="id">}</span> <br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#intsize_eq">Ctypes.intsize_eq</a></span> <span class="id">sz</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#IBool">IBool</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signedness_eq">Ctypes.signedness_eq</a></span> <span class="id">sg</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Unsigned">Unsigned</a></span>)<span class="id">;</span> <span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">unfold</span> <span class="id">amount2</span> <span class="gallina-kwd">at</span> <span class="id">1;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#int_ltu_true">int_ltu_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_bitfield_extract_by_shifts">Int.unsigned_bitfield_extract_by_shifts</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">unfold</span> <span class="id">amount2</span> <span class="gallina-kwd">at</span> <span class="id">1;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#int_ltu_true">int_ltu_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_bitfield_extract_by_shifts">Int.signed_bitfield_extract_by_shifts</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_store_bitfield_correct" class="id"><a name="make_store_bitfield_correct" class="">make_store_bitfield_correct:</a></span> <br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:358" class="id"><a name="f:358" class="">f</a></span> <span id="sz:359" class="id"><a name="sz:359" class="">sz</a></span> <span id="sg:360" class="id"><a name="sg:360" class="">sg</a></span> <span id="pos:361" class="id"><a name="pos:361" class="">pos</a></span> <span id="width:362" class="id"><a name="width:362" class="">width</a></span> <span id="dst:363" class="id"><a name="dst:363" class="">dst</a></span> <span id="src:364" class="id"><a name="src:364" class="">src</a></span> <span id="ty:365" class="id"><a name="ty:365" class="">ty</a></span> <span id="k:366" class="id"><a name="k:366" class="">k</a></span> <span id="e:367" class="id"><a name="e:367" class="">e</a></span> <span id="le:368" class="id"><a name="le:368" class="">le</a></span> <span id="m:369" class="id"><a name="m:369" class="">m</a></span> <span id="b:370" class="id"><a name="b:370" class="">b</a></span> <span id="ofs:371" class="id"><a name="ofs:371" class="">ofs</a></span> <span id="v:372" class="id"><a name="v:372" class="">v</a></span> <span id="m':373" class="id"><a name="m':373" class="">m'</a></span> <span id="s:374" class="id"><a name="s:374" class="">s,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:367">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:368">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:369">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#dst:363">dst</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:370">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:371">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:367">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:368">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:369">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#src:364">src</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:372">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:365">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:369">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:370">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:371">ofs</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Bits">Bits</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:359">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sg:360">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#pos:361">pos</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#width:362">width</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:372">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':373">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store_bitfield">make_store_bitfield</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:359">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sg:360">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#pos:361">pos</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#width:362">width</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#dst:363">dst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#src:364">src</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:374">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:358">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:374">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:366">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:367">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:368">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:369">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:358">f</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:366">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:367">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:368">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':373">m'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">s;</span> <span class="id">intros</span> <span class="id">DST</span> <span class="id">SRC</span> <span class="id">ASG</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ASG</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store_bitfield">make_store_bitfield</a></span> <span class="gallina-kwd">in</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id">pos</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">0</span> <span class="id">width</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">pos</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">width</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#bitsize_carrier">bitsize_carrier</a></span> <span class="id">sz</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#first_bit_range">first_bit_range</a></span> <span class="id">sz</span> <span class="id">pos</span> <span class="id">width</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">intros</span> <span class="id">[A1</span> <span class="id">A2]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bitfield_insert_alternative">Int.bitfield_insert_alternative</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">amount</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cop.html#first_bit">first_bit</a></span> <span class="id">sz</span> <span class="id">pos</span> <span class="id">width</span>).<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">mask</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">width</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">amount</span>)).<br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">cbn</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#int_ltu_true">int_ltu_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>. <br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_memcpy_correct" class="id"><a name="make_memcpy_correct" class="">make_memcpy_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:375" class="id"><a name="f:375" class="">f</a></span> <span id="dst:376" class="id"><a name="dst:376" class="">dst</a></span> <span id="src:377" class="id"><a name="src:377" class="">src</a></span> <span id="ty:378" class="id"><a name="ty:378" class="">ty</a></span> <span id="k:379" class="id"><a name="k:379" class="">k</a></span> <span id="e:380" class="id"><a name="e:380" class="">e</a></span> <span id="le:381" class="id"><a name="le:381" class="">le</a></span> <span id="m:382" class="id"><a name="m:382" class="">m</a></span> <span id="b:383" class="id"><a name="b:383" class="">b</a></span> <span id="ofs:384" class="id"><a name="ofs:384" class="">ofs</a></span> <span id="v:385" class="id"><a name="v:385" class="">v</a></span> <span id="m':386" class="id"><a name="m':386" class="">m'</a></span> <span id="s:387" class="id"><a name="s:387" class="">s,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:380">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:381">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:382">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#dst:376">dst</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:383">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:384">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:380">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:381">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:382">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#src:377">src</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:385">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:378">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:382">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:383">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:384">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Full">Full</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:385">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':386">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:378">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_copy">By_copy</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_memcpy">make_memcpy</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#dst:376">dst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#src:377">src</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:378">ty</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:387">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:375">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:387">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:379">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:380">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:381">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:382">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:375">f</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:379">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:380">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:381">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':386">m'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H1;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_alignof_blockcopy">transl_alignof_blockcopy</a></span>. <span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">rewrite</span> <span class="id">A,</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id">le</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.Cminor.html#set_optvar">set_optvar</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id">le</span>) <span class="gallina-kwd">at</span> <span class="id">2</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">econstructor</span>. <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy_1248">alignof_blockcopy_1248</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_pos">sizeof_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_alignof_blockcopy_compat">sizeof_alignof_blockcopy_compat</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_store_correct" class="id"><a name="make_store_correct" class="">make_store_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="addr:388" class="id"><a name="addr:388" class="">addr</a></span> <span id="ty:389" class="id"><a name="ty:389" class="">ty</a></span> <span id="bf:390" class="id"><a name="bf:390" class="">bf</a></span> <span id="rhs:391" class="id"><a name="rhs:391" class="">rhs</a></span> <span id="code:392" class="id"><a name="code:392" class="">code</a></span> <span id="e:393" class="id"><a name="e:393" class="">e</a></span> <span id="le:394" class="id"><a name="le:394" class="">le</a></span> <span id="m:395" class="id"><a name="m:395" class="">m</a></span> <span id="b:396" class="id"><a name="b:396" class="">b</a></span> <span id="ofs:397" class="id"><a name="ofs:397" class="">ofs</a></span> <span id="v:398" class="id"><a name="v:398" class="">v</a></span> <span id="m':399" class="id"><a name="m':399" class="">m'</a></span> <span id="f:400" class="id"><a name="f:400" class="">f</a></span> <span id="k:401" class="id"><a name="k:401" class="">k,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr:388">addr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:389">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:390">bf</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#rhs:391">rhs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code:392">code</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:393">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:394">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:395">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr:388">addr</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:396">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:397">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:393">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:394">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:395">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#rhs:391">rhs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:398">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:389">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:395">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:396">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:397">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:390">bf</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:398">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':399">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:400">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code:392">code</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:401">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:393">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:394">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:395">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:400">f</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:401">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:393">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:394">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':399">m'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store</a></span>. <span class="id">intros</span> <span class="id">until</span> <span class="id">k;</span> <span class="id">intros</span> <span class="id">MKSTORE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">ASSIGN</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">ASSIGN;</span> <span class="id">subst</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;nonvolatile&nbsp;scalar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">MKSTORE;</span> <span class="id">inv</span> <span class="id">MKSTORE</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;by&nbsp;copy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">MKSTORE</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_memcpy_correct">make_memcpy_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">b</span> <span class="id">:=</span> <span class="id">b</span>) (<span class="id">v</span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b'</span> <span class="id">ofs'</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;bitfield&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_store_bitfield_correct">make_store_bitfield_correct;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="make_normalization_correct" class="id"><a name="make_normalization_correct" class="">make_normalization_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:402" class="id"><a name="e:402" class="">e</a></span> <span id="le:403" class="id"><a name="le:403" class="">le</a></span> <span id="m:404" class="id"><a name="m:404" class="">m</a></span> <span id="a:405" class="id"><a name="a:405" class="">a</a></span> <span id="v:406" class="id"><a name="v:406" class="">v</a></span> <span id="t:407" class="id"><a name="t:407" class="">t,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:402">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:403">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:404">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:405">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:406">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_val">wt_val</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:406">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:407">t</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:402">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:403">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:404">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_normalization">make_normalization</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:407">t</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:405">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:406">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">t;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">i;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">simpl;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">simpl;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">simpl;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>. <br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> <span class="id">s;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS">CONSTRUCTORS</a></span>.<br/>
<br/>
<h1> Basic preservation invariants </h1>
<br/>
<span class="vernacular">Section</span> <span id="CORRECTNESS" class="id"><a name="CORRECTNESS" class="">CORRECTNESS</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.prog" class="id"><a name="CORRECTNESS.prog" class="">prog:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.tprog" class="id"><a name="CORRECTNESS.tprog" class="">tprog:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#program">Csharpminor.program</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CORRECTNESS.TRANSL" class="id"><a name="CORRECTNESS.TRANSL" class="">TRANSL:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="CORRECTNESS.ge" class="id"><a name="CORRECTNESS.ge" class="">ge</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="vernacular">Let</span> <span id="CORRECTNESS.tge" class="id"><a name="CORRECTNESS.tge" class="">tge</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="symbols_preserved" class="id"><a name="symbols_preserved" class="">symbols_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:411" class="id"><a name="s:411" class="">s,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:411">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:411">s</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_match">Genv.find_symbol_match</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="senv_preserved" class="id"><a name="senv_preserved" class="">senv_preserved:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.senv_match">Genv.senv_match</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="function_ptr_translated" class="id"><a name="function_ptr_translated" class="">function_ptr_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:412" class="id"><a name="v:412" class="">v</a></span> <span id="f:413" class="id"><a name="f:413" class="">f,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:412">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:413">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="cu:414" class="id"><a name="cu:414" class="">cu</a></span> <span id="tf:415" class="id"><a name="tf:415" class="">tf,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:412">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:415">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:414">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:413">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:415">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:414">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_match">Genv.find_funct_ptr_match</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="functions_translated" class="id"><a name="functions_translated" class="">functions_translated:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:416" class="id"><a name="v:416" class="">v</a></span> <span id="f:417" class="id"><a name="f:417" class="">f,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:416">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:417">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="cu:418" class="id"><a name="cu:418" class="">cu</a></span> <span id="tf:419" class="id"><a name="tf:419" class="">tf,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:416">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:419">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:418">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:417">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:419">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:418">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_match">Genv.find_funct_match</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span>).<br/>
<br/>
<h1> Matching between environments </h1>
<br/>
<div class="doc">In this section, we define a matching relation between
  a Clight local environment and a Csharpminor local environment. </div>
<br/>
<span class="vernacular">Record</span> <span id="match_env" class="id"><a name="match_env" class="">match_env</a></span> (<span id="e:420" class="id"><a name="e:420" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">Clight.env</a></span>) (<span id="te:421" class="id"><a name="te:421" class="">te:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">mk_match_env</span> <span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_local" class="id"><a name="me_local" class="">me_local:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:423" class="id"><a name="id:423" class="">id</a></span> <span id="b:424" class="id"><a name="b:424" class="">b</a></span> <span id="ty:425" class="id"><a name="ty:425" class="">ty,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:420">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:424">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:425">ty</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:421">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:424">b,</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:425">ty</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="me_local_inv" class="id"><a name="me_local_inv" class="">me_local_inv:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="id:427" class="id"><a name="id:427" class="">id</a></span> <span id="b:428" class="id"><a name="b:428" class="">b</a></span> <span id="sz:429" class="id"><a name="sz:429" class="">sz,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:421">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:428">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz:429">sz</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">exists</span> <span id="ty:430" class="id"><a name="ty:430" class="">ty,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:420">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:428">b,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty:430">ty</a></span>)<br/>
&nbsp;&nbsp;<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_globals" class="id"><a name="match_env_globals" class="">match_env_globals:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:432" class="id"><a name="e:432" class="">e</a></span> <span id="te:433" class="id"><a name="te:433" class="">te</a></span> <span id="id:434" class="id"><a name="id:434" class="">id,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:432">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:433">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:432">e!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:433">te!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">te!id</span>) <span class="gallina-kwd">as</span> <span class="id">[[b</span> <span class="id">sz]</span> <span class="id">|</span> <span class="id">]</span> <span class="id">eqn:?;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local_inv">me_local_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ty</span> <span class="id">EQ]</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_same_blocks" class="id"><a name="match_env_same_blocks" class="">match_env_same_blocks:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:435" class="id"><a name="e:435" class="">e</a></span> <span id="te:436" class="id"><a name="te:436" class="">te,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:435">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:436">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:436">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">Clight.blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:435">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">R</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="x:441" class="id"><span id="x:437" class="id"><a name="x:441" class="">x:</a></span></span> (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) (<span id="y:442" class="id"><span id="y:438" class="id"><a name="y:442" class="">y:</a></span></span> (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x:437">x,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y:438">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> (<span class="id">b1,</span> <span class="id">ty</span>)<span class="id">,</span> (<span class="id">b2,</span> <span class="id">sz</span>) <span class="id">=&gt;</span> <span class="id">b2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="i_x:447" class="id"><span id="i_x:445" class="id"><a name="i_x:447" class="">i_x</a></span></span> <span id="i_y:448" class="id"><span id="i_y:446" class="id"><a name="i_y:448" class="">i_y</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_x:445">i_x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_y:446">i_y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">R</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_x:445">i_x</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_y:446">i_y</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">te</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_canonical_order">PTree.elements_canonical_order</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">id</span> <span class="id">[b</span> <span class="id">ty]</span> <span class="id">GET</span>. <span class="gallina-kwd">exists</span> (<span class="id">b,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local;</a></span> <span class="id">eauto</span>. <span class="id">red;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">id</span> <span class="id">[b</span> <span class="id">sz]</span> <span class="id">GET</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local_inv">me_local_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[ty</span> <span class="id">EQ]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">b,</span> <span class="id">ty</span>)<span class="id">;</span> <span class="id">split</span>. <span class="id">auto</span>. <span class="id">red;</span> <span class="id">split;</span> <span class="id">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">Clight.blocks_of_env</a></span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H0</span>. <span class="id">induction</span> <span class="id">1</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">f_equal;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#block_of_binding">block_of_binding,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">Clight.block_of_binding</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a1</span> <span class="gallina-kwd">as</span> <span class="id">[id1</span> <span class="id">[blk1</span> <span class="id">ty1]]</span>. <span class="id">destruct</span> <span class="id">b1</span> <span class="gallina-kwd">as</span> <span class="id">[id2</span> <span class="id">[blk2</span> <span class="id">sz2]]</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>. <span class="id">destruct</span> <span class="id">H1</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_free_blocks" class="id"><a name="match_env_free_blocks" class="">match_env_free_blocks:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:449" class="id"><a name="e:449" class="">e</a></span> <span id="te:450" class="id"><a name="te:450" class="">te</a></span> <span id="m:451" class="id"><a name="m:451" class="">m</a></span> <span id="m':452" class="id"><a name="m':452" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:449">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:450">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:451">m</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">Clight.blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:449">e</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':452">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:451">m</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:450">te</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m':452">m'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_same_blocks">match_env_same_blocks</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_empty" class="id"><a name="match_env_empty" class="">match_env_empty:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">Clight.empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#empty_env">Csharpminor.empty_env</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">Clight.empty_env</a></span><span class="id">,</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#empty_env">Csharpminor.empty_env</a></span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">ty</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">sz</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The following lemmas establish the <span class="bracket"><span class="id">match_env</span></span> invariant at
  the beginning of a function invocation, after allocation of
  local variables and initialization of the parameters. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_env_alloc_variables" class="id"><a name="match_env_alloc_variables" class="">match_env_alloc_variables:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="cunit:453" class="id"><a name="cunit:453" class="">cunit,</a></span> <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:453">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e1:454" class="id"><a name="e1:454" class="">e1</a></span> <span id="m1:455" class="id"><a name="m1:455" class="">m1</a></span> <span id="vars:456" class="id"><a name="vars:456" class="">vars</a></span> <span id="e2:457" class="id"><a name="e2:457" class="">e2</a></span> <span id="m2:458" class="id"><a name="m2:458" class="">m2,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">Clight.alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e1:454">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m1:455">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars:456">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e2:457">e2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m2:458">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tvars:459" class="id"><a name="tvars:459" class="">tvars</a></span> <span id="te1:460" class="id"><a name="te1:460" class="">te1,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#mmap">mmap</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_var">transl_var</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit:453">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars:456">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars:459">tvars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e1:454">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te1:460">te1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="te2:461" class="id"><a name="te2:461" class="">te2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#alloc_variables">Csharpminor.alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te1:460">te1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m1:455">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars:459">tvars</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te2:461">te2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m2:458">m2</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e2:457">e2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te2:461">te2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">2;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="gallina-kwd">exists</span> <span class="id">te1;</span> <span class="id">split</span>. <span class="id">constructor</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H2</span>. <span class="id">monadInv</span> <span class="id">EQ</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">SZ;</span> <span class="id">rewrite</span> <span class="id">SZ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHalloc_variables</span> <span class="id">x0</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id">b1,</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id">ty</span>) <span class="id">te1</span>)).<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;me_local&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">ty0</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">intros</span>. <span class="id">congruence</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;me_local_inv&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">sz</span>. <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>)<span class="id">;</span> <span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id">ty;</span> <span class="id">congruence</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local_inv">me_local_inv;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[te2</span> <span class="id">[ALLOC</span> <span class="id">MENV]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">te2;</span> <span class="id">split</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="create_undef_temps_match" class="id"><a name="create_undef_temps_match" class="">create_undef_temps_match:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="temps:462" class="id"><a name="temps:462" class="">temps,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#create_undef_temps">create_undef_temps</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#temps:462">temps</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">Clight.create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#temps:462">temps</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">temps;</span> <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty]</span>. <span class="id">simpl</span>. <span class="id">decEq</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bind_parameter_temps_match" class="id"><a name="bind_parameter_temps_match" class="">bind_parameter_temps_match:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vars:463" class="id"><a name="vars:463" class="">vars</a></span> <span id="vals:464" class="id"><a name="vals:464" class="">vals</a></span> <span id="le1:465" class="id"><a name="le1:465" class="">le1</a></span> <span id="le2:466" class="id"><a name="le2:466" class="">le2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameter_temps">Clight.bind_parameter_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars:463">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vals:464">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le1:465">le1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le2:466">le2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#bind_parameters">bind_parameters</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars:463">vars</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vals:464">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le1:465">le1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le2:466">le2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">vars;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">vals;</span> <span class="id">inv</span> <span class="id">H</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">a</span> <span class="gallina-kwd">as</span> <span class="id">[id</span> <span class="id">ty]</span>. <span class="id">destruct</span> <span class="id">vals;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_vars_names" class="id"><a name="transl_vars_names" class="">transl_vars_names:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:467" class="id"><a name="ce:467" class="">ce</a></span> <span id="vars:468" class="id"><a name="vars:468" class="">vars</a></span> <span id="tvars:469" class="id"><a name="tvars:469" class="">tvars,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#mmap">mmap</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_var">transl_var</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:467">ce</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars:468">vars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars:469">tvars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars:469">tvars</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars:468">vars</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Errors.html#mmap_inversion">mmap_inversion;</a></span> <span class="id">eauto</span>. <span class="id">generalize</span> <span class="id">vars</span> <span class="id">tvars</span>. <span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">monadInv</span> <span class="id">H0</span>. <span class="id">simpl;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<h1> Proof of semantic preservation </h1>
<br/>
<h2> Semantic preservation for expressions </h2>
<br/>
<div class="doc">The proof of semantic preservation for the translation of expressions
  relies on simulation diagrams of the following form:
<pre>
         e, le, m, a ------------------- te, le, m, ta
            |                                |
            |                                |
            |                                |
            v                                v
         e, le, m, v ------------------- te, le, m, v</pre>
  Left: evaluation of r-value expression <span class="bracket"><span class="id">a</span></span> in Clight.
  Right: evaluation of its translation <span class="bracket"><span class="id">ta</span></span> in Csharpminor.
  Top (precondition): matching between environments <span class="bracket"><span class="id">e</span></span>, <span class="bracket"><span class="id">te</span></span>,
    plus well-typedness of expression <span class="bracket"><span class="id">a</span></span>.
  Bottom (postcondition): the result values <span class="bracket"><span class="id">v</span></span>
    are identical in both evaluations.
  We state these diagrams as the following properties, parameterized
  by the Clight evaluation. </div>
<br/>
<span class="vernacular">Section</span> <span id="CORRECTNESS.EXPR" class="id"><a name="CORRECTNESS.EXPR" class="">EXPR</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.EXPR.cunit" class="id"><a name="CORRECTNESS.EXPR.cunit" class="">cunit:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CORRECTNESS.EXPR.LINK" class="id"><a name="CORRECTNESS.EXPR.LINK" class="">LINK:</a></span> <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.EXPR.e" class="id"><a name="CORRECTNESS.EXPR.e" class="">e:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#env">Clight.env</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.EXPR.le" class="id"><a name="CORRECTNESS.EXPR.le" class="">le:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#temp_env">temp_env</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.EXPR.m" class="id"><a name="CORRECTNESS.EXPR.m" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.EXPR.te" class="id"><a name="CORRECTNESS.EXPR.te" class="">te:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="CORRECTNESS.EXPR.MENV" class="id"><a name="CORRECTNESS.EXPR.MENV" class="">MENV:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.te">te</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_expr_lvalue" class="id"><a name="transl_expr_lvalue" class="">transl_expr_lvalue:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:477" class="id"><a name="a:477" class="">a</a></span> <span id="loc:478" class="id"><a name="loc:478" class="">loc</a></span> <span id="ofs:479" class="id"><a name="ofs:479" class="">ofs</a></span> <span id="bf:480" class="id"><a name="bf:480" class="">bf</a></span> <span id="ta:481" class="id"><a name="ta:481" class="">ta,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:477">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#loc:478">loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:479">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:480">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_expr">transl_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:477">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:481">ta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="tb:482" class="id"><a name="tb:482" class="">tb,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lvalue">transl_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:477">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tb:482">tb,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:480">bf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_load">make_load</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tb:482">tb</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:477">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:480">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:481">ta</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">ta;</span> <span class="id">intros</span> <span class="id">EVAL</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">EVAL;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">TR</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;var&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Eaddrof">Eaddrof</a></span> <span class="id">id</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;var&nbsp;global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Eaddrof">Eaddrof</a></span> <span class="id">id</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">cbn;</span> <span class="id">rewrite</span> <span class="id">EQ</span>. <span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">x1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">bf</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">EQ1</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_field_access">make_field_access</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> ((<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>)<span class="id">!id</span>) <span class="gallina-kwd">as</span> <span class="id">[co'|]</span> <span class="id">eqn:E;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#field_offset_stable">field_offset_stable</a></span>. <span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.LINK">LINK</a></span>. <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">i</span>). <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1,</span> <span class="id">H2</span>. <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x0;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">x1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">bf</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">EQ1</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_field_access">make_field_access</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> ((<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>)<span class="id">!id</span>) <span class="gallina-kwd">as</span> <span class="id">[co'|]</span> <span class="id">eqn:E;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#union_field_offset_stable">union_field_offset_stable</a></span>. <span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.LINK">LINK</a></span>. <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">i</span>). <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1,</span> <span class="id">H2</span>. <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x0;</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_expr_lvalue_correct" class="id"><a name="transl_expr_lvalue_correct" class="">transl_expr_lvalue_correct:</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="a:483" class="id"><a name="a:483" class="">a</a></span> <span id="v:484" class="id"><a name="v:484" class="">v,</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:483">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:484">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ta:485" class="id"><a name="ta:485" class="">ta</a></span> (<span id="TR:486" class="id"><a name="TR:486" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_expr">transl_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:483">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:485">ta</a></span>) <span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:485">ta</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:484">v</a></span>)<br/>
<span class="id">/\</span>(<span class="gallina-kwd">forall</span> <span id="a:487" class="id"><a name="a:487" class="">a</a></span> <span id="b:488" class="id"><a name="b:488" class="">b</a></span> <span id="ofs:489" class="id"><a name="ofs:489" class="">ofs</a></span> <span id="bf:490" class="id"><a name="bf:490" class="">bf,</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:487">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:488">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:489">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:490">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ta:491" class="id"><a name="ta:491" class="">ta</a></span> <span id="bf':492" class="id"><a name="bf':492" class="">bf'</a></span> (<span id="TR:493" class="id"><a name="TR:493" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lvalue">transl_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:487">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:491">ta,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf':492">bf'</a></span>))<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:490">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf':492">bf'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:491">ta</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:488">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:489">ofs</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr_lvalue_ind">eval_expr_lvalue_ind;</a></span> <span class="id">intros;</span> <span class="id">try</span> (<span class="id">monadInv</span> <span class="id">TR</span>).<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;const&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;const&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_floatconst_correct">make_floatconst_correct</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;const&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_singleconst_correct">make_singleconst_correct</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;const&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;temp&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;addrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x0;</span> <span class="id">inv</span> <span class="id">EQ0</span>. <span class="id">apply</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">EQ</span>. <span class="id">destruct</span> <span class="id">EQ</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_unop_correct">transl_unop_correct;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_binop_correct">transl_binop_correct;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;sizeof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.LINK">LINK</a></span> <span class="id">EQ</span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;alignof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_alignof">transl_alignof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.LINK">LINK</a></span> <span class="id">EQ</span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;rvalue&nbsp;out&nbsp;of&nbsp;lvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_lvalue">transl_expr_lvalue;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[tb</span> <span class="id">[TRLVAL</span> <span class="id">MKLOAD]]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">TRLVAL;</span> <span class="id">destruct</span> <span class="id">TRLVAL</span>. <br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_load_correct">make_load_correct;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;var&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.MENV">MENV</a></span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_var_addr_local">eval_var_addr_local</a></span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;var&nbsp;global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">econstructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_var_addr_global">eval_var_addr_global</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_globals">match_env_globals;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_field_access">make_field_access</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ0</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[co'|]</span> <span class="id">eqn:CO;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#field_offset_stable">field_offset_stable</a></span>. <span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.LINK">LINK</a></span>. <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">i</span>). <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B</span> <span class="gallina-kwd">in</span> <span class="id">EQ1</span>. <br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">x0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">delta</span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ge">ge</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">bf'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">bf</span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ge">ge</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x0</span> <span class="id">bf'</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF</span>.<br/>
<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Ebinop">eval_Ebinop;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Ebinop">eval_Ebinop;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_field_access">make_field_access</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ0</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[co'|]</span> <span class="id">eqn:CO;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#union_field_offset_stable">union_field_offset_stable</a></span>. <span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.LINK">LINK</a></span>. <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">i</span>). <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B</span> <span class="gallina-kwd">in</span> <span class="id">EQ1</span>. <br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">x0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">delta</span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ge">ge</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">bf'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">bf</span>) <span class="gallina-kwd">by</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ge">ge</a></span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">*;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">x0</span> <span class="id">bf'</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn:SF</span>.<br/>
<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Ebinop">eval_Ebinop;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Ebinop">eval_Ebinop;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">SF</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f_equal">f_equal</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_expr_correct" class="id"><a name="transl_expr_correct" class="">transl_expr_correct:</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:494" class="id"><a name="a:494" class="">a</a></span> <span id="v:495" class="id"><a name="v:495" class="">v,</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:494">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:495">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ta:496" class="id"><a name="ta:496" class="">ta,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_expr">transl_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:494">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:496">ta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:496">ta</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:495">v</a></span>.<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_lvalue_correct" class="id"><a name="transl_lvalue_correct" class="">transl_lvalue_correct:</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="a:497" class="id"><a name="a:497" class="">a</a></span> <span id="b:498" class="id"><a name="b:498" class="">b</a></span> <span id="ofs:499" class="id"><a name="ofs:499" class="">ofs</a></span> <span id="bf:500" class="id"><a name="bf:500" class="">bf,</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:497">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:498">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:499">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:500">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ta:501" class="id"><a name="ta:501" class="">ta</a></span> <span id="bf':502" class="id"><a name="bf':502" class="">bf',</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lvalue">transl_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:497">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:501">ta,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf':502">bf'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf:500">bf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bf':502">bf'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta:501">ta</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:498">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs:499">ofs</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_arglist_correct" class="id"><a name="transl_arglist_correct" class="">transl_arglist_correct:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="al:503" class="id"><a name="al:503" class="">al</a></span> <span id="tyl:504" class="id"><a name="tyl:504" class="">tyl</a></span> <span id="vl:505" class="id"><a name="vl:505" class="">vl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al:503">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl:504">tyl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vl:505">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="tal:506" class="id"><a name="tal:506" class="">tal,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_arglist">transl_arglist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al:503">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl:504">tyl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tal:506">tal</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_exprlist">Csharpminor.eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tal:506">tal</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vl:505">vl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="typlist_of_arglist_eq" class="id"><a name="typlist_of_arglist_eq" class="">typlist_of_arglist_eq:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="al:507" class="id"><a name="al:507" class="">al</a></span> <span id="tyl:508" class="id"><a name="tyl:508" class="">tyl</a></span> <span id="vl:509" class="id"><a name="vl:509" class="">vl,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al:507">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl:508">tyl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vl:509">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#typlist_of_arglist">typlist_of_arglist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al:507">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl:508">tyl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#typlist_of_typelist">typlist_of_typelist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl:508">tyl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.EXPR">EXPR</a></span>.<br/>
<br/>
<h2> Semantic preservation for statements </h2>
<br/>
<div class="doc">The simulation diagram for the translation of statements and functions
  is a "plus" diagram of the form
<pre>
           I
     S1 ------- R1
     |          |
   t |        + | t
     v          v
     S2 ------- R2
           I                         I</pre>
The invariant <span class="bracket"><span class="id">I</span></span> is the <span class="bracket"><span class="id">match_states</span></span> predicate that we now define.
</div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_transl" class="id"><a name="match_transl" class="">match_transl:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#stmt">stmt</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#cont">cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#stmt">stmt</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#cont">cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_transl_0" class="id"><a name="match_transl_0" class="">match_transl_0:</a></span> <span class="gallina-kwd">forall</span> <span id="ts:512" class="id"><a name="ts:512" class="">ts</a></span> <span id="tk:513" class="id"><a name="tk:513" class="">tk,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl:510">match_transl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:512">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:513">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:512">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:513">tk</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_transl_1" class="id"><a name="match_transl_1" class="">match_transl_1:</a></span> <span class="gallina-kwd">forall</span> <span id="ts:514" class="id"><a name="ts:514" class="">ts</a></span> <span id="tk:515" class="id"><a name="tk:515" class="">tk,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl:510">match_transl</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:514">ts</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:515">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:514">ts</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:515">tk</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_transl_step" class="id"><a name="match_transl_step" class="">match_transl_step:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ts:516" class="id"><a name="ts:516" class="">ts</a></span> <span id="tk:517" class="id"><a name="tk:517" class="">tk</a></span> <span id="ts':518" class="id"><a name="ts':518" class="">ts'</a></span> <span id="tk':519" class="id"><a name="tk':519" class="">tk'</a></span> <span id="f:520" class="id"><a name="f:520" class="">f</a></span> <span id="te:521" class="id"><a name="te:521" class="">te</a></span> <span id="le:522" class="id"><a name="le:522" class="">le</a></span> <span id="m:523" class="id"><a name="m:523" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl">match_transl</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:516">ts</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:517">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':518">ts'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':519">tk'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:520">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':518">ts'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':519">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:521">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:522">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:523">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:520">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:516">ts</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:517">tk</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:521">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:522">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:523">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Inductive</span> <span id="match_cont" class="id"><a name="match_cont" class="">match_cont:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#cont">Clight.cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#cont">Csharpminor.cont</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kstop" class="id"><a name="match_Kstop" class="">match_Kstop:</a></span> <span class="gallina-kwd">forall</span> <span id="ce:526" class="id"><a name="ce:526" class="">ce</a></span> <span id="tyret:527" class="id"><a name="tyret:527" class="">tyret</a></span> <span id="nbrk:528" class="id"><a name="nbrk:528" class="">nbrk</a></span> <span id="ncnt:529" class="id"><a name="ncnt:529" class="">ncnt,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:527">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:526">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:528">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:529">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Kstop">Clight.Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kstop">Kstop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kseq" class="id"><a name="match_Kseq" class="">match_Kseq:</a></span> <span class="gallina-kwd">forall</span> <span id="ce:530" class="id"><a name="ce:530" class="">ce</a></span> <span id="tyret:531" class="id"><a name="tyret:531" class="">tyret</a></span> <span id="nbrk:532" class="id"><a name="nbrk:532" class="">nbrk</a></span> <span id="ncnt:533" class="id"><a name="ncnt:533" class="">ncnt</a></span> <span id="s:534" class="id"><a name="s:534" class="">s</a></span> <span id="k:535" class="id"><a name="k:535" class="">k</a></span> <span id="ts:536" class="id"><a name="ts:536" class="">ts</a></span> <span id="tk:537" class="id"><a name="tk:537" class="">tk,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:530">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:531">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:532">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:533">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:534">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:536">ts</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:530">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:531">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:532">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:533">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:535">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:537">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:530">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:531">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:532">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:533">ncnt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:534">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:535">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:536">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:537">tk</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kloop1" class="id"><a name="match_Kloop1" class="">match_Kloop1:</a></span> <span class="gallina-kwd">forall</span> <span id="ce:538" class="id"><a name="ce:538" class="">ce</a></span> <span id="tyret:539" class="id"><a name="tyret:539" class="">tyret</a></span> <span id="s1:540" class="id"><a name="s1:540" class="">s1</a></span> <span id="s2:541" class="id"><a name="s2:541" class="">s2</a></span> <span id="k:542" class="id"><a name="k:542" class="">k</a></span> <span id="ts1:543" class="id"><a name="ts1:543" class="">ts1</a></span> <span id="ts2:544" class="id"><a name="ts2:544" class="">ts2</a></span> <span id="nbrk:545" class="id"><a name="nbrk:545" class="">nbrk</a></span> <span id="ncnt:546" class="id"><a name="ncnt:546" class="">ncnt</a></span> <span id="tk:547" class="id"><a name="tk:547" class="">tk,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:538">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:539">tyret</a></span> <span class="id">1</span>%<span class="id">nat</span> <span class="id">0</span>%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1:540">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1:543">ts1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:538">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:539">tyret</a></span> <span class="id">0</span>%<span class="id">nat</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:546">ncnt</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2:541">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2:544">ts2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:538">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:539">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:545">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:546">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:542">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:547">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:538">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:539">tyret</a></span> <span class="id">1</span>%<span class="id">nat</span> <span class="id">0</span>%<span class="id">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Clight.Kloop1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1:540">s1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2:541">s2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:542">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2:544">ts2</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sloop">Sloop</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Sseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1:543">ts1</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2:544">ts2</a></span>)) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:547">tk</a></span>))))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kloop2" class="id"><a name="match_Kloop2" class="">match_Kloop2:</a></span> <span class="gallina-kwd">forall</span> <span id="ce:548" class="id"><a name="ce:548" class="">ce</a></span> <span id="tyret:549" class="id"><a name="tyret:549" class="">tyret</a></span> <span id="s1:550" class="id"><a name="s1:550" class="">s1</a></span> <span id="s2:551" class="id"><a name="s2:551" class="">s2</a></span> <span id="k:552" class="id"><a name="k:552" class="">k</a></span> <span id="ts1:553" class="id"><a name="ts1:553" class="">ts1</a></span> <span id="ts2:554" class="id"><a name="ts2:554" class="">ts2</a></span> <span id="nbrk:555" class="id"><a name="nbrk:555" class="">nbrk</a></span> <span id="ncnt:556" class="id"><a name="ncnt:556" class="">ncnt</a></span> <span id="tk:557" class="id"><a name="tk:557" class="">tk,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:548">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:549">tyret</a></span> <span class="id">1</span>%<span class="id">nat</span> <span class="id">0</span>%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1:550">s1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1:553">ts1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:548">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:549">tyret</a></span> <span class="id">0</span>%<span class="id">nat</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:556">ncnt</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2:551">s2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2:554">ts2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:548">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:549">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:555">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:556">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:552">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:557">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:548">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:549">tyret</a></span> <span class="id">0</span>%<span class="id">nat</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:556">ncnt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop2">Clight.Kloop2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1:550">s1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2:551">s2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:552">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sloop">Sloop</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Sseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1:553">ts1</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2:554">ts2</a></span>)) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:557">tk</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kswitch" class="id"><a name="match_Kswitch" class="">match_Kswitch:</a></span> <span class="gallina-kwd">forall</span> <span id="ce:558" class="id"><a name="ce:558" class="">ce</a></span> <span id="tyret:559" class="id"><a name="tyret:559" class="">tyret</a></span> <span id="nbrk:560" class="id"><a name="nbrk:560" class="">nbrk</a></span> <span id="ncnt:561" class="id"><a name="ncnt:561" class="">ncnt</a></span> <span id="k:562" class="id"><a name="k:562" class="">k</a></span> <span id="tk:563" class="id"><a name="tk:563" class="">tk,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:558">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:559">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:560">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:561">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:562">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:563">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:558">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:559">tyret</a></span> <span class="id">0</span>%<span class="id">nat</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:561">ncnt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kswitch">Clight.Kswitch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:562">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:563">tk</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kcall" class="id"><a name="match_Kcall" class="">match_Kcall:</a></span> <span class="gallina-kwd">forall</span> <span id="ce:564" class="id"><a name="ce:564" class="">ce</a></span> <span id="tyret:565" class="id"><a name="tyret:565" class="">tyret</a></span> <span id="nbrk:566" class="id"><a name="nbrk:566" class="">nbrk</a></span> <span id="ncnt:567" class="id"><a name="ncnt:567" class="">ncnt</a></span> <span id="nbrk':568" class="id"><a name="nbrk':568" class="">nbrk'</a></span> <span id="ncnt':569" class="id"><a name="ncnt':569" class="">ncnt'</a></span> <span id="f:570" class="id"><a name="f:570" class="">f</a></span> <span id="e:571" class="id"><a name="e:571" class="">e</a></span> <span id="k:572" class="id"><a name="k:572" class="">k</a></span> <span id="id:573" class="id"><a name="id:573" class="">id</a></span> <span id="tf:574" class="id"><a name="tf:574" class="">tf</a></span> <span id="te:575" class="id"><a name="te:575" class="">te</a></span> <span id="le:576" class="id"><a name="le:576" class="">le</a></span> <span id="tk:577" class="id"><a name="tk:577" class="">tk</a></span> <span id="cu:578" class="id"><a name="cu:578" class="">cu,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:578">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:578">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:570">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:574">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:571">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:575">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:578">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:570">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':568">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':569">ncnt'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:572">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:577">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:564">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:565">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:566">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:567">ncnt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kcall">Clight.Kcall</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:573">id</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:570">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:571">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:576">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:572">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kcall">Kcall</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:573">id</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:574">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:575">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:576">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:577">tk</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_Kcall_normalize" class="id"><a name="match_Kcall_normalize" class="">match_Kcall_normalize:</a></span> <span class="gallina-kwd">forall</span> <span id="ce:579" class="id"><a name="ce:579" class="">ce</a></span> <span id="tyret:580" class="id"><a name="tyret:580" class="">tyret</a></span> <span id="nbrk:581" class="id"><a name="nbrk:581" class="">nbrk</a></span> <span id="ncnt:582" class="id"><a name="ncnt:582" class="">ncnt</a></span> <span id="nbrk':583" class="id"><a name="nbrk':583" class="">nbrk'</a></span> <span id="ncnt':584" class="id"><a name="ncnt':584" class="">ncnt'</a></span> <span id="f:585" class="id"><a name="f:585" class="">f</a></span> <span id="e:586" class="id"><a name="e:586" class="">e</a></span> <span id="k:587" class="id"><a name="k:587" class="">k</a></span> <span id="id:588" class="id"><a name="id:588" class="">id</a></span> <span id="a:589" class="id"><a name="a:589" class="">a</a></span> <span id="tf:590" class="id"><a name="tf:590" class="">tf</a></span> <span id="te:591" class="id"><a name="te:591" class="">te</a></span> <span id="le:592" class="id"><a name="le:592" class="">le</a></span> <span id="tk:593" class="id"><a name="tk:593" class="">tk</a></span> <span id="cu:594" class="id"><a name="cu:594" class="">cu,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:594">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:594">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:585">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:590">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:586">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:591">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:594">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:585">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':583">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':584">ncnt'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:587">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:593">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="v:595" class="id"><a name="v:595" class="">v</a></span> <span id="e:596" class="id"><a name="e:596" class="">e</a></span> <span id="le:597" class="id"><a name="le:597" class="">le</a></span> <span id="m:598" class="id"><a name="m:598" class="">m,</a></span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_val">wt_val</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:595">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:580">tyret</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:597">le!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:595">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:596">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:597">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:598">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:589">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v:595">v</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont:524">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:579">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:580">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:581">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:582">ncnt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kcall">Clight.Kcall</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:588">id</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:585">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:586">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:592">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:587">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kcall">Kcall</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:588">id</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:590">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:591">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:592">le</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sset">Sset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:588">id</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a:589">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:593">tk</a></span>)).<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="match_states" class="id"><a name="match_states" class="">match_states:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#state">Clight.state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#state">Csharpminor.state</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_state" class="id"><a name="match_state" class="">match_state:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:601" class="id"><a name="f:601" class="">f</a></span> <span id="nbrk:602" class="id"><a name="nbrk:602" class="">nbrk</a></span> <span id="ncnt:603" class="id"><a name="ncnt:603" class="">ncnt</a></span> <span id="s:604" class="id"><a name="s:604" class="">s</a></span> <span id="k:605" class="id"><a name="k:605" class="">k</a></span> <span id="e:606" class="id"><a name="e:606" class="">e</a></span> <span id="le:607" class="id"><a name="le:607" class="">le</a></span> <span id="m:608" class="id"><a name="m:608" class="">m</a></span> <span id="tf:609" class="id"><a name="tf:609" class="">tf</a></span> <span id="ts:610" class="id"><a name="ts:610" class="">ts</a></span> <span id="tk:611" class="id"><a name="tk:611" class="">tk</a></span> <span id="te:612" class="id"><a name="te:612" class="">te</a></span> <span id="ts':613" class="id"><a name="ts':613" class="">ts'</a></span> <span id="tk':614" class="id"><a name="tk':614" class="">tk'</a></span> <span id="cu:615" class="id"><a name="cu:615" class="">cu</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="LINK:616" class="id"><a name="LINK:616" class="">LINK:</a></span> <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:615">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TRF:617" class="id"><a name="TRF:617" class="">TRF:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:615">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:601">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:609">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:618" class="id"><a name="TR:618" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:615">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:601">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:602">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:603">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:604">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:610">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MTR:619" class="id"><a name="MTR:619" class="">MTR:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl">match_transl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:610">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:611">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':613">ts'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':614">tk'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MENV:620" class="id"><a name="MENV:620" class="">MENV:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:606">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:612">te</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:621" class="id"><a name="MK:621" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:615">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:601">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:602">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:603">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:605">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:611">tk</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states:599">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">Clight.State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:601">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:604">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:605">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:606">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:607">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:608">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:609">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':613">ts'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':614">tk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:612">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:607">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:608">m</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_callstate" class="id"><a name="match_callstate" class="">match_callstate:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="fd:622" class="id"><a name="fd:622" class="">fd</a></span> <span id="args:623" class="id"><a name="args:623" class="">args</a></span> <span id="k:624" class="id"><a name="k:624" class="">k</a></span> <span id="m:625" class="id"><a name="m:625" class="">m</a></span> <span id="tfd:626" class="id"><a name="tfd:626" class="">tfd</a></span> <span id="tk:627" class="id"><a name="tk:627" class="">tk</a></span> <span id="targs:628" class="id"><a name="targs:628" class="">targs</a></span> <span id="tres:629" class="id"><a name="tres:629" class="">tres</a></span> <span id="cconv:630" class="id"><a name="cconv:630" class="">cconv</a></span> <span id="cu:631" class="id"><a name="cu:631" class="">cu</a></span> <span id="ce:632" class="id"><a name="ce:632" class="">ce</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="LINK:633" class="id"><a name="LINK:633" class="">LINK:</a></span> <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:631">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TR:634" class="id"><a name="TR:634" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:631">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#fd:622">fd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tfd:626">tfd</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:635" class="id"><a name="MK:635" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:632">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres:629">tres</a></span> <span class="id">0</span>%<span class="id">nat</span> <span class="id">0</span>%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:624">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:627">tk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ISCC:636" class="id"><a name="ISCC:636" class="">ISCC:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#is_call_cont">Clight.is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:624">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="TY:637" class="id"><a name="TY:637" class="">TY:</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#fd:622">fd</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#targs:628">targs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres:629">tres</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cconv:630">cconv</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states:599">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Callstate">Clight.Callstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#fd:622">fd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:623">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:624">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:625">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tfd:626">tfd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args:623">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:627">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:625">m</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="match_returnstate" class="id"><a name="match_returnstate" class="">match_returnstate:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="res:638" class="id"><a name="res:638" class="">res</a></span> <span id="tres:639" class="id"><a name="tres:639" class="">tres</a></span> <span id="k:640" class="id"><a name="k:640" class="">k</a></span> <span id="m:641" class="id"><a name="m:641" class="">m</a></span> <span id="tk:642" class="id"><a name="tk:642" class="">tk</a></span> <span id="ce:643" class="id"><a name="ce:643" class="">ce</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="MK:644" class="id"><a name="MK:644" class="">MK:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:643">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres:639">tres</a></span> <span class="id">0</span>%<span class="id">nat</span> <span class="id">0</span>%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:640">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:642">tk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="WT:645" class="id"><a name="WT:645" class="">WT:</a></span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_val">wt_val</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:638">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres:639">tres</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states:599">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Returnstate">Clight.Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:638">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:640">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:641">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Returnstate">Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res:638">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:642">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:641">m</a></span>).<br/>
<br/>
<span class="vernacular">Remark</span> <span id="match_states_skip" class="id"><a name="match_states_skip" class="">match_states_skip:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="f:646" class="id"><a name="f:646" class="">f</a></span> <span id="e:647" class="id"><a name="e:647" class="">e</a></span> <span id="le:648" class="id"><a name="le:648" class="">le</a></span> <span id="te:649" class="id"><a name="te:649" class="">te</a></span> <span id="nbrk:650" class="id"><a name="nbrk:650" class="">nbrk</a></span> <span id="ncnt:651" class="id"><a name="ncnt:651" class="">ncnt</a></span> <span id="k:652" class="id"><a name="k:652" class="">k</a></span> <span id="tf:653" class="id"><a name="tf:653" class="">tf</a></span> <span id="tk:654" class="id"><a name="tk:654" class="">tk</a></span> <span id="m:655" class="id"><a name="m:655" class="">m</a></span> <span id="cu:656" class="id"><a name="cu:656" class="">cu,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:656">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:656">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:646">f</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:653">tf</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:647">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:649">te</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu:656">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:646">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:650">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:651">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:652">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:654">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">Clight.State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f:646">f</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Sskip">Clight.Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:652">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e:647">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:648">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:655">m</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf:653">tf</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:654">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te:649">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le:648">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m:655">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">reflexivity</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Commutation between label resolution and compilation </div>
<br/>
<span class="vernacular">Section</span> <span id="CORRECTNESS.FIND_LABEL" class="id"><a name="CORRECTNESS.FIND_LABEL" class="">FIND_LABEL</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.FIND_LABEL.ce" class="id"><a name="CORRECTNESS.FIND_LABEL.ce" class="">ce:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.FIND_LABEL.lbl" class="id"><a name="CORRECTNESS.FIND_LABEL.lbl" class="">lbl:</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#label">label</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="CORRECTNESS.FIND_LABEL.tyret" class="id"><a name="CORRECTNESS.FIND_LABEL.tyret" class="">tyret:</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_find_label" class="id"><a name="transl_find_label" class="">transl_find_label:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:660" class="id"><a name="s:660" class="">s</a></span> <span id="nbrk:661" class="id"><a name="nbrk:661" class="">nbrk</a></span> <span id="ncnt:662" class="id"><a name="ncnt:662" class="">ncnt</a></span> <span id="k:663" class="id"><a name="k:663" class="">k</a></span> <span id="ts:664" class="id"><a name="ts:664" class="">ts</a></span> <span id="tk:665" class="id"><a name="tk:665" class="">tk</a></span><br/>
&nbsp;&nbsp;(<span id="TR:666" class="id"><a name="TR:666" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:661">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:662">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:660">s</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:664">ts</a></span>)<br/>
&nbsp;&nbsp;(<span id="MC:667" class="id"><a name="MC:667" class="">MC:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:661">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:662">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:663">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:665">tk</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s:660">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:663">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:664">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:665">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">s',</span> <span class="id">k'</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ts':668" class="id"><a name="ts':668" class="">ts',</a></span> <span class="gallina-kwd">exists</span> <span id="tk':669" class="id"><a name="tk':669" class="">tk',</a></span> <span class="gallina-kwd">exists</span> <span id="nbrk':670" class="id"><a name="nbrk':670" class="">nbrk',</a></span> <span class="gallina-kwd">exists</span> <span id="ncnt':671" class="id"><a name="ncnt':671" class="">ncnt',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts:664">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:665">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':668">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':669">tk'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':670">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':671">ncnt'</a></span> <span class="id">s'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':668">ts'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':670">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':671">ncnt'</a></span> <span class="id">k'</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':669">tk'</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
<br/>
<span class="gallina-kwd">with</span> <span id="transl_find_label_ls" class="id"><a name="transl_find_label_ls" class="">transl_find_label_ls:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ls:672" class="id"><a name="ls:672" class="">ls</a></span> <span id="nbrk:673" class="id"><a name="nbrk:673" class="">nbrk</a></span> <span id="ncnt:674" class="id"><a name="ncnt:674" class="">ncnt</a></span> <span id="k:675" class="id"><a name="k:675" class="">k</a></span> <span id="tls:676" class="id"><a name="tls:676" class="">tls</a></span> <span id="tk:677" class="id"><a name="tk:677" class="">tk</a></span><br/>
&nbsp;&nbsp;(<span id="TR:678" class="id"><a name="TR:678" class="">TR:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:673">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:674">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ls:672">ls</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tls:676">tls</a></span>)<br/>
&nbsp;&nbsp;(<span id="MC:679" class="id"><a name="MC:679" class="">MC:</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:673">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:674">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:675">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:677">tk</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label_ls">Clight.find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ls:672">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:675">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tls:676">tls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:677">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">s',</span> <span class="id">k'</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ts':680" class="id"><a name="ts':680" class="">ts',</a></span> <span class="gallina-kwd">exists</span> <span id="tk':681" class="id"><a name="tk':681" class="">tk',</a></span> <span class="gallina-kwd">exists</span> <span id="nbrk':682" class="id"><a name="nbrk':682" class="">nbrk',</a></span> <span class="gallina-kwd">exists</span> <span id="ncnt':683" class="id"><a name="ncnt':683" class="">ncnt',</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tls:676">tls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:677">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':680">ts',</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':681">tk'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':682">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':683">ncnt'</a></span> <span class="id">s'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts':680">ts'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':682">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':683">ncnt'</a></span> <span class="id">k'</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk':681">tk'</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">*</span> <span class="id">intro</span> <span class="id">s;</span> <span class="id">case</span> <span class="id">s;</span> <span class="id">intros;</span> <span class="id">try</span> (<span class="id">monadInv</span> <span class="id">TR</span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;skip&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_memcpy">make_memcpy</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">e</span>))<span class="id">;</span> <span class="id">monadInv</span> <span class="id">EQ3;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store_bitfield">make_store_bitfield</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id">pos</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">0</span> <span class="id">width</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">pos</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">width</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#bitsize_carrier">bitsize_carrier</a></span> <span class="id">sz</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">EQ3;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;set&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">TR</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">e</span>))<span class="id">;</span> <span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_funcall">make_funcall</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o;</span> <span class="id">auto;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86.Conventions1.html#return_value_needs_normalization">Conventions1.return_value_needs_normalization</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> <span class="id">s1</span> <span class="id">k</span>))<span class="id">;</span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> <span class="id">s1</span> <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[nbrk'</span> <span class="id">[ncnt'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="gallina-kwd">exists</span> <span class="id">nbrk';</span> <span class="gallina-kwd">exists</span> <span class="id">ncnt';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id">transl_find_label;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> <span class="id">k</span>) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[nbrk'</span> <span class="id">[ncnt'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="gallina-kwd">exists</span> <span class="id">nbrk';</span> <span class="gallina-kwd">exists</span> <span class="id">ncnt';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">rewrite</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id">transl_find_label;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span> <span class="id">1</span>%<span class="id">nat</span> <span class="id">0</span>%<span class="id">nat</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id">s0</span> <span class="id">s1</span> <span class="id">k</span>))<span class="id">;</span> <span class="id">eauto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id">s0</span> <span class="id">s1</span> <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[nbrk'</span> <span class="id">[ncnt'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="gallina-kwd">exists</span> <span class="id">nbrk';</span> <span class="gallina-kwd">exists</span> <span class="id">ncnt';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">transl_find_label;</span> <span class="id">eauto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;break&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;continue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">TR</span>. <span class="id">destruct</span> <span class="id">o;</span> <span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">auto</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="gallina-kwd">exists</span> <span id="b:685" class="id"><span id="b:684" class="id"><a name="b:685" class="">b,</a></span></span> <span class="id">ts</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sswitch">Sswitch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:684">b</a></span> <span class="id">x</span> <span class="id">x0</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_switch">classify_switch</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">e</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">EQ2;</span> <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[b</span> <span class="id">EQ3];</span> <span class="id">rewrite</span> <span class="id">EQ3;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">transl_find_label_ls</span> <span class="gallina-kwd">with</span> (<span class="id">k</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Clight.html#Kswitch">Clight.Kswitch</a></span> <span class="id">k</span>)<span class="id">;</span> <span class="id">eauto</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">x;</span> <span class="gallina-kwd">exists</span> <span class="id">tk;</span> <span class="gallina-kwd">exists</span> <span class="id">nbrk;</span> <span class="gallina-kwd">exists</span> <span class="id">ncnt;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">transl_find_label;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<br/>
<span class="id">*</span> <span class="id">intro</span> <span class="id">ls;</span> <span class="id">case</span> <span class="id">ls;</span> <span class="id">intros;</span> <span class="id">monadInv</span> <span class="id">TR;</span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;nil&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;cons&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">l</span>) <span class="id">k</span>))<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lbl_stmt_2">transl_lbl_stmt_2;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">l</span>) <span class="id">k</span>)) <span class="gallina-kwd">as</span> <span class="id">[[s'</span> <span class="id">k']</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk'</span> <span class="id">[nbrk'</span> <span class="id">[ncnt'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">A</span>. <span class="gallina-kwd">exists</span> <span class="id">ts';</span> <span class="gallina-kwd">exists</span> <span class="id">tk';</span> <span class="gallina-kwd">exists</span> <span class="id">nbrk';</span> <span class="gallina-kwd">exists</span> <span class="id">ncnt';</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intro</span>. <span class="id">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">transl_find_label_ls;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.FIND_LABEL">FIND_LABEL</a></span>.<br/>
<br/>
<div class="doc">Properties of call continuations </div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_call_cont" class="id"><a name="match_cont_call_cont" class="">match_cont_call_cont:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce':686" class="id"><a name="ce':686" class="">ce'</a></span> <span id="nbrk':687" class="id"><a name="nbrk':687" class="">nbrk'</a></span> <span id="ncnt':688" class="id"><a name="ncnt':688" class="">ncnt'</a></span> <span id="ce:689" class="id"><a name="ce:689" class="">ce</a></span> <span id="tyret:690" class="id"><a name="tyret:690" class="">tyret</a></span> <span id="nbrk:691" class="id"><a name="nbrk:691" class="">nbrk</a></span> <span id="ncnt:692" class="id"><a name="ncnt:692" class="">ncnt</a></span> <span id="k:693" class="id"><a name="k:693" class="">k</a></span> <span id="tk:694" class="id"><a name="tk:694" class="">tk,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:689">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:690">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:691">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:692">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:693">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:694">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce':686">ce'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:690">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':687">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':688">ncnt'</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#call_cont">Clight.call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:693">k</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#call_cont">call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:694">tk</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kstop">match_Kstop</a></span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kcall">match_Kcall;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kcall_normalize">match_Kcall_normalize;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="match_cont_is_call_cont" class="id"><a name="match_cont_is_call_cont" class="">match_cont_is_call_cont:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ce:695" class="id"><a name="ce:695" class="">ce</a></span> <span id="tyret:696" class="id"><a name="tyret:696" class="">tyret</a></span> <span id="nbrk:697" class="id"><a name="nbrk:697" class="">nbrk</a></span> <span id="ncnt:698" class="id"><a name="ncnt:698" class="">ncnt</a></span> <span id="k:699" class="id"><a name="k:699" class="">k</a></span> <span id="tk:700" class="id"><a name="tk:700" class="">tk</a></span> <span id="ce':701" class="id"><a name="ce':701" class="">ce'</a></span> <span id="nbrk':702" class="id"><a name="nbrk':702" class="">nbrk'</a></span> <span id="ncnt':703" class="id"><a name="ncnt':703" class="">ncnt',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce:695">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:696">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk:697">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt:698">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:699">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:700">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#is_call_cont">Clight.is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:699">k</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce':701">ce'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret:696">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk':702">nbrk'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt':703">ncnt'</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k:699">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:700">tk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#is_call_cont">is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk:700">tk</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">try</span> <span class="id">contradiction;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto;</span> <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kstop">match_Kstop</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kcall">match_Kcall;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kcall_normalize">match_Kcall_normalize;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The simulation proof </div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_step" class="id"><a name="transl_step" class="">transl_step:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S1:704" class="id"><a name="S1:704" class="">S1</a></span> <span id="t:705" class="id"><a name="t:705" class="">t</a></span> <span id="S2:706" class="id"><a name="S2:706" class="">S2,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#step2">Clight.step2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S1:704">S1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:705">t</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S2:706">S2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="T1:707" class="id"><a name="T1:707" class="">T1,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S1:704">S1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T1:707">T1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="T2:708" class="id"><a name="T2:708" class="">T2,</a></span> <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T1:707">T1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t:705">t</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T2:708">T2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S2:706">S2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T2:708">T2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">T1</span> <span class="id">MST;</span> <span class="id">inv</span> <span class="id">MST</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAME:</span> <span class="id">ts'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">ts</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">tk'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">tk</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">inversion</span> <span class="id">MTR</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">ts</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store,</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_memcpy">make_memcpy</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a1</span>))<span class="id">;</span> <span class="id">monadInv</span> <span class="id">EQ3;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store_bitfield">make_store_bitfield</a></span> <span class="gallina-kwd">in</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id">pos</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">0</span> <span class="id">width</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">pos</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">width</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#bitsize_carrier">bitsize_carrier</a></span> <span class="id">sz</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">EQ3;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">SAME;</span> <span class="id">subst</span> <span class="id">ts'</span> <span class="id">tk'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lvalue_correct">transl_lvalue_correct;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B];</span> <span class="id">subst</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_store_correct">make_store_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;set&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">TR</span>. <span class="id">simpl</span>. <span class="id">case_eq</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a</span>))<span class="id">;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cc</span> <span class="id">CF</span> <span class="id">TR</span>. <span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#functions_translated">functions_translated;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">cu'</span> &amp; <span class="id">tfd</span> &amp; <span class="id">FIND</span> &amp; <span class="id">TFD</span> &amp; <span class="id">LINK'</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">in</span> <span class="id">CF</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">CF</span>. <span class="id">inv</span> <span class="id">CF</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">sg</span> <span class="id">:=</span> <span class="id">{|</span> <span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#typlist_of_arglist">typlist_of_arglist</a></span> <span class="id">al</span> <span class="id">targs;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#rettype_of_type">rettype_of_type</a></span> <span class="id">tres;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#sig_cc">sig_cc</a></span> <span class="id">:=</span> <span class="id">cc</span> <span class="id">|}</span>) <span class="gallina-kwd">in</span> <span class="id">*</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SIG:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span> <span class="id">tfd</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">sg</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id">sg;</span> <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#typlist_of_arglist_eq">typlist_of_arglist_eq</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_fundef_sig1">transl_fundef_sig1;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">H3;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EITHER:</span> <span class="id">tk'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">tk</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">ts'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Scall">Scall</a></span> <span class="id">optid</span> <span class="id">sg</span> <span class="id">x</span> <span class="id">x0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">\/</span> <span class="gallina-kwd">exists</span> <span id="id:710" class="id"><span id="id:709" class="id"><a name="id:710" class="">id,</a></span></span> <span class="id">optid</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:709">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tk'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">tk</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">ts'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Sseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Scall">Scall</a></span> <span class="id">optid</span> <span class="id">sg</span> <span class="id">x</span> <span class="id">x0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sset">Sset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:709">id</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_normalization">make_normalization</a></span> <span class="id">tres</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Evar">Evar</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id:709">id</a></span>)))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_funcall">make_funcall</a></span> <span class="gallina-kwd">in</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">optid</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86.Conventions1.html#return_value_needs_normalization">Conventions1.return_value_needs_normalization</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MTR</span>. <span class="id">right;</span> <span class="gallina-kwd">exists</span> <span class="id">i;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MTR;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MTR;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">EITHER</span> <span class="gallina-kwd">as</span> <span class="id">[</span>(<span class="id">EK</span> &amp; <span class="id">ES</span>) <span class="id">|</span> (<span class="id">id</span> &amp; <span class="id">EI</span> &amp; <span class="id">EK</span> &amp; <span class="id">ES</span>)<span class="id">];</span> <span class="id">rewrite</span> <span class="id">EK,</span> <span class="id">ES</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;without&nbsp;normalization&nbsp;of&nbsp;return&nbsp;value&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_call">step_call;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">cunit</span> <span class="id">:=</span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_arglist_correct">transl_arglist_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">cunit</span> <span class="id">:=</span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kcall">match_Kcall</a></span> <span class="gallina-kwd">with</span> (<span class="id">ce</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu'</span>) (<span class="id">cu</span> <span class="id">:=</span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;with&nbsp;normalization&nbsp;of&nbsp;return&nbsp;value&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">optid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_two">plus_two</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_seq">step_seq</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_call">step_call;</a></span> <span class="id">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">cunit</span> <span class="id">:=</span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_arglist_correct">transl_arglist_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">cunit</span> <span class="id">:=</span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kcall_normalize">match_Kcall_normalize</a></span>  <span class="gallina-kwd">with</span> (<span class="id">ce</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu'</span>) (<span class="id">cu</span> <span class="id">:=</span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_normalization_correct">make_normalization_correct;</a></span> <span class="id">eauto</span>. <span class="id">constructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_arglist_correct">transl_arglist_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span> <span class="gallina-kwd">with</span> (<span class="id">ge1</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.ge">ge</a></span>). <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#senv_preserved">senv_preserved</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;skip&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_skip_seq">step_skip_seq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;continue&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">reflexivity</span>. <span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;break&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">reflexivity</span>. <span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_boolean_correct">make_boolean_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[v</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_ifthenelse">step_ifthenelse</a></span> <span class="gallina-kwd">with</span> (<span class="id">v</span> <span class="id">:=</span> <span class="id">v</span>) (<span class="id">b</span> <span class="id">:=</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b;</span> <span class="id">econstructor;</span> <span class="id">eauto;</span> <span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl_step">match_transl_step;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;skip-or-continue&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> ((<span class="id">ts'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id">ts'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sexit">Sexit</a></span> <span class="id">ncnt</span>) <span class="id">/\</span> <span class="id">tk'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">tk</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">x;</span> <span class="id">monadInv</span> <span class="id">TR;</span> <span class="id">inv</span> <span class="id">MTR;</span> <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H0;</span> <span class="id">subst</span> <span class="id">ts'</span>. <span class="id">2:constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;break&nbsp;loop1&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>. <span class="id">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;skip&nbsp;loop2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">H6;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">H8;</span> <span class="id">simpl</span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;break&nbsp;loop2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;return&nbsp;none&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_free_blocks">match_env_free_blocks;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="gallina-kwd">with</span> (<span class="id">ce</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;return&nbsp;some&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_free_blocks">match_env_free_blocks;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="gallina-kwd">with</span> (<span class="id">ce</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_val_casted">wt_val_casted</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_val_is_casted">cast_val_is_casted;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;skip&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_is_call_cont">match_cont_is_call_cont;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_skip_call">step_skip_call</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_free_blocks">match_env_free_blocks;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="gallina-kwd">with</span> (<span class="id">ce</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E:</span> <span class="gallina-kwd">exists</span> <span id="b:712" class="id"><span id="b:711" class="id"><a name="b:712" class="">b,</a></span></span> <span class="id">ts</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sswitch">Sswitch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:711">b</a></span> <span class="id">x</span> <span class="id">x0</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Switch.html#switch_argument">Switch.switch_argument</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b:711">b</a></span> <span class="id">v</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_switch_arg">sem_switch_arg</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_switch">classify_switch</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a</span>))<span class="id">;</span> <span class="id">inv</span> <span class="id">EQ2;</span> <span class="id">econstructor;</span> <span class="id">split;</span> <span class="id">eauto;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">E</span> <span class="gallina-kwd">as</span> (<span class="id">b</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <span class="id">subst</span> <span class="id">ts</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct;</a></span> <span class="id">eauto</span>. <span class="id">intro</span> <span class="id">EV</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl_step">match_transl_step;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lbl_stmt_2">transl_lbl_stmt_2</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lbl_stmt_1">transl_lbl_stmt_1</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;skip&nbsp;or&nbsp;break&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> ((<span class="id">ts'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id">ts'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sexit">Sexit</a></span> <span class="id">nbrk</span>) <span class="id">/\</span> <span class="id">tk'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">tk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">x;</span> <span class="id">monadInv</span> <span class="id">TR;</span> <span class="id">inv</span> <span class="id">MTR;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">destruct</span> <span class="id">H0;</span> <span class="id">subst</span> <span class="id">ts'</span>. <span class="id">2:constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;continue&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl</span>. <span class="id">reflexivity</span>. <span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">TRF</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span>. <span class="id">intro</span> <span class="id">TRF'</span>. <span class="id">monadInv</span> <span class="id">TRF'</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_find_label">transl_find_label</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>) <span class="id">lbl</span>). <span class="id">eexact</span> <span class="id">EQ</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[ts'</span> <span class="id">[tk''</span> <span class="id">[nbrk'</span> <span class="id">[ncnt'</span> <span class="id">[A</span> <span class="id">[B</span> <span class="id">C]]]]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>. <span class="id">simpl</span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;internal&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">TR</span>. <span class="id">monadInv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_is_call_cont">match_cont_is_call_cont;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_alloc_variables">match_env_alloc_variables;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_empty">match_env_empty</a></span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[te1</span> <span class="id">[C</span> <span class="id">D]]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_internal_function">step_internal_function</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_vars_names">transl_vars_names</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#create_undef_temps_match">create_undef_temps_match</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bind_parameter_temps_match">bind_parameter_temps_match;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">econstructor;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span>. <span class="id">rewrite</span> <span class="id">EQ;</span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">EQ1;</span> <span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">fn_return</a></span> <span class="id">f</span>) <span class="gallina-kwd">with</span> <span class="id">tres</span>. <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">TY</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_function">type_of_function</a></span> <span class="gallina-kwd">in</span> <span class="id">TY</span>. <span class="id">congruence</span>. <br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;external&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_is_call_cont">match_cont_is_call_cont;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="gallina-kwd">with</span> (<span class="id">ce</span> <span class="id">:=</span> <span class="id">ce</span>)<span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#has_rettype_wt_val">has_rettype_wt_val</a></span>. <br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#rettype_of_type">rettype_of_type</a></span> <span class="id">tres0</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_well_typed_gen">external_call_well_typed_gen;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H5</span>. <span class="id">simpl</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">TY</span>. <span class="id">congruence</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;returnstate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;without&nbsp;normalization&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">reflexivity</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="comment">(*&nbsp;with&nbsp;normalization&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_three">plus_three</a></span>. <span class="id">econstructor</span>. <span class="id">econstructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">apply</span> <span class="id">H13</span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gss">PTree.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set2">PTree.set2</a></span>. <span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">simpl;</span> <span class="id">reflexivity</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_initial_states" class="id"><a name="transl_initial_states" class="">transl_initial_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S:713" class="id"><a name="S:713" class="">S,</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#initial_state">Clight.initial_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S:713">S</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="R:714" class="id"><a name="R:714" class="">R,</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R:714">R</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S:713">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R:714">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#function_ptr_translated">function_ptr_translated;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">cu</span> &amp; <span class="id">tf</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">D:</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tge">tge</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_main">AST.prog_main</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span> <span class="gallina-kwd">as</span> (<span class="id">P</span> &amp; <span class="id">Q</span> &amp; <span class="id">R</span>). <span class="id">rewrite</span> <span class="id">Q</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">E:</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span> <span class="id">tf</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_fundef_sig2">transl_fundef_sig2;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">apply</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_match">Genv.init_mem_match</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span>). <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>). <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="transl_final_states" class="id"><a name="transl_final_states" class="">transl_final_states:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="S:715" class="id"><a name="S:715" class="">S</a></span> <span id="R:716" class="id"><a name="R:716" class="">R</a></span> <span id="r:717" class="id"><a name="r:717" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S:715">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R:716">R</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#final_state">Clight.final_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S:715">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#r:717">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#final_state">final_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R:716">R</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#r:717">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MK</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="transl_program_correct" class="id"><a name="transl_program_correct" class="">transl_program_correct:</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#semantics2">Clight.semantics2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#semantics">Csharpminor.semantics</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_plus">forward_simulation_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_initial_states">transl_initial_states</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_final_states">transl_final_states</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_step">transl_step</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS">CORRECTNESS</a></span>.<br/>
<br/>
<h2> Commutation with linking </h2>
<br/>
<span class="id">Global</span> <span class="vernacular">Instance</span> <span id="TransfCshmgenLink" class="id"><a name="TransfCshmgenLink" class="">TransfCshmgenLink</a></span> <span class="id">:</span> <span class="id"><a href="compcert.common.Linking.html#TransfLink">TransfLink</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_prog">match_prog</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Linking.html#link_linkorder">link_linkorder</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="gallina-kwd">as</span> (<span class="id">LO1</span> &amp; <span class="id">LO2</span>).<br/>
&nbsp;&nbsp;<span class="id">generalize</span> <span class="id">H</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Transparent</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Linker_program">Ctypes.Linker_program</a></span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#link_program">link_program</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#program_of_program">program_of_program</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#program_of_program">program_of_program</a></span> <span class="id">p2</span>)) <span class="gallina-kwd">as</span> <span class="id">[pp|]</span> <span class="id">eqn:LP;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#lift_option">lift_option</a></span> (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p2</span>))) <span class="gallina-kwd">as</span> <span class="id">[[typs</span> <span class="id">EQ]|P];</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#link_build_composite_env">link_build_composite_env</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p2</span>) <span class="id">typs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">p2</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span> <span class="id">p1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span> <span class="id">p2</span>) <span class="id">EQ</span>) <span class="gallina-kwd">as</span> (<span class="id">env</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>).<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Linking.html#link_match_program">Linking.link_match_program</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Transparent</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Linker_fundef">Linker_fundef</a></span> <span class="id"><a href="compcert.common.Linking.html#Linker_fundef">Linking.Linker_fundef</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3;</span> <span class="id">inv</span> <span class="id">H4;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H2</span>.<br/>
<span class="id">+</span> <span class="id">discriminate</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> <span class="id">ef;</span> <span class="id">inv</span> <span class="id">H2</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">left;</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> <span class="id">ef;</span> <span class="id">inv</span> <span class="id">H2</span>. <span class="id">econstructor;</span> <span class="id">split</span>. <span class="id">simpl;</span> <span class="id">eauto</span>. <span class="id">right;</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#external_function_eq">external_function_eq</a></span> <span class="id">ef</span> <span class="id">ef0</span> &amp;&amp; <span class="id"><a href="compcert.cfrontend.Ctypes.html#typelist_eq">typelist_eq</a></span> <span class="id">args</span> <span class="id">args0</span> &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">res</span> <span class="id">res0</span> &amp;&amp; <span class="id"><a href="compcert.common.AST.html#calling_convention_eq">calling_convention_eq</a></span> <span class="id">cc</span> <span class="id">cc0</span>) <span class="id">eqn:E';</span> <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="id">subst</span> <span class="id">ef0</span>. <span class="id">econstructor;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">constructor</span>. <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">replace</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#program_of_program">program_of_program</a></span> <span class="id">p</span>) <span class="gallina-kwd">with</span> <span class="id">pp</span>. <span class="id">auto</span>. <span class="id">inv</span> <span class="id">E;</span> <span class="id">destruct</span> <span class="id">pp;</span> <span class="id">auto</span>.<br/>
Qed.</div>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
