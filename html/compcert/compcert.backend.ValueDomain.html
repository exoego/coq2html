
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ValueDomain</title>
<meta name="description" content="Documentation of Coq module ValueDomain" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="compcert"><summary>compcert</summary>
          <ul>
          <li><details id="compcert.backend"><summary>backend</summary>
          <ul>
          <li><a href="compcert.backend.Allocation.html">Allocation</a></li>
<li><a href="compcert.backend.Allocproof.html">Allocproof</a></li>
<li><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></li>
<li><a href="compcert.backend.Bounds.html">Bounds</a></li>
<li><a href="compcert.backend.CleanupLabels.html">CleanupLabels</a></li>
<li><a href="compcert.backend.CleanupLabelsproof.html">CleanupLabelsproof</a></li>
<li><a href="compcert.backend.Cminor.html">Cminor</a></li>
<li><a href="compcert.backend.CminorSel.html">CminorSel</a></li>
<li><a href="compcert.backend.Cminortyping.html">Cminortyping</a></li>
<li><a href="compcert.backend.Constprop.html">Constprop</a></li>
<li><a href="compcert.backend.Constpropproof.html">Constpropproof</a></li>
<li><a href="compcert.backend.Conventions.html">Conventions</a></li>
<li><a href="compcert.backend.CSE.html">CSE</a></li>
<li><a href="compcert.backend.CSEdomain.html">CSEdomain</a></li>
<li><a href="compcert.backend.CSEproof.html">CSEproof</a></li>
<li><a href="compcert.backend.Deadcode.html">Deadcode</a></li>
<li><a href="compcert.backend.Deadcodeproof.html">Deadcodeproof</a></li>
<li><a href="compcert.backend.Debugvar.html">Debugvar</a></li>
<li><a href="compcert.backend.Debugvarproof.html">Debugvarproof</a></li>
<li><a href="compcert.backend.Inlining.html">Inlining</a></li>
<li><a href="compcert.backend.Inliningproof.html">Inliningproof</a></li>
<li><a href="compcert.backend.Inliningspec.html">Inliningspec</a></li>
<li><a href="compcert.backend.Kildall.html">Kildall</a></li>
<li><a href="compcert.backend.Linear.html">Linear</a></li>
<li><a href="compcert.backend.Linearize.html">Linearize</a></li>
<li><a href="compcert.backend.Linearizeproof.html">Linearizeproof</a></li>
<li><a href="compcert.backend.Lineartyping.html">Lineartyping</a></li>
<li><a href="compcert.backend.Liveness.html">Liveness</a></li>
<li><a href="compcert.backend.Locations.html">Locations</a></li>
<li><a href="compcert.backend.LTL.html">LTL</a></li>
<li><a href="compcert.backend.Mach.html">Mach</a></li>
<li><a href="compcert.backend.NeedDomain.html">NeedDomain</a></li>
<li><a href="compcert.backend.Registers.html">Registers</a></li>
<li><a href="compcert.backend.Renumber.html">Renumber</a></li>
<li><a href="compcert.backend.Renumberproof.html">Renumberproof</a></li>
<li><a href="compcert.backend.RTL.html">RTL</a></li>
<li><a href="compcert.backend.RTLgen.html">RTLgen</a></li>
<li><a href="compcert.backend.RTLgenproof.html">RTLgenproof</a></li>
<li><a href="compcert.backend.RTLgenspec.html">RTLgenspec</a></li>
<li><a href="compcert.backend.RTLtyping.html">RTLtyping</a></li>
<li><a href="compcert.backend.SelectDiv.html">SelectDiv</a></li>
<li><a href="compcert.backend.SelectDivproof.html">SelectDivproof</a></li>
<li><a href="compcert.backend.Selection.html">Selection</a></li>
<li><a href="compcert.backend.Selectionproof.html">Selectionproof</a></li>
<li><a href="compcert.backend.SplitLong.html">SplitLong</a></li>
<li><a href="compcert.backend.SplitLongproof.html">SplitLongproof</a></li>
<li><a href="compcert.backend.Stacking.html">Stacking</a></li>
<li><a href="compcert.backend.Stackingproof.html">Stackingproof</a></li>
<li><a href="compcert.backend.Tailcall.html">Tailcall</a></li>
<li><a href="compcert.backend.Tailcallproof.html">Tailcallproof</a></li>
<li><a href="compcert.backend.Tunneling.html">Tunneling</a></li>
<li><a href="compcert.backend.Tunnelingproof.html">Tunnelingproof</a></li>
<li><a href="compcert.backend.Unusedglob.html">Unusedglob</a></li>
<li><a href="compcert.backend.Unusedglobproof.html">Unusedglobproof</a></li>
<li><a href="compcert.backend.ValueAnalysis.html">ValueAnalysis</a></li>
<li><a href="compcert.backend.ValueDomain.html">ValueDomain</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cfrontend"><summary>cfrontend</summary>
          <ul>
          <li><a href="compcert.cfrontend.Cexec.html">Cexec</a></li>
<li><a href="compcert.cfrontend.Clight.html">Clight</a></li>
<li><a href="compcert.cfrontend.ClightBigstep.html">ClightBigstep</a></li>
<li><a href="compcert.cfrontend.Cminorgen.html">Cminorgen</a></li>
<li><a href="compcert.cfrontend.Cminorgenproof.html">Cminorgenproof</a></li>
<li><a href="compcert.cfrontend.Cop.html">Cop</a></li>
<li><a href="compcert.cfrontend.Csem.html">Csem</a></li>
<li><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></li>
<li><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></li>
<li><a href="compcert.cfrontend.Cshmgenproof.html">Cshmgenproof</a></li>
<li><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></li>
<li><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></li>
<li><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></li>
<li><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></li>
<li><a href="compcert.cfrontend.Initializers.html">Initializers</a></li>
<li><a href="compcert.cfrontend.Initializersproof.html">Initializersproof</a></li>
<li><a href="compcert.cfrontend.SimplExpr.html">SimplExpr</a></li>
<li><a href="compcert.cfrontend.SimplExprproof.html">SimplExprproof</a></li>
<li><a href="compcert.cfrontend.SimplExprspec.html">SimplExprspec</a></li>
<li><a href="compcert.cfrontend.SimplLocals.html">SimplLocals</a></li>
<li><a href="compcert.cfrontend.SimplLocalsproof.html">SimplLocalsproof</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.common"><summary>common</summary>
          <ul>
          <li><a href="compcert.common.AST.html">AST</a></li>
<li><a href="compcert.common.Behaviors.html">Behaviors</a></li>
<li><a href="compcert.common.Builtins.html">Builtins</a></li>
<li><a href="compcert.common.Builtins0.html">Builtins0</a></li>
<li><a href="compcert.common.Determinism.html">Determinism</a></li>
<li><a href="compcert.common.Errors.html">Errors</a></li>
<li><a href="compcert.common.Events.html">Events</a></li>
<li><a href="compcert.common.Globalenvs.html">Globalenvs</a></li>
<li><a href="compcert.common.Linking.html">Linking</a></li>
<li><a href="compcert.common.Memdata.html">Memdata</a></li>
<li><a href="compcert.common.Memory.html">Memory</a></li>
<li><a href="compcert.common.Memtype.html">Memtype</a></li>
<li><a href="compcert.common.Separation.html">Separation</a></li>
<li><a href="compcert.common.Smallstep.html">Smallstep</a></li>
<li><a href="compcert.common.Switch.html">Switch</a></li>
<li><a href="compcert.common.Unityping.html">Unityping</a></li>
<li><a href="compcert.common.Values.html">Values</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.cparser"><summary>cparser</summary>
          <ul>
          <li><a href="compcert.cparser.Cabs.html">Cabs</a></li>
<li><a href="compcert.cparser.Parser.html">Parser</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.driver"><summary>driver</summary>
          <ul>
          <li><a href="compcert.driver.Compiler.html">Compiler</a></li>
<li><a href="compcert.driver.Complements.html">Complements</a></li>
<li><a href="compcert.driver.Compopts.html">Compopts</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.lib"><summary>lib</summary>
          <ul>
          <li><a href="compcert.lib.Axioms.html">Axioms</a></li>
<li><a href="compcert.lib.BoolEqual.html">BoolEqual</a></li>
<li><a href="compcert.lib.Coqlib.html">Coqlib</a></li>
<li><a href="compcert.lib.Decidableplus.html">Decidableplus</a></li>
<li><a href="compcert.lib.Floats.html">Floats</a></li>
<li><a href="compcert.lib.FSetAVLplus.html">FSetAVLplus</a></li>
<li><a href="compcert.lib.Heaps.html">Heaps</a></li>
<li><a href="compcert.lib.IEEE754_extra.html">IEEE754_extra</a></li>
<li><a href="compcert.lib.Integers.html">Integers</a></li>
<li><a href="compcert.lib.Intv.html">Intv</a></li>
<li><a href="compcert.lib.IntvSets.html">IntvSets</a></li>
<li><a href="compcert.lib.Iteration.html">Iteration</a></li>
<li><a href="compcert.lib.Lattice.html">Lattice</a></li>
<li><a href="compcert.lib.Maps.html">Maps</a></li>
<li><a href="compcert.lib.Ordered.html">Ordered</a></li>
<li><a href="compcert.lib.Parmov.html">Parmov</a></li>
<li><a href="compcert.lib.Postorder.html">Postorder</a></li>
<li><a href="compcert.lib.UnionFind.html">UnionFind</a></li>
<li><a href="compcert.lib.Wfsimpl.html">Wfsimpl</a></li>
<li><a href="compcert.lib.Zbits.html">Zbits</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86"><summary>x86</summary>
          <ul>
          <li><a href="compcert.x86.Asm.html">Asm</a></li>
<li><a href="compcert.x86.Asmgen.html">Asmgen</a></li>
<li><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></li>
<li><a href="compcert.x86.Asmgenproof1.html">Asmgenproof1</a></li>
<li><a href="compcert.x86.Builtins1.html">Builtins1</a></li>
<li><a href="compcert.x86.CombineOp.html">CombineOp</a></li>
<li><a href="compcert.x86.CombineOpproof.html">CombineOpproof</a></li>
<li><a href="compcert.x86.ConstpropOp.html">ConstpropOp</a></li>
<li><a href="compcert.x86.ConstpropOpproof.html">ConstpropOpproof</a></li>
<li><a href="compcert.x86.Conventions1.html">Conventions1</a></li>
<li><a href="compcert.x86.Machregs.html">Machregs</a></li>
<li><a href="compcert.x86.NeedOp.html">NeedOp</a></li>
<li><a href="compcert.x86.Op.html">Op</a></li>
<li><a href="compcert.x86.SelectLong.html">SelectLong</a></li>
<li><a href="compcert.x86.SelectLongproof.html">SelectLongproof</a></li>
<li><a href="compcert.x86.SelectOp.html">SelectOp</a></li>
<li><a href="compcert.x86.SelectOpproof.html">SelectOpproof</a></li>
<li><a href="compcert.x86.Stacklayout.html">Stacklayout</a></li>
<li><a href="compcert.x86.ValueAOp.html">ValueAOp</a></li>
          </ul>
          </details>
          </li>
<li><details id="compcert.x86_64"><summary>x86_64</summary>
          <ul>
          <li><a href="compcert.x86_64.Archi.html">Archi</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Flocq"><summary>Flocq</summary>
          <ul>
          <li><details id="Flocq.Calc"><summary>Calc</summary>
          <ul>
          <li><a href="Flocq.Calc.Bracket.html">Bracket</a></li>
<li><a href="Flocq.Calc.Div.html">Div</a></li>
<li><a href="Flocq.Calc.Operations.html">Operations</a></li>
<li><a href="Flocq.Calc.Plus.html">Plus</a></li>
<li><a href="Flocq.Calc.Round.html">Round</a></li>
<li><a href="Flocq.Calc.Sqrt.html">Sqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Core"><summary>Core</summary>
          <ul>
          <li><a href="Flocq.Core.Core.html">Core</a></li>
<li><a href="Flocq.Core.Defs.html">Defs</a></li>
<li><a href="Flocq.Core.Digits.html">Digits</a></li>
<li><a href="Flocq.Core.FIX.html">FIX</a></li>
<li><a href="Flocq.Core.Float_prop.html">Float_prop</a></li>
<li><a href="Flocq.Core.FLT.html">FLT</a></li>
<li><a href="Flocq.Core.FLX.html">FLX</a></li>
<li><a href="Flocq.Core.FTZ.html">FTZ</a></li>
<li><a href="Flocq.Core.Generic_fmt.html">Generic_fmt</a></li>
<li><a href="Flocq.Core.Raux.html">Raux</a></li>
<li><a href="Flocq.Core.Round_NE.html">Round_NE</a></li>
<li><a href="Flocq.Core.Round_pred.html">Round_pred</a></li>
<li><a href="Flocq.Core.Ulp.html">Ulp</a></li>
<li><a href="Flocq.Core.Zaux.html">Zaux</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.IEEE754"><summary>IEEE754</summary>
          <ul>
          <li><a href="Flocq.IEEE754.Binary.html">Binary</a></li>
<li><a href="Flocq.IEEE754.BinarySingleNaN.html">BinarySingleNaN</a></li>
<li><a href="Flocq.IEEE754.Bits.html">Bits</a></li>
          </ul>
          </details>
          </li>
<li><details id="Flocq.Prop"><summary>Prop</summary>
          <ul>
          <li><a href="Flocq.Prop.Div_sqrt_error.html">Div_sqrt_error</a></li>
<li><a href="Flocq.Prop.Double_rounding.html">Double_rounding</a></li>
<li><a href="Flocq.Prop.Mult_error.html">Mult_error</a></li>
<li><a href="Flocq.Prop.Plus_error.html">Plus_error</a></li>
<li><a href="Flocq.Prop.Relative.html">Relative</a></li>
<li><a href="Flocq.Prop.Round_odd.html">Round_odd</a></li>
<li><a href="Flocq.Prop.Sterbenz.html">Sterbenz</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="MenhirLib"><summary>MenhirLib</summary>
          <ul>
          <li><a href="MenhirLib.Alphabet.html">Alphabet</a></li>
<li><a href="MenhirLib.Automaton.html">Automaton</a></li>
<li><a href="MenhirLib.Grammar.html">Grammar</a></li>
<li><a href="MenhirLib.Interpreter.html">Interpreter</a></li>
<li><a href="MenhirLib.Interpreter_complete.html">Interpreter_complete</a></li>
<li><a href="MenhirLib.Interpreter_correct.html">Interpreter_correct</a></li>
<li><a href="MenhirLib.Main.html">Main</a></li>
<li><a href="MenhirLib.Validator_classes.html">Validator_classes</a></li>
<li><a href="MenhirLib.Validator_complete.html">Validator_complete</a></li>
<li><a href="MenhirLib.Validator_safe.html">Validator_safe</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module ValueDomain</h1>
<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.funind.FunInd.html">FunInd</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html">Zwf</a></span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.lib.Zbits.html">Zbits</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span> <span class="id"><a href="compcert.lib.Lattice.html">Lattice</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.driver.Compopts.html">Compopts</a></span> <span class="id"><a href="compcert.common.AST.html">AST</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Builtins.html">Builtins</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="compcert.backend.Registers.html">Registers</a></span> <span class="id"><a href="compcert.backend.RTL.html">RTL</a></span>.<br/>
<br/>
<div class="doc">The abstract domains for value analysis </div>
<br/>
<span class="vernacular">Inductive</span> <span id="block_class" class="id"><a name="block_class" class="">block_class</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="BCinvalid" class="id"><a name="BCinvalid" class="">BCinvalid</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="BCglob" class="id"><a name="BCglob" class="">BCglob</a></span> (<span id="id:3" class="id"><a name="id:3" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="BCstack" class="id"><a name="BCstack" class="">BCstack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="BCother" class="id"><a name="BCother" class="">BCother</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="block_class_eq" class="id"><a name="block_class_eq" class="">block_class_eq:</a></span> <span class="gallina-kwd">forall</span> (<span id="x:4" class="id"><a name="x:4" class="">x</a></span> <span id="y:5" class="id"><a name="y:5" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_class">block_class</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da">{x=y}</a></span> <span class="id">+</span> <span class="id">{x&lt;&gt;y}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="id">decide</span> <span class="id">equality</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span>. Defined.</div>
<br/>
<span class="vernacular">Record</span> <span id="block_classification" class="id"><a name="block_classification" class="">block_classification</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id">BC</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="bc_img" class="id"><a name="bc_img" class="">bc_img</a></span> <span class="id">:&gt;</span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_class">block_class;</a></span><br/>
&nbsp;&nbsp;<span id="bc_stack" class="id"><a name="bc_stack" class="">bc_stack:</a></span> <span class="gallina-kwd">forall</span> <span id="b1:8" class="id"><a name="b1:8" class="">b1</a></span> <span id="b2:9" class="id"><a name="b2:9" class="">b2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_img:7">bc_img</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:8">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_img:7">bc_img</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:9">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:8">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:9">b2;</a></span><br/>
&nbsp;&nbsp;<span id="bc_glob" class="id"><a name="bc_glob" class="">bc_glob:</a></span> <span class="gallina-kwd">forall</span> <span id="b1:11" class="id"><a name="b1:11" class="">b1</a></span> <span id="b2:12" class="id"><a name="b2:12" class="">b2</a></span> <span id="id:13" class="id"><a name="id:13" class="">id,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_img:7">bc_img</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:11">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:13">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_img:7">bc_img</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:12">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:13">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:11">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:12">b2</a></span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="bc_below" class="id"><a name="bc_below" class="">bc_below</a></span> (<span id="bc:15" class="id"><a name="bc:15" class="">bc:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>) (<span id="bound:16" class="id"><a name="bound:16" class="">bound:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:17" class="id"><a name="b:17" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:15">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:17">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:17">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bound:16">bound</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bc_below_invalid" class="id"><a name="bc_below_invalid" class="">bc_below_invalid:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:18" class="id"><a name="b:18" class="">b</a></span> <span id="bc:19" class="id"><a name="bc:19" class="">bc</a></span> <span id="bound:20" class="id"><a name="bound:20" class="">bound,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~Plt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:18">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bound:20">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_below">bc_below</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:19">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bound:20">bound</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:19">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:18">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#block_class_eq">block_class_eq</a></span> (<span class="id">bc</span> <span class="id">b</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">congruence</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">congruence</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">extlia</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">extlia</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">extlia</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">2</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">extlia</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="MATCH" class="id"><a name="MATCH" class="">MATCH</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="MATCH.bc" class="id"><a name="MATCH.bc" class="">bc:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>.<br/>
<br/>
<h1> Abstracting the result of conditions (type <span class="bracket"><span class="id">option</span> <span class="id">bool</span></span>) </h1>
<br/>
<span class="vernacular">Inductive</span> <span id="abool" class="id"><a name="abool" class="">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Bnone" class="id"><a name="Bnone" class="">Bnone</a></span>               <span class="docright">(* always <span class="bracket"><span class="id">None</span></span> (undefined)  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Just" class="id"><a name="Just" class="">Just</a></span> (<span id="b:24" class="id"><a name="b:24" class="">b:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)      <span class="docright">(* always <span class="bracket"><span class="id">Some</span> <span class="id">b</span></span> (defined and known to be <span class="bracket"><span class="id">b</span></span>)  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Maybe" class="id"><a name="Maybe" class="">Maybe</a></span> (<span id="b:25" class="id"><a name="b:25" class="">b:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)     <span class="docright">(* either <span class="bracket"><span class="id">None</span></span> or <span class="bracket"><span class="id">Some</span> <span class="id">b</span></span> (known to be <span class="bracket"><span class="id">b</span></span> if defined)  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Btop" class="id"><a name="Btop" class="">Btop</a></span>.               <span class="docright">(* unknown, all results are possible  *)</span><br/>
<br/>
<span class="vernacular">Inductive</span> <span id="cmatch" class="id"><a name="cmatch" class="">cmatch:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="cmatch_none" class="id"><a name="cmatch_none" class="">cmatch_none:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch:26">cmatch</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="cmatch_just" class="id"><a name="cmatch_just" class="">cmatch_just:</a></span> <span class="gallina-kwd">forall</span> <span id="b:28" class="id"><a name="b:28" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch:26">cmatch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:28">b</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:28">b</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="cmatch_maybe_none" class="id"><a name="cmatch_maybe_none" class="">cmatch_maybe_none:</a></span> <span class="gallina-kwd">forall</span> <span id="b:29" class="id"><a name="b:29" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch:26">cmatch</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:29">b</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="cmatch_maybe_some" class="id"><a name="cmatch_maybe_some" class="">cmatch_maybe_some:</a></span> <span class="gallina-kwd">forall</span> <span id="b:30" class="id"><a name="b:30" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch:26">cmatch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:30">b</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:30">b</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="cmatch_top" class="id"><a name="cmatch_top" class="">cmatch_top:</a></span> <span class="gallina-kwd">forall</span> <span id="ob:31" class="id"><a name="ob:31" class="">ob,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch:26">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:31">ob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span>.<br/>
<br/>
<span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="club" class="id"><a name="club" class="">club</a></span> (<span id="x:32" class="id"><a name="x:32" class="">x</a></span> <span id="y:33" class="id"><a name="y:33" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:32">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:33">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">eqb</a></span> <span class="id">b1</span> <span class="id">b2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:32">x</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">eqb</a></span> <span class="id">b1</span> <span class="id">b2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:32">x</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">eqb</a></span> <span class="id">b1</span> <span class="id">b2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:32">x</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">eqb</a></span> <span class="id">b1</span> <span class="id">b2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:33">y</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmatch_lub_l" class="id"><a name="cmatch_lub_l" class="">cmatch_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ob:36" class="id"><a name="ob:36" class="">ob</a></span> <span id="x:37" class="id"><a name="x:37" class="">x</a></span> <span id="y:38" class="id"><a name="y:38" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:36">ob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:37">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:36">ob</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#club">club</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:37">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:38">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#club">club;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">destruct</span> <span class="id">y;</span> <span class="id">try</span> <span class="id">constructor;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">eqb</a></span> <span class="id">b</span> <span class="id">b0</span>) <span class="id">eqn:EQ;</span> <span class="id">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">b0</span> <span class="gallina-kwd">with</span> <span class="id">b</span> <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb_prop">eqb_prop;</a></span> <span class="id">auto</span>). <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmatch_lub_r" class="id"><a name="cmatch_lub_r" class="">cmatch_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ob:39" class="id"><a name="ob:39" class="">ob</a></span> <span id="x:40" class="id"><a name="x:40" class="">x</a></span> <span id="y:41" class="id"><a name="y:41" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:39">ob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:41">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:39">ob</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#club">club</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:40">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:41">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#club">club;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">destruct</span> <span class="id">x;</span> <span class="id">try</span> <span class="id">constructor;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">eqb</a></span> <span class="id">b0</span> <span class="id">b</span>) <span class="id">eqn:EQ;</span> <span class="id">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">b</span> <span class="gallina-kwd">with</span> <span class="id">b0</span> <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb_prop">eqb_prop;</a></span> <span class="id">auto</span>). <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">b</span> <span class="gallina-kwd">with</span> <span class="id">b0</span> <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb_prop">eqb_prop;</a></span> <span class="id">auto</span>). <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">b</span> <span class="gallina-kwd">with</span> <span class="id">b0</span> <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#eqb_prop">eqb_prop;</a></span> <span class="id">auto</span>). <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cnot" class="id"><a name="cnot" class="">cnot</a></span> (<span id="x:42" class="id"><a name="x:42" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:42">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">b</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">b</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:42">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cnot_sound" class="id"><a name="cnot_sound" class="">cnot_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ob:44" class="id"><a name="ob:44" class="">ob</a></span> <span id="x:45" class="id"><a name="x:45" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:44">ob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:45">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:44">ob</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cnot">cnot</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:45">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<h1> Abstracting pointers </h1>
<br/>
<span class="vernacular">Inductive</span> <span id="aptr" class="id"><a name="aptr" class="">aptr</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Pbot" class="id"><a name="Pbot" class="">Pbot</a></span>                         <span class="docright">(* bottom (empty set of pointers)  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Gl" class="id"><a name="Gl" class="">Gl</a></span> (<span id="id:48" class="id"><a name="id:48" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span id="ofs:49" class="id"><a name="ofs:49" class="">ofs:</a></span> <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) <span class="docright">(* pointer into the block for global variable <span class="bracket"><span class="id">id</span></span> at offset <span class="bracket"><span class="id">ofs</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Glo" class="id"><a name="Glo" class="">Glo</a></span> (<span id="id:50" class="id"><a name="id:50" class="">id:</a></span> <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>)              <span class="docright">(* pointer anywhere into the block for global <span class="bracket"><span class="id">id</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Glob" class="id"><a name="Glob" class="">Glob</a></span>                         <span class="docright">(* pointer into any global variable  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Stk" class="id"><a name="Stk" class="">Stk</a></span> (<span id="ofs:51" class="id"><a name="ofs:51" class="">ofs:</a></span> <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>)            <span class="docright">(* pointer into the current stack frame at offset <span class="bracket"><span class="id">ofs</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Stack" class="id"><a name="Stack" class="">Stack</a></span>                        <span class="docright">(* pointer anywhere into the current stack frame  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Nonstack" class="id"><a name="Nonstack" class="">Nonstack</a></span>                     <span class="docright">(* pointer anywhere but into the current stack frame  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Ptop" class="id"><a name="Ptop" class="">Ptop</a></span>.                        <span class="docright">(* any valid pointer  *)</span><br/>
<br/>
<span class="vernacular">Definition</span> <span id="eq_aptr" class="id"><a name="eq_aptr" class="">eq_aptr:</a></span> <span class="gallina-kwd">forall</span> (<span id="p1:52" class="id"><a name="p1:52" class="">p1</a></span> <span id="p2:53" class="id"><a name="p2:53" class="">p2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da">{p1=p2}</a></span> <span class="id">+</span> <span class="id">{p1&lt;&gt;p2}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">decide</span> <span class="id">equality</span>.<br/>
Defined.</div>
<br/>
<span class="vernacular">Inductive</span> <span id="pmatch" class="id"><a name="pmatch" class="">pmatch</a></span> (<span id="b:54" class="id"><a name="b:54" class="">b:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="ofs:55" class="id"><a name="ofs:55" class="">ofs:</a></span> <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pmatch_gl" class="id"><a name="pmatch_gl" class="">pmatch_gl:</a></span> <span class="gallina-kwd">forall</span> <span id="id:58" class="id"><a name="id:58" class="">id,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:58">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch:56">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:58">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pmatch_glo" class="id"><a name="pmatch_glo" class="">pmatch_glo:</a></span> <span class="gallina-kwd">forall</span> <span id="id:59" class="id"><a name="id:59" class="">id,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:59">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch:56">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:59">id</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pmatch_glob" class="id"><a name="pmatch_glob" class="">pmatch_glob:</a></span> <span class="gallina-kwd">forall</span> <span id="id:60" class="id"><a name="id:60" class="">id,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:60">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch:56">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pmatch_stk" class="id"><a name="pmatch_stk" class="">pmatch_stk:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch:56">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pmatch_stack" class="id"><a name="pmatch_stack" class="">pmatch_stack:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch:56">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pmatch_nonstack" class="id"><a name="pmatch_nonstack" class="">pmatch_nonstack:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch:56">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pmatch_top" class="id"><a name="pmatch_top" class="">pmatch_top:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch:56">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:54">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:55">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>.<br/>
<br/>
<span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch:</a></span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="pge" class="id"><a name="pge" class="">pge:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_top" class="id"><a name="pge_top" class="">pge_top:</a></span> <span class="gallina-kwd">forall</span> <span id="p:63" class="id"><a name="p:63" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:63">p</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_bot" class="id"><a name="pge_bot" class="">pge_bot:</a></span> <span class="gallina-kwd">forall</span> <span id="p:64" class="id"><a name="p:64" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:64">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_refl" class="id"><a name="pge_refl" class="">pge_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="p:65" class="id"><a name="p:65" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:65">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:65">p</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_glo_gl" class="id"><a name="pge_glo_gl" class="">pge_glo_gl:</a></span> <span class="gallina-kwd">forall</span> <span id="id:66" class="id"><a name="id:66" class="">id</a></span> <span id="ofs:67" class="id"><a name="ofs:67" class="">ofs,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:66">id</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:66">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:67">ofs</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_glob_gl" class="id"><a name="pge_glob_gl" class="">pge_glob_gl:</a></span> <span class="gallina-kwd">forall</span> <span id="id:68" class="id"><a name="id:68" class="">id</a></span> <span id="ofs:69" class="id"><a name="ofs:69" class="">ofs,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:68">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:69">ofs</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_glob_glo" class="id"><a name="pge_glob_glo" class="">pge_glob_glo:</a></span> <span class="gallina-kwd">forall</span> <span id="id:70" class="id"><a name="id:70" class="">id,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:70">id</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_ns_gl" class="id"><a name="pge_ns_gl" class="">pge_ns_gl:</a></span> <span class="gallina-kwd">forall</span> <span id="id:71" class="id"><a name="id:71" class="">id</a></span> <span id="ofs:72" class="id"><a name="ofs:72" class="">ofs,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:71">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:72">ofs</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_ns_glo" class="id"><a name="pge_ns_glo" class="">pge_ns_glo:</a></span> <span class="gallina-kwd">forall</span> <span id="id:73" class="id"><a name="id:73" class="">id,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:73">id</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_ns_glob" class="id"><a name="pge_ns_glob" class="">pge_ns_glob:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="pge_stack_stk" class="id"><a name="pge_stack_stk" class="">pge_stack_stk:</a></span> <span class="gallina-kwd">forall</span> <span id="ofs:74" class="id"><a name="ofs:74" class="">ofs,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge:61">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:74">ofs</a></span>).<br/>
<br/>
<span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge:</a></span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="pge_trans" class="id"><a name="pge_trans" class="">pge_trans:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:75" class="id"><a name="p:75" class="">p</a></span> <span id="q:76" class="id"><a name="q:76" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:75">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:76">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="r:77" class="id"><a name="r:77" class="">r,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:76">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#r:77">r</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:75">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#r:77">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">r</span> <span class="id">PM;</span> <span class="id">inv</span> <span class="id">PM;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_ge" class="id"><a name="pmatch_ge" class="">pmatch_ge:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:78" class="id"><a name="b:78" class="">b</a></span> <span id="ofs:79" class="id"><a name="ofs:79" class="">ofs</a></span> <span id="p:80" class="id"><a name="p:80" class="">p</a></span> <span id="q:81" class="id"><a name="q:81" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:80">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:81">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:78">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:79">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:81">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:78">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:79">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:80">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">PM;</span> <span class="id">inv</span> <span class="id">PM;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_top'" class="id"><a name="pmatch_top'" class="">pmatch_top':</a></span> <span class="gallina-kwd">forall</span> <span id="b:82" class="id"><a name="b:82" class="">b</a></span> <span id="ofs:83" class="id"><a name="ofs:83" class="">ofs</a></span> <span id="p:84" class="id"><a name="p:84" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:82">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:83">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:84">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:82">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:83">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_ge">pmatch_ge</a></span> <span class="gallina-kwd">with</span> <span class="id">p;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="plub" class="id"><a name="plub" class="">plub</a></span> (<span id="p:85" class="id"><a name="p:85" class="">p</a></span> <span id="q:86" class="id"><a name="q:86" class="">q:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:85">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:86">q</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:86">q</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:85">p</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id2</span> <span class="id">ofs2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:85">p</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:86">q</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id2</span> <span class="id">ofs2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:85">p</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:85">p</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:85">p</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="plub_comm" class="id"><a name="plub_comm" class="">plub_comm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:89" class="id"><a name="p:89" class="">p</a></span> <span id="q:90" class="id"><a name="q:90" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:89">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:90">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:90">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:89">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub;</a></span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">destruct</span> <span class="id">q;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">subst</span> <span class="id">id0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>). <span class="id">subst</span> <span class="id">ofs0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">subst</span> <span class="id">id0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">subst</span> <span class="id">id0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">subst</span> <span class="id">id0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>). <span class="id">subst</span> <span class="id">ofs0</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pge_lub_l" class="id"><a name="pge_lub_l" class="">pge_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:91" class="id"><a name="p:91" class="">p</a></span> <span id="q:92" class="id"><a name="q:92" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:91">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:92">q</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#p:91">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub;</a></span> <span class="id">destruct</span> <span class="id">p,</span> <span class="id">q;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>)<span class="id">;</span> <span class="id">subst;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">subst;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">subst;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">subst;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>)<span class="id">;</span> <span class="id">subst;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pge_lub_r" class="id"><a name="pge_lub_r" class="">pge_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:93" class="id"><a name="p:93" class="">p</a></span> <span id="q:94" class="id"><a name="q:94" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:93">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:94">q</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:94">q</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub_comm">plub_comm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge_lub_l">pge_lub_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_lub_l" class="id"><a name="pmatch_lub_l" class="">pmatch_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:95" class="id"><a name="b:95" class="">b</a></span> <span id="ofs:96" class="id"><a name="ofs:96" class="">ofs</a></span> <span id="p:97" class="id"><a name="p:97" class="">p</a></span> <span id="q:98" class="id"><a name="q:98" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:95">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:96">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:97">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:95">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:96">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:97">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:98">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_ge">pmatch_ge;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge_lub_l">pge_lub_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_lub_r" class="id"><a name="pmatch_lub_r" class="">pmatch_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:99" class="id"><a name="b:99" class="">b</a></span> <span id="ofs:100" class="id"><a name="ofs:100" class="">ofs</a></span> <span id="p:101" class="id"><a name="p:101" class="">p</a></span> <span id="q:102" class="id"><a name="q:102" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:99">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:100">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:102">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:99">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:100">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:101">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:102">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_ge">pmatch_ge;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge_lub_r">pge_lub_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="plub_least" class="id"><a name="plub_least" class="">plub_least:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:103" class="id"><a name="r:103" class="">r</a></span> <span id="p:104" class="id"><a name="p:104" class="">p</a></span> <span id="q:105" class="id"><a name="q:105" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#r:103">r</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:104">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#r:103">r</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:105">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#r:103">r</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:104">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:105">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub;</a></span> <span class="id">destruct</span> <span class="id">q;</span> <span class="id">repeat</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true;</a></span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>)<span class="id">;</span> <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>)<span class="id">;</span> <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs</span> <span class="id">ofs0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="pincl" class="id"><a name="pincl" class="">pincl</a></span> (<span id="p:106" class="id"><a name="p:106" class="">p</a></span> <span id="q:107" class="id"><a name="q:107" class="">q:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:106">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:107">q</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id2</span> <span class="id">ofs2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs1</span> <span class="id">ofs2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">ofs1</span> <span class="id">ofs2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="pincl_ge" class="id"><a name="pincl_ge" class="">pincl_ge:</a></span> <span class="gallina-kwd">forall</span> <span id="p:110" class="id"><a name="p:110" class="">p</a></span> <span id="q:111" class="id"><a name="q:111" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:110">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:111">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:111">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:110">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl;</a></span> <span class="id">destruct</span> <span class="id">p,</span> <span class="id">q;</span> <span class="id">intros;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span><br/>
&nbsp;&nbsp;<span class="id">InvBooleans;</span> <span class="id">subst;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge_pincl" class="id"><a name="ge_pincl" class="">ge_pincl:</a></span> <span class="gallina-kwd">forall</span> <span id="p:112" class="id"><a name="p:112" class="">p</a></span> <span id="q:113" class="id"><a name="q:113" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:112">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:113">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:113">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:112">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">p;</span> <span class="id">simpl;</span> <span class="id">auto;</span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_is_true">proj_sumbool_is_true;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_is_true">proj_sumbool_is_true;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pincl_sound" class="id"><a name="pincl_sound" class="">pincl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:114" class="id"><a name="b:114" class="">b</a></span> <span id="ofs:115" class="id"><a name="ofs:115" class="">ofs</a></span> <span id="p:116" class="id"><a name="p:116" class="">p</a></span> <span id="q:117" class="id"><a name="q:117" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:116">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:117">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:114">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:115">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:116">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:114">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:115">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:117">q</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_ge">pmatch_ge;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl_ge">pincl_ge;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="padd" class="id"><a name="padd" class="">padd</a></span> (<span id="p:118" class="id"><a name="p:118" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="n:119" class="id"><a name="n:119" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:118">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:119">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:119">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:118">p</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="padd_sound" class="id"><a name="padd_sound" class="">padd_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:121" class="id"><a name="b:121" class="">b</a></span> <span id="ofs:122" class="id"><a name="ofs:122" class="">ofs</a></span> <span id="p:123" class="id"><a name="p:123" class="">p</a></span> <span id="delta:124" class="id"><a name="delta:124" class="">delta,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:121">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:122">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:123">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:121">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:122">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#delta:124">delta</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#padd">padd</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:123">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#delta:124">delta</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl</span> <span class="id">padd;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="psub" class="id"><a name="psub" class="">psub</a></span> (<span id="p:125" class="id"><a name="p:125" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="n:126" class="id"><a name="n:126" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:125">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:126">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:126">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:125">p</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="psub_sound" class="id"><a name="psub_sound" class="">psub_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:128" class="id"><a name="b:128" class="">b</a></span> <span id="ofs:129" class="id"><a name="ofs:129" class="">ofs</a></span> <span id="p:130" class="id"><a name="p:130" class="">p</a></span> <span id="delta:131" class="id"><a name="delta:131" class="">delta,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:128">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:129">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:130">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:128">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:129">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#delta:131">delta</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#psub">psub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:130">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#delta:131">delta</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl</span> <span class="id">psub;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="poffset" class="id"><a name="poffset" class="">poffset</a></span> (<span id="p:132" class="id"><a name="p:132" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:132">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:132">p</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="poffset_sound" class="id"><a name="poffset_sound" class="">poffset_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:134" class="id"><a name="b:134" class="">b</a></span> <span id="ofs1:135" class="id"><a name="ofs1:135" class="">ofs1</a></span> <span id="ofs2:136" class="id"><a name="ofs2:136" class="">ofs2</a></span> <span id="p:137" class="id"><a name="p:137" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:134">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:135">ofs1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:137">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:134">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:136">ofs2</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:137">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl</span> <span class="id">poffset;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cmp_different_blocks" class="id"><a name="cmp_different_blocks" class="">cmp_different_blocks</a></span> (<span id="c:138" class="id"><a name="c:138" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:138">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_different_blocks_none" class="id"><a name="cmp_different_blocks_none" class="">cmp_different_blocks_none:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:140" class="id"><a name="c:140" class="">c,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:140">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">destruct</span> <span class="id">c;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_different_blocks_sound" class="id"><a name="cmp_different_blocks_sound" class="">cmp_different_blocks_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:141" class="id"><a name="c:141" class="">c,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:141">c</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:141">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">destruct</span> <span class="id">c;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="pcmp" class="id"><a name="pcmp" class="">pcmp</a></span> (<span id="c:142" class="id"><a name="c:142" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="p1:143" class="id"><a name="p1:143" class="">p1</a></span> <span id="p2:144" class="id"><a name="p2:144" class="">p2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:143">p1,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:144">p2</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot,</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id2</span> <span class="id">ofs2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.cmpu">Ptrofs.cmpu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span> <span class="id">ofs1</span> <span class="id">ofs2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id2</span> <span class="id">ofs2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.cmpu">Ptrofs.cmpu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span> <span class="id">ofs1</span> <span class="id">ofs2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:142">c</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="pcmp_sound" class="id"><a name="pcmp_sound" class="">pcmp_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="valid:147" class="id"><a name="valid:147" class="">valid</a></span> <span id="c:148" class="id"><a name="c:148" class="">c</a></span> <span id="b1:149" class="id"><a name="b1:149" class="">b1</a></span> <span id="ofs1:150" class="id"><a name="ofs1:150" class="">ofs1</a></span> <span id="p1:151" class="id"><a name="p1:151" class="">p1</a></span> <span id="b2:152" class="id"><a name="b2:152" class="">b2</a></span> <span id="ofs2:153" class="id"><a name="ofs2:153" class="">ofs2</a></span> <span id="p2:154" class="id"><a name="p2:154" class="">p2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:149">b1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:150">ofs1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:151">p1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:152">b2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:153">ofs2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:154">p2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#valid:147">valid</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:148">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:149">b1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:150">ofs1</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:152">b2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:153">ofs2</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:148">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:151">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:154">p2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DIFF:</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">b2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>) &amp;&amp; <span class="id">valid</span> <span class="id">b2</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_sound">cmp_different_blocks_sound</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAME:</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.cmpu">Ptrofs.cmpu</a></span> <span class="id">c</span> <span class="id">ofs1</span> <span class="id">ofs2</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">b2</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> ((<span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)))<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> (<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top</a></span> <span class="id">||</span> (<span class="id">apply</span> <span class="id">DIFF;</span> <span class="id">congruence</span>) <span class="id">||</span> <span class="id">idtac</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">subst</span> <span class="id">id0</span>. <span class="id">apply</span> <span class="id">SAME</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_glob">bc_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id">SAME</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_stack">bc_stack;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pcmp_sound_64" class="id"><a name="pcmp_sound_64" class="">pcmp_sound_64:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="valid:155" class="id"><a name="valid:155" class="">valid</a></span> <span id="c:156" class="id"><a name="c:156" class="">c</a></span> <span id="b1:157" class="id"><a name="b1:157" class="">b1</a></span> <span id="ofs1:158" class="id"><a name="ofs1:158" class="">ofs1</a></span> <span id="p1:159" class="id"><a name="p1:159" class="">p1</a></span> <span id="b2:160" class="id"><a name="b2:160" class="">b2</a></span> <span id="ofs2:161" class="id"><a name="ofs2:161" class="">ofs2</a></span> <span id="p2:162" class="id"><a name="p2:162" class="">p2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:157">b1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:158">ofs1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:159">p1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:160">b2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:161">ofs2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:162">p2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#valid:155">valid</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:156">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:157">b1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:158">ofs1</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:160">b2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:161">ofs2</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:156">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:159">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:162">p2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DIFF:</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">b2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>) &amp;&amp; <span class="id">valid</span> <span class="id">b2</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_sound">cmp_different_blocks_sound</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SAME:</span> <span class="id">b1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.cmpu">Ptrofs.cmpu</a></span> <span class="id">c</span> <span class="id">ofs1</span> <span class="id">ofs2</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">subst</span> <span class="id">b2</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> ((<span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) &amp;&amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b1</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)))<span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> (<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top</a></span> <span class="id">||</span> (<span class="id">apply</span> <span class="id">DIFF;</span> <span class="id">congruence</span>) <span class="id">||</span> <span class="id">idtac</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">subst</span> <span class="id">id0</span>. <span class="id">apply</span> <span class="id">SAME</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_glob">bc_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id">SAME</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_stack">bc_stack;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pcmp_none" class="id"><a name="pcmp_none" class="">pcmp_none:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:163" class="id"><a name="c:163" class="">c</a></span> <span id="p1:164" class="id"><a name="p1:164" class="">p1</a></span> <span id="p2:165" class="id"><a name="p2:165" class="">p2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:163">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:164">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:165">p2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp;</a></span> <span class="id">destruct</span> <span class="id">p1;</span> <span class="id">try</span> <span class="id">constructor;</span> <span class="id">destruct</span> <span class="id">p2;</span><br/>
&nbsp;&nbsp;<span class="id">try</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">id0</span>))<span class="id">;</span>  <span class="id">try</span> <span class="id">constructor;</span> <span class="id">try</span> (<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="pdisjoint" class="id"><a name="pdisjoint" class="">pdisjoint</a></span> (<span id="p1:166" class="id"><a name="p1:166" class="">p1:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="sz1:167" class="id"><a name="sz1:167" class="">sz1:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="p2:168" class="id"><a name="p2:168" class="">p2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="sz2:169" class="id"><a name="sz2:169" class="">sz2:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:166">p1,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:168">p2</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id2</span> <span class="id">ofs2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz1:167">sz1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz2:169">sz2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id1</span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span>(<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">id2</span> <span class="id">ofs2</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span>(<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">id2</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span>(<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id1</span> <span class="id">id2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz1:167">sz1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz2:169">sz2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="pdisjoint_sound" class="id"><a name="pdisjoint_sound" class="">pdisjoint_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sz1:172" class="id"><a name="sz1:172" class="">sz1</a></span> <span id="b1:173" class="id"><a name="b1:173" class="">b1</a></span> <span id="ofs1:174" class="id"><a name="ofs1:174" class="">ofs1</a></span> <span id="p1:175" class="id"><a name="p1:175" class="">p1</a></span> <span id="sz2:176" class="id"><a name="sz2:176" class="">sz2</a></span> <span id="b2:177" class="id"><a name="b2:177" class="">b2</a></span> <span id="ofs2:178" class="id"><a name="ofs2:178" class="">ofs2</a></span> <span id="p2:179" class="id"><a name="p2:179" class="">p2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pdisjoint">pdisjoint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:175">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz1:172">sz1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:179">p2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz2:176">sz2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b1:173">b1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:174">ofs1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:175">p1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:177">b2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:178">ofs2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:179">p2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#b1:173">b1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b2:177">b2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:174">ofs1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz1:172">sz1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:178">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs2:178">ofs2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz2:176">sz2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs1:174">ofs1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H1;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">try</span> (<span class="id">left;</span> <span class="id">congruence</span>).<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>). <span class="id">subst</span> <span class="id">id0</span>. <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_elim">orb_true_elim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">InvBooleans;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">left;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">left;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">left;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>)<span class="id">;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">left;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_elim">orb_true_elim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>)<span class="id">;</span> <span class="id">InvBooleans;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Abstracting values </h1>
<br/>
<span class="vernacular">Inductive</span> <span id="aval" class="id"><a name="aval" class="">aval</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Vbot" class="id"><a name="Vbot" class="">Vbot</a></span>                     <span class="docright">(* bottom (empty set of values)  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="I" class="id"><a name="I" class="">I</a></span> (<span id="n:182" class="id"><a name="n:182" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>)               <span class="docright">(* exactly <span class="bracket"><span class="id">Vint</span> <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Uns" class="id"><a name="Uns" class="">Uns</a></span> (<span id="p:183" class="id"><a name="p:183" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="n:184" class="id"><a name="n:184" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)     <span class="docright">(* a <span class="bracket"><span class="id">n</span></span>-bit unsigned integer, or <span class="bracket"><span class="id">Vundef</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Sgn" class="id"><a name="Sgn" class="">Sgn</a></span> (<span id="p:185" class="id"><a name="p:185" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="n:186" class="id"><a name="n:186" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)     <span class="docright">(* a <span class="bracket"><span class="id">n</span></span>-bit signed integer, or <span class="bracket"><span class="id">Vundef</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="L" class="id"><a name="L" class="">L</a></span> (<span id="n:187" class="id"><a name="n:187" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>)             <span class="docright">(* exactly <span class="bracket"><span class="id">Vlong</span> <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="F" class="id"><a name="F" class="">F</a></span> (<span id="f:188" class="id"><a name="f:188" class="">f:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>)             <span class="docright">(* exactly <span class="bracket"><span class="id">Vfloat</span> <span class="id">f</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="FS" class="id"><a name="FS" class="">FS</a></span> (<span id="f:189" class="id"><a name="f:189" class="">f:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>)          <span class="docright">(* exactly <span class="bracket"><span class="id">Vsingle</span> <span class="id">f</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Num" class="id"><a name="Num" class="">Num</a></span> (<span id="p:190" class="id"><a name="p:190" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>)            <span class="docright">(* any number, or <span class="bracket"><span class="id">Vundef</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Ptr" class="id"><a name="Ptr" class="">Ptr</a></span> (<span id="p:191" class="id"><a name="p:191" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>)            <span class="docright">(* a pointer from the set <span class="bracket"><span class="id">p</span></span>, or <span class="bracket"><span class="id">Vundef</span></span>  *)</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="Ifptr" class="id"><a name="Ifptr" class="">Ifptr</a></span> (<span id="p:192" class="id"><a name="p:192" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>).         <span class="docright">(* a pointer from the set <span class="bracket"><span class="id">p</span></span>, or a number, or <span class="bracket"><span class="id">Vundef</span></span>  *)</span><br/>
<br/>
<div class="doc">The "top" of the value domain is defined as any pointer, or any
    number, or <span class="bracket"><span class="id">Vundef</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="Vtop" class="id"><a name="Vtop" class="">Vtop</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>.<br/>
<br/>
<div class="doc">The <span class="bracket"><span class="id">p</span></span> parameter (an abstract pointer) to <span class="bracket"><span class="id">Uns</span></span>, <span class="bracket"><span class="id">Sgn</span></span> and <span class="bracket"><span class="id">Num</span></span> helps keeping
  track of pointers that leak through arithmetic operations such as shifts.
  See the section "Tracking leakage of pointers" below. </div>
<br/>
<span class="vernacular">Definition</span> <span id="eq_aval" class="id"><a name="eq_aval" class="">eq_aval:</a></span> <span class="gallina-kwd">forall</span> (<span id="v1:193" class="id"><a name="v1:193" class="">v1</a></span> <span id="v2:194" class="id"><a name="v2:194" class="">v2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da">{v1=v2}</a></span> <span class="id">+</span> <span class="id">{v1&lt;&gt;v2}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_dec">Int64.eq_dec</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.eq_dec">Float.eq_dec</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.eq_dec">Float32.eq_dec</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq_aptr">eq_aptr;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">decide</span> <span class="id">equality</span>.<br/>
Defined.</div>
<br/>
<span class="vernacular">Definition</span> <span id="is_uns" class="id"><a name="is_uns" class="">is_uns</a></span> (<span id="n:195" class="id"><a name="n:195" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="i:196" class="id"><a name="i:196" class="">i:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:197" class="id"><a name="m:197" class="">m,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:197">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:197">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:195">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:196">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:197">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="is_sgn" class="id"><a name="is_sgn" class="">is_sgn</a></span> (<span id="n:198" class="id"><a name="n:198" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="i:199" class="id"><a name="i:199" class="">i:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:200" class="id"><a name="m:200" class="">m,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:200">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:200">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:198">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:199">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:200">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:199">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>).<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="vmatch" class="id"><a name="vmatch" class="">vmatch</a></span> <span class="id">:</span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_i" class="id"><a name="vmatch_i" class="">vmatch_i:</a></span> <span class="gallina-kwd">forall</span> <span id="i:203" class="id"><a name="i:203" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:203">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:203">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_Uns" class="id"><a name="vmatch_Uns" class="">vmatch_Uns:</a></span> <span class="gallina-kwd">forall</span> <span id="p:204" class="id"><a name="p:204" class="">p</a></span> <span id="i:205" class="id"><a name="i:205" class="">i</a></span> <span id="n:206" class="id"><a name="n:206" class="">n,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:206">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:206">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:205">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:205">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:204">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:206">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_Uns_undef" class="id"><a name="vmatch_Uns_undef" class="">vmatch_Uns_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="p:207" class="id"><a name="p:207" class="">p</a></span> <span id="n:208" class="id"><a name="n:208" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:207">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:208">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_Sgn" class="id"><a name="vmatch_Sgn" class="">vmatch_Sgn:</a></span> <span class="gallina-kwd">forall</span> <span id="p:209" class="id"><a name="p:209" class="">p</a></span> <span id="i:210" class="id"><a name="i:210" class="">i</a></span> <span id="n:211" class="id"><a name="n:211" class="">n,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:211">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:211">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:210">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:210">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:209">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:211">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_Sgn_undef" class="id"><a name="vmatch_Sgn_undef" class="">vmatch_Sgn_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="p:212" class="id"><a name="p:212" class="">p</a></span> <span id="n:213" class="id"><a name="n:213" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:212">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:213">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_l" class="id"><a name="vmatch_l" class="">vmatch_l:</a></span> <span class="gallina-kwd">forall</span> <span id="i:214" class="id"><a name="i:214" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:214">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:214">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_f" class="id"><a name="vmatch_f" class="">vmatch_f:</a></span> <span class="gallina-kwd">forall</span> <span id="f:215" class="id"><a name="f:215" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:215">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:215">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_s" class="id"><a name="vmatch_s" class="">vmatch_s:</a></span> <span class="gallina-kwd">forall</span> <span id="f:216" class="id"><a name="f:216" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:216">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:216">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_num_undef" class="id"><a name="vmatch_num_undef" class="">vmatch_num_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="p:217" class="id"><a name="p:217" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:217">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_num_i" class="id"><a name="vmatch_num_i" class="">vmatch_num_i:</a></span> <span class="gallina-kwd">forall</span> <span id="i:218" class="id"><a name="i:218" class="">i</a></span> <span id="p:219" class="id"><a name="p:219" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:218">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:219">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_num_l" class="id"><a name="vmatch_num_l" class="">vmatch_num_l:</a></span> <span class="gallina-kwd">forall</span> <span id="i:220" class="id"><a name="i:220" class="">i</a></span> <span id="p:221" class="id"><a name="p:221" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:220">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:221">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_num_f" class="id"><a name="vmatch_num_f" class="">vmatch_num_f:</a></span> <span class="gallina-kwd">forall</span> <span id="f:222" class="id"><a name="f:222" class="">f</a></span> <span id="p:223" class="id"><a name="p:223" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:222">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:223">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_num_s" class="id"><a name="vmatch_num_s" class="">vmatch_num_s:</a></span> <span class="gallina-kwd">forall</span> <span id="f:224" class="id"><a name="f:224" class="">f</a></span> <span id="p:225" class="id"><a name="p:225" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:224">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:225">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ptr" class="id"><a name="vmatch_ptr" class="">vmatch_ptr:</a></span> <span class="gallina-kwd">forall</span> <span id="b:226" class="id"><a name="b:226" class="">b</a></span> <span id="ofs:227" class="id"><a name="ofs:227" class="">ofs</a></span> <span id="p:228" class="id"><a name="p:228" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:226">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:227">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:228">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:226">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:227">ofs</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:228">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ptr_undef" class="id"><a name="vmatch_ptr_undef" class="">vmatch_ptr_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="p:229" class="id"><a name="p:229" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:229">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ifptr_undef" class="id"><a name="vmatch_ifptr_undef" class="">vmatch_ifptr_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="p:230" class="id"><a name="p:230" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:230">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ifptr_i" class="id"><a name="vmatch_ifptr_i" class="">vmatch_ifptr_i:</a></span> <span class="gallina-kwd">forall</span> <span id="i:231" class="id"><a name="i:231" class="">i</a></span> <span id="p:232" class="id"><a name="p:232" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:231">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:232">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ifptr_l" class="id"><a name="vmatch_ifptr_l" class="">vmatch_ifptr_l:</a></span> <span class="gallina-kwd">forall</span> <span id="i:233" class="id"><a name="i:233" class="">i</a></span> <span id="p:234" class="id"><a name="p:234" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:233">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:234">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ifptr_f" class="id"><a name="vmatch_ifptr_f" class="">vmatch_ifptr_f:</a></span> <span class="gallina-kwd">forall</span> <span id="f:235" class="id"><a name="f:235" class="">f</a></span> <span id="p:236" class="id"><a name="p:236" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:235">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:236">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ifptr_s" class="id"><a name="vmatch_ifptr_s" class="">vmatch_ifptr_s:</a></span> <span class="gallina-kwd">forall</span> <span id="f:237" class="id"><a name="f:237" class="">f</a></span> <span id="p:238" class="id"><a name="p:238" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:237">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:238">p</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vmatch_ifptr_p" class="id"><a name="vmatch_ifptr_p" class="">vmatch_ifptr_p:</a></span> <span class="gallina-kwd">forall</span> <span id="b:239" class="id"><a name="b:239" class="">b</a></span> <span id="ofs:240" class="id"><a name="ofs:240" class="">ofs</a></span> <span id="p:241" class="id"><a name="p:241" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:239">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:240">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:241">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch:201">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:239">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:240">ofs</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:241">p</a></span>).<br/>
<br/>
<span class="vernacular">Hint</span> <span class="id">Extern</span> <span class="id">1</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">constructor</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_num" class="id"><a name="vmatch_num" class="">vmatch_num:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:242" class="id"><a name="v:242" class="">v</a></span> <span id="p:243" class="id"><a name="p:243" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:242">v</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="gallina-kwd">end</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:242">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:243">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_ifptr" class="id"><a name="vmatch_ifptr" class="">vmatch_ifptr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:245" class="id"><a name="v:245" class="">v</a></span> <span id="p:246" class="id"><a name="p:246" class="">p,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:247" class="id"><a name="b:247" class="">b</a></span> <span id="ofs:248" class="id"><a name="ofs:248" class="">ofs,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:245">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:247">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:248">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:247">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:248">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:246">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:245">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:246">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_top" class="id"><a name="vmatch_top" class="">vmatch_top:</a></span> <span class="gallina-kwd">forall</span> <span id="v:249" class="id"><a name="v:249" class="">v</a></span> <span id="x:250" class="id"><a name="x:250" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:249">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:250">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:249">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ifptr">vmatch_ifptr</a></span>. <span class="id">intros</span>. <span class="id">subst</span> <span class="id">v</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_top'">pmatch_top';</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Some properties about <span class="bracket"><span class="id">is_uns</span></span> and <span class="bracket"><span class="id">is_sgn</span></span>. </div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_uns_mon" class="id"><a name="is_uns_mon" class="">is_uns_mon:</a></span> <span class="gallina-kwd">forall</span> <span id="n1:251" class="id"><a name="n1:251" class="">n1</a></span> <span id="n2:252" class="id"><a name="n2:252" class="">n2</a></span> <span id="i:253" class="id"><a name="i:253" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:251">n1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:253">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:251">n1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:252">n2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:252">n2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:253">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_sgn_mon" class="id"><a name="is_sgn_mon" class="">is_sgn_mon:</a></span> <span class="gallina-kwd">forall</span> <span id="n1:254" class="id"><a name="n1:254" class="">n1</a></span> <span id="n2:255" class="id"><a name="n2:255" class="">n2</a></span> <span id="i:256" class="id"><a name="i:256" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:254">n1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:256">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:254">n1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:255">n2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:255">n2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:256">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_uns_sgn" class="id"><a name="is_uns_sgn" class="">is_uns_sgn:</a></span> <span class="gallina-kwd">forall</span> <span id="n1:257" class="id"><a name="n1:257" class="">n1</a></span> <span id="n2:258" class="id"><a name="n2:258" class="">n2</a></span> <span id="i:259" class="id"><a name="i:259" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:257">n1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:259">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:257">n1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:258">n2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:258">n2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:259">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="usize" class="id"><a name="usize" class="">usize</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.size">Int.size</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ssize" class="id"><a name="ssize" class="">ssize</a></span> (<span id="i:260" class="id"><a name="i:260" class="">i:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.lib.Integers.html#Int.size">Int.size</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:260">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:260">i</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:260">i</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="is_uns_usize" class="id"><a name="is_uns_usize" class="">is_uns_usize:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:261" class="id"><a name="i:261" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:261">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#i:261">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize;</a></span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_size_2">Int.bits_size_2</a></span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_sgn_ssize" class="id"><a name="is_sgn_ssize" class="">is_sgn_ssize:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:262" class="id"><a name="i:262" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:262">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#i:262">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize;</a></span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="id">eqn:LT</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">negb_involutive</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">i</span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">negb_involutive</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>))).<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.size_range">Int.size_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id">i</span>))<span class="id">;</span> <span class="id">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_not">Int.bits_not</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_size_2">Int.bits_size_2</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_size_2">Int.bits_size_2</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_uns_zero_ext" class="id"><a name="is_uns_zero_ext" class="">is_uns_zero_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:263" class="id"><a name="n:263" class="">n</a></span> <span id="i:264" class="id"><a name="i:264" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:263">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:264">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:263">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:264">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:264">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">Int.bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i0</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">symmetry;</span> <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero_ext">Int.bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_sgn_sign_ext" class="id"><a name="is_sgn_sign_ext" class="">is_sgn_sign_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:265" class="id"><a name="n:265" class="">n</a></span> <span id="i:266" class="id"><a name="i:266" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:265">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:265">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:266">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:265">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:266">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:266">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">Int.bit_solve</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i0</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0;</span> <span class="id">lia</span>. <span class="id">symmetry;</span> <span class="id">apply</span> <span class="id">H0;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_sign_ext">Int.bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">transitivity</span> (<span class="id">n-1</span>). <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">m</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_zero_ext_uns" class="id"><a name="is_zero_ext_uns" class="">is_zero_ext_uns:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:267" class="id"><a name="i:267" class="">i</a></span> <span id="n:268" class="id"><a name="n:268" class="">n</a></span> <span id="m:269" class="id"><a name="m:269" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:269">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:267">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:268">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:269">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:269">m</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:268">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:267">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero_ext">Int.bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">m0</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">lia</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_zero_ext_sgn" class="id"><a name="is_zero_ext_sgn" class="">is_zero_ext_sgn:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:270" class="id"><a name="i:270" class="">i</a></span> <span id="n:271" class="id"><a name="n:271" class="">n</a></span> <span id="m:272" class="id"><a name="m:272" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#n:271">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:272">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:272">m</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:271">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:270">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero_ext">Int.bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_sign_ext_uns" class="id"><a name="is_sign_ext_uns" class="">is_sign_ext_uns:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:273" class="id"><a name="i:273" class="">i</a></span> <span id="n:274" class="id"><a name="n:274" class="">n</a></span> <span id="m:275" class="id"><a name="m:275" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:275">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:274">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:275">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:273">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:275">m</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:274">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:273">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_sign_ext">Int.bits_sign_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">m0</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">m0</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="is_sign_ext_sgn" class="id"><a name="is_sign_ext_sgn" class="">is_sign_ext_sgn:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:276" class="id"><a name="i:276" class="">i</a></span> <span id="n:277" class="id"><a name="n:277" class="">n</a></span> <span id="m:278" class="id"><a name="m:278" class="">m,</a></span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:277">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:278">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:278">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:276">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:277">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:278">m</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:278">m</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:277">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:276">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn_sign_ext">is_sgn_sign_ext;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">m</span> <span class="id">n</span>). <span class="id">destruct</span> <span class="id">H1</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn_sign_ext">is_sgn_sign_ext</a></span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span>. <span class="id">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext_widen">Int.sign_ext_widen</a></span> <span class="id">i</span>) <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext_idem">Int.sign_ext_idem</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">extlia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext_widen">Int.sign_ext_widen</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">is_uns_mon</span> <span class="id">is_sgn_mon</span> <span class="id">is_uns_sgn</span> <span class="id">is_uns_usize</span> <span class="id">is_sgn_ssize</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="is_uns_1" class="id"><a name="is_uns_1" class="">is_uns_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:279" class="id"><a name="n:279" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id">1</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:279">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:279">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:279">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">n</span> <span class="id">0</span>) <span class="id">eqn:B0;</span> <span class="id">[right|left];</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.same_bits_eq">Int.same_bits_eq</a></span><span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_one">Int.bits_one</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">0</span>). <span class="id">subst</span> <span class="id">i;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero">Int.bits_zero</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">0</span>). <span class="id">subst</span> <span class="id">i;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Tracking leakage of pointers through arithmetic operations.
In the CompCert semantics, arithmetic operations (e.g. "xor") applied
to pointer values are undefined or produce the <span class="bracket"><span class="id">Vundef</span></span> result.
If we later use the result as the address of a memory access,
the memory access will fail.  Hence, in strict mode, the alias
analysis can ignore these pointers that were transformed by arithmetic
operations.
In real code, arithmetic over pointers occurs, and can produce valid
pointers.  For example, a bitwise "and" can be used to realign a pointer.
Hence, in conservative mode, the alias analysis must track these
pointers that were transformed by arithmetic operations.
This is the purpose of the "provenance" argument <span class="bracket"><span class="id">p</span></span> to the abstract values
<span class="bracket"><span class="id">Num</span> <span class="id">p</span></span>, <span class="bracket"><span class="id">Uns</span> <span class="id">p</span> <span class="id">n</span></span>, and <span class="bracket"><span class="id">Sgn</span> <span class="id">p</span> <span class="id">n</span></span>.  <span class="bracket"><span class="id">p</span></span> is an abstract pointer that
over-approximates all the pointer values that may have been used
as integers to produce this numerical value.  If a memory access
is performed at an address that matches <span class="bracket"><span class="id">Num</span> <span class="id">p</span></span>, <span class="bracket"><span class="id">Uns</span> <span class="id">p</span> <span class="id">n</span></span>, or <span class="bracket"><span class="id">Sgn</span> <span class="id">p</span> <span class="id">n</span></span>,
the value analysis considers that the abstract pointer <span class="bracket"><span class="id">p</span></span> is accessed.
Likewise, if one of these abstract values is joined with a pointer
abstract value <span class="bracket"><span class="id">Ptr</span> <span class="id">q</span></span> or <span class="bracket"><span class="id">Ifptr</span> <span class="id">q</span></span>, the pointer abstract value
<span class="bracket"><span class="id">Ifptr</span> (<span class="id">plub</span> <span class="id">p</span> <span class="id">q</span>)</span> is produced.
To define the provenance <span class="bracket"><span class="id">p</span></span> of the result of an arithmetic operation,
we follow the same policy as GCC: "undefined" arithmetic operations
involving pointer arguments can produce a pointer, but not any
pointer, just a pointer to the same block but possibly with a
different offset.  Hence, if the operation has a pointer to abstract
region <span class="bracket"><span class="id">p</span></span> as argument, the result value can be a pointer to abstract
region <span class="bracket"><span class="id">poffset</span> <span class="id">p</span></span>.
We encapsulate this reasoning in the following <span class="bracket"><span class="id">ntop1</span></span> and <span class="bracket"><span class="id">ntop2</span></span> functions
("numerical top"). </div>
<br/>
<span class="vernacular">Definition</span> <span id="provenance" class="id"><a name="provenance" class="">provenance</a></span> (<span id="x:280" class="id"><a name="x:280" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:280">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ntop" class="id"><a name="ntop" class="">ntop</a></span> <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ntop1" class="id"><a name="ntop1" class="">ntop1</a></span> (<span id="x:282" class="id"><a name="x:282" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:282">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ntop2" class="id"><a name="ntop2" class="">ntop2</a></span> (<span id="x:283" class="id"><a name="x:283" class="">x</a></span> <span id="y:284" class="id"><a name="y:284" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:283">x</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:284">y</a></span>)).<br/>
<br/>
<div class="doc">Embedded C code often uses integer literals as absolute addresses
for loads and stores, e.g. <span class="bracket"> <span class="id">int</span> * <span class="id">device</span> = (<span class="id">int</span> * ) 0<span class="id">x1000</span>; *<span class="id">device</span> = 12; </span>.
In conservative mode, we analyze these loads and stores as potentially
accessing any memory location except stack blocks, i.e. as a <span class="bracket"><span class="id">Nonstack</span></span>
access.  
The following functions determine the provenance to use for integer
literals when they are used in a pointer context.  The null pointer
(literal 0) is treated specially: even in conservative mode, accesses
to address 0 are considered illegal. </div>
<br/>
<span class="vernacular">Definition</span> <span id="int_provenance" class="id"><a name="int_provenance" class="">int_provenance</a></span> (<span id="i:285" class="id"><a name="i:285" class="">i:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:285">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="long_provenance" class="id"><a name="long_provenance" class="">long_provenance</a></span> (<span id="i:286" class="id"><a name="i:286" class="">i:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:286">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>.<br/>
<br/>
<div class="doc">Smart constructors for <span class="bracket"><span class="id">Uns</span></span> and <span class="bracket"><span class="id">Sgn</span></span>. </div>
<br/>
<span class="vernacular">Definition</span> <span id="uns" class="id"><a name="uns" class="">uns</a></span> (<span id="p:287" class="id"><a name="p:287" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="n:288" class="id"><a name="n:288" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:288">n</a></span> <span class="id">1</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:287">p</a></span> <span class="id">1</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:288">n</a></span> <span class="id">7</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:287">p</a></span> <span class="id">7</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:288">n</a></span> <span class="id">8</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:287">p</a></span> <span class="id">8</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:288">n</a></span> <span class="id">15</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:287">p</a></span> <span class="id">15</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:288">n</a></span> <span class="id">16</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:287">p</a></span> <span class="id">16</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:287">p</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sgn" class="id"><a name="sgn" class="">sgn</a></span> (<span id="p:289" class="id"><a name="p:289" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="n:290" class="id"><a name="n:290" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:290">n</a></span> <span class="id">8</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:289">p</a></span> <span class="id">8</span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:290">n</a></span> <span class="id">16</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:289">p</a></span> <span class="id">16</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:289">p</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_uns'" class="id"><a name="vmatch_uns'" class="">vmatch_uns':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:291" class="id"><a name="p:291" class="">p</a></span> <span id="i:292" class="id"><a name="i:292" class="">i</a></span> <span id="n:293" class="id"><a name="n:293" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">0</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:293">n</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#i:292">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:292">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:291">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:293">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="n':295" class="id"><span id="n':294" class="id"><a name="n':295" class="">n',</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n':294">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n':294">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n':294">n'</a></span> <span class="id">i</span>) <span class="gallina-kwd">by</span> (<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span>. <span class="id">repeat</span> <span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_uns" class="id"><a name="vmatch_uns" class="">vmatch_uns:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:296" class="id"><a name="p:296" class="">p</a></span> <span id="i:297" class="id"><a name="i:297" class="">i</a></span> <span id="n:298" class="id"><a name="n:298" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:298">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:297">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:297">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:296">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:298">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_uns'">vmatch_uns'</a></span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_uns_undef" class="id"><a name="vmatch_uns_undef" class="">vmatch_uns_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="p:299" class="id"><a name="p:299" class="">p</a></span> <span id="n:300" class="id"><a name="n:300" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:299">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:300">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span>. <span class="id">repeat</span> <span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_sgn'" class="id"><a name="vmatch_sgn'" class="">vmatch_sgn':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:301" class="id"><a name="p:301" class="">p</a></span> <span id="i:302" class="id"><a name="i:302" class="">i</a></span> <span id="n:303" class="id"><a name="n:303" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">1</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:303">n</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#i:302">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:302">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:301">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:303">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="n':305" class="id"><span id="n':304" class="id"><a name="n':305" class="">n',</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n':304">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n':304">n'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n':304">n'</a></span> <span class="id">i</span>) <span class="gallina-kwd">by</span> (<span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span>. <span class="id">repeat</span> <span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_sgn" class="id"><a name="vmatch_sgn" class="">vmatch_sgn:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:306" class="id"><a name="p:306" class="">p</a></span> <span id="i:307" class="id"><a name="i:307" class="">i</a></span> <span id="n:308" class="id"><a name="n:308" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:308">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:307">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:307">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:306">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:308">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn'">vmatch_sgn'</a></span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_sgn_undef" class="id"><a name="vmatch_sgn_undef" class="">vmatch_sgn_undef:</a></span> <span class="gallina-kwd">forall</span> <span id="p:309" class="id"><a name="p:309" class="">p</a></span> <span id="n:310" class="id"><a name="n:310" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:309">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:310">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span>. <span class="id">repeat</span> <span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">vmatch_uns</span> <span class="id">vmatch_uns_undef</span> <span class="id">vmatch_sgn</span> <span class="id">vmatch_sgn_undef</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_Uns_1" class="id"><a name="vmatch_Uns_1" class="">vmatch_Uns_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:311" class="id"><a name="p:311" class="">p</a></span> <span id="v:312" class="id"><a name="v:312" class="">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:312">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:311">p</a></span> <span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:312">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:312">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:312">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">right</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_1">is_uns_1;</a></span> <span class="id">eauto</span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Ordering </div>
<br/>
<span class="vernacular">Inductive</span> <span id="vge" class="id"><a name="vge" class="">vge:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_bot" class="id"><a name="vge_bot" class="">vge_bot:</a></span> <span class="gallina-kwd">forall</span> <span id="v:315" class="id"><a name="v:315" class="">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:315">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_i" class="id"><a name="vge_i" class="">vge_i:</a></span> <span class="gallina-kwd">forall</span> <span id="i:316" class="id"><a name="i:316" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:316">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:316">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_l" class="id"><a name="vge_l" class="">vge_l:</a></span> <span class="gallina-kwd">forall</span> <span id="i:317" class="id"><a name="i:317" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:317">i</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:317">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_f" class="id"><a name="vge_f" class="">vge_f:</a></span> <span class="gallina-kwd">forall</span> <span id="f:318" class="id"><a name="f:318" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:318">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:318">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_s" class="id"><a name="vge_s" class="">vge_s:</a></span> <span class="gallina-kwd">forall</span> <span id="f:319" class="id"><a name="f:319" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:319">f</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:319">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_uns_i" class="id"><a name="vge_uns_i" class="">vge_uns_i:</a></span> <span class="gallina-kwd">forall</span> <span id="p:320" class="id"><a name="p:320" class="">p</a></span> <span id="n:321" class="id"><a name="n:321" class="">n</a></span> <span id="i:322" class="id"><a name="i:322" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:321">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:321">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:322">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:320">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:321">n</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:322">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_uns_uns" class="id"><a name="vge_uns_uns" class="">vge_uns_uns:</a></span> <span class="gallina-kwd">forall</span> <span id="p1:323" class="id"><a name="p1:323" class="">p1</a></span> <span id="n1:324" class="id"><a name="n1:324" class="">n1</a></span> <span id="p2:325" class="id"><a name="p2:325" class="">p2</a></span> <span id="n2:326" class="id"><a name="n2:326" class="">n2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:324">n1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:326">n2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:323">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:325">p2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:323">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:324">n1</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:325">p2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:326">n2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_sgn_i" class="id"><a name="vge_sgn_i" class="">vge_sgn_i:</a></span> <span class="gallina-kwd">forall</span> <span id="p:327" class="id"><a name="p:327" class="">p</a></span> <span id="n:328" class="id"><a name="n:328" class="">n</a></span> <span id="i:329" class="id"><a name="i:329" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:328">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:328">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:329">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:327">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:328">n</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:329">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_sgn_sgn" class="id"><a name="vge_sgn_sgn" class="">vge_sgn_sgn:</a></span> <span class="gallina-kwd">forall</span> <span id="p1:330" class="id"><a name="p1:330" class="">p1</a></span> <span id="n1:331" class="id"><a name="n1:331" class="">n1</a></span> <span id="p2:332" class="id"><a name="p2:332" class="">p2</a></span> <span id="n2:333" class="id"><a name="n2:333" class="">n2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:331">n1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:333">n2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:330">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:332">p2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:330">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:331">n1</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:332">p2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:333">n2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_sgn_uns" class="id"><a name="vge_sgn_uns" class="">vge_sgn_uns:</a></span> <span class="gallina-kwd">forall</span> <span id="p1:334" class="id"><a name="p1:334" class="">p1</a></span> <span id="n1:335" class="id"><a name="n1:335" class="">n1</a></span> <span id="p2:336" class="id"><a name="p2:336" class="">p2</a></span> <span id="n2:337" class="id"><a name="n2:337" class="">n2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:335">n1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:337">n2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:334">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:336">p2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p1:334">p1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:335">n1</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p2:336">p2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:337">n2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_num_i" class="id"><a name="vge_num_i" class="">vge_num_i:</a></span> <span class="gallina-kwd">forall</span> <span id="p:338" class="id"><a name="p:338" class="">p</a></span> <span id="i:339" class="id"><a name="i:339" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:338">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:339">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_num_l" class="id"><a name="vge_num_l" class="">vge_num_l:</a></span> <span class="gallina-kwd">forall</span> <span id="p:340" class="id"><a name="p:340" class="">p</a></span> <span id="i:341" class="id"><a name="i:341" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:340">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:341">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_num_f" class="id"><a name="vge_num_f" class="">vge_num_f:</a></span> <span class="gallina-kwd">forall</span> <span id="p:342" class="id"><a name="p:342" class="">p</a></span> <span id="f:343" class="id"><a name="f:343" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:342">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:343">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_num_s" class="id"><a name="vge_num_s" class="">vge_num_s:</a></span> <span class="gallina-kwd">forall</span> <span id="p:344" class="id"><a name="p:344" class="">p</a></span> <span id="f:345" class="id"><a name="f:345" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:344">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:345">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_num_uns" class="id"><a name="vge_num_uns" class="">vge_num_uns:</a></span> <span class="gallina-kwd">forall</span> <span id="p:346" class="id"><a name="p:346" class="">p</a></span> <span id="q:347" class="id"><a name="q:347" class="">q</a></span> <span id="n:348" class="id"><a name="n:348" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:346">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:347">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:346">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:347">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:348">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_num_sgn" class="id"><a name="vge_num_sgn" class="">vge_num_sgn:</a></span> <span class="gallina-kwd">forall</span> <span id="p:349" class="id"><a name="p:349" class="">p</a></span> <span id="q:350" class="id"><a name="q:350" class="">q</a></span> <span id="n:351" class="id"><a name="n:351" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:349">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:350">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:349">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:350">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:351">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_num_num" class="id"><a name="vge_num_num" class="">vge_num_num:</a></span> <span class="gallina-kwd">forall</span> <span id="p:352" class="id"><a name="p:352" class="">p</a></span> <span id="q:353" class="id"><a name="q:353" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:352">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:353">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:352">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:353">q</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_p_p" class="id"><a name="vge_p_p" class="">vge_p_p:</a></span> <span class="gallina-kwd">forall</span> <span id="p:354" class="id"><a name="p:354" class="">p</a></span> <span id="q:355" class="id"><a name="q:355" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:354">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:355">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:354">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:355">q</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_p" class="id"><a name="vge_ip_p" class="">vge_ip_p:</a></span> <span class="gallina-kwd">forall</span> <span id="p:356" class="id"><a name="p:356" class="">p</a></span> <span id="q:357" class="id"><a name="q:357" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:356">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:357">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:356">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:357">q</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_ip" class="id"><a name="vge_ip_ip" class="">vge_ip_ip:</a></span> <span class="gallina-kwd">forall</span> <span id="p:358" class="id"><a name="p:358" class="">p</a></span> <span id="q:359" class="id"><a name="q:359" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:358">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:359">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:358">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:359">q</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_i" class="id"><a name="vge_ip_i" class="">vge_ip_i:</a></span> <span class="gallina-kwd">forall</span>  <span id="p:360" class="id"><a name="p:360" class="">p</a></span> <span id="i:361" class="id"><a name="i:361" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:360">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:361">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_l" class="id"><a name="vge_ip_l" class="">vge_ip_l:</a></span> <span class="gallina-kwd">forall</span> <span id="p:362" class="id"><a name="p:362" class="">p</a></span> <span id="i:363" class="id"><a name="i:363" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:362">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:363">i</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_f" class="id"><a name="vge_ip_f" class="">vge_ip_f:</a></span> <span class="gallina-kwd">forall</span> <span id="p:364" class="id"><a name="p:364" class="">p</a></span> <span id="f:365" class="id"><a name="f:365" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:364">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:365">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_s" class="id"><a name="vge_ip_s" class="">vge_ip_s:</a></span> <span class="gallina-kwd">forall</span> <span id="p:366" class="id"><a name="p:366" class="">p</a></span> <span id="f:367" class="id"><a name="f:367" class="">f,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:366">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#f:367">f</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_uns" class="id"><a name="vge_ip_uns" class="">vge_ip_uns:</a></span> <span class="gallina-kwd">forall</span> <span id="p:368" class="id"><a name="p:368" class="">p</a></span> <span id="q:369" class="id"><a name="q:369" class="">q</a></span> <span id="n:370" class="id"><a name="n:370" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:368">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:369">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:368">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:369">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:370">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_sgn" class="id"><a name="vge_ip_sgn" class="">vge_ip_sgn:</a></span> <span class="gallina-kwd">forall</span> <span id="p:371" class="id"><a name="p:371" class="">p</a></span> <span id="q:372" class="id"><a name="q:372" class="">q</a></span> <span id="n:373" class="id"><a name="n:373" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:371">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:372">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:371">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:372">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:373">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="vge_ip_num" class="id"><a name="vge_ip_num" class="">vge_ip_num:</a></span> <span class="gallina-kwd">forall</span> <span id="p:374" class="id"><a name="p:374" class="">p</a></span> <span id="q:375" class="id"><a name="q:375" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:374">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:375">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge:313">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:374">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:375">q</a></span>).<br/>
<br/>
<span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_top" class="id"><a name="vge_top" class="">vge_top:</a></span> <span class="gallina-kwd">forall</span> <span id="x:376" class="id"><a name="x:376" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:376">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop;</a></span> <span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_refl" class="id"><a name="vge_refl" class="">vge_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="x:377" class="id"><a name="x:377" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:377">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:377">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">vge_top</span> <span class="id">vge_refl</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_trans" class="id"><a name="vge_trans" class="">vge_trans:</a></span> <span class="gallina-kwd">forall</span> <span id="x:378" class="id"><a name="x:378" class="">x</a></span> <span id="y:379" class="id"><a name="y:379" class="">y</a></span> <span id="z:380" class="id"><a name="z:380" class="">z,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:378">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:379">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:379">y</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:380">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:378">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:380">z</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">XY</span> <span class="id">YZ;</span> <span class="id">revert</span> <span class="id">y</span> <span class="id">z</span> <span class="id">YZ</span> <span class="id">x</span> <span class="id">XY</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">x</span> <span class="id">V;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">V;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge_trans">pge_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_ge" class="id"><a name="vmatch_ge" class="">vmatch_ge:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:381" class="id"><a name="v:381" class="">v</a></span> <span id="x:382" class="id"><a name="x:382" class="">x</a></span> <span id="y:383" class="id"><a name="y:383" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:382">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:383">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:381">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:383">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:381">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:382">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">intros</span> <span class="id">V;</span> <span class="id">inv</span> <span class="id">V;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_ge">pmatch_ge</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Least upper bound </div>
<br/>
<span class="vernacular">Definition</span> <span id="vlub" class="id"><a name="vlub" class="">vlub</a></span> (<span id="v:384" class="id"><a name="v:384" class="">v</a></span> <span id="w:385" class="id"><a name="w:385" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:384">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:385">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:385">w</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:384">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i1</span> <span class="id">i2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:384">v</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">i1</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize</a></span> <span class="id">i1</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize</a></span> <span class="id">i2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i1</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i2</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize</a></span> <span class="id">i</span>) (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i</span>) <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize</a></span> <span class="id">i</span>) <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#int_provenance">int_provenance</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">_,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id">n1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> (<span class="id">n2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p1</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p1</span> <span class="id">_</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p2</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p1,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p2</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p2</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p1</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p1</span> <span class="id">_</span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p2</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p2</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p1</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p1</span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p2</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p2</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">_</span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i1</span> <span class="id">i2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:384">v</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#long_provenance">long_provenance</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Floats.html#Float.eq_dec">Float.eq_dec</a></span> <span class="id">f1</span> <span class="id">f2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:384">v</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.eq_dec">Float32.eq_dec</a></span> <span class="id">f1</span> <span class="id">f2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:384">v</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p1,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p2</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p2</span>) <span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p1</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p1</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p2</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p2</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vlub_comm" class="id"><a name="vlub_comm" class="">vlub_comm:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:388" class="id"><a name="v:388" class="">v</a></span> <span id="w:389" class="id"><a name="w:389" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:388">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:389">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:389">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:388">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub;</a></span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">auto;</span> <span class="id">f_equal;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_comm">Z.max_comm</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub_comm">plub_comm</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_sym">Int.eq_sym</a></span>. <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n0</span> <span class="id">n</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>. <span class="id">destruct</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb;</a></span> <span class="id">f_equal;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_comm">Z.max_comm</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_sym">Int64.eq_sym</a></span>. <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">n0</span> <span class="id">n;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_sym">dec_eq_sym</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.eq_dec">Float.eq_dec</a></span> <span class="id">f0</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_sym">dec_eq_sym</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.eq_dec">Float32.eq_dec</a></span> <span class="id">f0</span> <span class="id">f</span>)<span class="id">;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_uns_uns'" class="id"><a name="vge_uns_uns'" class="">vge_uns_uns':</a></span> <span class="gallina-kwd">forall</span> <span id="p:390" class="id"><a name="p:390" class="">p</a></span> <span id="n:391" class="id"><a name="n:391" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:390">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:391">n</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:390">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:391">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns;</a></span> <span class="id">intros</span>. <span class="id">repeat</span> (<span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span>)<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_uns_i'" class="id"><a name="vge_uns_i'" class="">vge_uns_i':</a></span> <span class="gallina-kwd">forall</span> <span id="p:392" class="id"><a name="p:392" class="">p</a></span> <span id="n:393" class="id"><a name="n:393" class="">n</a></span> <span id="i:394" class="id"><a name="i:394" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:393">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:393">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:394">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:392">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:393">n</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:394">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_trans">vge_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span>). <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_uns_uns'">vge_uns_uns'</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_sgn_sgn'" class="id"><a name="vge_sgn_sgn'" class="">vge_sgn_sgn':</a></span> <span class="gallina-kwd">forall</span> <span id="p:395" class="id"><a name="p:395" class="">p</a></span> <span id="n:396" class="id"><a name="n:396" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:395">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:396">n</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:395">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:396">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn;</a></span> <span class="id">intros</span>. <span class="id">repeat</span> (<span class="id">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span>)<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_sgn_i'" class="id"><a name="vge_sgn_i'" class="">vge_sgn_i':</a></span> <span class="gallina-kwd">forall</span> <span id="p:397" class="id"><a name="p:397" class="">p</a></span> <span id="n:398" class="id"><a name="n:398" class="">n</a></span> <span id="i:399" class="id"><a name="i:399" class="">i,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:398">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:398">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:399">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:397">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:398">n</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:399">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_trans">vge_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span>). <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_sgn_sgn'">vge_sgn_sgn'</a></span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">vge_uns_uns'</span> <span class="id">vge_uns_i'</span> <span class="id">vge_sgn_sgn'</span> <span class="id">vge_sgn_i'</span> <span class="id">:</span> <span class="id">va</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="usize_pos" class="id"><a name="usize_pos" class="">usize_pos:</a></span> <span class="gallina-kwd">forall</span> <span id="n:400" class="id"><a name="n:400" class="">n,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:400">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize;</a></span> <span class="id">intros</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.size_range">Int.size_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ssize_pos" class="id"><a name="ssize_pos" class="">ssize_pos:</a></span> <span class="gallina-kwd">forall</span> <span id="n:401" class="id"><a name="n:401" class="">n,</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:401">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize;</a></span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.size_range">Int.size_range</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id">n</span> <span class="gallina-kwd">else</span> <span class="id">n</span>))<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_lub_l" class="id"><a name="vge_lub_l" class="">vge_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:402" class="id"><a name="x:402" class="">x</a></span> <span id="y:403" class="id"><a name="y:403" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:402">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:403">y</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#x:402">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop;</a></span> <span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_trans">vge_trans,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge_lub_l">pge_lub_l</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id">n0</span>. <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">destruct</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_sgn_i'">vge_sgn_i'</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize_pos">ssize_pos</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_uns_i'">vge_uns_i'</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize_pos">usize_pos</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_sgn_i'">vge_sgn_i'</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize_pos">ssize_pos</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_uns_i'">vge_uns_i'</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize_pos">usize_pos</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_sgn_i'">vge_sgn_i'</a></span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize_pos">ssize_pos</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">lia</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">n0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_trans">vge_trans</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_sgn_sgn'">vge_sgn_sgn'</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_trans">vge_trans</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>))<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_trans">vge_trans</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_uns_uns'">vge_uns_uns'</a></span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">n</span> <span class="id">n0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.eq_dec">Float.eq_dec</a></span> <span class="id">f</span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.eq_dec">Float32.eq_dec</a></span> <span class="id">f</span> <span class="id">f0</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vge_lub_r" class="id"><a name="vge_lub_r" class="">vge_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:404" class="id"><a name="x:404" class="">x</a></span> <span id="y:405" class="id"><a name="y:405" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:404">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:405">y</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#y:405">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vlub_comm">vlub_comm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_lub_l">vge_lub_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_lub_l" class="id"><a name="vmatch_lub_l" class="">vmatch_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:406" class="id"><a name="v:406" class="">v</a></span> <span id="x:407" class="id"><a name="x:407" class="">x</a></span> <span id="y:408" class="id"><a name="y:408" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:406">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:407">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:406">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:407">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:408">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ge">vmatch_ge;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_lub_l">vge_lub_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_lub_r" class="id"><a name="vmatch_lub_r" class="">vmatch_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:409" class="id"><a name="v:409" class="">v</a></span> <span id="x:410" class="id"><a name="x:410" class="">x</a></span> <span id="y:411" class="id"><a name="y:411" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:409">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:411">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:409">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:410">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:411">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vlub_comm">vlub_comm</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_lub_l">vmatch_lub_l;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">In the CompCert semantics, a memory load or store succeeds only
  if the address is a pointer value.  Hence, in strict mode,
  <span class="bracket"><span class="id">aptr_of_aval</span> <span class="id">x</span></span> returns <span class="bracket"><span class="id">Pbot</span></span> (no pointer value) if <span class="bracket"><span class="id">x</span></span>
  denotes a number or <span class="bracket"><span class="id">Vundef</span></span>.  However, in real code, memory
  addresses are sometimes synthesized from integers, e.g. an absolute
  address for a hardware device.  It is a reasonable assumption
  that these absolute addresses do not point within the stack block,
  however.  Therefore, in relaxed mode, <span class="bracket"><span class="id">aptr_of_aval</span> <span class="id">x</span></span> returns
  <span class="bracket"><span class="id">Nonstack</span></span> (any pointer outside the stack) when <span class="bracket"><span class="id">x</span></span> denotes a number. </div>
<br/>
<span class="vernacular">Definition</span> <span id="aptr_of_aval" class="id"><a name="aptr_of_aval" class="">aptr_of_aval</a></span> (<span id="v:412" class="id"><a name="v:412" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:412">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="gallina-kwd">else</span> <span class="id">p</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#int_provenance">int_provenance</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#long_provenance">long_provenance</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="match_aptr_of_aval" class="id"><a name="match_aptr_of_aval" class="">match_aptr_of_aval:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:414" class="id"><a name="b:414" class="">b</a></span> <span id="ofs:415" class="id"><a name="ofs:415" class="">ofs</a></span> <span id="av:416" class="id"><a name="av:416" class="">av,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:414">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:415">ofs</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#av:416">av</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:414">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:415">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#aptr_of_aval">aptr_of_aval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:416">av</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr_of_aval">aptr_of_aval;</a></span> <span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="vplub" class="id"><a name="vplub" class="">vplub</a></span> (<span id="v:417" class="id"><a name="v:417" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) (<span id="p:418" class="id"><a name="p:418" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:417">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">q</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:418">p</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">q</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:418">p</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:418">p</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_vplub_l" class="id"><a name="vmatch_vplub_l" class="">vmatch_vplub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:420" class="id"><a name="v:420" class="">v</a></span> <span id="x:421" class="id"><a name="x:421" class="">x</a></span> <span id="p:422" class="id"><a name="p:422" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:420">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:421">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:420">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:421">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:422">p</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">constructor;</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_vplub" class="id"><a name="pmatch_vplub" class="">pmatch_vplub:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:423" class="id"><a name="b:423" class="">b</a></span> <span id="ofs:424" class="id"><a name="ofs:424" class="">ofs</a></span> <span id="x:425" class="id"><a name="x:425" class="">x</a></span> <span id="p:426" class="id"><a name="p:426" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:423">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:424">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:426">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:423">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:424">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:425">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:426">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id">b</span> <span class="id">ofs</span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id">p</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_top'">pmatch_top';</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub;</a></span> <span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto;</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_r">pmatch_lub_r;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_vplub_r" class="id"><a name="vmatch_vplub_r" class="">vmatch_vplub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:427" class="id"><a name="v:427" class="">v</a></span> <span id="x:428" class="id"><a name="x:428" class="">x</a></span> <span id="p:429" class="id"><a name="p:429" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:427">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:429">p</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:427">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:428">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:429">p</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ifptr">vmatch_ifptr;</a></span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">v</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_vplub">pmatch_vplub;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Inclusion </div>
<br/>
<span class="vernacular">Definition</span> <span id="vpincl" class="id"><a name="vpincl" class="">vpincl</a></span> (<span id="v:430" class="id"><a name="v:430" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) (<span id="p:431" class="id"><a name="p:431" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:430">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">q</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">q</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">q</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">q</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">q</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:431">p</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vpincl_ge" class="id"><a name="vpincl_ge" class="">vpincl_ge:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:433" class="id"><a name="x:433" class="">x</a></span> <span id="p:434" class="id"><a name="p:434" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vpincl">vpincl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:433">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:434">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:434">p</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#x:433">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vpincl">vpincl;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl_ge">pincl_ge</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vpincl_sound" class="id"><a name="vpincl_sound" class="">vpincl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:435" class="id"><a name="v:435" class="">v</a></span> <span id="x:436" class="id"><a name="x:436" class="">x</a></span> <span id="p:437" class="id"><a name="p:437" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vpincl">vpincl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:436">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:437">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:435">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:436">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:435">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:437">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ge">vmatch_ge</a></span> <span class="gallina-kwd">with</span> <span class="id">x;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vpincl_ge">vpincl_ge;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="vincl" class="id"><a name="vincl" class="">vincl</a></span> (<span id="v:438" class="id"><a name="v:438" class="">v</a></span> <span id="w:439" class="id"><a name="w:439" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:438">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:439">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">i</span> <span class="id">j</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">n</span> <span class="id">i</span>) <span class="id">i</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">0</span> <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_dec">Int.eq_dec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id">n</span> <span class="id">i</span>) <span class="id">i</span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">0</span> <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">q</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">n</span> <span class="id">m</span> &amp;&amp; <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id">p</span> <span class="id">q</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">q</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">m</span> &amp;&amp; <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id">p</span> <span class="id">q</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">q</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">n</span> <span class="id">m</span> &amp;&amp; <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id">p</span> <span class="id">q</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_dec">Int64.eq_dec</a></span> <span class="id">i</span> <span class="id">j</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#Float.eq_dec">Float.eq_dec</a></span> <span class="id">i</span> <span class="id">j</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.eq_dec">Float32.eq_dec</a></span> <span class="id">i</span> <span class="id">j</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>)<span class="id">,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">q</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id">p</span> <span class="id">q</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">q</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id">p</span> <span class="id">q</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">_</span>)<span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">q</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl">pincl</a></span> <span class="id">p</span> <span class="id">q</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vincl_ge" class="id"><a name="vincl_ge" class="">vincl_ge:</a></span> <span class="gallina-kwd">forall</span> <span id="v:442" class="id"><a name="v:442" class="">v</a></span> <span id="w:443" class="id"><a name="w:443" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vincl">vincl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:442">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:443">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:443">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:442">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vincl">vincl;</a></span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span><br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">try</span> <span class="id">InvBooleans;</span> <span class="id">try</span> <span class="id">subst;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pincl_ge">pincl_ge</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_zero_ext">is_uns_zero_ext;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn_sign_ext">is_sgn_sign_ext;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ge_vincl" class="id"><a name="ge_vincl" class="">ge_vincl:</a></span> <span class="gallina-kwd">forall</span> <span id="v:444" class="id"><a name="v:444" class="">v</a></span> <span id="w:445" class="id"><a name="w:445" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:444">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:445">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vincl">vincl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:445">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:444">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">try</span> (<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro;</a></span> <span class="id">split</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge_pincl">ge_pincl,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_is_true">proj_sumbool_is_true</a></span>.<br/>
&nbsp;&nbsp;<span class="id">all:</span> <span class="id">try</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">all:</span> <span class="id">try</span> (<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool;</a></span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia;</span> <span class="id">auto</span>).<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_zero_ext">is_uns_zero_ext</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_is_true">proj_sumbool_is_true</a></span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn_sign_ext">is_sgn_sign_ext</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_is_true">proj_sumbool_is_true</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Loading constants </div>
<br/>
<span class="vernacular">Definition</span> <span id="genv_match" class="id"><a name="genv_match" class="">genv_match</a></span> (<span id="ge:446" class="id"><a name="ge:446" class="">ge:</a></span> <span class="id"><a href="compcert.backend.RTL.html#genv">genv</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="id:447" class="id"><a name="id:447" class="">id</a></span> <span id="b:448" class="id"><a name="b:448" class="">b,</a></span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:446">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:447">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:448">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:448">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:447">id</a></span>)<br/>
<span class="id">/\</span>(<span class="gallina-kwd">forall</span> <span id="b:449" class="id"><a name="b:449" class="">b,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:449">b</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:446">ge</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:449">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:449">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="symbol_address_sound" class="id"><a name="symbol_address_sound" class="">symbol_address_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:450" class="id"><a name="ge:450" class="">ge</a></span> <span id="id:451" class="id"><a name="id:451" class="">id</a></span> <span id="ofs:452" class="id"><a name="ofs:452" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:450">ge</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:450">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:451">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:452">ofs</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:451">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:452">ofs</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id">ge</span> <span class="id">id</span>) <span class="gallina-kwd">as</span> <span class="id">[b|]</span> <span class="id">eqn:F</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_ptr_gl" class="id"><a name="vmatch_ptr_gl" class="">vmatch_ptr_gl:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:453" class="id"><a name="ge:453" class="">ge</a></span> <span id="v:454" class="id"><a name="v:454" class="">v</a></span> <span id="id:455" class="id"><a name="id:455" class="">id</a></span> <span id="ofs:456" class="id"><a name="ofs:456" class="">ofs,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:453">ge</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:454">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:455">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:456">ofs</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:454">v</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:453">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:455">id</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:456">ofs</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H3</span>. <span class="id">replace</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id">ge</span> <span class="id">id</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>). <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">symmetry</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_ptr_stk" class="id"><a name="vmatch_ptr_stk" class="">vmatch_ptr_stk:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:457" class="id"><a name="v:457" class="">v</a></span> <span id="ofs:458" class="id"><a name="ofs:458" class="">ofs</a></span> <span id="sp:459" class="id"><a name="sp:459" class="">sp,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:457">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:458">ofs</a></span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sp:459">sp</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:457">v</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sp:459">sp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:458">ofs</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H3</span>. <span class="id">replace</span> <span class="id">b</span> <span class="gallina-kwd">with</span> <span class="id">sp</span> <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_stack">bc_stack;</a></span> <span class="id">eauto</span>). <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Generic operations that just do constant propagation. </div>
<br/>
<span class="vernacular">Definition</span> <span id="unop_int" class="id"><a name="unop_int" class="">unop_int</a></span> (<span id="sem:460" class="id"><a name="sem:460" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) (<span id="x:461" class="id"><a name="x:461" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:461">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:460">sem</a></span> <span class="id">n</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:461">x</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="unop_int_sound" class="id"><a name="unop_int_sound" class="">unop_int_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:463" class="id"><a name="sem:463" class="">sem</a></span> <span id="v:464" class="id"><a name="v:464" class="">v</a></span> <span id="x:465" class="id"><a name="x:465" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:464">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:465">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:464">v</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:463">sem</a></span> <span class="id">i</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_int">unop_int</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:463">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:465">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_int">unop_int;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="binop_int" class="id"><a name="binop_int" class="">binop_int</a></span> (<span id="sem:467" class="id"><a name="sem:467" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) (<span id="x:468" class="id"><a name="x:468" class="">x</a></span> <span id="y:469" class="id"><a name="y:469" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:468">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:469">y</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:467">sem</a></span> <span class="id">n</span> <span class="id">m</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:468">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:469">y</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="binop_int_sound" class="id"><a name="binop_int_sound" class="">binop_int_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:472" class="id"><a name="sem:472" class="">sem</a></span> <span id="v:473" class="id"><a name="v:473" class="">v</a></span> <span id="x:474" class="id"><a name="x:474" class="">x</a></span> <span id="w:475" class="id"><a name="w:475" class="">w</a></span> <span id="y:476" class="id"><a name="y:476" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:473">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:474">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:475">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:476">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:473">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:475">w</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:472">sem</a></span> <span class="id">i</span> <span class="id">j</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_int">binop_int</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:472">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:474">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:476">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_int">binop_int;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="unop_long" class="id"><a name="unop_long" class="">unop_long</a></span> (<span id="sem:479" class="id"><a name="sem:479" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>) (<span id="x:480" class="id"><a name="x:480" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:480">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:479">sem</a></span> <span class="id">n</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:480">x</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="unop_long_sound" class="id"><a name="unop_long_sound" class="">unop_long_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:482" class="id"><a name="sem:482" class="">sem</a></span> <span id="v:483" class="id"><a name="v:483" class="">v</a></span> <span id="x:484" class="id"><a name="x:484" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:483">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:484">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:483">v</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:482">sem</a></span> <span class="id">i</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_long">unop_long</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:482">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:484">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_long">unop_long;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="binop_long" class="id"><a name="binop_long" class="">binop_long</a></span> (<span id="sem:486" class="id"><a name="sem:486" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>) (<span id="x:487" class="id"><a name="x:487" class="">x</a></span> <span id="y:488" class="id"><a name="y:488" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:487">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:488">y</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:486">sem</a></span> <span class="id">n</span> <span class="id">m</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:487">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:488">y</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="binop_long_sound" class="id"><a name="binop_long_sound" class="">binop_long_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:491" class="id"><a name="sem:491" class="">sem</a></span> <span id="v:492" class="id"><a name="v:492" class="">v</a></span> <span id="x:493" class="id"><a name="x:493" class="">x</a></span> <span id="w:494" class="id"><a name="w:494" class="">w</a></span> <span id="y:495" class="id"><a name="y:495" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:492">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:493">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:494">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:495">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:492">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:494">w</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:491">sem</a></span> <span class="id">i</span> <span class="id">j</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:491">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:493">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:495">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="unop_float" class="id"><a name="unop_float" class="">unop_float</a></span> (<span id="sem:498" class="id"><a name="sem:498" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) (<span id="x:499" class="id"><a name="x:499" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:499">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:498">sem</a></span> <span class="id">n</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:499">x</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="unop_float_sound" class="id"><a name="unop_float_sound" class="">unop_float_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:501" class="id"><a name="sem:501" class="">sem</a></span> <span id="v:502" class="id"><a name="v:502" class="">v</a></span> <span id="x:503" class="id"><a name="x:503" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:502">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:503">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:502">v</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:501">sem</a></span> <span class="id">i</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_float">unop_float</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:501">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:503">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_float">unop_float;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="binop_float" class="id"><a name="binop_float" class="">binop_float</a></span> (<span id="sem:505" class="id"><a name="sem:505" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) (<span id="x:506" class="id"><a name="x:506" class="">x</a></span> <span id="y:507" class="id"><a name="y:507" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:506">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:507">y</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:505">sem</a></span> <span class="id">n</span> <span class="id">m</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:506">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:507">y</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="binop_float_sound" class="id"><a name="binop_float_sound" class="">binop_float_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:510" class="id"><a name="sem:510" class="">sem</a></span> <span id="v:511" class="id"><a name="v:511" class="">v</a></span> <span id="x:512" class="id"><a name="x:512" class="">x</a></span> <span id="w:513" class="id"><a name="w:513" class="">w</a></span> <span id="y:514" class="id"><a name="y:514" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:511">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:512">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:513">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:514">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:511">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:513">w</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:510">sem</a></span> <span class="id">i</span> <span class="id">j</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_float">binop_float</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:510">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:512">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:514">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_float">binop_float;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="unop_single" class="id"><a name="unop_single" class="">unop_single</a></span> (<span id="sem:517" class="id"><a name="sem:517" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) (<span id="x:518" class="id"><a name="x:518" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:518">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:517">sem</a></span> <span class="id">n</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:518">x</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="unop_single_sound" class="id"><a name="unop_single_sound" class="">unop_single_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:520" class="id"><a name="sem:520" class="">sem</a></span> <span id="v:521" class="id"><a name="v:521" class="">v</a></span> <span id="x:522" class="id"><a name="x:522" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:521">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:522">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:521">v</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:520">sem</a></span> <span class="id">i</span>) <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_single">unop_single</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:520">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:522">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_single">unop_single;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="binop_single" class="id"><a name="binop_single" class="">binop_single</a></span> (<span id="sem:524" class="id"><a name="sem:524" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) (<span id="x:525" class="id"><a name="x:525" class="">x</a></span> <span id="y:526" class="id"><a name="y:526" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:525">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:526">y</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:524">sem</a></span> <span class="id">n</span> <span class="id">m</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:525">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:526">y</a></span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="binop_single_sound" class="id"><a name="binop_single_sound" class="">binop_single_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:529" class="id"><a name="sem:529" class="">sem</a></span> <span id="v:530" class="id"><a name="v:530" class="">v</a></span> <span id="x:531" class="id"><a name="x:531" class="">x</a></span> <span id="w:532" class="id"><a name="w:532" class="">w</a></span> <span id="y:533" class="id"><a name="y:533" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:530">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:531">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:532">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:533">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:530">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:532">w</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#sem:529">sem</a></span> <span class="id">i</span> <span class="id">j</span>) <span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_single">binop_single</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:529">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:531">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:533">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_single">binop_single;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Logical operations </div>
<br/>
<span class="vernacular">Definition</span> <span id="shl" class="id"><a name="shl" class="">shl</a></span> (<span id="v:536" class="id"><a name="v:536" class="">v</a></span> <span id="w:537" class="id"><a name="w:537" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:537">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">amount</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">amount</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:536">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id">i</span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:536">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:536">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:536">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shl_sound" class="id"><a name="shl_sound" class="">shl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:540" class="id"><a name="v:540" class="">v</a></span> <span id="w:541" class="id"><a name="w:541" class="">w</a></span> <span id="x:542" class="id"><a name="x:542" class="">x</a></span> <span id="y:543" class="id"><a name="y:543" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:540">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:542">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:541">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:543">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:540">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:541">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#shl">shl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:542">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:543">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span> <span class="id">v</span> <span class="id">w</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">y;</span> <span class="id">auto</span>. <span class="id">simpl</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.shl">Val.shl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:LTU;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_uns'">vmatch_uns'</a></span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>)). <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H1;</span> <span class="id">extlia</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn'">vmatch_sgn'</a></span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">zify</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="shru" class="id"><a name="shru" class="">shru</a></span> (<span id="v:544" class="id"><a name="v:544" class="">v</a></span> <span id="w:545" class="id"><a name="w:545" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:545">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">amount</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">amount</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:544">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id">i</span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:544">v</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:544">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:544">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shru_sound" class="id"><a name="shru_sound" class="">shru_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:548" class="id"><a name="v:548" class="">v</a></span> <span id="w:549" class="id"><a name="w:549" class="">w</a></span> <span id="x:550" class="id"><a name="x:550" class="">x</a></span> <span id="y:551" class="id"><a name="y:551" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:548">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:550">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:549">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:551">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shru">Val.shru</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:548">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:549">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#shru">shru</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:550">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:551">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shru">Val.shru</a></span> <span class="id">v</span> <span class="id">w</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">y;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shru">shru,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.shru">Val.shru</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:LTU;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">RANGE</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT2:</span> <span class="gallina-kwd">forall</span> <span id="i:553" class="id"><span id="i:552" class="id"><a name="i:553" class="">i,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:552">i</a></span> <span class="id">n</span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_uns">vmatch_uns</a></span>. <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_uns'">vmatch_uns'</a></span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">zify</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H1;</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="shr" class="id"><a name="shr" class="">shr</a></span> (<span id="v:554" class="id"><a name="v:554" class="">v</a></span> <span id="w:555" class="id"><a name="w:555" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:555">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">amount</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">amount</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:554">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id">i</span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:554">v</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:554">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:554">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shr_sound" class="id"><a name="shr_sound" class="">shr_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:558" class="id"><a name="v:558" class="">v</a></span> <span id="w:559" class="id"><a name="w:559" class="">w</a></span> <span id="x:560" class="id"><a name="x:560" class="">x</a></span> <span id="y:561" class="id"><a name="y:561" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:558">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:560">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:559">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:561">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shr">Val.shr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:558">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:559">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#shr">shr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:560">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:561">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shr">Val.shr</a></span> <span class="id">v</span> <span class="id">w</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">y;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shr">shr,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.shr">Val.shr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn:LTU;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">RANGE</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="gallina-kwd">in</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT2:</span> <span class="gallina-kwd">forall</span> <span id="i:563" class="id"><span id="i:562" class="id"><a name="i:563" class="">i,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:562">i</a></span> <span class="id">n</span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn">vmatch_sgn</a></span>. <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SGN:</span> <span class="gallina-kwd">forall</span> <span id="q:567" class="id"><span id="q:564" class="id"><a name="q:567" class="">q</a></span></span> <span id="i:568" class="id"><span id="i:565" class="id"><a name="i:568" class="">i</a></span></span> <span id="p:569" class="id"><span id="p:566" class="id"><a name="p:569" class="">p,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:566">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:565">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:566">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:565">i</a></span> <span class="id">n</span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:564">q</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#p:566">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn'">vmatch_sgn'</a></span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">zify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="and" class="id"><a name="and" class="">and</a></span> (<span id="v:570" class="id"><a name="v:570" class="">v</a></span> <span id="w:571" class="id"><a name="w:571" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:570">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:571">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id">x</span> <span class="id">|</span> <span class="id">x,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:571">w</a></span>)) <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:570">v</a></span>) <span class="id">p</span>) <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:570">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:571">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="and_sound" class="id"><a name="and_sound" class="">and_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:574" class="id"><a name="v:574" class="">v</a></span> <span id="w:575" class="id"><a name="w:575" class="">w</a></span> <span id="x:576" class="id"><a name="x:576" class="">x</a></span> <span id="y:577" class="id"><a name="y:577" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:574">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:576">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:575">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:577">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.and">Val.and</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:574">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:575">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#and">and</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:576">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:577">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">UNS_l:</span> <span class="gallina-kwd">forall</span> <span id="i:581" class="id"><span id="i:578" class="id"><a name="i:581" class="">i</a></span></span> <span id="j:582" class="id"><span id="j:579" class="id"><a name="j:582" class="">j</a></span></span> <span id="n:583" class="id"><span id="n:580" class="id"><a name="n:583" class="">n,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:580">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:578">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:580">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:578">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:579">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_and">Int.bits_and</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> (<span class="id">H</span> <span class="id">m</span>) <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_l">andb_false_l</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">UNS_r:</span> <span class="gallina-kwd">forall</span> <span id="i:587" class="id"><span id="i:584" class="id"><a name="i:587" class="">i</a></span></span> <span id="j:588" class="id"><span id="j:585" class="id"><a name="j:588" class="">j</a></span></span> <span id="n:589" class="id"><span id="n:586" class="id"><a name="n:589" class="">n,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:586">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:584">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:586">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:585">j</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:584">i</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">UNS:</span> <span class="gallina-kwd">forall</span> <span id="i:594" class="id"><span id="i:590" class="id"><a name="i:594" class="">i</a></span></span> <span id="j:595" class="id"><span id="j:591" class="id"><a name="j:595" class="">j</a></span></span> <span id="n:596" class="id"><span id="n:592" class="id"><a name="n:596" class="">n</a></span></span> <span id="m:597" class="id"><span id="m:593" class="id"><a name="m:597" class="">m,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:592">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:590">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:593">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:591">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:592">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:593">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:590">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:591">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SGN:</span> <span class="gallina-kwd">forall</span> <span id="i:602" class="id"><span id="i:598" class="id"><a name="i:602" class="">i</a></span></span> <span id="j:603" class="id"><span id="j:599" class="id"><a name="j:603" class="">j</a></span></span> <span id="n:604" class="id"><span id="n:600" class="id"><a name="n:604" class="">n</a></span></span> <span id="m:605" class="id"><span id="m:601" class="id"><a name="m:605" class="">m,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:600">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:598">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:601">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:599">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:600">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:601">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:598">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:599">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_and">Int.bits_and</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#and">and,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.and">Val.and</a></span><span class="id">;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="or" class="id"><a name="or" class="">or</a></span> (<span id="v:606" class="id"><a name="v:606" class="">v</a></span> <span id="w:607" class="id"><a name="w:607" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:606">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:607">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:606">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:607">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="or_sound" class="id"><a name="or_sound" class="">or_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:610" class="id"><a name="v:610" class="">v</a></span> <span id="w:611" class="id"><a name="w:611" class="">w</a></span> <span id="x:612" class="id"><a name="x:612" class="">x</a></span> <span id="y:613" class="id"><a name="y:613" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:610">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:612">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:611">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:613">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.or">Val.or</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:610">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:611">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#or">or</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:612">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:613">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">UNS:</span> <span class="gallina-kwd">forall</span> <span id="i:618" class="id"><span id="i:614" class="id"><a name="i:618" class="">i</a></span></span> <span id="j:619" class="id"><span id="j:615" class="id"><a name="j:619" class="">j</a></span></span> <span id="n:620" class="id"><span id="n:616" class="id"><a name="n:620" class="">n</a></span></span> <span id="m:621" class="id"><span id="m:617" class="id"><a name="m:621" class="">m,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:616">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:614">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:617">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:615">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:616">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:617">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:614">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:615">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SGN:</span> <span class="gallina-kwd">forall</span> <span id="i:626" class="id"><span id="i:622" class="id"><a name="i:626" class="">i</a></span></span> <span id="j:627" class="id"><span id="j:623" class="id"><a name="j:627" class="">j</a></span></span> <span id="n:628" class="id"><span id="n:624" class="id"><a name="n:628" class="">n</a></span></span> <span id="m:629" class="id"><span id="m:625" class="id"><a name="m:629" class="">m,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:624">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:622">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:625">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:623">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:624">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:625">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:622">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:623">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#or">or,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.or">Val.or</a></span><span class="id">;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="xor" class="id"><a name="xor" class="">xor</a></span> (<span id="v:630" class="id"><a name="v:630" class="">v</a></span> <span id="w:631" class="id"><a name="w:631" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:630">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:631">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.xor">Int.xor</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p1</span> <span class="id">n1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p2</span> <span class="id">n2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p1</span> <span class="id">p2</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id">n1</span> <span class="id">n2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:630">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:631">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="xor_sound" class="id"><a name="xor_sound" class="">xor_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:634" class="id"><a name="v:634" class="">v</a></span> <span id="w:635" class="id"><a name="w:635" class="">w</a></span> <span id="x:636" class="id"><a name="x:636" class="">x</a></span> <span id="y:637" class="id"><a name="y:637" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:634">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:636">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:635">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:637">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.xor">Val.xor</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:634">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:635">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#xor">xor</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:636">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:637">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">UNS:</span> <span class="gallina-kwd">forall</span> <span id="i:642" class="id"><span id="i:638" class="id"><a name="i:642" class="">i</a></span></span> <span id="j:643" class="id"><span id="j:639" class="id"><a name="j:643" class="">j</a></span></span> <span id="n:644" class="id"><span id="n:640" class="id"><a name="n:644" class="">n</a></span></span> <span id="m:645" class="id"><span id="m:641" class="id"><a name="m:645" class="">m,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:640">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:638">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:641">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:639">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:640">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:641">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.xor">Int.xor</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:638">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:639">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_xor">Int.bits_xor</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SGN:</span> <span class="gallina-kwd">forall</span> <span id="i:650" class="id"><span id="i:646" class="id"><a name="i:650" class="">i</a></span></span> <span id="j:651" class="id"><span id="j:647" class="id"><a name="j:651" class="">j</a></span></span> <span id="n:652" class="id"><span id="n:648" class="id"><a name="n:652" class="">n</a></span></span> <span id="m:653" class="id"><span id="m:649" class="id"><a name="m:653" class="">m,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:648">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:646">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:649">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:647">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:648">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:649">m</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.xor">Int.xor</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:646">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:647">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_xor">Int.bits_xor</a></span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">extlia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#xor">xor,</a></span> <span class="id"><a href="compcert.common.Values.html#Val.xor">Val.xor</a></span><span class="id">;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="notint" class="id"><a name="notint" class="">notint</a></span> (<span id="v:654" class="id"><a name="v:654" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:654">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:654">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="notint_sound" class="id"><a name="notint_sound" class="">notint_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:656" class="id"><a name="v:656" class="">v</a></span> <span id="x:657" class="id"><a name="x:657" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:656">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:657">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.notint">Val.notint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:656">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#notint">notint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:657">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SGN:</span> <span class="gallina-kwd">forall</span> <span id="n:660" class="id"><span id="n:658" class="id"><a name="n:660" class="">n</a></span></span> <span id="i:661" class="id"><span id="i:659" class="id"><a name="i:661" class="">i,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:658">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:659">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn">is_sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:658">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:659">i</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_not">Int.bits_not</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.notint">Val.notint</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#notint">notint;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="rol" class="id"><a name="rol" class="">rol</a></span> (<span id="x:662" class="id"><a name="x:662" class="">x</a></span> <span id="y:663" class="id"><a name="y:663" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:663">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:662">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Int.rol">Int.rol</a></span> <span class="id">i</span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">j</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:662">x</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:662">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="rol_sound" class="id"><a name="rol_sound" class="">rol_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:666" class="id"><a name="v:666" class="">v</a></span> <span id="w:667" class="id"><a name="w:667" class="">w</a></span> <span id="x:668" class="id"><a name="x:668" class="">x</a></span> <span id="y:669" class="id"><a name="y:669" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:666">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:668">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:667">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:669">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.rol">Val.rol</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:666">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:667">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#rol">rol</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:668">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:669">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="gallina-kwd">forall</span> <span id="p:671" class="id"><span id="p:670" class="id"><a name="p:671" class="">p,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.rol">Val.rol</a></span> <span class="id">v</span> <span class="id">w</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:670">p</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">simpl;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rol">rol;</a></span> <span class="id">destruct</span> <span class="id">y;</span> <span class="id">try</span> <span class="id">apply</span> <span class="id">DEFAULT;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.rol">Val.rol</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_uns">vmatch_uns</a></span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_rol">Int.bits_rol</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H1</span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn">vmatch_sgn</a></span>. <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_rol">Int.bits_rol</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mod_small">Z.mod_small</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">symmetry</span>. <span class="id">rewrite</span> <span class="id">H1</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ror" class="id"><a name="ror" class="">ror</a></span> (<span id="x:672" class="id"><a name="x:672" class="">x</a></span> <span id="y:673" class="id"><a name="y:673" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:673">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:672">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Int.ror">Int.ror</a></span> <span class="id">i</span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:672">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ror_sound" class="id"><a name="ror_sound" class="">ror_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:676" class="id"><a name="v:676" class="">v</a></span> <span id="w:677" class="id"><a name="w:677" class="">w</a></span> <span id="x:678" class="id"><a name="x:678" class="">x</a></span> <span id="y:679" class="id"><a name="y:679" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:676">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:678">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:677">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:679">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.ror">Val.ror</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:676">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:677">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ror">ror</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:678">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:679">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="gallina-kwd">forall</span> <span id="p:681" class="id"><span id="p:680" class="id"><a name="p:681" class="">p,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.ror">Val.ror</a></span> <span class="id">v</span> <span class="id">w</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:680">p</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">simpl;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ror">ror;</a></span> <span class="id">destruct</span> <span class="id">y;</span> <span class="id">try</span> <span class="id">apply</span> <span class="id">DEFAULT;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.ror">Val.ror</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="rolm" class="id"><a name="rolm" class="">rolm</a></span> (<span id="x:682" class="id"><a name="x:682" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) (<span id="amount:683" class="id"><a name="amount:683" class="">amount</a></span> <span id="mask:684" class="id"><a name="mask:684" class="">mask:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#and">and</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#rol">rol</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:682">x</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amount:683">amount</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:684">mask</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="rolm_sound" class="id"><a name="rolm_sound" class="">rolm_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:685" class="id"><a name="v:685" class="">v</a></span> <span id="x:686" class="id"><a name="x:686" class="">x</a></span> <span id="amount:687" class="id"><a name="amount:687" class="">amount</a></span> <span id="mask:688" class="id"><a name="mask:688" class="">mask,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:685">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:686">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.rolm">Val.rolm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:685">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amount:687">amount</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:688">mask</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#rolm">rolm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:686">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amount:687">amount</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:688">mask</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.common.Values.html#Val.rolm">Val.rolm</a></span> <span class="id">v</span> <span class="id">amount</span> <span class="id">mask</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.and">Val.and</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.rol">Val.rol</a></span> <span class="id">v</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">amount</span>)) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">mask</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#and_sound">and_sound</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rol_sound">rol_sound</a></span>. <span class="id">auto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Integer arithmetic operations </div>
<br/>
<span class="vernacular">Definition</span> <span id="neg" class="id"><a name="neg" class="">neg</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_int">unop_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="neg_sound" class="id"><a name="neg_sound" class="">neg_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:689" class="id"><a name="v:689" class="">v</a></span> <span id="x:690" class="id"><a name="x:690" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:689">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:690">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.neg">Val.neg</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:689">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#neg">neg</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:690">x</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_int_sound">unop_int_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="add" class="id"><a name="add" class="">add</a></span> (<span id="x:691" class="id"><a name="x:691" class="">x</a></span> <span id="y:692" class="id"><a name="y:692" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:691">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:692">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">i</span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#padd">padd</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id">_</span>   <span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#padd">padd</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">q</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">q</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id">_</span> <span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:691">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:692">y</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="add_sound" class="id"><a name="add_sound" class="">add_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:695" class="id"><a name="v:695" class="">v</a></span> <span id="w:696" class="id"><a name="w:696" class="">w</a></span> <span id="x:697" class="id"><a name="x:697" class="">x</a></span> <span id="y:698" class="id"><a name="y:698" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:695">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:697">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:696">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:698">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:695">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:696">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#add">add</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:697">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:698">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add">add</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor;</span><br/>
&nbsp;&nbsp;((<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#padd_sound">padd_sound;</a></span> <span class="id">assumption</span>) <span class="id">||</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound;</a></span> <span class="id">eassumption</span>) <span class="id">||</span> <span class="id">idtac</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_r">pmatch_lub_r</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="sub" class="id"><a name="sub" class="">sub</a></span> (<span id="v:699" class="id"><a name="v:699" class="">v</a></span> <span id="w:700" class="id"><a name="w:700" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:699">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:700">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#psub">psub</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:700">w</a></span>)) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#psub">psub</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:700">w</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:699">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:700">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sub_sound" class="id"><a name="sub_sound" class="">sub_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:703" class="id"><a name="v:703" class="">v</a></span> <span id="w:704" class="id"><a name="w:704" class="">w</a></span> <span id="x:705" class="id"><a name="x:705" class="">x</a></span> <span id="y:706" class="id"><a name="y:706" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:703">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:705">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:704">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:706">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.sub">Val.sub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:703">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:704">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#sub">sub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:705">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:706">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.sub">Val.sub</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sub">sub</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b0</span>))<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#psub_sound">psub_sound,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="mul" class="id"><a name="mul" class="">mul</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_int">binop_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mul_sound" class="id"><a name="mul_sound" class="">mul_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:707" class="id"><a name="v:707" class="">v</a></span> <span id="x:708" class="id"><a name="x:708" class="">x</a></span> <span id="w:709" class="id"><a name="w:709" class="">w</a></span> <span id="y:710" class="id"><a name="y:710" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:707">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:708">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:709">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:710">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:707">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:709">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mul">mul</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:708">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:710">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_int_sound">binop_int_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mulhs" class="id"><a name="mulhs" class="">mulhs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_int">binop_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mulhs">Int.mulhs</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mulhs_sound" class="id"><a name="mulhs_sound" class="">mulhs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:711" class="id"><a name="v:711" class="">v</a></span> <span id="x:712" class="id"><a name="x:712" class="">x</a></span> <span id="w:713" class="id"><a name="w:713" class="">w</a></span> <span id="y:714" class="id"><a name="y:714" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:711">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:712">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:713">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:714">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mulhs">Val.mulhs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:711">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:713">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mulhs">mulhs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:712">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:714">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_int_sound">binop_int_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mulhs">Int.mulhs</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mulhu" class="id"><a name="mulhu" class="">mulhu</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_int">binop_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mulhu_sound" class="id"><a name="mulhu_sound" class="">mulhu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:715" class="id"><a name="v:715" class="">v</a></span> <span id="x:716" class="id"><a name="x:716" class="">x</a></span> <span id="w:717" class="id"><a name="w:717" class="">w</a></span> <span id="y:718" class="id"><a name="y:718" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:715">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:716">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:717">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:718">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mulhu">Val.mulhu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:715">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:717">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mulhu">mulhu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:716">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:718">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_int_sound">binop_int_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="divs" class="id"><a name="divs" class="">divs</a></span> (<span id="v:719" class="id"><a name="v:719" class="">v</a></span> <span id="w:720" class="id"><a name="w:720" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:720">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:719">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i1</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.divs">Int.divs</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:719">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:720">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="divs_sound" class="id"><a name="divs_sound" class="">divs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:723" class="id"><a name="v:723" class="">v</a></span> <span id="w:724" class="id"><a name="w:724" class="">w</a></span> <span id="u:725" class="id"><a name="u:725" class="">u</a></span> <span id="x:726" class="id"><a name="x:726" class="">x</a></span> <span id="y:727" class="id"><a name="y:727" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:723">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:726">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:724">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:727">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.divs">Val.divs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:723">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:724">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:725">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:725">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#divs">divs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:726">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:727">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="divu" class="id"><a name="divu" class="">divu</a></span> (<span id="v:728" class="id"><a name="v:728" class="">v</a></span> <span id="w:729" class="id"><a name="w:729" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:729">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:728">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.divu">Int.divu</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:728">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:729">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="divu_sound" class="id"><a name="divu_sound" class="">divu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:732" class="id"><a name="v:732" class="">v</a></span> <span id="w:733" class="id"><a name="w:733" class="">w</a></span> <span id="u:734" class="id"><a name="u:734" class="">u</a></span> <span id="x:735" class="id"><a name="x:735" class="">x</a></span> <span id="y:736" class="id"><a name="y:736" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:732">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:735">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:733">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:736">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.divu">Val.divu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:732">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:733">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:734">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:734">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#divu">divu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:735">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:736">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="mods" class="id"><a name="mods" class="">mods</a></span> (<span id="v:737" class="id"><a name="v:737" class="">v</a></span> <span id="w:738" class="id"><a name="w:738" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:738">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:737">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i1</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.mods">Int.mods</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:737">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:738">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mods_sound" class="id"><a name="mods_sound" class="">mods_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:741" class="id"><a name="v:741" class="">v</a></span> <span id="w:742" class="id"><a name="w:742" class="">w</a></span> <span id="u:743" class="id"><a name="u:743" class="">u</a></span> <span id="x:744" class="id"><a name="x:744" class="">x</a></span> <span id="y:745" class="id"><a name="y:745" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:741">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:744">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:742">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:745">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.mods">Val.mods</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:741">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:742">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:743">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:743">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#mods">mods</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:744">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:745">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="modu" class="id"><a name="modu" class="">modu</a></span> (<span id="v:746" class="id"><a name="v:746" class="">v</a></span> <span id="w:747" class="id"><a name="w:747" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:747">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:746">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.modu">Int.modu</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:746">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:746">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:747">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="modu_sound" class="id"><a name="modu_sound" class="">modu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:750" class="id"><a name="v:750" class="">v</a></span> <span id="w:751" class="id"><a name="w:751" class="">w</a></span> <span id="u:752" class="id"><a name="u:752" class="">u</a></span> <span id="x:753" class="id"><a name="x:753" class="">x</a></span> <span id="y:754" class="id"><a name="y:754" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:750">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:753">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:751">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:754">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.modu">Val.modu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:750">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:751">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:752">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:752">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#modu">modu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:753">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:754">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">UNS:</span> <span class="gallina-kwd">forall</span> <span id="i:757" class="id"><span id="i:755" class="id"><a name="i:757" class="">i</a></span></span> <span id="j:758" class="id"><span id="j:756" class="id"><a name="j:758" class="">j,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:756">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:756">j</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.modu">Int.modu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:755">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:756">j</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_mon">is_uns_mon</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.modu">Int.modu</a></span> <span class="id">i</span> <span class="id">j</span>))<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.size">Int.size</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Zbits.html#Zsize_monotone">Zsize_monotone</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">j</span>)<span class="id">;</span> <span class="id">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">j</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">elim</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span> <span class="id">j</span>). <span class="id">rewrite</span> <span class="id">H0</span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">j</span>)). <span class="id">lia</span>. <span class="id">intros</span> <span class="id">MOD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modu">Int.modu</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="id">eqn:Z;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">i0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="gallina-kwd">by</span> (<span class="id">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">Z;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#modu">modu</a></span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">Z</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="shrx" class="id"><a name="shrx" class="">shrx</a></span> (<span id="v:759" class="id"><a name="v:759" class="">v</a></span> <span id="w:760" class="id"><a name="w:760" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:759">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:760">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">j</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">31</span>) <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Int.shrx">Int.shrx</a></span> <span class="id">i</span> <span class="id">j</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:759">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shrx_sound" class="id"><a name="shrx_sound" class="">shrx_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:763" class="id"><a name="v:763" class="">v</a></span> <span id="w:764" class="id"><a name="w:764" class="">w</a></span> <span id="u:765" class="id"><a name="u:765" class="">u</a></span> <span id="x:766" class="id"><a name="x:766" class="">x</a></span> <span id="y:767" class="id"><a name="y:767" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:763">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:766">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:764">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:767">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.shrx">Val.shrx</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:763">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:764">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:765">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:765">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#shrx">shrx</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:766">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:767">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">31</span>)) <span class="id">eqn:LTU;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shrx">shrx;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">LTU;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<div class="doc">64-bit integer operations </div>
<br/>
<span class="vernacular">Definition</span> <span id="shift_long" class="id"><a name="shift_long" class="">shift_long</a></span> (<span id="sem:768" class="id"><a name="sem:768" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>) (<span id="v:769" class="id"><a name="v:769" class="">v</a></span> <span id="w:770" class="id"><a name="w:770" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:770">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">amount</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">amount</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:769">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:768">sem</a></span> <span class="id">i</span> <span class="id">amount</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:769">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:769">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:769">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shift_long_sound" class="id"><a name="shift_long_sound" class="">shift_long_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:773" class="id"><a name="sem:773" class="">sem</a></span> <span id="v:774" class="id"><a name="v:774" class="">v</a></span> <span id="w:775" class="id"><a name="w:775" class="">w</a></span> <span id="x:776" class="id"><a name="x:776" class="">x</a></span> <span id="y:777" class="id"><a name="y:777" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:774">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:776">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:775">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:777">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:774">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:775">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">j</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:773">sem</a></span> <span class="id">i</span> <span class="id">j</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#shift_long">shift_long</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:773">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:776">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:777">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id">v,</span> <span class="id">w</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">j</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id">sem</span> <span class="id">i</span> <span class="id">j</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">constructor;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>)<span class="id">;</span> <span class="id">constructor</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shift_long">shift_long</a></span>. <span class="id">destruct</span> <span class="id">y;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize'">Int64.iwordsize</a></span><span class="id">'</span>) <span class="id">eqn:LT;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">rewrite</span> <span class="id">LT</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="shll" class="id"><a name="shll" class="">shll</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shift_long">shift_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">Int64.shl</a></span><span class="id">'</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shll_sound" class="id"><a name="shll_sound" class="">shll_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:784" class="id"><a name="v:784" class="">v</a></span> <span id="w:785" class="id"><a name="w:785" class="">w</a></span> <span id="x:786" class="id"><a name="x:786" class="">x</a></span> <span id="y:787" class="id"><a name="y:787" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:784">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:786">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:785">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:787">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shll">Val.shll</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:784">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:785">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#shll">shll</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:786">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:787">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#shift_long_sound">shift_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl'">Int64.shl</a></span><span class="id">'</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="shrl" class="id"><a name="shrl" class="">shrl</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shift_long">shift_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">Int64.shr</a></span><span class="id">'</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shrl_sound" class="id"><a name="shrl_sound" class="">shrl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:788" class="id"><a name="v:788" class="">v</a></span> <span id="w:789" class="id"><a name="w:789" class="">w</a></span> <span id="x:790" class="id"><a name="x:790" class="">x</a></span> <span id="y:791" class="id"><a name="y:791" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:788">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:790">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:789">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:791">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:788">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:789">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#shrl">shrl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:790">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:791">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#shift_long_sound">shift_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr'">Int64.shr</a></span><span class="id">'</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="shrlu" class="id"><a name="shrlu" class="">shrlu</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shift_long">shift_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">Int64.shru</a></span><span class="id">'</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shrlu_sound" class="id"><a name="shrlu_sound" class="">shrlu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:792" class="id"><a name="v:792" class="">v</a></span> <span id="w:793" class="id"><a name="w:793" class="">w</a></span> <span id="x:794" class="id"><a name="x:794" class="">x</a></span> <span id="y:795" class="id"><a name="y:795" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:792">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:794">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:793">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:795">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:792">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:793">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#shrlu">shrlu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:794">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:795">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#shift_long_sound">shift_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru'">Int64.shru</a></span><span class="id">'</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="andl" class="id"><a name="andl" class="">andl</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="andl_sound" class="id"><a name="andl_sound" class="">andl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:796" class="id"><a name="v:796" class="">v</a></span> <span id="x:797" class="id"><a name="x:797" class="">x</a></span> <span id="w:798" class="id"><a name="w:798" class="">w</a></span> <span id="y:799" class="id"><a name="y:799" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:796">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:797">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:798">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:799">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.andl">Val.andl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:796">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:798">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#andl">andl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:797">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:799">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_long_sound">binop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="orl" class="id"><a name="orl" class="">orl</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="orl_sound" class="id"><a name="orl_sound" class="">orl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:800" class="id"><a name="v:800" class="">v</a></span> <span id="x:801" class="id"><a name="x:801" class="">x</a></span> <span id="w:802" class="id"><a name="w:802" class="">w</a></span> <span id="y:803" class="id"><a name="y:803" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:800">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:801">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:802">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:803">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.orl">Val.orl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:800">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:802">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#orl">orl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:801">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:803">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_long_sound">binop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="xorl" class="id"><a name="xorl" class="">xorl</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.xor">Int64.xor</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="xorl_sound" class="id"><a name="xorl_sound" class="">xorl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:804" class="id"><a name="v:804" class="">v</a></span> <span id="x:805" class="id"><a name="x:805" class="">x</a></span> <span id="w:806" class="id"><a name="w:806" class="">w</a></span> <span id="y:807" class="id"><a name="y:807" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:804">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:805">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:806">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:807">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.xorl">Val.xorl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:804">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:806">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#xorl">xorl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:805">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:807">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_long_sound">binop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.xor">Int64.xor</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="notl" class="id"><a name="notl" class="">notl</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_long">unop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.not">Int64.not</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="notl_sound" class="id"><a name="notl_sound" class="">notl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:808" class="id"><a name="v:808" class="">v</a></span> <span id="x:809" class="id"><a name="x:809" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:808">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:809">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.notl">Val.notl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:808">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#notl">notl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:809">x</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_long_sound">unop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.not">Int64.not</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="rotate_long" class="id"><a name="rotate_long" class="">rotate_long</a></span> (<span id="sem:810" class="id"><a name="sem:810" class="">sem:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>) (<span id="v:811" class="id"><a name="v:811" class="">v</a></span> <span id="w:812" class="id"><a name="w:812" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:811">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:812">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">amount</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:810">sem</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">amount</span>)))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:811">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="rotate_long_sound" class="id"><a name="rotate_long_sound" class="">rotate_long_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="sem:815" class="id"><a name="sem:815" class="">sem</a></span> <span id="v:816" class="id"><a name="v:816" class="">v</a></span> <span id="w:817" class="id"><a name="w:817" class="">w</a></span> <span id="x:818" class="id"><a name="x:818" class="">x</a></span> <span id="y:819" class="id"><a name="y:819" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:816">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:818">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:817">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:819">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:816">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:817">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sem:815">sem</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">j</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#rotate_long">rotate_long</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sem:815">sem</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:818">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:819">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="gallina-kwd">match</span> <span class="id">v,</span> <span class="id">w</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id">sem</span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">j</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">constructor</span>. <span class="id">destruct</span> <span class="id">w;</span> <span class="id">constructor</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rotate_long">rotate_long</a></span>. <span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">y;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="roll" class="id"><a name="roll" class="">roll</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rotate_long">rotate_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.rol">Int64.rol</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="roll_sound" class="id"><a name="roll_sound" class="">roll_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:826" class="id"><a name="v:826" class="">v</a></span> <span id="w:827" class="id"><a name="w:827" class="">w</a></span> <span id="x:828" class="id"><a name="x:828" class="">x</a></span> <span id="y:829" class="id"><a name="y:829" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:826">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:828">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:827">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:829">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.roll">Val.roll</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:826">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:827">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#roll">roll</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:828">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:829">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#rotate_long_sound">rotate_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.rol">Int64.rol</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="rorl" class="id"><a name="rorl" class="">rorl</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rotate_long">rotate_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ror">Int64.ror</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="rorl_sound" class="id"><a name="rorl_sound" class="">rorl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:830" class="id"><a name="v:830" class="">v</a></span> <span id="w:831" class="id"><a name="w:831" class="">w</a></span> <span id="x:832" class="id"><a name="x:832" class="">x</a></span> <span id="y:833" class="id"><a name="y:833" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:830">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:832">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:831">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:833">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.rorl">Val.rorl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:830">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:831">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#rorl">rorl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:832">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:833">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#rotate_long_sound">rotate_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ror">Int64.ror</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="negl" class="id"><a name="negl" class="">negl</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_long">unop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.neg">Int64.neg</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="negl_sound" class="id"><a name="negl_sound" class="">negl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:834" class="id"><a name="v:834" class="">v</a></span> <span id="x:835" class="id"><a name="x:835" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:834">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:835">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.negl">Val.negl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:834">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#negl">negl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:835">x</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_long_sound">unop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.neg">Int64.neg</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="addl" class="id"><a name="addl" class="">addl</a></span> (<span id="x:836" class="id"><a name="x:836" class="">x</a></span> <span id="y:837" class="id"><a name="y:837" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:836">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:837">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">Int64.add</a></span> <span class="id">i</span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#padd">padd</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id">_</span>   <span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#padd">padd</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">q</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">q</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id">_</span> <span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:836">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:837">y</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="addl_sound" class="id"><a name="addl_sound" class="">addl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:840" class="id"><a name="v:840" class="">v</a></span> <span id="w:841" class="id"><a name="w:841" class="">w</a></span> <span id="x:842" class="id"><a name="x:842" class="">x</a></span> <span id="y:843" class="id"><a name="y:843" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:840">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:842">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:841">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:843">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.addl">Val.addl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:840">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:841">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#addl">addl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:842">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:843">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.addl">Val.addl</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#addl">addl</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor;</span><br/>
&nbsp;&nbsp;((<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#padd_sound">padd_sound;</a></span> <span class="id">assumption</span>) <span class="id">||</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound;</a></span> <span class="id">eassumption</span>) <span class="id">||</span> <span class="id">idtac</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_r">pmatch_lub_r</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="subl" class="id"><a name="subl" class="">subl</a></span> (<span id="v:844" class="id"><a name="v:844" class="">v</a></span> <span id="w:845" class="id"><a name="w:845" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:844">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:845">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">Int64.sub</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#psub">psub</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i</span>)) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p,</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#psub">psub</a></span> <span class="id">p</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i</span>)) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:845">w</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:845">w</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:844">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:845">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="subl_sound" class="id"><a name="subl_sound" class="">subl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:848" class="id"><a name="v:848" class="">v</a></span> <span id="w:849" class="id"><a name="w:849" class="">w</a></span> <span id="x:850" class="id"><a name="x:850" class="">x</a></span> <span id="y:851" class="id"><a name="y:851" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:848">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:850">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:849">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:851">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.subl">Val.subl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:848">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:849">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#subl">subl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:850">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:851">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.subl">Val.subl</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#subl">subl</a></span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">try</span> (<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b0</span>))<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#psub_sound">psub_sound,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_sound">poffset_sound,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="mull" class="id"><a name="mull" class="">mull</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">Int64.mul</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mull_sound" class="id"><a name="mull_sound" class="">mull_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:852" class="id"><a name="v:852" class="">v</a></span> <span id="x:853" class="id"><a name="x:853" class="">x</a></span> <span id="w:854" class="id"><a name="w:854" class="">w</a></span> <span id="y:855" class="id"><a name="y:855" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:852">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:853">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:854">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:855">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mull">Val.mull</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:852">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:854">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mull">mull</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:853">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:855">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_long_sound">binop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">Int64.mul</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mullhs" class="id"><a name="mullhs" class="">mullhs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mulhs">Int64.mulhs</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mullhs_sound" class="id"><a name="mullhs_sound" class="">mullhs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:856" class="id"><a name="v:856" class="">v</a></span> <span id="x:857" class="id"><a name="x:857" class="">x</a></span> <span id="w:858" class="id"><a name="w:858" class="">w</a></span> <span id="y:859" class="id"><a name="y:859" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:856">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:857">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:858">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:859">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mullhs">Val.mullhs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:856">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:858">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mullhs">mullhs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:857">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:859">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_long_sound">binop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mulhs">Int64.mulhs</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mullhu" class="id"><a name="mullhu" class="">mullhu</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_long">binop_long</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mulhu">Int64.mulhu</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mullhu_sound" class="id"><a name="mullhu_sound" class="">mullhu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:860" class="id"><a name="v:860" class="">v</a></span> <span id="x:861" class="id"><a name="x:861" class="">x</a></span> <span id="w:862" class="id"><a name="w:862" class="">w</a></span> <span id="y:863" class="id"><a name="y:863" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:860">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:861">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:862">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:863">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mullhu">Val.mullhu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:860">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:862">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mullhu">mullhu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:861">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:863">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_long_sound">binop_long_sound</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mulhu">Int64.mulhu</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="divls" class="id"><a name="divls" class="">divls</a></span> (<span id="v:864" class="id"><a name="v:864" class="">v</a></span> <span id="w:865" class="id"><a name="w:865" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:865">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:864">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i1</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.divs">Int64.divs</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:864">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:865">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="divls_sound" class="id"><a name="divls_sound" class="">divls_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:868" class="id"><a name="v:868" class="">v</a></span> <span id="w:869" class="id"><a name="w:869" class="">w</a></span> <span id="u:870" class="id"><a name="u:870" class="">u</a></span> <span id="x:871" class="id"><a name="x:871" class="">x</a></span> <span id="y:872" class="id"><a name="y:872" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:868">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:871">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:869">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:872">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.divls">Val.divls</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:868">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:869">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:870">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:870">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#divls">divls</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:871">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:872">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="divlu" class="id"><a name="divlu" class="">divlu</a></span> (<span id="v:873" class="id"><a name="v:873" class="">v</a></span> <span id="w:874" class="id"><a name="w:874" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:874">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:873">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.divu">Int64.divu</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:873">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:874">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="divlu_sound" class="id"><a name="divlu_sound" class="">divlu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:877" class="id"><a name="v:877" class="">v</a></span> <span id="w:878" class="id"><a name="w:878" class="">w</a></span> <span id="u:879" class="id"><a name="u:879" class="">u</a></span> <span id="x:880" class="id"><a name="x:880" class="">x</a></span> <span id="y:881" class="id"><a name="y:881" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:877">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:880">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:878">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:881">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.divlu">Val.divlu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:877">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:878">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:879">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:879">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#divlu">divlu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:880">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:881">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="modls" class="id"><a name="modls" class="">modls</a></span> (<span id="v:882" class="id"><a name="v:882" class="">v</a></span> <span id="w:883" class="id"><a name="w:883" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:883">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:882">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i1</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.mods">Int64.mods</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:882">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:883">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="modls_sound" class="id"><a name="modls_sound" class="">modls_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:886" class="id"><a name="v:886" class="">v</a></span> <span id="w:887" class="id"><a name="w:887" class="">w</a></span> <span id="u:888" class="id"><a name="u:888" class="">u</a></span> <span id="x:889" class="id"><a name="x:889" class="">x</a></span> <span id="y:890" class="id"><a name="y:890" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:886">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:889">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:887">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:890">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.modls">Val.modls</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:886">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:887">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:888">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:888">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#modls">modls</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:889">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:890">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">||</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="modlu" class="id"><a name="modlu" class="">modlu</a></span> (<span id="v:891" class="id"><a name="v:891" class="">v</a></span> <span id="w:892" class="id"><a name="w:892" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:892">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:891">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i2</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.modu">Int64.modu</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:891">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:892">w</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="modlu_sound" class="id"><a name="modlu_sound" class="">modlu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:895" class="id"><a name="v:895" class="">v</a></span> <span id="w:896" class="id"><a name="w:896" class="">w</a></span> <span id="u:897" class="id"><a name="u:897" class="">u</a></span> <span id="x:898" class="id"><a name="x:898" class="">x</a></span> <span id="y:899" class="id"><a name="y:899" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:895">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:898">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:896">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:899">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.modlu">Val.modlu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:895">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:896">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:897">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:897">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#modlu">modlu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:898">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:899">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>) <span class="id">eqn:E;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id">E</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="shrxl" class="id"><a name="shrxl" class="">shrxl</a></span> (<span id="v:900" class="id"><a name="v:900" class="">v</a></span> <span id="w:901" class="id"><a name="w:901" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:900">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:901">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">j</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>) <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx'">Int64.shrx</a></span><span class="id">'</span> <span class="id">i</span> <span class="id">j</span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:900">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="shrxl_sound" class="id"><a name="shrxl_sound" class="">shrxl_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:904" class="id"><a name="v:904" class="">v</a></span> <span id="w:905" class="id"><a name="w:905" class="">w</a></span> <span id="u:906" class="id"><a name="u:906" class="">u</a></span> <span id="x:907" class="id"><a name="x:907" class="">x</a></span> <span id="y:908" class="id"><a name="y:908" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:904">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:907">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:905">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:908">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.shrxl">Val.shrxl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:904">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:905">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:906">u</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#u:906">u</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#shrxl">shrxl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:907">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:908">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">destruct</span> <span class="id">w;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">63</span>)) <span class="id">eqn:LTU;</span> <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#shrxl">shrxl;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">LTU;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="rolml" class="id"><a name="rolml" class="">rolml</a></span> (<span id="x:909" class="id"><a name="x:909" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) (<span id="amount:910" class="id"><a name="amount:910" class="">amount:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) (<span id="mask:911" class="id"><a name="mask:911" class="">mask:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#andl">andl</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#roll">roll</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:909">x</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amount:910">amount</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:911">mask</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="rolml_sound" class="id"><a name="rolml_sound" class="">rolml_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:912" class="id"><a name="v:912" class="">v</a></span> <span id="x:913" class="id"><a name="x:913" class="">x</a></span> <span id="amount:914" class="id"><a name="amount:914" class="">amount</a></span> <span id="mask:915" class="id"><a name="mask:915" class="">mask,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:912">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:913">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.rolml">Val.rolml</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:912">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amount:914">amount</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:915">mask</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#rolml">rolml</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:913">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amount:914">amount</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:915">mask</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.common.Values.html#Val.rolml">Val.rolml</a></span> <span class="id">v</span> <span class="id">amount</span> <span class="id">mask</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.andl">Val.andl</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.roll">Val.roll</a></span> <span class="id">v</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">amount</span>)) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">mask</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#andl_sound">andl_sound</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#roll_sound">roll_sound</a></span>. <span class="id">auto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Pointer operations </div>
<br/>
<span class="vernacular">Definition</span> <span id="offset_ptr" class="id"><a name="offset_ptr" class="">offset_ptr</a></span> (<span id="v:916" class="id"><a name="v:916" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) (<span id="n:917" class="id"><a name="n:917" class="">n:</a></span> <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:916">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#padd">padd</a></span> <span class="id">p</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:917">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#padd">padd</a></span> <span class="id">p</span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:917">n</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:916">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="offset_ptr_sound" class="id"><a name="offset_ptr_sound" class="">offset_ptr_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:919" class="id"><a name="v:919" class="">v</a></span> <span id="x:920" class="id"><a name="x:920" class="">x</a></span> <span id="n:921" class="id"><a name="n:921" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:919">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:920">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:919">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:921">n</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#offset_ptr">offset_ptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:920">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:921">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.offset_ptr">Val.offset_ptr</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#offset_ptr">offset_ptr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">constructor;</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#padd_sound">padd_sound;</a></span> <span class="id">assumption</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Floating-point arithmetic operations </div>
<br/>
<span class="vernacular">Definition</span> <span id="negf" class="id"><a name="negf" class="">negf</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_float">unop_float</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.neg">Float.neg</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="negf_sound" class="id"><a name="negf_sound" class="">negf_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:922" class="id"><a name="v:922" class="">v</a></span> <span id="x:923" class="id"><a name="x:923" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:922">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:923">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.negf">Val.negf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:922">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#negf">negf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:923">x</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_float_sound">unop_float_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.neg">Float.neg</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="absf" class="id"><a name="absf" class="">absf</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_float">unop_float</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.abs">Float.abs</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="absf_sound" class="id"><a name="absf_sound" class="">absf_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:924" class="id"><a name="v:924" class="">v</a></span> <span id="x:925" class="id"><a name="x:925" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:924">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:925">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.absf">Val.absf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:924">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#absf">absf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:925">x</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_float_sound">unop_float_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.abs">Float.abs</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="addf" class="id"><a name="addf" class="">addf</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_float">binop_float</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">Float.add</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="addf_sound" class="id"><a name="addf_sound" class="">addf_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:926" class="id"><a name="v:926" class="">v</a></span> <span id="x:927" class="id"><a name="x:927" class="">x</a></span> <span id="w:928" class="id"><a name="w:928" class="">w</a></span> <span id="y:929" class="id"><a name="y:929" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:926">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:927">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:928">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:929">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.addf">Val.addf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:926">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:928">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#addf">addf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:927">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:929">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_float_sound">binop_float_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">Float.add</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="subf" class="id"><a name="subf" class="">subf</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_float">binop_float</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">Float.sub</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="subf_sound" class="id"><a name="subf_sound" class="">subf_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:930" class="id"><a name="v:930" class="">v</a></span> <span id="x:931" class="id"><a name="x:931" class="">x</a></span> <span id="w:932" class="id"><a name="w:932" class="">w</a></span> <span id="y:933" class="id"><a name="y:933" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:930">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:931">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:932">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:933">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.subf">Val.subf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:930">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:932">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#subf">subf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:931">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:933">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_float_sound">binop_float_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">Float.sub</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mulf" class="id"><a name="mulf" class="">mulf</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_float">binop_float</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">Float.mul</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mulf_sound" class="id"><a name="mulf_sound" class="">mulf_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:934" class="id"><a name="v:934" class="">v</a></span> <span id="x:935" class="id"><a name="x:935" class="">x</a></span> <span id="w:936" class="id"><a name="w:936" class="">w</a></span> <span id="y:937" class="id"><a name="y:937" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:934">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:935">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:936">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:937">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mulf">Val.mulf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:934">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:936">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mulf">mulf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:935">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:937">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_float_sound">binop_float_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">Float.mul</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="divf" class="id"><a name="divf" class="">divf</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_float">binop_float</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.div">Float.div</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="divf_sound" class="id"><a name="divf_sound" class="">divf_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:938" class="id"><a name="v:938" class="">v</a></span> <span id="x:939" class="id"><a name="x:939" class="">x</a></span> <span id="w:940" class="id"><a name="w:940" class="">w</a></span> <span id="y:941" class="id"><a name="y:941" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:938">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:939">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:940">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:941">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.divf">Val.divf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:938">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:940">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#divf">divf</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:939">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:941">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_float_sound">binop_float_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.div">Float.div</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="negfs" class="id"><a name="negfs" class="">negfs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_single">unop_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.neg">Float32.neg</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="negfs_sound" class="id"><a name="negfs_sound" class="">negfs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:942" class="id"><a name="v:942" class="">v</a></span> <span id="x:943" class="id"><a name="x:943" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:942">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:943">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.negfs">Val.negfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:942">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#negfs">negfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:943">x</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_single_sound">unop_single_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.neg">Float32.neg</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="absfs" class="id"><a name="absfs" class="">absfs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_single">unop_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.abs">Float32.abs</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="absfs_sound" class="id"><a name="absfs_sound" class="">absfs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:944" class="id"><a name="v:944" class="">v</a></span> <span id="x:945" class="id"><a name="x:945" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:944">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:945">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.absfs">Val.absfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:944">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#absfs">absfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:945">x</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_single_sound">unop_single_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.abs">Float32.abs</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="addfs" class="id"><a name="addfs" class="">addfs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_single">binop_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.add">Float32.add</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="addfs_sound" class="id"><a name="addfs_sound" class="">addfs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:946" class="id"><a name="v:946" class="">v</a></span> <span id="x:947" class="id"><a name="x:947" class="">x</a></span> <span id="w:948" class="id"><a name="w:948" class="">w</a></span> <span id="y:949" class="id"><a name="y:949" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:946">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:947">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:948">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:949">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.addfs">Val.addfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:946">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:948">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#addfs">addfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:947">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:949">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_single_sound">binop_single_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.add">Float32.add</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="subfs" class="id"><a name="subfs" class="">subfs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_single">binop_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.sub">Float32.sub</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="subfs_sound" class="id"><a name="subfs_sound" class="">subfs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:950" class="id"><a name="v:950" class="">v</a></span> <span id="x:951" class="id"><a name="x:951" class="">x</a></span> <span id="w:952" class="id"><a name="w:952" class="">w</a></span> <span id="y:953" class="id"><a name="y:953" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:950">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:951">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:952">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:953">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.subfs">Val.subfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:950">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:952">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#subfs">subfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:951">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:953">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_single_sound">binop_single_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.sub">Float32.sub</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mulfs" class="id"><a name="mulfs" class="">mulfs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_single">binop_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">Float32.mul</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mulfs_sound" class="id"><a name="mulfs_sound" class="">mulfs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:954" class="id"><a name="v:954" class="">v</a></span> <span id="x:955" class="id"><a name="x:955" class="">x</a></span> <span id="w:956" class="id"><a name="w:956" class="">w</a></span> <span id="y:957" class="id"><a name="y:957" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:954">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:955">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:956">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:957">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.mulfs">Val.mulfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:954">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:956">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mulfs">mulfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:955">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:957">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_single_sound">binop_single_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">Float32.mul</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="divfs" class="id"><a name="divfs" class="">divfs</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#binop_single">binop_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.div">Float32.div</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="divfs_sound" class="id"><a name="divfs_sound" class="">divfs_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:958" class="id"><a name="v:958" class="">v</a></span> <span id="x:959" class="id"><a name="x:959" class="">x</a></span> <span id="w:960" class="id"><a name="w:960" class="">w</a></span> <span id="y:961" class="id"><a name="y:961" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:958">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:959">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:960">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:961">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.divfs">Val.divfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:958">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:960">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#divfs">divfs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:959">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:961">y</a></span>).<br/>
<span class="vernacular">Proof</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#binop_single_sound">binop_single_sound</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.div">Float32.div</a></span>).<br/>
<br/>
<div class="doc">Conversions </div>
<br/>
<span class="vernacular">Definition</span> <span id="zero_ext" class="id"><a name="zero_ext" class="">zero_ext</a></span> (<span id="nbits:962" class="id"><a name="nbits:962" class="">nbits:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="v:963" class="id"><a name="v:963" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:963">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:962">nbits</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n</span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:962">nbits</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:963">v</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:962">nbits</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="zero_ext_sound" class="id"><a name="zero_ext_sound" class="">zero_ext_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="nbits:965" class="id"><a name="nbits:965" class="">nbits</a></span> <span id="v:966" class="id"><a name="v:966" class="">v</a></span> <span id="x:967" class="id"><a name="x:967" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:966">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:967">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.zero_ext">Val.zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:965">nbits</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:966">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:965">nbits</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:967">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="gallina-kwd">forall</span> <span id="nbits:970" class="id"><span id="nbits:968" class="id"><a name="nbits:970" class="">nbits</a></span></span> <span id="i:971" class="id"><span id="i:969" class="id"><a name="i:971" class="">i,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns">is_uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:968">nbits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:968">nbits</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:969">i</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero_ext">Int.bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_uns">vmatch_uns</a></span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">zify</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero_ext">Int.bits_zero_ext</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">m</span> <span class="id">nbits</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H1;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="sign_ext" class="id"><a name="sign_ext" class="">sign_ext</a></span> (<span id="nbits:972" class="id"><a name="nbits:972" class="">nbits:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="v:973" class="id"><a name="v:973" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:972">nbits</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:973">v</a></span>) <span class="id">0</span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:973">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:972">nbits</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:972">nbits</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:972">nbits</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id">p</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n</span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:972">nbits</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:973">v</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:972">nbits</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sign_ext_sound" class="id"><a name="sign_ext_sound" class="">sign_ext_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="nbits:975" class="id"><a name="nbits:975" class="">nbits</a></span> <span id="v:976" class="id"><a name="v:976" class="">v</a></span> <span id="x:977" class="id"><a name="x:977" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:976">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:977">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.sign_ext">Val.sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:975">nbits</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:976">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:975">nbits</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:977">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="gallina-kwd">forall</span> <span id="p:981" class="id"><span id="p:978" class="id"><a name="p:981" class="">p</a></span></span> <span id="nbits:982" class="id"><span id="nbits:979" class="id"><a name="nbits:982" class="">nbits</a></span></span> <span id="i:983" class="id"><span id="i:980" class="id"><a name="i:983" class="">i,</a></span></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:979">nbits</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:979">nbits</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:980">i</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:978">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#nbits:979">nbits</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn">vmatch_sgn</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sign_ext">sign_ext</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">nbits</span> <span class="id">0</span>).<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">constructor</span>. <span class="id">lia</span>. <br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext_below">Int.sign_ext_below</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">red;</span> <span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero">Int.bits_zero</a></span>.<br/>
<span class="id">-</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">nbits</span>)<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">auto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_uns">is_sign_ext_uns;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">+</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">nbits</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn">vmatch_sgn</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="zero_ext_l" class="id"><a name="zero_ext_l" class="">zero_ext_l</a></span> (<span id="s:984" class="id"><a name="s:984" class="">s:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_long">unop_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">Int64.zero_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#s:984">s</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="zero_ext_l_sound" class="id"><a name="zero_ext_l_sound" class="">zero_ext_l_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:985" class="id"><a name="s:985" class="">s</a></span> <span id="v:986" class="id"><a name="v:986" class="">v</a></span> <span id="x:987" class="id"><a name="x:987" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:986">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:987">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.zero_ext_l">Val.zero_ext_l</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#s:985">s</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:986">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#zero_ext_l">zero_ext_l</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#s:985">s</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:987">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s</span>. <span class="id">exact</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_long_sound">unop_long_sound</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zero_ext">Int64.zero_ext</a></span> <span class="id">s</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="sign_ext_l" class="id"><a name="sign_ext_l" class="">sign_ext_l</a></span> (<span id="s:988" class="id"><a name="s:988" class="">s:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#unop_long">unop_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">Int64.sign_ext</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#s:988">s</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sign_ext_l_sound" class="id"><a name="sign_ext_l_sound" class="">sign_ext_l_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="s:989" class="id"><a name="s:989" class="">s</a></span> <span id="v:990" class="id"><a name="v:990" class="">v</a></span> <span id="x:991" class="id"><a name="x:991" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:990">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:991">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.sign_ext_l">Val.sign_ext_l</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#s:989">s</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:990">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#sign_ext_l">sign_ext_l</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#s:989">s</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:991">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">s</span>. <span class="id">exact</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#unop_long_sound">unop_long_sound</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sign_ext">Int64.sign_ext</a></span> <span class="id">s</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="longofint" class="id"><a name="longofint" class="">longofint</a></span> (<span id="v:992" class="id"><a name="v:992" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:992">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:992">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="longofint_sound" class="id"><a name="longofint_sound" class="">longofint_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:994" class="id"><a name="v:994" class="">v</a></span> <span id="x:995" class="id"><a name="x:995" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:994">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:995">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofint">Val.longofint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:994">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#longofint">longofint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:995">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.longofint">Val.longofint</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#longofint">longofint;</a></span> <span class="id">intros;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="longofintu" class="id"><a name="longofintu" class="">longofintu</a></span> (<span id="v:996" class="id"><a name="v:996" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:996">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:996">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="longofintu_sound" class="id"><a name="longofintu_sound" class="">longofintu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:998" class="id"><a name="v:998" class="">v</a></span> <span id="x:999" class="id"><a name="x:999" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:998">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:999">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofintu">Val.longofintu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:998">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#longofintu">longofintu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:999">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.longofintu">Val.longofintu</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#longofintu">longofintu;</a></span> <span class="id">intros;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="singleoffloat" class="id"><a name="singleoffloat" class="">singleoffloat</a></span> (<span id="v:1000" class="id"><a name="v:1000" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1000">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1000">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="singleoffloat_sound" class="id"><a name="singleoffloat_sound" class="">singleoffloat_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1002" class="id"><a name="v:1002" class="">v</a></span> <span id="x:1003" class="id"><a name="x:1003" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1002">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1003">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.singleoffloat">Val.singleoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1002">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#singleoffloat">singleoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1003">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.singleoffloat">Val.singleoffloat</a></span> <span class="id">v</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="floatofsingle" class="id"><a name="floatofsingle" class="">floatofsingle</a></span> (<span id="v:1004" class="id"><a name="v:1004" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1004">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1004">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="floatofsingle_sound" class="id"><a name="floatofsingle_sound" class="">floatofsingle_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1006" class="id"><a name="v:1006" class="">v</a></span> <span id="x:1007" class="id"><a name="x:1007" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1006">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1007">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.floatofsingle">Val.floatofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1006">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#floatofsingle">floatofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1007">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.floatofsingle">Val.floatofsingle</a></span> <span class="id">v</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">auto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="intoffloat" class="id"><a name="intoffloat" class="">intoffloat</a></span> (<span id="x:1008" class="id"><a name="x:1008" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1008">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">Float.to_int</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1008">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="intoffloat_sound" class="id"><a name="intoffloat_sound" class="">intoffloat_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1010" class="id"><a name="v:1010" class="">v</a></span> <span id="x:1011" class="id"><a name="x:1011" class="">x</a></span> <span id="w:1012" class="id"><a name="w:1012" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1010">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1011">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.intoffloat">Val.intoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1010">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1012">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1012">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#intoffloat">intoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1011">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.intoffloat">Val.intoffloat</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_int">Float.to_int</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="intuoffloat" class="id"><a name="intuoffloat" class="">intuoffloat</a></span> (<span id="x:1013" class="id"><a name="x:1013" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1013">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1013">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="intuoffloat_sound" class="id"><a name="intuoffloat_sound" class="">intuoffloat_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1015" class="id"><a name="v:1015" class="">v</a></span> <span id="x:1016" class="id"><a name="x:1016" class="">x</a></span> <span id="w:1017" class="id"><a name="w:1017" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1015">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1016">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.intuoffloat">Val.intuoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1015">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1017">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1017">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#intuoffloat">intuoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1016">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.intuoffloat">Val.intuoffloat</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="floatofint" class="id"><a name="floatofint" class="">floatofint</a></span> (<span id="x:1018" class="id"><a name="x:1018" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1018">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">Float.of_int</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1018">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="floatofint_sound" class="id"><a name="floatofint_sound" class="">floatofint_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1020" class="id"><a name="v:1020" class="">v</a></span> <span id="x:1021" class="id"><a name="x:1021" class="">x</a></span> <span id="w:1022" class="id"><a name="w:1022" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1020">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1021">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.floatofint">Val.floatofint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1020">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1022">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1022">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#floatofint">floatofint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1021">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.floatofint">Val.floatofint</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="floatofintu" class="id"><a name="floatofintu" class="">floatofintu</a></span> (<span id="x:1023" class="id"><a name="x:1023" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1023">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1023">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="floatofintu_sound" class="id"><a name="floatofintu_sound" class="">floatofintu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1025" class="id"><a name="v:1025" class="">v</a></span> <span id="x:1026" class="id"><a name="x:1026" class="">x</a></span> <span id="w:1027" class="id"><a name="w:1027" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1025">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1026">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.floatofintu">Val.floatofintu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1025">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1027">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1027">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#floatofintu">floatofintu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1026">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.floatofintu">Val.floatofintu</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="intofsingle" class="id"><a name="intofsingle" class="">intofsingle</a></span> (<span id="x:1028" class="id"><a name="x:1028" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1028">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_int">Float32.to_int</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1028">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="intofsingle_sound" class="id"><a name="intofsingle_sound" class="">intofsingle_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1030" class="id"><a name="v:1030" class="">v</a></span> <span id="x:1031" class="id"><a name="x:1031" class="">x</a></span> <span id="w:1032" class="id"><a name="w:1032" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1030">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1031">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.intofsingle">Val.intofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1030">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1032">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1032">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#intofsingle">intofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1031">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.intofsingle">Val.intofsingle</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_int">Float32.to_int</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="intuofsingle" class="id"><a name="intuofsingle" class="">intuofsingle</a></span> (<span id="x:1033" class="id"><a name="x:1033" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1033">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">Float32.to_intu</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1033">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="intuofsingle_sound" class="id"><a name="intuofsingle_sound" class="">intuofsingle_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1035" class="id"><a name="v:1035" class="">v</a></span> <span id="x:1036" class="id"><a name="x:1036" class="">x</a></span> <span id="w:1037" class="id"><a name="w:1037" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1035">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1036">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.intuofsingle">Val.intuofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1035">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1037">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1037">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#intuofsingle">intuofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1036">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.intuofsingle">Val.intuofsingle</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">Float32.to_intu</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="singleofint" class="id"><a name="singleofint" class="">singleofint</a></span> (<span id="x:1038" class="id"><a name="x:1038" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1038">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float32.of_int">Float32.of_int</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1038">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="singleofint_sound" class="id"><a name="singleofint_sound" class="">singleofint_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1040" class="id"><a name="v:1040" class="">v</a></span> <span id="x:1041" class="id"><a name="x:1041" class="">x</a></span> <span id="w:1042" class="id"><a name="w:1042" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1040">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1041">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.singleofint">Val.singleofint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1040">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1042">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1042">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#singleofint">singleofint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1041">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.singleofint">Val.singleofint</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="singleofintu" class="id"><a name="singleofintu" class="">singleofintu</a></span> (<span id="x:1043" class="id"><a name="x:1043" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1043">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float32.of_intu">Float32.of_intu</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1043">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="singleofintu_sound" class="id"><a name="singleofintu_sound" class="">singleofintu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1045" class="id"><a name="v:1045" class="">v</a></span> <span id="x:1046" class="id"><a name="x:1046" class="">x</a></span> <span id="w:1047" class="id"><a name="w:1047" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1045">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1046">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.singleofintu">Val.singleofintu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1045">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1047">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1047">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#singleofintu">singleofintu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1046">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.singleofintu">Val.singleofintu</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="longoffloat" class="id"><a name="longoffloat" class="">longoffloat</a></span> (<span id="x:1048" class="id"><a name="x:1048" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1048">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">Float.to_long</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1048">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="longoffloat_sound" class="id"><a name="longoffloat_sound" class="">longoffloat_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1050" class="id"><a name="v:1050" class="">v</a></span> <span id="x:1051" class="id"><a name="x:1051" class="">x</a></span> <span id="w:1052" class="id"><a name="w:1052" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1050">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1051">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.longoffloat">Val.longoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1050">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1052">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1052">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#longoffloat">longoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1051">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.longoffloat">Val.longoffloat</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_long">Float.to_long</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="longuoffloat" class="id"><a name="longuoffloat" class="">longuoffloat</a></span> (<span id="x:1053" class="id"><a name="x:1053" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1053">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">Float.to_longu</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1053">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="longuoffloat_sound" class="id"><a name="longuoffloat_sound" class="">longuoffloat_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1055" class="id"><a name="v:1055" class="">v</a></span> <span id="x:1056" class="id"><a name="x:1056" class="">x</a></span> <span id="w:1057" class="id"><a name="w:1057" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1055">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1056">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.longuoffloat">Val.longuoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1055">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1057">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1057">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#longuoffloat">longuoffloat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1056">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.longuoffloat">Val.longuoffloat</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">Float.to_longu</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="floatoflong" class="id"><a name="floatoflong" class="">floatoflong</a></span> (<span id="x:1058" class="id"><a name="x:1058" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1058">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">Float.of_long</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1058">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="floatoflong_sound" class="id"><a name="floatoflong_sound" class="">floatoflong_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1060" class="id"><a name="v:1060" class="">v</a></span> <span id="x:1061" class="id"><a name="x:1061" class="">x</a></span> <span id="w:1062" class="id"><a name="w:1062" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1060">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1061">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.floatoflong">Val.floatoflong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1060">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1062">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1062">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#floatoflong">floatoflong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1061">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.floatoflong">Val.floatoflong</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="floatoflongu" class="id"><a name="floatoflongu" class="">floatoflongu</a></span> (<span id="x:1063" class="id"><a name="x:1063" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1063">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">Float.of_longu</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1063">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="floatoflongu_sound" class="id"><a name="floatoflongu_sound" class="">floatoflongu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1065" class="id"><a name="v:1065" class="">v</a></span> <span id="x:1066" class="id"><a name="x:1066" class="">x</a></span> <span id="w:1067" class="id"><a name="w:1067" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1065">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1066">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.floatoflongu">Val.floatoflongu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1065">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1067">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1067">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#floatoflongu">floatoflongu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1066">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.floatoflongu">Val.floatoflongu</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="longofsingle" class="id"><a name="longofsingle" class="">longofsingle</a></span> (<span id="x:1068" class="id"><a name="x:1068" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1068">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_long">Float32.to_long</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1068">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="longofsingle_sound" class="id"><a name="longofsingle_sound" class="">longofsingle_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1070" class="id"><a name="v:1070" class="">v</a></span> <span id="x:1071" class="id"><a name="x:1071" class="">x</a></span> <span id="w:1072" class="id"><a name="w:1072" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1070">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1071">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.longofsingle">Val.longofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1070">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1072">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1072">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#longofsingle">longofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1071">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.longofsingle">Val.longofsingle</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_long">Float32.to_long</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="longuofsingle" class="id"><a name="longuofsingle" class="">longuofsingle</a></span> (<span id="x:1073" class="id"><a name="x:1073" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1073">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_longu">Float32.to_longu</a></span> <span class="id">f</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1073">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="longuofsingle_sound" class="id"><a name="longuofsingle_sound" class="">longuofsingle_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1075" class="id"><a name="v:1075" class="">v</a></span> <span id="x:1076" class="id"><a name="x:1076" class="">x</a></span> <span id="w:1077" class="id"><a name="w:1077" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1075">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1076">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.longuofsingle">Val.longuofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1075">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1077">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1077">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#longuofsingle">longuofsingle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1076">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.longuofsingle">Val.longuofsingle</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_longu">Float32.to_longu</a></span> <span class="id">f</span>) <span class="gallina-kwd">as</span> <span class="id">[i|]</span> <span class="id">eqn:E;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="singleoflong" class="id"><a name="singleoflong" class="">singleoflong</a></span> (<span id="x:1078" class="id"><a name="x:1078" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1078">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float32.of_long">Float32.of_long</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1078">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="singleoflong_sound" class="id"><a name="singleoflong_sound" class="">singleoflong_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1080" class="id"><a name="v:1080" class="">v</a></span> <span id="x:1081" class="id"><a name="x:1081" class="">x</a></span> <span id="w:1082" class="id"><a name="w:1082" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1080">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1081">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.singleoflong">Val.singleoflong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1080">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1082">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1082">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#singleoflong">singleoflong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1081">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.singleoflong">Val.singleoflong</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="singleoflongu" class="id"><a name="singleoflongu" class="">singleoflongu</a></span> (<span id="x:1083" class="id"><a name="x:1083" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1083">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float32.of_longu">Float32.of_longu</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1083">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="singleoflongu_sound" class="id"><a name="singleoflongu_sound" class="">singleoflongu_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1085" class="id"><a name="v:1085" class="">v</a></span> <span id="x:1086" class="id"><a name="x:1086" class="">x</a></span> <span id="w:1087" class="id"><a name="w:1087" class="">w,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1085">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1086">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.singleoflongu">Val.singleoflongu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1085">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1087">w</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1087">w</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#singleoflongu">singleoflongu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1086">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.singleoflongu">Val.singleoflongu</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="floatofwords" class="id"><a name="floatofwords" class="">floatofwords</a></span> (<span id="x:1088" class="id"><a name="x:1088" class="">x</a></span> <span id="y:1089" class="id"><a name="y:1089" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1088">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1089">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span>(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">Float.from_words</a></span> <span class="id">i</span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span>     <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1088">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1089">y</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="floatofwords_sound" class="id"><a name="floatofwords_sound" class="">floatofwords_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1092" class="id"><a name="v:1092" class="">v</a></span> <span id="w:1093" class="id"><a name="w:1093" class="">w</a></span> <span id="x:1094" class="id"><a name="x:1094" class="">x</a></span> <span id="y:1095" class="id"><a name="y:1095" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1092">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1094">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1093">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1095">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.floatofwords">Val.floatofwords</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1092">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1093">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#floatofwords">floatofwords</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1094">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1095">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#floatofwords">floatofwords;</a></span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="longofwords" class="id"><a name="longofwords" class="">longofwords</a></span> (<span id="x:1096" class="id"><a name="x:1096" class="">x</a></span> <span id="y:1097" class="id"><a name="y:1097" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1097">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1096">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">j,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">i</span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span>     <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop2">ntop2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1096">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1097">y</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="longofwords_sound" class="id"><a name="longofwords_sound" class="">longofwords_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1100" class="id"><a name="v:1100" class="">v</a></span> <span id="w:1101" class="id"><a name="w:1101" class="">w</a></span> <span id="x:1102" class="id"><a name="x:1102" class="">x</a></span> <span id="y:1103" class="id"><a name="y:1103" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1100">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1102">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1101">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1103">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1100">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1101">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#longofwords">longofwords</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1102">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1103">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#longofwords">longofwords;</a></span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="loword" class="id"><a name="loword" class="">loword</a></span> (<span id="x:1104" class="id"><a name="x:1104" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1104">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1104">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="loword_sound" class="id"><a name="loword_sound" class="">loword_sound:</a></span> <span class="gallina-kwd">forall</span> <span id="v:1106" class="id"><a name="v:1106" class="">v</a></span> <span id="x:1107" class="id"><a name="x:1107" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1106">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1107">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1106">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#loword">loword</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1107">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="hiword" class="id"><a name="hiword" class="">hiword</a></span> (<span id="x:1108" class="id"><a name="x:1108" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1108">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span>   <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop1">ntop1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1108">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="hiword_sound" class="id"><a name="hiword_sound" class="">hiword_sound:</a></span> <span class="gallina-kwd">forall</span> <span id="v:1110" class="id"><a name="v:1110" class="">v</a></span> <span id="x:1111" class="id"><a name="x:1111" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1110">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1111">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1110">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#hiword">hiword</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1111">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Comparisons and variation intervals </div>
<br/>
<span class="vernacular">Definition</span> <span id="cmp_intv" class="id"><a name="cmp_intv" class="">cmp_intv</a></span> (<span id="c:1112" class="id"><a name="c:1112" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="i:1113" class="id"><a name="i:1113" class="">i:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="n:1114" class="id"><a name="n:1114" class="">n:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> (<span id="lo:1115" class="id"><a name="lo:1115" class="">lo,</a></span> <span id="hi:1116" class="id"><a name="hi:1116" class="">hi</a></span>) <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1113">i</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1112">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1115">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1116">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1116">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1115">lo</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1116">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1115">lo</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1115">lo</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1116">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1115">lo</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1116">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1114">n</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="zcmp" class="id"><a name="zcmp" class="">zcmp</a></span> (<span id="c:1118" class="id"><a name="c:1118" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="n1:1119" class="id"><a name="n1:1119" class="">n1</a></span> <span id="n2:1120" class="id"><a name="n2:1120" class="">n2:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1118">c</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1119">n1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1120">n2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1119">n1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1120">n2</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1119">n1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1120">n2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1119">n1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1120">n2</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1120">n2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1119">n1</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1120">n2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1119">n1</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="zcmp_intv_sound" class="id"><a name="zcmp_intv_sound" class="">zcmp_intv_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1122" class="id"><a name="c:1122" class="">c</a></span> <span id="i:1123" class="id"><a name="i:1123" class="">i</a></span> <span id="x:1124" class="id"><a name="x:1124" class="">x</a></span> <span id="n:1125" class="id"><a name="n:1125" class="">n,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1123">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1124">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1123">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#zcmp">zcmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1122">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1124">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1125">n</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1122">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1123">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1125">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">c</span> <span class="id">[lo</span> <span class="id">hi]</span> <span class="id">x</span> <span class="id">n;</span> <span class="id">simpl;</span> <span class="id">intros</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">c;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#zcmp">zcmp,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;eq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">hi</span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ne&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;lt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">hi</span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;le&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">hi</span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_false">zle_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;gt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">hi</span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ge&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">hi</span> <span class="id">n</span>). <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_false">zle_false</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_intv_None" class="id"><a name="cmp_intv_None" class="">cmp_intv_None:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1126" class="id"><a name="c:1126" class="">c</a></span> <span id="i:1127" class="id"><a name="i:1127" class="">i</a></span> <span id="n:1128" class="id"><a name="n:1128" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1126">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1127">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1128">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">i</span> <span class="gallina-kwd">as</span> <span class="id">[lo</span> <span class="id">hi]</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">c</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;eq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">constructor</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">hi</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ne&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;lt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">hi</span> <span class="id">n</span>). <span class="id">constructor</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">n</span> <span class="id">lo</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;le&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">hi</span> <span class="id">n</span>). <span class="id">constructor</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">lo</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;gt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">constructor</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">hi</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;ge&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">n</span> <span class="id">lo</span>). <span class="id">constructor</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">hi</span> <span class="id">n</span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="uintv" class="id"><a name="uintv" class="">uintv</a></span> (<span id="v:1129" class="id"><a name="v:1129" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1129">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">n</span> <span class="id">=&gt;</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">_</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="gallina-kwd">then</span> (<span class="id">0,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="gallina-kwd">else</span> (<span class="id">0,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id">0,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="uintv_sound" class="id"><a name="uintv_sound" class="">uintv_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1131" class="id"><a name="n:1131" class="">n</a></span> <span id="v:1132" class="id"><a name="v:1132" class="">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1131">n</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v:1132">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#uintv">uintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1132">v</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1131">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#uintv">uintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1132">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">try</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span>).<br/>
<span class="id">-</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_zero_ext">is_uns_zero_ext</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext_mod">Int.zero_ext_mod</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n0</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO;</a></span> <span class="id">auto</span>. <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmpu_intv_sound" class="id"><a name="cmpu_intv_sound" class="">cmpu_intv_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="valid:1133" class="id"><a name="valid:1133" class="">valid</a></span> <span id="c:1134" class="id"><a name="c:1134" class="">c</a></span> <span id="n1:1135" class="id"><a name="n1:1135" class="">n1</a></span> <span id="v1:1136" class="id"><a name="v1:1136" class="">v1</a></span> <span id="n2:1137" class="id"><a name="n2:1137" class="">n2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1135">n1</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1136">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#valid:1133">valid</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1134">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1135">n1</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1137">n2</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1134">c</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#uintv">uintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1136">v1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1137">n2</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.cmpu">Int.cmpu</a></span> <span class="id">c</span> <span class="id">n1</span> <span class="id">n2</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#zcmp">zcmp</a></span> <span class="id">c</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n2</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#zcmp_intv_sound">zcmp_intv_sound;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uintv_sound">uintv_sound;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">c;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n2</span>))<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false|rewrite</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true];</a></span> <span class="id">auto;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n2</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n1</span>))<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false|rewrite</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true];</a></span> <span class="id">auto;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmpu_intv_sound_2" class="id"><a name="cmpu_intv_sound_2" class="">cmpu_intv_sound_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="valid:1138" class="id"><a name="valid:1138" class="">valid</a></span> <span id="c:1139" class="id"><a name="c:1139" class="">c</a></span> <span id="n1:1140" class="id"><a name="n1:1140" class="">n1</a></span> <span id="v1:1141" class="id"><a name="v1:1141" class="">v1</a></span> <span id="n2:1142" class="id"><a name="n2:1142" class="">n2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1140">n1</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1141">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#valid:1138">valid</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1139">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1142">n2</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1140">n1</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1139">c</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#uintv">uintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1141">v1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1142">n2</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Values.html#Val.swap_cmpu_bool">Val.swap_cmpu_bool</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmpu_intv_sound">cmpu_intv_sound;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="sintv" class="id"><a name="sintv" class="">sintv</a></span> (<span id="v:1143" class="id"><a name="v:1143" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1143">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">n</span> <span class="id">=&gt;</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n,</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">_</span> <span class="id">n</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="gallina-kwd">then</span> (<span class="id">0,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="gallina-kwd">else</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span><span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079">,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">_</span> <span class="id">n</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> (<span class="gallina-kwd">let</span> <span id="x:1145" class="id"><a name="x:1145" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">n-1</span>) <span class="gallina-kwd">in</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:'-'_x">-x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1145">x-1</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span><span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079">,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span><span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079">,</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sintv_sound" class="id"><a name="sintv_sound" class="">sintv_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:1146" class="id"><a name="n:1146" class="">n</a></span> <span id="v:1147" class="id"><a name="v:1147" class="">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1146">n</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v:1147">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sintv">sintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1147">v</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1146">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sintv">sintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1147">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">try</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span>).<br/>
<span class="id">-</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)<span class="id">;</span> <span class="id">simpl</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_zero_ext">is_uns_zero_ext</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">n0</span> <span class="id">n</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span> <span class="id">mod</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n0</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext_mod">Int.zero_ext_mod</a></span><span class="id">;</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n0</span>)). <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO;</a></span> <span class="id">auto</span>. <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">n0</span> <span class="id">n</span>)) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">n0</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone">two_p_monotone</a></span>. <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n0</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>))<span class="id">;</span> <span class="id">simpl</span>.<br/>
<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn_sign_ext">is_sgn_sign_ext</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext_range">Int.sign_ext_range</a></span> <span class="id">n0</span> <span class="id">n</span>). <span class="id">lia</span>. <span class="id">lia</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_intv_sound" class="id"><a name="cmp_intv_sound" class="">cmp_intv_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1148" class="id"><a name="c:1148" class="">c</a></span> <span id="n1:1149" class="id"><a name="n1:1149" class="">n1</a></span> <span id="v1:1150" class="id"><a name="v1:1150" class="">v1</a></span> <span id="n2:1151" class="id"><a name="n2:1151" class="">n2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1149">n1</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1150">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1148">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1149">n1</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1151">n2</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1148">c</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sintv">sintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1150">v1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1151">n2</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.cmp">Int.cmp</a></span> <span class="id">c</span> <span class="id">n1</span> <span class="id">n2</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#zcmp">zcmp</a></span> <span class="id">c</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n2</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#zcmp_intv_sound">zcmp_intv_sound;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sintv_sound">sintv_sound;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">c;</span> <span class="id">simpl;</span> <span class="id">rewrite</span> <span class="id">?</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_signed">Int.eq_signed</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n2</span>))<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false|rewrite</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true];</a></span> <span class="id">auto;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n2</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">n1</span>))<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false|rewrite</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true];</a></span> <span class="id">auto;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_intv_sound_2" class="id"><a name="cmp_intv_sound_2" class="">cmp_intv_sound_2:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1152" class="id"><a name="c:1152" class="">c</a></span> <span id="n1:1153" class="id"><a name="n1:1153" class="">n1</a></span> <span id="v1:1154" class="id"><a name="v1:1154" class="">v1</a></span> <span id="n2:1155" class="id"><a name="n2:1155" class="">n2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1153">n1</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1154">v1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1152">c</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1155">n2</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n1:1153">n1</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1152">c</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#sintv">sintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v1:1154">v1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n2:1155">n2</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Values.html#Val.swap_cmp_bool">Val.swap_cmp_bool</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv_sound">cmp_intv_sound;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Comparisons </div>
<br/>
<span class="vernacular">Definition</span> <span id="cmpu_bool" class="id"><a name="cmpu_bool" class="">cmpu_bool</a></span> (<span id="c:1156" class="id"><a name="c:1156" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="v:1157" class="id"><a name="v:1157" class="">v</a></span> <span id="w:1158" class="id"><a name="w:1158" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1157">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1158">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.cmpu">Int.cmpu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span> <span class="id">p1</span> <span class="id">p2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#club">club</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#uintv">uintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1157">v</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#club">club</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#uintv">uintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1158">w</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1156">c</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmpu_bool_sound" class="id"><a name="cmpu_bool_sound" class="">cmpu_bool_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="valid:1161" class="id"><a name="valid:1161" class="">valid</a></span> <span id="c:1162" class="id"><a name="c:1162" class="">c</a></span> <span id="v:1163" class="id"><a name="v:1163" class="">v</a></span> <span id="w:1164" class="id"><a name="w:1164" class="">w</a></span> <span id="x:1165" class="id"><a name="x:1165" class="">x</a></span> <span id="y:1166" class="id"><a name="y:1166" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1163">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1165">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1164">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1166">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#valid:1161">valid</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1162">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1163">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1164">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmpu_bool">cmpu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1162">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1165">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1166">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">IP:</span> <span class="gallina-kwd">forall</span> <span id="i:1170" class="id"><span id="i:1167" class="id"><a name="i:1170" class="">i</a></span></span> <span id="b:1171" class="id"><span id="b:1168" class="id"><a name="b:1171" class="">b</a></span></span> <span id="ofs:1172" class="id"><span id="ofs:1169" class="id"><a name="ofs:1172" class="">ofs,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1167">i</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1168">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1169">ofs</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> &amp;&amp; (<span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_sound">cmp_different_blocks_sound</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">PI:</span> <span class="gallina-kwd">forall</span> <span id="i:1176" class="id"><span id="i:1173" class="id"><a name="i:1176" class="">i</a></span></span> <span id="b:1177" class="id"><span id="b:1174" class="id"><a name="b:1177" class="">b</a></span></span> <span id="ofs:1178" class="id"><span id="ofs:1175" class="id"><a name="ofs:1178" class="">ofs,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1174">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1175">ofs</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1173">i</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> &amp;&amp; (<span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_sound">cmp_different_blocks_sound</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmpu_bool">cmpu_bool;</a></span> <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst;</span> <span class="id">inversion</span> <span class="id">H0;</span> <span class="id">subst;</span><br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp_none">pcmp_none,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_lub_l">cmatch_lub_l,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_lub_r">cmatch_lub_r,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp_sound">pcmp_sound,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmpu_intv_sound">cmpu_intv_sound,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmpu_intv_sound_2">cmpu_intv_sound_2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv_None">cmp_intv_None</a></span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top</a></span>.<br/>
<span class="id">-</span> <span class="id">simpl;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top</a></span>.<br/>
<span class="id">-</span> <span class="id">simpl;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cmp_bool" class="id"><a name="cmp_bool" class="">cmp_bool</a></span> (<span id="c:1179" class="id"><a name="c:1179" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="v:1180" class="id"><a name="v:1180" class="">v</a></span> <span id="w:1181" class="id"><a name="w:1181" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1180">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1181">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.cmp">Int.cmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1179">c</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1179">c</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#sintv">sintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1180">v</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv">cmp_intv</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1179">c</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#sintv">sintv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1181">w</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmp_bool_sound" class="id"><a name="cmp_bool_sound" class="">cmp_bool_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1184" class="id"><a name="c:1184" class="">c</a></span> <span id="v:1185" class="id"><a name="v:1185" class="">v</a></span> <span id="w:1186" class="id"><a name="w:1186" class="">w</a></span> <span id="x:1187" class="id"><a name="x:1187" class="">x</a></span> <span id="y:1188" class="id"><a name="y:1188" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1185">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1187">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1186">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1188">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1184">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1185">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1186">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_bool">cmp_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1184">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1187">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1188">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_bool">cmp_bool;</a></span> <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst;</span> <span class="id">inversion</span> <span class="id">H0;</span> <span class="id">subst;</span><br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv_sound">cmp_intv_sound,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv_sound_2">cmp_intv_sound_2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_intv_None">cmp_intv_None</a></span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cmplu_bool" class="id"><a name="cmplu_bool" class="">cmplu_bool</a></span> (<span id="c:1189" class="id"><a name="c:1189" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="v:1190" class="id"><a name="v:1190" class="">v</a></span> <span id="w:1191" class="id"><a name="w:1191" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1190">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1191">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.cmpu">Int64.cmpu</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1189">c</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1189">c</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1189">c</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp">pcmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1189">c</a></span> <span class="id">p1</span> <span class="id">p2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmplu_bool_sound" class="id"><a name="cmplu_bool_sound" class="">cmplu_bool_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="valid:1194" class="id"><a name="valid:1194" class="">valid</a></span> <span id="c:1195" class="id"><a name="c:1195" class="">c</a></span> <span id="v:1196" class="id"><a name="v:1196" class="">v</a></span> <span id="w:1197" class="id"><a name="w:1197" class="">w</a></span> <span id="x:1198" class="id"><a name="x:1198" class="">x</a></span> <span id="y:1199" class="id"><a name="y:1199" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1196">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1198">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1197">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1199">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#valid:1194">valid</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1195">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1196">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1197">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmplu_bool">cmplu_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1195">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1198">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1199">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">IP:</span> <span class="gallina-kwd">forall</span> <span id="i:1203" class="id"><span id="i:1200" class="id"><a name="i:1203" class="">i</a></span></span> <span id="b:1204" class="id"><span id="b:1201" class="id"><a name="b:1204" class="">b</a></span></span> <span id="ofs:1205" class="id"><span id="ofs:1202" class="id"><a name="ofs:1205" class="">ofs,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1200">i</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1201">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1202">ofs</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span> &amp;&amp; (<span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_sound">cmp_different_blocks_sound</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">PI:</span> <span class="gallina-kwd">forall</span> <span id="i:1209" class="id"><span id="i:1206" class="id"><a name="i:1209" class="">i</a></span></span> <span id="b:1210" class="id"><span id="b:1207" class="id"><a name="b:1210" class="">b</a></span></span> <span id="ofs:1211" class="id"><span id="ofs:1208" class="id"><a name="ofs:1211" class="">ofs,</a></span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id">valid</span> <span class="id">c</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1207">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1208">ofs</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1206">i</a></span>)) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks">cmp_different_blocks</a></span> <span class="id">c</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span> &amp;&amp; (<span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185">||</a></span> <span class="id">valid</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_sound">cmp_different_blocks_sound</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmplu_bool">cmplu_bool;</a></span> <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst;</span> <span class="id">inversion</span> <span class="id">H0;</span> <span class="id">subst;</span><br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp_none">pcmp_none,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_lub_l">cmatch_lub_l,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_lub_r">cmatch_lub_r,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pcmp_sound_64">pcmp_sound_64</a></span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top</a></span>.<br/>
<span class="id">-</span> <span class="id">simpl;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top</a></span>.<br/>
<span class="id">-</span> <span class="id">simpl;</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmp_different_blocks_none">cmp_different_blocks_none</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cmpl_bool" class="id"><a name="cmpl_bool" class="">cmpl_bool</a></span> (<span id="c:1212" class="id"><a name="c:1212" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="v:1213" class="id"><a name="v:1213" class="">v</a></span> <span id="w:1214" class="id"><a name="w:1214" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1213">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1214">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">i2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.cmp">Int64.cmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1212">c</a></span> <span class="id">i1</span> <span class="id">i2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmpl_bool_sound" class="id"><a name="cmpl_bool_sound" class="">cmpl_bool_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1217" class="id"><a name="c:1217" class="">c</a></span> <span id="v:1218" class="id"><a name="v:1218" class="">v</a></span> <span id="w:1219" class="id"><a name="w:1219" class="">w</a></span> <span id="x:1220" class="id"><a name="x:1220" class="">x</a></span> <span id="y:1221" class="id"><a name="y:1221" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1218">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1220">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1219">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1221">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1217">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1218">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1219">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmpl_bool">cmpl_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1217">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1220">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1221">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmpl_bool">cmpl_bool;</a></span> <span class="id">inversion</span> <span class="id">H;</span> <span class="id">subst;</span> <span class="id">inversion</span> <span class="id">H0;</span> <span class="id">subst;</span><br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch_top">cmatch_top</a></span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cmpf_bool" class="id"><a name="cmpf_bool" class="">cmpf_bool</a></span> (<span id="c:1222" class="id"><a name="c:1222" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="v:1223" class="id"><a name="v:1223" class="">v</a></span> <span id="w:1224" class="id"><a name="w:1224" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1223">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1224">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1222">c</a></span> <span class="id">f1</span> <span class="id">f2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmpf_bool_sound" class="id"><a name="cmpf_bool_sound" class="">cmpf_bool_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1227" class="id"><a name="c:1227" class="">c</a></span> <span id="v:1228" class="id"><a name="v:1228" class="">v</a></span> <span id="w:1229" class="id"><a name="w:1229" class="">w</a></span> <span id="x:1230" class="id"><a name="x:1230" class="">x</a></span> <span id="y:1231" class="id"><a name="y:1231" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1228">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1230">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1229">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1231">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1227">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1228">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1229">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmpf_bool">cmpf_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1227">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1230">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1231">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">constructor;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="cmpfs_bool" class="id"><a name="cmpfs_bool" class="">cmpfs_bool</a></span> (<span id="c:1232" class="id"><a name="c:1232" class="">c:</a></span> <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span id="v:1233" class="id"><a name="v:1233" class="">v</a></span> <span id="w:1234" class="id"><a name="w:1234" class="">w:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1233">v,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1234">w</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1232">c</a></span> <span class="id">f1</span> <span class="id">f2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cmpfs_bool_sound" class="id"><a name="cmpfs_bool_sound" class="">cmpfs_bool_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1237" class="id"><a name="c:1237" class="">c</a></span> <span id="v:1238" class="id"><a name="v:1238" class="">v</a></span> <span id="w:1239" class="id"><a name="w:1239" class="">w</a></span> <span id="x:1240" class="id"><a name="x:1240" class="">x</a></span> <span id="y:1241" class="id"><a name="y:1241" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1238">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1240">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1239">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1241">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1237">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1238">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1239">w</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#cmpfs_bool">cmpfs_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1237">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1240">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1241">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">constructor;</span> <span class="id">inv</span> <span class="id">H0;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="maskzero" class="id"><a name="maskzero" class="">maskzero</a></span> (<span id="x:1242" class="id"><a name="x:1242" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) (<span id="mask:1243" class="id"><a name="mask:1243" class="">mask:</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1242">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id">i</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:1243">mask</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">n</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:1243">mask</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="maskzero_sound" class="id"><a name="maskzero_sound" class="">maskzero_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="mask:1245" class="id"><a name="mask:1245" class="">mask</a></span> <span id="v:1246" class="id"><a name="v:1246" class="">v</a></span> <span id="x:1247" class="id"><a name="x:1247" class="">x,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1246">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1247">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1246">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:1245">mask</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#maskzero">maskzero</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1247">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mask:1245">mask</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">n</span> <span class="id">mask</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id">i</span> <span class="id">mask</span>) <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_zero_ext">is_uns_zero_ext</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext_and">Int.zero_ext_and</a></span> <span class="gallina-kwd">in</span> <span class="id">*</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_assoc">Int.and_assoc</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_commut">Int.and_commut</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.and_zero">Int.and_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">n</span> <span class="id">mask</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="of_optbool" class="id"><a name="of_optbool" class="">of_optbool</a></span> (<span id="ab:1248" class="id"><a name="ab:1248" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1248">ab</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="gallina-kwd">if</span> <span class="id">b</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="id">1</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="of_optbool_sound" class="id"><a name="of_optbool_sound" class="">of_optbool_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ob:1250" class="id"><a name="ob:1250" class="">ob</a></span> <span id="ab:1251" class="id"><a name="ab:1251" class="">ab,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:1250">ob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1251">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:1250">ob</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#of_optbool">of_optbool</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1251">ab</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DEFAULT:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id">ob</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="id">1</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">ob;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">b;</span> <span class="id">constructor;</span> <span class="id">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> <span class="id">1</span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>). <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_usize">is_uns_usize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero">Int.bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">simpl</span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="resolve_branch" class="id"><a name="resolve_branch" class="">resolve_branch</a></span> (<span id="ab:1252" class="id"><a name="ab:1252" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1252">ab</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="resolve_branch_sound" class="id"><a name="resolve_branch_sound" class="">resolve_branch_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:1254" class="id"><a name="b:1254" class="">b</a></span> <span id="ab:1255" class="id"><a name="ab:1255" class="">ab</a></span> <span id="b':1256" class="id"><a name="b':1256" class="">b',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1254">b</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1255">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#resolve_branch">resolve_branch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1255">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1256">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1256">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1254">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Select either returns one of its arguments, or Vundef. </div>
<br/>
<span class="vernacular">Definition</span> <span id="add_undef" class="id"><a name="add_undef" class="">add_undef</a></span> (<span id="x:1257" class="id"><a name="x:1257" class="">x:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1257">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#sgn">sgn</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ssize">ssize</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#uns">uns</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#usize">usize</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1257">x</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="add_undef_sound" class="id"><a name="add_undef_sound" class="">add_undef_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1259" class="id"><a name="v:1259" class="">v</a></span> <span id="x:1260" class="id"><a name="x:1260" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1259">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1260">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1259">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#add_undef">add_undef</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1260">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_sgn">vmatch_sgn;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sgn_ssize">is_sgn_ssize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_uns">vmatch_uns;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_uns_usize">is_uns_usize</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_undef_undef" class="id"><a name="add_undef_undef" class="">add_undef_undef:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1261" class="id"><a name="x:1261" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#add_undef">add_undef</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1261">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="add_undef_normalize" class="id"><a name="add_undef_normalize" class="">add_undef_normalize:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1262" class="id"><a name="v:1262" class="">v</a></span> <span id="x:1263" class="id"><a name="x:1263" class="">x</a></span> <span id="ty:1264" class="id"><a name="ty:1264" class="">ty,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1262">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1263">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.normalize">Val.normalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1262">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ty:1264">ty</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#add_undef">add_undef</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1263">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.lessdef_normalize">Val.lessdef_normalize</a></span> <span class="id">v</span> <span class="id">ty</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef_sound">add_undef_sound,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef_undef">add_undef_undef</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="select" class="id"><a name="select" class="">select</a></span> (<span id="ab:1265" class="id"><a name="ab:1265" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#abool">abool</a></span>) (<span id="x:1266" class="id"><a name="x:1266" class="">x</a></span> <span id="y:1267" class="id"><a name="y:1267" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1265">ab</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Bnone">Bnone</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ntop">ntop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Just">Just</a></span> <span class="id">b</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Maybe">Maybe</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef">add_undef</a></span> (<span class="gallina-kwd">if</span> <span class="id">b</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1266">x</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1267">y</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Btop">Btop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef">add_undef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1266">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1267">y</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="select_sound" class="id"><a name="select_sound" class="">select_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ob:1269" class="id"><a name="ob:1269" class="">ob</a></span> <span id="v:1270" class="id"><a name="v:1270" class="">v</a></span> <span id="w:1271" class="id"><a name="w:1271" class="">w</a></span> <span id="ab:1272" class="id"><a name="ab:1272" class="">ab</a></span> <span id="x:1273" class="id"><a name="x:1273" class="">x</a></span> <span id="y:1274" class="id"><a name="y:1274" class="">y</a></span> <span id="ty:1275" class="id"><a name="ty:1275" class="">ty,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:1269">ob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1272">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1270">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1273">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1271">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1274">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.select">Val.select</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob:1269">ob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1270">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#w:1271">w</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ty:1275">ty</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#select">select</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1272">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1273">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1274">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.select">Val.select</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#select">select;</a></span> <span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
<span class="id">-</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef_normalize">add_undef_normalize;</a></span> <span class="id">destruct</span> <span class="id">b;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef_undef">add_undef_undef</a></span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef_normalize">add_undef_normalize;</a></span> <span class="id">destruct</span> <span class="id">b;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">ob</span> <span class="gallina-kwd">as</span> <span class="id">[b|]</span>. <br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef_normalize">add_undef_normalize</a></span>. <span class="id">destruct</span> <span class="id">b;</span> <span class="id">[apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_lub_l">vmatch_lub_l|apply</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_lub_r">vmatch_lub_r];</a></span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#add_undef_undef">add_undef_undef</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Normalization at load time </div>
<br/>
<span class="vernacular">Definition</span> <span id="vnormalize" class="id"><a name="vnormalize" class="">vnormalize</a></span> (<span id="chunk:1276" class="id"><a name="chunk:1276" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="v:1277" class="id"><a name="v:1277" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1276">chunk,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8signed">Mint8signed,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id">8</span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8signed">Mint8signed,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">8</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">n</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">8</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8signed">Mint8signed,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n</span> <span class="id">8</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8signed">Mint8signed,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">8</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8unsigned">Mint8unsigned,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">8</span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8unsigned">Mint8unsigned,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n</span> <span class="id">8</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8unsigned">Mint8unsigned,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">8</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16signed">Mint16signed,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sign_ext">Int.sign_ext</a></span> <span class="id">16</span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16signed">Mint16signed,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">16</span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">n</span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">16</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16signed">Mint16signed,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n</span> <span class="id">16</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16signed">Mint16signed,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">16</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16unsigned">Mint16unsigned,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zero_ext">Int.zero_ext</a></span> <span class="id">16</span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16unsigned">Mint16unsigned,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">p</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> <span class="id">n</span> <span class="id">16</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16unsigned">Mint16unsigned,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="id">16</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mfloat32">Mfloat32,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mfloat32">Mfloat32,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mfloat64">Mfloat64,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mfloat64">Mfloat64,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Many32">Many32,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Uns">Uns</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Sgn">Sgn</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Many32">Many32,</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ptr">Ptr</a></span> <span class="id">p</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Many32">Many32,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Num">Num</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Many64">Many64,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1277">v</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="vnormalize_sound" class="id"><a name="vnormalize_sound" class="">vnormalize_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1280" class="id"><a name="chunk:1280" class="">chunk</a></span> <span id="v:1281" class="id"><a name="v:1281" class="">v</a></span> <span id="x:1282" class="id"><a name="x:1282" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1281">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1282">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1280">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1281">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1280">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1282">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize;</a></span> <span class="id">generalize</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">intros</span> <span class="id">ptr64;</span><br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span> <span class="gallina-kwd">with</span> <span class="id">va;</span><br/>
&nbsp;&nbsp;<span class="id">try</span> (<span class="id">destruct</span> <span class="id">ptr64;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va;</span> <span class="id">fail</span>).<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">8</span>)<span class="id">;</span> <span class="id">constructor;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_uns">is_sign_ext_uns;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">16</span>)<span class="id">;</span> <span class="id">constructor;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_uns">is_sign_ext_uns;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>. <span class="id">extlia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">8</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">16</span>)<span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">constructor</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span><span class="id">;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vnormalize_cast" class="id"><a name="vnormalize_cast" class="">vnormalize_cast:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1283" class="id"><a name="chunk:1283" class="">chunk</a></span> <span id="m:1284" class="id"><a name="m:1284" class="">m</a></span> <span id="b:1285" class="id"><a name="b:1285" class="">b</a></span> <span id="ofs:1286" class="id"><a name="ofs:1286" class="">ofs</a></span> <span id="v:1287" class="id"><a name="v:1287" class="">v</a></span> <span id="p:1288" class="id"><a name="p:1288" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1283">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1284">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1285">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1286">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1287">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1287">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1288">p</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1287">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1283">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1288">p</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_cast">Mem.load_cast</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_type">Mem.load_type</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int8signed&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">simpl;</span> <span class="id">constructor</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int8unsigned&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">simpl;</span> <span class="id">constructor</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int16signed&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">simpl;</span> <span class="id">constructor</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int16unsigned&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">H2</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">simpl;</span> <span class="id">constructor</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns;</a></span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int32&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;int64&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;float32&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">contradiction;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;float64&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">v;</span> <span class="id">try</span> <span class="id">contradiction;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;any32&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">red</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">constructor</span> <span class="id">||</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;any64&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="poffset_ge" class="id"><a name="poffset_ge" class="">poffset_ge:</a></span> <span class="gallina-kwd">forall</span> <span id="p:1289" class="id"><a name="p:1289" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1289">p</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#p:1289">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">p;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="poffset_monotone" class="id"><a name="poffset_monotone" class="">poffset_monotone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:1290" class="id"><a name="p:1290" class="">p</a></span> <span id="q:1291" class="id"><a name="q:1291" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1290">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1291">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1290">p</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#poffset">poffset</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1291">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="provenance_monotone" class="id"><a name="provenance_monotone" class="">provenance_monotone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:1292" class="id"><a name="x:1292" class="">x</a></span> <span id="y:1293" class="id"><a name="y:1293" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1292">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1293">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1292">x</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1293">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">eauto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_ge">poffset_ge,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_monotone">poffset_monotone,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge_trans">pge_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="provenance_ifptr_ge" class="id"><a name="provenance_ifptr_ge" class="">provenance_ifptr_ge:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="p:1294" class="id"><a name="p:1294" class="">p</a></span> <span id="q:1295" class="id"><a name="q:1295" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1294">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1295">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1294">p</a></span>)) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1295">q</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">simpl</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge_trans">pge_trans</a></span> <span class="gallina-kwd">with</span> <span class="id">p;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#poffset_ge">poffset_ge</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vnormalize_monotone" class="id"><a name="vnormalize_monotone" class="">vnormalize_monotone:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1296" class="id"><a name="chunk:1296" class="">chunk</a></span> <span id="x:1297" class="id"><a name="x:1297" class="">x</a></span> <span id="y:1298" class="id"><a name="y:1298" class="">y,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1297">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1298">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1296">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1297">x</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1296">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1298">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof with</span></div>
<div class="proofscript" id="proof168">
 (<span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#provenance_monotone">provenance_monotone,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#provenance_ifptr_ge">provenance_ifptr_ge</a></span> <span class="gallina-kwd">with</span> <span class="id">va</span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Opaque</span> <span class="id"><a href="compcert.backend.ValueDomain.html#provenance">provenance</a></span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize;</a></span> <span class="id">generalize</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">intro</span> <span class="id">ptr64;</span> <span class="id">subst;</span> <br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">chunk</span> <span class="id">eqn:C;</span> <span class="id">simpl;</span><br/>
&nbsp;&nbsp;<span class="id">repeat</span> <span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span> <span class="id">|-</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span> (<span class="gallina-kwd">if</span> <span class="id">?x</span> <span class="gallina-kwd">then</span> <span class="id">_</span> <span class="gallina-kwd">else</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">destruct</span> <span class="id">x</span> <span class="gallina-kwd">end</span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_uns">is_sign_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>... <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_uns">is_sign_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>... <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span>...<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n2</span> <span class="id">8</span>)...<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="gallina-kwd">by</span> <span class="id">lia</span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n2</span> <span class="id">16</span>)...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>... <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>... <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_case">Z.min_case</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n2</span> <span class="id">8</span>)<span class="id">;</span> <span class="id">constructor</span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n2</span> <span class="id">16</span>)<span class="id">;</span> <span class="id">constructor</span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">8</span>)<span class="id">;</span> <span class="id">constructor</span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">16</span>)<span class="id">;</span> <span class="id">constructor</span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_sign_ext_sgn">is_sign_ext_sgn</a></span>...<br/>
<span class="id">-</span> <span class="id">constructor</span>... <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#is_zero_ext_uns">is_zero_ext_uns</a></span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">8</span>)<span class="id">;</span> <span class="id">constructor</span>...<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id">16</span>)<span class="id">;</span> <span class="id">constructor</span>...<br/>
Qed.</div>
<br/>
<div class="doc">Analysis of known builtin functions.  All we have is a dynamic semantics
  as a function <span class="bracket"><span class="id">list</span> <span class="id">val</span> -&gt; <span class="id">option</span> <span class="id">val</span></span>, but we can still perform 
  some constant propagation. </div>
<br/>
<span class="vernacular">Definition</span> <span id="val_of_aval" class="id"><a name="val_of_aval" class="">val_of_aval</a></span> (<span id="a:1299" class="id"><a name="a:1299" class="">a:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#a:1299">a</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">f</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aval_of_val" class="id"><a name="aval_of_val" class="">aval_of_val</a></span> (<span id="v:1301" class="id"><a name="v:1301" class="">v:</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1301">v</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#I">I</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#L">L</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#F">F</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#FS">FS</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="val_of_aval_sound" class="id"><a name="val_of_aval_sound" class="">val_of_aval_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1303" class="id"><a name="v:1303" class="">v</a></span> <span id="a:1304" class="id"><a name="a:1304" class="">a,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1303">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#a:1304">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#val_of_aval">val_of_aval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#a:1304">a</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v:1303">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Corollary</span> <span id="list_val_of_aval_sound" class="id"><a name="list_val_of_aval_sound" class="">list_val_of_aval_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="vl:1305" class="id"><a name="vl:1305" class="">vl</a></span> <span id="al:1306" class="id"><a name="al:1306" class="">al,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vl:1305">vl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#al:1306">al</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#val_of_aval">val_of_aval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#al:1306">al</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#vl:1305">vl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">simpl;</span> <span class="id">constructor;</span> <span class="id">auto</span> <span class="gallina-kwd">using</span> <span class="id"><a href="compcert.backend.ValueDomain.html#val_of_aval_sound">val_of_aval_sound</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="aval_of_val_sound" class="id"><a name="aval_of_val_sound" class="">aval_of_val_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="v:1307" class="id"><a name="v:1307" class="">v</a></span> <span id="a:1308" class="id"><a name="a:1308" class="">a,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval_of_val">aval_of_val</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1307">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#a:1308">a</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1307">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#a:1308">a</a></span>. <br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">v</span> <span class="id">a</span> <span class="id">E;</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">E;</span> <span class="id">inv</span> <span class="id">E;</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<h1> Abstracting memory blocks </h1>
<br/>
<span class="vernacular">Inductive</span> <span id="acontent" class="id"><a name="acontent" class="">acontent</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;<span class="id">|</span> <span id="ACval" class="id"><a name="ACval" class="">ACval</a></span> (<span id="chunk:1311" class="id"><a name="chunk:1311" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="av:1312" class="id"><a name="av:1312" class="">av:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="eq_acontent" class="id"><a name="eq_acontent" class="">eq_acontent</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="c1:1313" class="id"><a name="c1:1313" class="">c1</a></span> <span id="c2:1314" class="id"><a name="c2:1314" class="">c2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da">{c1=c2}</a></span> <span class="id">+</span> <span class="id">{c1&lt;&gt;c2}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span> <span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq_aval">eq_aval</a></span>. <span class="id">decide</span> <span class="id">equality</span>.<br/>
Defined.</div>
<br/>
<span class="vernacular">Record</span> <span id="ablock" class="id"><a name="ablock" class="">ablock</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id">ABlock</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="ab_contents" class="id"><a name="ab_contents" class="">ab_contents:</a></span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.t">ZTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent;</a></span><br/>
&nbsp;&nbsp;<span id="ab_summary" class="id"><a name="ab_summary" class="">ab_summary:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="15b1161e6008bb58652a26c4e2ed840f" class="id"><a name="15b1161e6008bb58652a26c4e2ed840f" class="">&quot;a ## b&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="compcert.lib.Maps.html#ZTree.get">ZTree.get</a></span> <span class="id">b</span> <span class="id">a</span>) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">1</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_init" class="id"><a name="ablock_init" class="">ablock_init</a></span> (<span id="p:1318" class="id"><a name="p:1318" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.empty">ZTree.empty</a></span> <span class="id">_;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1318">p</a></span> <span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="chunk_compat" class="id"><a name="chunk_compat" class="">chunk_compat</a></span> (<span id="chunk:1319" class="id"><a name="chunk:1319" class="">chunk</a></span> <span id="chunk':1320" class="id"><a name="chunk':1320" class="">chunk':</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1319">chunk,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1320">chunk'</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.common.AST.html#Mint8signed">Mint8signed</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8unsigned">Mint8unsigned</a></span>)<span class="id">,</span> (<span class="id"><a href="compcert.common.AST.html#Mint8signed">Mint8signed</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint8unsigned">Mint8unsigned</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> (<span class="id"><a href="compcert.common.AST.html#Mint16signed">Mint16signed</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16unsigned">Mint16unsigned</a></span>)<span class="id">,</span> (<span class="id"><a href="compcert.common.AST.html#Mint16signed">Mint16signed</a></span> <span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint16unsigned">Mint16unsigned</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32,</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mfloat32">Mfloat32,</a></span> <span class="id"><a href="compcert.common.AST.html#Mfloat32">Mfloat32</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64,</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Mfloat64">Mfloat64,</a></span> <span class="id"><a href="compcert.common.AST.html#Mfloat64">Mfloat64</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Many32">Many32,</a></span> <span class="id"><a href="compcert.common.AST.html#Many32">Many32</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.common.AST.html#Many64">Many64,</a></span> <span class="id"><a href="compcert.common.AST.html#Many64">Many64</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_load" class="id"><a name="ablock_load" class="">ablock_load</a></span> (<span id="chunk:1323" class="id"><a name="chunk:1323" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="ab:1324" class="id"><a name="ab:1324" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) (<span id="i:1325" class="id"><a name="i:1325" class="">i:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1324">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>)<span class="id"><a href="compcert.backend.ValueDomain.html#15b1161e6008bb58652a26c4e2ed840f">##i</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1323">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1324">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id">chunk'</span> <span class="id">av</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat">chunk_compat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1323">chunk</a></span> <span class="id">chunk'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1323">chunk</a></span> <span class="id">av</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1323">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1324">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_load_anywhere" class="id"><a name="ablock_load_anywhere" class="">ablock_load_anywhere</a></span> (<span id="chunk:1326" class="id"><a name="chunk:1326" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="ab:1327" class="id"><a name="ab:1327" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1326">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1327">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>)).<br/>
<br/>
<span class="vernacular">Function</span> <span class="id">inval_after</span> (<span id="lo:1345" class="id"><span id="lo:1342" class="id"><span id="lo:1339" class="id"><span id="lo:1335" class="id"><span id="lo:1332" class="id"><span id="lo:1328" class="id"><a name="lo:1345" class="">lo:</a></span></span></span></span></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="hi:1346" class="id"><span id="hi:1343" class="id"><span id="hi:1340" class="id"><span id="hi:1336" class="id"><span id="hi:1333" class="id"><span id="hi:1329" class="id"><a name="hi:1346" class="">hi:</a></span></span></span></span></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="c:1347" class="id"><span id="c:1344" class="id"><span id="c:1341" class="id"><span id="c:1337" class="id"><span id="c:1334" class="id"><span id="c:1330" class="id"><a name="c:1347" class="">c:</a></span></span></span></span></span></span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.t">ZTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span>) <span class="id">{</span> <span class="id">wf</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf">Zwf</a></span> <span class="id">lo</span>) <span class="id">hi</span> <span class="id">}</span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.t">ZTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1328">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1329">hi</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_after:1331">inval_after</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1328">lo</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#hi:1329">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) (<span class="id"><a href="compcert.lib.Maps.html#ZTree.remove">ZTree.remove</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1329">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1330">c</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1330">c</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf_well_founded">Zwf_well_founded</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="inval_if" class="id"><a name="inval_if" class="">inval_if</a></span> (<span id="hi:1363" class="id"><a name="hi:1363" class="">hi:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="lo:1364" class="id"><a name="lo:1364" class="">lo:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="c:1365" class="id"><a name="c:1365" class="">c:</a></span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.t">ZTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1365">c##lo</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1365">c</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id">chunk</span> <span class="id">av</span>) <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#lo:1364">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id">chunk</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1363">hi</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1365">c</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.remove">ZTree.remove</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1364">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1365">c</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Function</span> <span class="id">inval_before</span> (<span id="hi:1383" class="id"><span id="hi:1380" class="id"><span id="hi:1377" class="id"><span id="hi:1373" class="id"><span id="hi:1370" class="id"><span id="hi:1366" class="id"><a name="hi:1383" class="">hi:</a></span></span></span></span></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="lo:1384" class="id"><span id="lo:1381" class="id"><span id="lo:1378" class="id"><span id="lo:1374" class="id"><span id="lo:1371" class="id"><span id="lo:1367" class="id"><a name="lo:1384" class="">lo:</a></span></span></span></span></span></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="c:1385" class="id"><span id="c:1382" class="id"><span id="c:1379" class="id"><span id="c:1375" class="id"><span id="c:1372" class="id"><span id="c:1368" class="id"><a name="c:1385" class="">c:</a></span></span></span></span></span></span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.t">ZTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span>) <span class="id">{</span> <span class="id">wf</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf_up">Zwf_up</a></span> <span class="id">hi</span>) <span class="id">lo</span> <span class="id">}</span> <span class="id">:</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.t">ZTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1367">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1366">hi</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_before:1369">inval_before</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1366">hi</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#lo:1367">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_if">inval_if</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1366">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1367">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1368">c</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1368">c</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf_up_well_founded">Zwf_up_well_founded</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_store" class="id"><a name="ablock_store" class="">ablock_store</a></span> (<span id="chunk:1401" class="id"><a name="chunk:1401" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="ab:1402" class="id"><a name="ab:1402" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) (<span id="i:1403" class="id"><a name="i:1403" class="">i:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="av:1404" class="id"><a name="av:1404" class="">av:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#ZTree.set">ZTree.set</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1403">i</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1401">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1404">av</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#inval_before">inval_before</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1403">i</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#i:1403">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">7</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#inval_after">inval_after</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#i:1403">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#i:1403">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1401">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1402">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>)))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1404">av</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1402">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) <span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_store_anywhere" class="id"><a name="ablock_store_anywhere" class="">ablock_store_anywhere</a></span> (<span id="chunk:1405" class="id"><a name="chunk:1405" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="ab:1406" class="id"><a name="ab:1406" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) (<span id="av:1407" class="id"><a name="av:1407" class="">av:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1407">av</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1406">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_loadbytes" class="id"><a name="ablock_loadbytes" class="">ablock_loadbytes</a></span> (<span id="ab:1408" class="id"><a name="ab:1408" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1408">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_storebytes" class="id"><a name="ablock_storebytes" class="">ablock_storebytes</a></span> (<span id="ab:1409" class="id"><a name="ab:1409" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) (<span id="p:1410" class="id"><a name="p:1410" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="ofs:1411" class="id"><a name="ofs:1411" class="">ofs:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="sz:1412" class="id"><a name="sz:1412" class="">sz:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#inval_before">inval_before</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1411">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1411">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">7</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#inval_after">inval_after</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1411">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1411">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1412">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1409">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1410">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1409">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) <span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ablock_storebytes_anywhere" class="id"><a name="ablock_storebytes_anywhere" class="">ablock_storebytes_anywhere</a></span> (<span id="ab:1413" class="id"><a name="ab:1413" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) (<span id="p:1414" class="id"><a name="p:1414" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1414">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1413">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="smatch" class="id"><a name="smatch" class="">smatch</a></span> (<span id="m:1415" class="id"><a name="m:1415" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="b:1416" class="id"><a name="b:1416" class="">b:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="p:1417" class="id"><a name="p:1417" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="chunk:1418" class="id"><a name="chunk:1418" class="">chunk</a></span> <span id="ofs:1419" class="id"><a name="ofs:1419" class="">ofs</a></span> <span id="v:1420" class="id"><a name="v:1420" class="">v,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1418">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1415">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1416">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1419">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1420">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1420">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1417">p</a></span>))<br/>
<span class="id">/\</span>(<span class="gallina-kwd">forall</span> <span id="ofs:1421" class="id"><a name="ofs:1421" class="">ofs</a></span> <span id="b':1422" class="id"><a name="b':1422" class="">b'</a></span> <span id="ofs':1423" class="id"><a name="ofs':1423" class="">ofs'</a></span> <span id="q:1424" class="id"><a name="q:1424" class="">q</a></span> <span id="i:1425" class="id"><a name="i:1425" class="">i,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1415">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1416">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1421">ofs</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1422">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1423">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1424">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1425">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1422">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1423">ofs'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1417">p</a></span>).<br/>
<br/>
<span class="vernacular">Remark</span> <span id="loadbytes_load_ext" class="id"><a name="loadbytes_load_ext" class="">loadbytes_load_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:1426" class="id"><a name="b:1426" class="">b</a></span> <span id="m:1427" class="id"><a name="m:1427" class="">m</a></span> <span id="m':1428" class="id"><a name="m':1428" class="">m',</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:1429" class="id"><a name="ofs:1429" class="">ofs</a></span> <span id="n:1430" class="id"><a name="n:1430" class="">n</a></span> <span id="bytes:1431" class="id"><a name="bytes:1431" class="">bytes,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1428">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1426">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1429">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1430">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1431">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1430">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1427">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1426">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1429">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1430">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1431">bytes</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1432" class="id"><a name="chunk:1432" class="">chunk</a></span> <span id="ofs:1433" class="id"><a name="ofs:1433" class="">ofs</a></span> <span id="v:1434" class="id"><a name="v:1434" class="">v,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1432">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1428">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1426">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1433">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1434">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1432">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1427">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1426">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1433">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1434">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_loadbytes">Mem.load_loadbytes</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[bytes</span> <span class="id">[A</span> <span class="id">B]]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_valid_access">Mem.load_valid_access</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>.<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">v</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_load">Mem.loadbytes_load</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H;</span> <span class="id">auto</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.common.Memdata.html#size_chunk_pos">size_chunk_pos</a></span> <span class="id">chunk</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_ext" class="id"><a name="smatch_ext" class="">smatch_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1435" class="id"><a name="m:1435" class="">m</a></span> <span id="b:1436" class="id"><a name="b:1436" class="">b</a></span> <span id="p:1437" class="id"><a name="p:1437" class="">p</a></span> <span id="m':1438" class="id"><a name="m':1438" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1435">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1436">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1437">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:1439" class="id"><a name="ofs:1439" class="">ofs</a></span> <span id="n:1440" class="id"><a name="n:1440" class="">n</a></span> <span id="bytes:1441" class="id"><a name="bytes:1441" class="">bytes,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1438">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1436">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1439">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1440">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1441">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1440">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1435">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1436">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1439">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1440">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1441">bytes</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1438">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1436">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1437">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#loadbytes_load_ext">loadbytes_load_ext;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H1;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id">H0;</span> <span class="id">eauto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_inv" class="id"><a name="smatch_inv" class="">smatch_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1442" class="id"><a name="m:1442" class="">m</a></span> <span id="b:1443" class="id"><a name="b:1443" class="">b</a></span> <span id="p:1444" class="id"><a name="p:1444" class="">p</a></span> <span id="m':1445" class="id"><a name="m':1445" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1442">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1443">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1444">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:1446" class="id"><a name="ofs:1446" class="">ofs</a></span> <span id="n:1447" class="id"><a name="n:1447" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1447">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1445">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1443">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1446">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1447">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1442">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1443">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1446">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1447">n</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1445">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1443">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1444">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_ext">smatch_ext;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_ge" class="id"><a name="smatch_ge" class="">smatch_ge:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1448" class="id"><a name="m:1448" class="">m</a></span> <span id="b:1449" class="id"><a name="b:1449" class="">b</a></span> <span id="p:1450" class="id"><a name="p:1450" class="">p</a></span> <span id="q:1451" class="id"><a name="q:1451" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1448">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1449">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1450">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1451">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1450">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1448">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1449">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1451">q</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ge">vmatch_ge</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>)<span class="id">;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_ge">pmatch_ge</a></span> <span class="gallina-kwd">with</span> <span class="id">p;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="In_loadbytes" class="id"><a name="In_loadbytes" class="">In_loadbytes:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1452" class="id"><a name="m:1452" class="">m</a></span> <span id="b:1453" class="id"><a name="b:1453" class="">b</a></span> <span id="byte:1454" class="id"><a name="byte:1454" class="">byte</a></span> <span id="n:1455" class="id"><a name="n:1455" class="">n</a></span> <span id="ofs:1456" class="id"><a name="ofs:1456" class="">ofs</a></span> <span id="bytes:1457" class="id"><a name="bytes:1457" class="">bytes,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1452">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1453">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1456">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1455">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1457">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#byte:1454">byte</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1457">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="ofs':1458" class="id"><a name="ofs':1458" class="">ofs',</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1456">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1458">ofs'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1456">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1455">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1452">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1453">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1458">ofs'</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#byte:1454">byte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">n</span>. <span class="id">pattern</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">R</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf">Zwf</a></span> <span class="id">0</span>).<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf_well_founded">Zwf_well_founded</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">sz</span> <span class="id">REC</span> <span class="id">ofs</span> <span class="id">bytes</span> <span class="id">LOAD</span> <span class="id">IN</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">sz</span> <span class="id">0</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_empty">Mem.loadbytes_empty</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">sz</span>) <span class="gallina-kwd">in</span> <span class="id">LOAD</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LOAD</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exploit</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_split">Mem.loadbytes_split</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">1</span> (<span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">bytes</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="gallina-kwd">with</span> <span class="id">sz</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">bytes1</span> &amp; <span class="id">bytes2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">CONCAT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">bytes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_length">Mem.loadbytes_length</a></span>. <span class="id">eexact</span> <span class="id">LOAD1</span>. <span class="id">change</span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">1</span>) <span class="gallina-kwd">with</span> <span class="id">1</span>%<span class="id">nat</span>. <span class="id">intros</span> <span class="id">LENGTH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">IN</span>. <span class="id">destruct</span> <span class="id">IN</span>.<br/>
&nbsp;&nbsp;<span class="id">*</span> <span class="id">destruct</span> <span class="id">bytes1;</span> <span class="id">try</span> <span class="id">discriminate</span>. <span class="id">destruct</span> <span class="id">bytes1;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">destruct</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">contradiction</span>. <span class="id">subst</span> <span class="id">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">ofs;</span> <span class="id">split</span>. <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">*</span> <span class="id">exploit</span> (<span class="id">REC</span> (<span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)). <span class="id">red;</span> <span class="id">lia</span>. <span class="id">eexact</span> <span class="id">LOAD2</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">ofs'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">ofs';</span> <span class="id">split</span>. <span class="id">lia</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_loadbytes" class="id"><a name="smatch_loadbytes" class="">smatch_loadbytes:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1459" class="id"><a name="m:1459" class="">m</a></span> <span id="b:1460" class="id"><a name="b:1460" class="">b</a></span> <span id="p:1461" class="id"><a name="p:1461" class="">p</a></span> <span id="b':1462" class="id"><a name="b':1462" class="">b'</a></span> <span id="ofs':1463" class="id"><a name="ofs':1463" class="">ofs'</a></span> <span id="q:1464" class="id"><a name="q:1464" class="">q</a></span> <span id="i:1465" class="id"><a name="i:1465" class="">i</a></span> <span id="n:1466" class="id"><a name="n:1466" class="">n</a></span> <span id="ofs:1467" class="id"><a name="ofs:1467" class="">ofs</a></span> <span id="bytes:1468" class="id"><a name="bytes:1468" class="">bytes,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1459">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1460">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1467">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1466">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1468">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1459">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1460">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1461">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1462">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1463">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1464">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1465">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1468">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1462">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1463">ofs'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1461">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#In_loadbytes">In_loadbytes;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">ofs1</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loadbytes_provenance" class="id"><a name="loadbytes_provenance" class="">loadbytes_provenance:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1469" class="id"><a name="m:1469" class="">m</a></span> <span id="b:1470" class="id"><a name="b:1470" class="">b</a></span> <span id="ofs':1471" class="id"><a name="ofs':1471" class="">ofs'</a></span> <span id="byte:1472" class="id"><a name="byte:1472" class="">byte</a></span> <span id="n:1473" class="id"><a name="n:1473" class="">n</a></span> <span id="ofs:1474" class="id"><a name="ofs:1474" class="">ofs</a></span> <span id="bytes:1475" class="id"><a name="bytes:1475" class="">bytes,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1469">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1470">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1474">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1473">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1475">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1469">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1470">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1471">ofs'</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#byte:1472">byte</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1474">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1471">ofs'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1474">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1473">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#byte:1472">byte</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1475">bytes</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">n</span>. <span class="id">pattern</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="gallina-kwd">with</span> (<span class="id">R</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf">Zwf</a></span> <span class="id">0</span>).<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.Zwf.html#Zwf_well_founded">Zwf_well_founded</a></span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">sz</span> <span class="id">REC</span> <span class="id">ofs</span> <span class="id">bytes</span> <span class="id">LOAD</span> <span class="id">LOAD1</span> <span class="id">IN</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_split">Mem.loadbytes_split</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">1</span> (<span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>) <span class="id">bytes</span>).<br/>
&nbsp;&nbsp;<span class="id">replace</span> (<span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> (<span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)) <span class="gallina-kwd">with</span> <span class="id">sz</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">bytes1</span> &amp; <span class="id">bytes2</span> &amp; <span class="id">LOAD3</span> &amp; <span class="id">LOAD4</span> &amp; <span class="id">CONCAT</span>). <span class="id">subst</span> <span class="id">bytes</span>. <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">ofs</span> <span class="id">ofs'</span>).<br/>
<span class="id">+</span> <span class="id">subst</span> <span class="id">ofs'</span>. <span class="id">rewrite</span> <span class="id">LOAD1</span> <span class="gallina-kwd">in</span> <span class="id">LOAD3;</span> <span class="id">inv</span> <span class="id">LOAD3</span>. <span class="id">left;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">right</span>. <span class="id">eapply</span> (<span class="id">REC</span> (<span class="id">sz</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">1</span>)). <span class="id">red;</span> <span class="id">lia</span>. <span class="id">eexact</span> <span class="id">LOAD4</span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="storebytes_provenance" class="id"><a name="storebytes_provenance" class="">storebytes_provenance:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1476" class="id"><a name="m:1476" class="">m</a></span> <span id="b:1477" class="id"><a name="b:1477" class="">b</a></span> <span id="ofs:1478" class="id"><a name="ofs:1478" class="">ofs</a></span> <span id="bytes:1479" class="id"><a name="bytes:1479" class="">bytes</a></span> <span id="m':1480" class="id"><a name="m':1480" class="">m'</a></span> <span id="b':1481" class="id"><a name="b':1481" class="">b'</a></span> <span id="ofs':1482" class="id"><a name="ofs':1482" class="">ofs'</a></span> <span id="b'':1483" class="id"><a name="b'':1483" class="">b''</a></span> <span id="ofs'':1484" class="id"><a name="ofs'':1484" class="">ofs''</a></span> <span id="q:1485" class="id"><a name="q:1485" class="">q</a></span> <span id="i:1486" class="id"><a name="i:1486" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1476">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1477">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1478">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1479">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1480">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1480">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1481">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1482">ofs'</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b'':1483">b''</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs'':1484">ofs''</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1485">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1486">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b'':1483">b''</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs'':1484">ofs''</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1485">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1486">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1479">bytes</a></span><br/>
&nbsp;&nbsp;<span class="id">\/</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1476">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1481">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1482">ofs'</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b'':1483">b''</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs'':1484">ofs''</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1485">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1486">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">EITHER:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">b'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">bytes</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">ofs'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">\/</span> (<span class="id">b'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">bytes</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b'</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id">1</span>) <span class="id">ofs</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">ofs</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id">bytes</span>)) <span class="id">ofs'</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">EITHER</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">|</span> (<span class="id">A</span> &amp; <span class="id">B</span>)<span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">right</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_storebytes_other">Mem.loadbytes_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">b'</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#loadbytes_provenance">loadbytes_provenance;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_storebytes_same">Mem.loadbytes_storebytes_same</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="store_provenance" class="id"><a name="store_provenance" class="">store_provenance:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1487" class="id"><a name="chunk:1487" class="">chunk</a></span> <span id="m:1488" class="id"><a name="m:1488" class="">m</a></span> <span id="b:1489" class="id"><a name="b:1489" class="">b</a></span> <span id="ofs:1490" class="id"><a name="ofs:1490" class="">ofs</a></span> <span id="v:1491" class="id"><a name="v:1491" class="">v</a></span> <span id="m':1492" class="id"><a name="m':1492" class="">m'</a></span> <span id="b':1493" class="id"><a name="b':1493" class="">b'</a></span> <span id="ofs':1494" class="id"><a name="ofs':1494" class="">ofs'</a></span> <span id="b'':1495" class="id"><a name="b'':1495" class="">b''</a></span> <span id="ofs'':1496" class="id"><a name="ofs'':1496" class="">ofs''</a></span> <span id="q:1497" class="id"><a name="q:1497" class="">q</a></span> <span id="i:1498" class="id"><a name="i:1498" class="">i,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1487">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1488">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1489">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1490">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1491">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1492">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1492">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1493">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1494">ofs'</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b'':1495">b''</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs'':1496">ofs''</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1497">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1498">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#v:1491">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b'':1495">b''</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs'':1496">ofs''</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1487">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1487">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Many32">Many32</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1487">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1487">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#Many64">Many64</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1488">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1493">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1494">ofs'</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b'':1495">b''</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs'':1496">ofs''</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1497">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1498">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#storebytes_provenance">storebytes_provenance;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_storebytes">Mem.store_storebytes</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[A|A];</span> <span class="id">auto</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.common.Memdata.html#encode_val_shape">encode_val_shape</a></span> <span class="id">chunk</span> <span class="id">v</span>). <span class="id">intros</span> <span class="id">ENC;</span> <span class="id">inv</span> <span class="id">ENC</span>.<br/>
<span class="id">-</span> <span class="id">split;</span> <span class="id">auto</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">A;</span> <span class="id">destruct</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exploit</span> <span class="id">H5;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">j</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>)<span class="id">;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">A;</span> <span class="id">destruct</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exploit</span> <span class="id">H3;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[byte</span> <span class="id">P];</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H1</span> <span class="gallina-kwd">in</span> <span class="id">A;</span> <span class="id">destruct</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exploit</span> <span class="id">H2;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_store" class="id"><a name="smatch_store" class="">smatch_store:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1499" class="id"><a name="chunk:1499" class="">chunk</a></span> <span id="m:1500" class="id"><a name="m:1500" class="">m</a></span> <span id="b:1501" class="id"><a name="b:1501" class="">b</a></span> <span id="ofs:1502" class="id"><a name="ofs:1502" class="">ofs</a></span> <span id="v:1503" class="id"><a name="v:1503" class="">v</a></span> <span id="m':1504" class="id"><a name="m':1504" class="">m'</a></span> <span id="b':1505" class="id"><a name="b':1505" class="">b'</a></span> <span id="p:1506" class="id"><a name="p:1506" class="">p</a></span> <span id="av:1507" class="id"><a name="av:1507" class="">av,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1499">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1500">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1501">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1502">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1503">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1504">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1500">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1505">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1506">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1503">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1507">av</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1504">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1505">b'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1507">av</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1506">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">chunk'</span> <span class="id">ofs'</span> <span class="id">v'</span> <span class="id">LOAD</span>. <span class="id">destruct</span> <span class="id">v';</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_pointer_store">Mem.load_pointer_store</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[</span>(<span class="id">P</span> &amp; <span class="id">Q</span> &amp; <span class="id">R</span> &amp; <span class="id">S</span>) <span class="id">|</span> <span class="id">DISJ]</span>.<br/>
<span class="id">+</span> <span class="id">subst</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_vplub_l">vmatch_vplub_l</a></span>. <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_vplub_r">vmatch_vplub_r</a></span>. <span class="id">apply</span> <span class="id">A</span> <span class="gallina-kwd">with</span> (<span class="id">chunk</span> <span class="id">:=</span> <span class="id">chunk'</span>) (<span class="id">ofs</span> <span class="id">:=</span> <span class="id">ofs'</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">LOAD</span>. <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#store_provenance">store_provenance;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[[P</span> <span class="id">Q]</span> <span class="id">|</span> <span class="id">P]</span>.<br/>
<span class="id">+</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">V:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b'0</span> <span class="id">ofs'</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id">av</span> <span class="id">p</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_vplub_l">vmatch_vplub_l</a></span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">V;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_vplub">pmatch_vplub</a></span>. <span class="id">eapply</span> <span class="id">B;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_storebytes" class="id"><a name="smatch_storebytes" class="">smatch_storebytes:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1508" class="id"><a name="m:1508" class="">m</a></span> <span id="b:1509" class="id"><a name="b:1509" class="">b</a></span> <span id="ofs:1510" class="id"><a name="ofs:1510" class="">ofs</a></span> <span id="bytes:1511" class="id"><a name="bytes:1511" class="">bytes</a></span> <span id="m':1512" class="id"><a name="m':1512" class="">m'</a></span> <span id="b':1513" class="id"><a name="b':1513" class="">b'</a></span> <span id="p:1514" class="id"><a name="p:1514" class="">p</a></span> <span id="p':1515" class="id"><a name="p':1515" class="">p',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1508">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1509">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1510">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1511">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1512">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1508">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1513">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1514">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':1516" class="id"><a name="b':1516" class="">b'</a></span> <span id="ofs':1517" class="id"><a name="ofs':1517" class="">ofs'</a></span> <span id="q:1518" class="id"><a name="q:1518" class="">q</a></span> <span id="i:1519" class="id"><a name="i:1519" class="">i,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1516">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1517">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1518">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1519">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1511">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1516">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1517">ofs'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p':1515">p'</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1512">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1513">b'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p':1515">p'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1514">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ifptr">vmatch_ifptr</a></span>. <span class="id">intros</span> <span class="id">bx</span> <span class="id">ofsx</span> <span class="id">EQ;</span> <span class="id">subst</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_loadbytes">Mem.load_loadbytes</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">bytes'</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">bytes'</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">byte1'</span> <span class="id">bytes']</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_length">Mem.loadbytes_length</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span>. <span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">generalize</span> (<span class="id"><a href="compcert.common.Memdata.html#decode_val_shape">decode_val_shape</a></span> <span class="id">chunk</span> <span class="id">byte1'</span> <span class="id">bytes'</span>). <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">DEC;</span> <span class="id">inv</span> <span class="id">DEC;</span> <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">bx</span> <span class="id">ofsx</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">destruct</span> <span class="id">H5</span> <span class="gallina-kwd">as</span> <span class="id">[E|[E|[E|E]]];</span> <span class="id">rewrite</span> <span class="id">E</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span> <span class="id">destruct</span> <span class="id">v;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H4;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> <span class="id">congruence;</span> <span class="id">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><span class="id">;</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#In_loadbytes">In_loadbytes;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">ofs'</span> &amp; <span class="id">X</span> &amp; <span class="id">Y</span>). <span class="id">subst</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#storebytes_provenance">storebytes_provenance;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[Z</span> <span class="id">|</span> <span class="id">Z]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_r">pmatch_lub_r</a></span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#storebytes_provenance">storebytes_provenance;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[Z</span> <span class="id">|</span> <span class="id">Z]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l</a></span>. <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_r">pmatch_lub_r</a></span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="bmatch" class="id"><a name="bmatch" class="">bmatch</a></span> (<span id="m:1520" class="id"><a name="m:1520" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="b:1521" class="id"><a name="b:1521" class="">b:</a></span> <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span id="ab:1522" class="id"><a name="ab:1522" class="">ab:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1520">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1521">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1522">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1523" class="id"><a name="chunk:1523" class="">chunk</a></span> <span id="ofs:1524" class="id"><a name="ofs:1524" class="">ofs</a></span> <span id="v:1525" class="id"><a name="v:1525" class="">v,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1523">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1520">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1521">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1524">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1525">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1525">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1523">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1522">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1524">ofs</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bmatch_ext" class="id"><a name="bmatch_ext" class="">bmatch_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1526" class="id"><a name="m:1526" class="">m</a></span> <span id="b:1527" class="id"><a name="b:1527" class="">b</a></span> <span id="ab:1528" class="id"><a name="ab:1528" class="">ab</a></span> <span id="m':1529" class="id"><a name="m':1529" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1526">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1527">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1528">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:1530" class="id"><a name="ofs:1530" class="">ofs</a></span> <span id="n:1531" class="id"><a name="n:1531" class="">n</a></span> <span id="bytes:1532" class="id"><a name="bytes:1532" class="">bytes,</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1529">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1527">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1530">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1531">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1532">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1531">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1526">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1527">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1530">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1531">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1532">bytes</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1529">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1527">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1528">ab</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_ext">smatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">B;</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#loadbytes_load_ext">loadbytes_load_ext;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bmatch_inv" class="id"><a name="bmatch_inv" class="">bmatch_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1533" class="id"><a name="m:1533" class="">m</a></span> <span id="b:1534" class="id"><a name="b:1534" class="">b</a></span> <span id="ab:1535" class="id"><a name="ab:1535" class="">ab</a></span> <span id="m':1536" class="id"><a name="m':1536" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1533">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1534">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1535">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="ofs:1537" class="id"><a name="ofs:1537" class="">ofs</a></span> <span id="n:1538" class="id"><a name="n:1538" class="">n,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1538">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1536">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1534">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1537">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1538">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1533">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1534">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1537">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1538">n</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1536">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1534">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1535">ab</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_ext">bmatch_ext;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_load_sound" class="id"><a name="ablock_load_sound" class="">ablock_load_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1539" class="id"><a name="chunk:1539" class="">chunk</a></span> <span id="m:1540" class="id"><a name="m:1540" class="">m</a></span> <span id="b:1541" class="id"><a name="b:1541" class="">b</a></span> <span id="ofs:1542" class="id"><a name="ofs:1542" class="">ofs</a></span> <span id="v:1543" class="id"><a name="v:1543" class="">v</a></span> <span id="ab:1544" class="id"><a name="ab:1544" class="">ab,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1539">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1540">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1541">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1542">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1543">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1540">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1541">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1544">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1543">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1539">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1544">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1542">ofs</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_load_anywhere_sound" class="id"><a name="ablock_load_anywhere_sound" class="">ablock_load_anywhere_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1545" class="id"><a name="chunk:1545" class="">chunk</a></span> <span id="m:1546" class="id"><a name="m:1546" class="">m</a></span> <span id="b:1547" class="id"><a name="b:1547" class="">b</a></span> <span id="ofs:1548" class="id"><a name="ofs:1548" class="">ofs</a></span> <span id="v:1549" class="id"><a name="v:1549" class="">v</a></span> <span id="ab:1550" class="id"><a name="ab:1550" class="">ab,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1545">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1546">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1547">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1548">ofs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1549">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1546">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1547">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1550">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1549">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere">ablock_load_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1545">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1550">ab</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span>. <span class="id">destruct</span> <span class="id">H0</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere">ablock_load_anywhere</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_init_sound" class="id"><a name="ablock_init_sound" class="">ablock_init_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1551" class="id"><a name="m:1551" class="">m</a></span> <span id="b:1552" class="id"><a name="b:1552" class="">b</a></span> <span id="p:1553" class="id"><a name="p:1553" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1551">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1552">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1553">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1551">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1552">b</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1553">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">split;</span> <span class="id">auto;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init;</a></span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_store_anywhere_sound" class="id"><a name="ablock_store_anywhere_sound" class="">ablock_store_anywhere_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1554" class="id"><a name="chunk:1554" class="">chunk</a></span> <span id="m:1555" class="id"><a name="m:1555" class="">m</a></span> <span id="b:1556" class="id"><a name="b:1556" class="">b</a></span> <span id="ofs:1557" class="id"><a name="ofs:1557" class="">ofs</a></span> <span id="v:1558" class="id"><a name="v:1558" class="">v</a></span> <span id="m':1559" class="id"><a name="m':1559" class="">m'</a></span> <span id="b':1560" class="id"><a name="b':1560" class="">b'</a></span> <span id="ab:1561" class="id"><a name="ab:1561" class="">ab</a></span> <span id="av:1562" class="id"><a name="av:1562" class="">av,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1554">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1555">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1556">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1557">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1558">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1559">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1555">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1560">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1561">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1558">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1562">av</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1559">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1560">b'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_anywhere">ablock_store_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1554">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1561">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1562">av</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_anywhere">ablock_store_anywhere</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_store">smatch_store;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inval_after_outside" class="id"><a name="inval_after_outside" class="">inval_after_outside:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1563" class="id"><a name="i:1563" class="">i</a></span> <span id="lo:1564" class="id"><a name="lo:1564" class="">lo</a></span> <span id="hi:1565" class="id"><a name="hi:1565" class="">hi</a></span> <span id="c:1566" class="id"><a name="c:1566" class="">c,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1563">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1564">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1563">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1565">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_after">inval_after</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1564">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1565">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1566">c</a></span>)<span class="id">##i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1566">c##i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">c</span>. <span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_after">inval_after</a></span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">c</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHt</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gro">ZTree.gro</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.elt">ZTree.elt</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Maps.html#ZIndexed.t">ZIndexed.t</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inval_after_contents" class="id"><a name="inval_after_contents" class="">inval_after_contents:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1567" class="id"><a name="chunk:1567" class="">chunk</a></span> <span id="av:1568" class="id"><a name="av:1568" class="">av</a></span> <span id="i:1569" class="id"><a name="i:1569" class="">i</a></span> <span id="lo:1570" class="id"><a name="lo:1570" class="">lo</a></span> <span id="hi:1571" class="id"><a name="hi:1571" class="">hi</a></span> <span id="c:1572" class="id"><a name="c:1572" class="">c,</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#inval_after">inval_after</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1570">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1571">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1572">c</a></span>)<span class="id">##i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1567">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1568">av</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#c:1572">c##i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1567">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1568">av</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#i:1569">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1570">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1569">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x">&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1571">hi</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">c</span>. <span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_after">inval_after</a></span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">c</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">hi</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">i</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_after_outside">inval_after_outside</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.grs">ZTree.grs</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHt;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gro">ZTree.gro</a></span> <span class="gallina-kwd">in</span> <span class="id">A</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">split</span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inval_before_outside" class="id"><a name="inval_before_outside" class="">inval_before_outside:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1573" class="id"><a name="i:1573" class="">i</a></span> <span id="hi:1574" class="id"><a name="hi:1574" class="">hi</a></span> <span id="lo:1575" class="id"><a name="lo:1575" class="">lo</a></span> <span id="c:1576" class="id"><a name="c:1576" class="">c,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1573">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1575">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1573">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1574">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_before">inval_before</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1574">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1575">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1576">c</a></span>)<span class="id">##i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1576">c##i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">c</span>. <span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_before">inval_before</a></span> <span class="id">hi</span> <span class="id">lo</span> <span class="id">c</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHt</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_if">inval_if</a></span>. <span class="id">destruct</span> (<span class="id">c##lo</span>) <span class="gallina-kwd">as</span> <span class="id">[[chunk</span> <span class="id">av]|];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">lo</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id">chunk</span>) <span class="id">hi</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gro">ZTree.gro</a></span>. <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.elt">ZTree.elt</a></span><span class="id">,</span> <span class="id"><a href="compcert.lib.Maps.html#ZIndexed.t">ZIndexed.t</a></span><span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inval_before_contents_1" class="id"><a name="inval_before_contents_1" class="">inval_before_contents_1:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1577" class="id"><a name="i:1577" class="">i</a></span> <span id="chunk:1578" class="id"><a name="chunk:1578" class="">chunk</a></span> <span id="av:1579" class="id"><a name="av:1579" class="">av</a></span> <span id="lo:1580" class="id"><a name="lo:1580" class="">lo</a></span> <span id="hi:1581" class="id"><a name="hi:1581" class="">hi</a></span> <span id="c:1582" class="id"><a name="c:1582" class="">c,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#lo:1580">lo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1577">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211">&lt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1581">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_before">inval_before</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1581">hi</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1580">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1582">c</a></span>)<span class="id">##i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1578">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1579">av</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#c:1582">c##i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1578">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1579">av</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1577">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1578">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1581">hi</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">c</span>. <span class="id">functional</span> <span class="id">induction</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inval_before">inval_before</a></span> <span class="id">hi</span> <span class="id">lo</span> <span class="id">c</span>)<span class="id">;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">lo</span> <span class="id">i</span>).<br/>
<span class="id">+</span> <span class="id">subst</span> <span class="id">i</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_before_outside">inval_before_outside</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_if">inval_if</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id">c##lo</span>) <span class="gallina-kwd">as</span> <span class="id">[[chunk0</span> <span class="id">v0]|]</span> <span class="id">eqn:C;</span> <span class="id">try</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">lo</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id">chunk0</span>) <span class="id">hi</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">C</span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.grs">ZTree.grs</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">congruence</span>.<br/>
<span class="id">+</span> <span class="id">exploit</span> <span class="id">IHt</span>. <span class="id">lia</span>. <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B];</span> <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_if">inval_if</a></span> <span class="gallina-kwd">in</span> <span class="id">A</span>. <span class="id">destruct</span> (<span class="id">c##lo</span>) <span class="gallina-kwd">as</span> <span class="id">[[chunk0</span> <span class="id">v0]|]</span> <span class="id">eqn:C;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id">lo</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id">chunk0</span>) <span class="id">hi</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gro">ZTree.gro</a></span> <span class="gallina-kwd">in</span> <span class="id">A;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="max_size_chunk" class="id"><a name="max_size_chunk" class="">max_size_chunk:</a></span> <span class="gallina-kwd">forall</span> <span id="chunk:1583" class="id"><a name="chunk:1583" class="">chunk,</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1583">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id">8</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">chunk;</span> <span class="id">simpl;</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Remark</span> <span id="inval_before_contents" class="id"><a name="inval_before_contents" class="">inval_before_contents:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="i:1584" class="id"><a name="i:1584" class="">i</a></span> <span id="c:1585" class="id"><a name="c:1585" class="">c</a></span> <span id="chunk':1586" class="id"><a name="chunk':1586" class="">chunk'</a></span> <span id="av':1587" class="id"><a name="av':1587" class="">av'</a></span> <span id="j:1588" class="id"><a name="j:1588" class="">j,</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#inval_before">inval_before</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1584">i</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#i:1584">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">7</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#c:1585">c</a></span>)<span class="id">##j</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1586">chunk'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av':1587">av'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#c:1585">c##j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1586">chunk'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av':1587">av'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#j:1588">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1586">chunk'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1584">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1584">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:1588">j</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">j</span> (<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x">-</a></span> <span class="id">7</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_before_outside">inval_before_outside</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">left</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#max_size_chunk">max_size_chunk</a></span> <span class="id">chunk'</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">j</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_before_contents_1">inval_before_contents_1;</a></span> <span class="id">eauto</span>. <span class="id">lia</span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_before_outside">inval_before_outside</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_store_contents" class="id"><a name="ablock_store_contents" class="">ablock_store_contents:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1589" class="id"><a name="chunk:1589" class="">chunk</a></span> <span id="ab:1590" class="id"><a name="ab:1590" class="">ab</a></span> <span id="i:1591" class="id"><a name="i:1591" class="">i</a></span> <span id="av:1592" class="id"><a name="av:1592" class="">av</a></span> <span id="j:1593" class="id"><a name="j:1593" class="">j</a></span> <span id="chunk':1594" class="id"><a name="chunk':1594" class="">chunk'</a></span> <span id="av':1595" class="id"><a name="av':1595" class="">av',</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store">ablock_store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1589">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1590">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1591">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1592">av</a></span>).(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>)<span class="id"><a href="compcert.backend.ValueDomain.html#15b1161e6008bb58652a26c4e2ed840f">##j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1594">chunk'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av':1595">av'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#i:1591">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:1593">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1594">chunk'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1589">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av':1595">av'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1592">av</a></span>)<br/>
&nbsp;&nbsp;<span class="id">\/</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab:1590">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>)<span class="id"><a href="compcert.backend.ValueDomain.html#15b1161e6008bb58652a26c4e2ed840f">##j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1594">chunk'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av':1595">av'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">/\</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#j:1593">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1594">chunk'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1591">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1591">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1589">chunk</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:1593">j</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store">ablock_store;</a></span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> <span class="id">j</span>).<br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">j</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gss">ZTree.gss</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gso">ZTree.gso</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_before_contents">inval_before_contents;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_after_contents">inval_after_contents;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="chunk_compat_true" class="id"><a name="chunk_compat_true" class="">chunk_compat_true:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="c:1596" class="id"><a name="c:1596" class="">c</a></span> <span id="c':1597" class="id"><a name="c':1597" class="">c',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat">chunk_compat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1596">c</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c':1597">c'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1596">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c':1597">c'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.Memdata.html#align_chunk">align_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1596">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.common.Memdata.html#align_chunk">align_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c':1597">c'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.common.AST.html#type_of_chunk">type_of_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c:1596">c</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.AST.html#type_of_chunk">type_of_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c':1597">c'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">c,</span> <span class="id">c';</span> <span class="id">intros;</span> <span class="id">try</span> <span class="id">discriminate;</span> <span class="id">simpl;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_store_sound" class="id"><a name="ablock_store_sound" class="">ablock_store_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1598" class="id"><a name="chunk:1598" class="">chunk</a></span> <span id="m:1599" class="id"><a name="m:1599" class="">m</a></span> <span id="b:1600" class="id"><a name="b:1600" class="">b</a></span> <span id="ofs:1601" class="id"><a name="ofs:1601" class="">ofs</a></span> <span id="v:1602" class="id"><a name="v:1602" class="">v</a></span> <span id="m':1603" class="id"><a name="m':1603" class="">m'</a></span> <span id="ab:1604" class="id"><a name="ab:1604" class="">ab</a></span> <span id="av:1605" class="id"><a name="av:1605" class="">av,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1598">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1599">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1600">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1601">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1602">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1603">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1599">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1600">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1604">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1602">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1605">av</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1603">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1600">b</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store">ablock_store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1598">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1604">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1601">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1605">av</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">av;</span> <span class="id">intros</span> <span class="id">STORE</span> <span class="id">BIN</span> <span class="id">VIN</span>. <span class="id">destruct</span> <span class="id">BIN</span> <span class="gallina-kwd">as</span> <span class="id">[BIN1</span> <span class="id">BIN2]</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_store">smatch_store;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">chunk'</span> <span class="id">ofs'</span> <span class="id">v'</span> <span class="id">LOAD</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SUMMARY:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">v'</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id">chunk'</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id">av</span> <span class="id">ab</span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>))))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_store">smatch_store;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> ((<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store">ablock_store</a></span> <span class="id">chunk</span> <span class="id">ab</span> <span class="id">ofs</span> <span class="id">av</span>)) <span class="id">##</span> <span class="id">ofs'</span>) <span class="gallina-kwd">as</span> <span class="id">[[chunk1</span> <span class="id">av1]|]</span> <span class="id">eqn:C;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat">chunk_compat</a></span> <span class="id">chunk'</span> <span class="id">chunk1</span>) <span class="id">eqn:COMPAT;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat_true">chunk_compat_true;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">U</span> &amp; <span class="id">V</span> &amp; <span class="id">W</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_contents">ablock_store_contents;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[</span>(<span class="id">P</span> &amp; <span class="id">Q</span> &amp; <span class="id">R</span>) <span class="id">|</span> (<span class="id">P</span> &amp; <span class="id">Q</span>)<span class="id">]</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;same&nbsp;offset&nbsp;and&nbsp;compatible&nbsp;chunks&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">v'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span> <span class="id">chunk'</span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_similar_2">Mem.load_store_similar_2</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">subst</span> <span class="id">v'</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_sound">vnormalize_sound;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;disjoint&nbsp;load/store&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id">chunk'</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">LOAD</span>. <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_store_other">Mem.load_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">U</span>. <span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">BIN2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span>. <span class="id">rewrite</span> <span class="id">P</span>. <span class="id">rewrite</span> <span class="id">COMPAT</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_loadbytes_sound" class="id"><a name="ablock_loadbytes_sound" class="">ablock_loadbytes_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1606" class="id"><a name="m:1606" class="">m</a></span> <span id="b:1607" class="id"><a name="b:1607" class="">b</a></span> <span id="ab:1608" class="id"><a name="ab:1608" class="">ab</a></span> <span id="b':1609" class="id"><a name="b':1609" class="">b'</a></span> <span id="ofs':1610" class="id"><a name="ofs':1610" class="">ofs'</a></span> <span id="q:1611" class="id"><a name="q:1611" class="">q</a></span> <span id="i:1612" class="id"><a name="i:1612" class="">i</a></span> <span id="n:1613" class="id"><a name="n:1613" class="">n</a></span> <span id="ofs:1614" class="id"><a name="ofs:1614" class="">ofs</a></span> <span id="bytes:1615" class="id"><a name="bytes:1615" class="">bytes,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1606">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1607">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1614">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1613">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1615">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1606">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1607">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1608">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1609">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1610">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1611">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1612">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1615">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1609">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1610">ofs'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes">ablock_loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1608">ab</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H0</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_loadbytes">smatch_loadbytes;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_storebytes_anywhere_sound" class="id"><a name="ablock_storebytes_anywhere_sound" class="">ablock_storebytes_anywhere_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1616" class="id"><a name="m:1616" class="">m</a></span> <span id="b:1617" class="id"><a name="b:1617" class="">b</a></span> <span id="ofs:1618" class="id"><a name="ofs:1618" class="">ofs</a></span> <span id="bytes:1619" class="id"><a name="bytes:1619" class="">bytes</a></span> <span id="p:1620" class="id"><a name="p:1620" class="">p</a></span> <span id="m':1621" class="id"><a name="m':1621" class="">m'</a></span> <span id="b':1622" class="id"><a name="b':1622" class="">b'</a></span> <span id="ab:1623" class="id"><a name="ab:1623" class="">ab,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1616">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1617">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1618">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1619">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1621">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':1624" class="id"><a name="b':1624" class="">b'</a></span> <span id="ofs':1625" class="id"><a name="ofs':1625" class="">ofs'</a></span> <span id="q:1626" class="id"><a name="q:1626" class="">q</a></span> <span id="i:1627" class="id"><a name="i:1627" class="">i,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1624">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1625">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1626">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1627">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1619">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1624">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1625">ofs'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1620">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1616">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1622">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1623">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1621">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1622">b'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_anywhere">ablock_storebytes_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1623">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1620">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H1</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_storebytes">smatch_storebytes;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_storebytes_contents" class="id"><a name="ablock_storebytes_contents" class="">ablock_storebytes_contents:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ab:1628" class="id"><a name="ab:1628" class="">ab</a></span> <span id="p:1629" class="id"><a name="p:1629" class="">p</a></span> <span id="i:1630" class="id"><a name="i:1630" class="">i</a></span> <span id="sz:1631" class="id"><a name="sz:1631" class="">sz</a></span> <span id="j:1632" class="id"><a name="j:1632" class="">j</a></span> <span id="chunk':1633" class="id"><a name="chunk':1633" class="">chunk'</a></span> <span id="av':1634" class="id"><a name="av':1634" class="">av',</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes">ablock_storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1628">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1629">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1630">i</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1631">sz</a></span>).(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>)<span class="id"><a href="compcert.backend.ValueDomain.html#15b1161e6008bb58652a26c4e2ed840f">##j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1633">chunk'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av':1634">av'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ab:1628">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>)<span class="id"><a href="compcert.backend.ValueDomain.html#15b1161e6008bb58652a26c4e2ed840f">##j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1633">chunk'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av':1634">av'</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#j:1632">j</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk':1633">chunk'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1630">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25">\/</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1630">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a">+</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1631">sz</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e">&lt;=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#j:1632">j</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes">ablock_storebytes;</a></span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_before_contents">inval_before_contents;</a></span> <span class="id">eauto</span>. <span class="id">clear</span> <span class="id">H</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inval_after_contents">inval_after_contents;</a></span> <span class="id">eauto</span>. <span class="id">clear</span> <span class="id">A</span>. <span class="id">intros</span> <span class="id">[C</span> <span class="id">D]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ablock_storebytes_sound" class="id"><a name="ablock_storebytes_sound" class="">ablock_storebytes_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1635" class="id"><a name="m:1635" class="">m</a></span> <span id="b:1636" class="id"><a name="b:1636" class="">b</a></span> <span id="ofs:1637" class="id"><a name="ofs:1637" class="">ofs</a></span> <span id="bytes:1638" class="id"><a name="bytes:1638" class="">bytes</a></span> <span id="m':1639" class="id"><a name="m':1639" class="">m'</a></span> <span id="p:1640" class="id"><a name="p:1640" class="">p</a></span> <span id="ab:1641" class="id"><a name="ab:1641" class="">ab</a></span> <span id="sz:1642" class="id"><a name="sz:1642" class="">sz,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1635">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1636">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1637">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1638">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1639">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1638">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1642">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':1643" class="id"><a name="b':1643" class="">b'</a></span> <span id="ofs':1644" class="id"><a name="ofs':1644" class="">ofs'</a></span> <span id="q:1645" class="id"><a name="q:1645" class="">q</a></span> <span id="i:1646" class="id"><a name="i:1646" class="">i,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1643">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1644">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1645">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1646">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1638">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1643">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1644">ofs'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1640">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1635">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1636">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1641">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1639">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1636">b</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes">ablock_storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1641">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1640">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1637">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1642">sz</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">sz;</span> <span class="id">intros</span> <span class="id">STORE</span> <span class="id">LENGTH</span> <span class="id">CONTENTS</span> <span class="id">BM</span>. <span class="id">destruct</span> <span class="id">BM</span> <span class="gallina-kwd">as</span> <span class="id">[BM1</span> <span class="id">BM2]</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_storebytes">smatch_storebytes;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">chunk'</span> <span class="id">ofs'</span> <span class="id">v'</span> <span class="id">LOAD'</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SUMMARY:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">v'</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id">chunk'</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">p</span> <span class="id">ab</span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>))))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_storebytes">smatch_storebytes;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes">ablock_storebytes</a></span> <span class="id">ab</span> <span class="id">p</span> <span class="id">ofs</span> <span class="id">sz</span>))<span class="id">##ofs'</span> <span class="gallina-kwd">as</span> <span class="id">[[chunk</span> <span class="id">av]|]</span> <span class="id">eqn:C;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat">chunk_compat</a></span> <span class="id">chunk'</span> <span class="id">chunk</span>) <span class="id">eqn:COMPAT;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat_true">chunk_compat_true;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">U</span> &amp; <span class="id">V</span> &amp; <span class="id">W</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_contents">ablock_storebytes_contents;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id">chunk'</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v'</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">LOAD';</span> <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_storebytes_other">Mem.load_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">U</span>. <span class="id">rewrite</span> <span class="id">LENGTH</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#Z_to_nat_max">Z_to_nat_max</a></span>. <span class="id">right;</span> <span class="id">lia</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">BM2;</span> <span class="id">eauto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span>. <span class="id">rewrite</span> <span class="id">A</span>. <span class="id">rewrite</span> <span class="id">COMPAT</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Boolean equality </div>
<br/>
<span class="vernacular">Definition</span> <span id="bbeq" class="id"><a name="bbeq" class="">bbeq</a></span> (<span id="ab1:1647" class="id"><a name="ab1:1647" class="">ab1</a></span> <span id="ab2:1648" class="id"><a name="ab2:1648" class="">ab2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#eq_aptr">eq_aptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1647">ab1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1648">ab2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) &amp;&amp;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#ZTree.beq">ZTree.beq</a></span> (<span class="gallina-kwd">fun</span> <span id="c1:1649" class="id"><a name="c1:1649" class="">c1</a></span> <span id="c2:1650" class="id"><a name="c2:1650" class="">c2</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#eq_acontent">eq_acontent</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c1:1649">c1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c2:1650">c2</a></span>)) <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1647">ab1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1648">ab2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bbeq_load" class="id"><a name="bbeq_load" class="">bbeq_load:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ab1:1651" class="id"><a name="ab1:1651" class="">ab1</a></span> <span id="ab2:1652" class="id"><a name="ab2:1652" class="">ab2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bbeq">bbeq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1651">ab1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1652">ab2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1651">ab1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1652">ab2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> (<span class="gallina-kwd">forall</span> <span id="chunk:1653" class="id"><a name="chunk:1653" class="">chunk</a></span> <span id="i:1654" class="id"><a name="i:1654" class="">i,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1653">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1651">ab1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1654">i</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1653">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1652">ab2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1654">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq">bbeq;</a></span> <span class="id">intros</span>. <span class="id">InvBooleans</span>. <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere">ablock_load_anywhere;</a></span> <span class="id">intros;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="id">assert</span> (<span class="id">A:</span> <span class="gallina-kwd">forall</span> <span id="i:1656" class="id"><span id="i:1655" class="id"><a name="i:1656" class="">i,</a></span></span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.get">ZTree.get</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1655">i</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">ab1</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.get">ZTree.get</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1655">i</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">ab2</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.beq_sound">ZTree.beq_sound</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">ab1</span>)<span class="id">##i,</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">ab2</span>)<span class="id">##i;</span> <span class="id">intros;</span> <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">InvBooleans;</span> <span class="id">subst;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span>. <span class="id">rewrite</span> <span class="id">A,</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">ab2</span>)<span class="id">##i;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bbeq_sound" class="id"><a name="bbeq_sound" class="">bbeq_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ab1:1657" class="id"><a name="ab1:1657" class="">ab1</a></span> <span id="ab2:1658" class="id"><a name="ab2:1658" class="">ab2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bbeq">bbeq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1657">ab1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1658">ab2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1659" class="id"><a name="m:1659" class="">m</a></span> <span id="b:1660" class="id"><a name="b:1660" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1659">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1660">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1657">ab1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1659">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1660">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1658">ab2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq_load">bbeq_load;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span>. <span class="id">rewrite</span> <span class="id">A</span>. <span class="id">intuition</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">B;</span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Least upper bound </div>
<br/>
<span class="vernacular">Definition</span> <span id="combine_acontents" class="id"><a name="combine_acontents" class="">combine_acontents</a></span> (<span id="c1:1661" class="id"><a name="c1:1661" class="">c1</a></span> <span id="c2:1662" class="id"><a name="c2:1662" class="">c2:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#acontent">acontent</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#c1:1661">c1,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#c2:1662">c2</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id">chunk1</span> <span class="id">v1</span>)<span class="id">,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id">chunk2</span> <span class="id">v2</span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id">chunk1</span> <span class="id">chunk2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#ACval">ACval</a></span> <span class="id">chunk1</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> <span class="id">v1</span> <span class="id">v2</span>)) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="blub" class="id"><a name="blub" class="">blub</a></span> (<span id="ab1:1665" class="id"><a name="ab1:1665" class="">ab1</a></span> <span id="ab2:1666" class="id"><a name="ab2:1666" class="">ab2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.combine">ZTree.combine</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#combine_acontents">combine_acontents</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1665">ab1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1666">ab2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab1:1665">ab1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ab2:1666">ab2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>) <span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_lub_l" class="id"><a name="smatch_lub_l" class="">smatch_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1667" class="id"><a name="m:1667" class="">m</a></span> <span id="b:1668" class="id"><a name="b:1668" class="">b</a></span> <span id="p:1669" class="id"><a name="p:1669" class="">p</a></span> <span id="q:1670" class="id"><a name="q:1670" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1667">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1668">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1669">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1667">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1668">b</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1669">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1670">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">v</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">q</span>))). <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_lub_l">vmatch_lub_l</a></span>. <span class="id">eapply</span> <span class="id">A;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_l">pmatch_lub_l</a></span>. <span class="id">eapply</span> <span class="id">B;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_lub_r" class="id"><a name="smatch_lub_r" class="">smatch_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1671" class="id"><a name="m:1671" class="">m</a></span> <span id="b:1672" class="id"><a name="b:1672" class="">b</a></span> <span id="p:1673" class="id"><a name="p:1673" class="">p</a></span> <span id="q:1674" class="id"><a name="q:1674" class="">q,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1671">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1672">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1674">q</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1671">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1672">b</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1673">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1674">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">v</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id">q</span>))). <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_lub_r">vmatch_lub_r</a></span>. <span class="id">eapply</span> <span class="id">A;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_lub_r">pmatch_lub_r</a></span>. <span class="id">eapply</span> <span class="id">B;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bmatch_lub_l" class="id"><a name="bmatch_lub_l" class="">bmatch_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1675" class="id"><a name="m:1675" class="">m</a></span> <span id="b:1676" class="id"><a name="b:1676" class="">b</a></span> <span id="x:1677" class="id"><a name="x:1677" class="">x</a></span> <span id="y:1678" class="id"><a name="y:1678" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1675">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1676">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1677">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1675">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1676">b</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#blub">blub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1677">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1678">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[BM1</span> <span class="id">BM2]</span>. <span class="id">split;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#blub">blub;</a></span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_l">smatch_lub_l;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SUMMARY:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">v</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id">chunk</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">y</span>))))<br/>
).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_l">smatch_lub_l;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[SUMM</span> <span class="id">_]</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">BM2;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load;</a></span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gcombine">ZTree.gcombine</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#combine_acontents">combine_acontents;</a></span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">x</span>)<span class="id">##ofs</span> <span class="gallina-kwd">as</span> <span class="id">[[chunkx</span> <span class="id">avx]|],</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">y</span>)<span class="id">##ofs</span> <span class="gallina-kwd">as</span> <span class="id">[[chunky</span> <span class="id">avy]|];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id">chunkx</span> <span class="id">chunky</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">chunky</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat">chunk_compat</a></span> <span class="id">chunk</span> <span class="id">chunkx</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ge">vmatch_ge;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_monotone">vnormalize_monotone</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_lub_l">vge_lub_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bmatch_lub_r" class="id"><a name="bmatch_lub_r" class="">bmatch_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1679" class="id"><a name="m:1679" class="">m</a></span> <span id="b:1680" class="id"><a name="b:1680" class="">b</a></span> <span id="x:1681" class="id"><a name="x:1681" class="">x</a></span> <span id="y:1682" class="id"><a name="y:1682" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1679">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1680">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1682">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1679">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1680">b</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#blub">blub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1681">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1682">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[BM1</span> <span class="id">BM2]</span>. <span class="id">split;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#blub">blub;</a></span> <span class="id">simpl</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_r">smatch_lub_r;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SUMMARY:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">v</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id">chunk</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">y</span>))))<br/>
).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_r">smatch_lub_r;</a></span> <span class="id">eauto</span>. <span class="id">instantiate</span> (<span class="id">1</span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[SUMM</span> <span class="id">_]</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">BM2;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load;</a></span> <span class="id">simpl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#ZTree.gcombine">ZTree.gcombine</a></span> <span class="gallina-kwd">by</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#combine_acontents">combine_acontents;</a></span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">x</span>)<span class="id">##ofs</span> <span class="gallina-kwd">as</span> <span class="id">[[chunkx</span> <span class="id">avx]|],</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_contents">ab_contents</a></span> <span class="id">y</span>)<span class="id">##ofs</span> <span class="gallina-kwd">as</span> <span class="id">[[chunky</span> <span class="id">avy]|];</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id">chunkx</span> <span class="id">chunky</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">chunky</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#chunk_compat">chunk_compat</a></span> <span class="id">chunk</span> <span class="id">chunkx</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ge">vmatch_ge;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_monotone">vnormalize_monotone</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_lub_r">vge_lub_r</a></span>.<br/>
Qed.</div>
<br/>
<h1> Abstracting read-only global variables </h1>
<br/>
<span class="vernacular">Definition</span> <span id="romem" class="id"><a name="romem" class="">romem</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="romatch" class="id"><a name="romatch" class="">romatch</a></span>  (<span id="m:1683" class="id"><a name="m:1683" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="rm:1684" class="id"><a name="rm:1684" class="">rm:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#romem">romem</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:1685" class="id"><a name="b:1685" class="">b</a></span> <span id="id:1686" class="id"><a name="id:1686" class="">id</a></span> <span id="ab:1687" class="id"><a name="ab:1687" class="">ab,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1685">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1686">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#rm:1684">rm!id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1687">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pge">pge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1687">ab</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span>)<br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1683">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1685">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1687">ab</a></span><br/>
&nbsp;&nbsp;<span class="id">/\</span> <span class="gallina-kwd">forall</span> <span id="ofs:1688" class="id"><a name="ofs:1688" class="">ofs,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181">~Mem</a></span>.<span class="id">perm</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1683">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1685">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1688">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.common.Memtype.html#Writable">Writable</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="romatch_store" class="id"><a name="romatch_store" class="">romatch_store:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1689" class="id"><a name="chunk:1689" class="">chunk</a></span> <span id="m:1690" class="id"><a name="m:1690" class="">m</a></span> <span id="b:1691" class="id"><a name="b:1691" class="">b</a></span> <span id="ofs:1692" class="id"><a name="ofs:1692" class="">ofs</a></span> <span id="v:1693" class="id"><a name="v:1693" class="">v</a></span> <span id="m':1694" class="id"><a name="m':1694" class="">m'</a></span> <span id="rm:1695" class="id"><a name="rm:1695" class="">rm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1689">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1690">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1691">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1692">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1693">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1694">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1690">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1695">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1694">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1695">rm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id">H0;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="id">split;</span> <span class="id">auto</span>. <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_valid_access_3">Mem.store_valid_access_3</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_inv">bmatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
<span class="id">+</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_store_other">Mem.loadbytes_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">red;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">b0</span>. <span class="id">elim</span> (<span class="id">C</span> <span class="id">ofs</span>). <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur_max">Mem.perm_cur_max</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">P</span>. <span class="id">generalize</span> (<span class="id"><a href="compcert.common.Memdata.html#size_chunk_pos">size_chunk_pos</a></span> <span class="id">chunk</span>)<span class="id">;</span> <span class="id">lia</span>.<br/>
<span class="id">-</span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">elim</span> (<span class="id">C</span> <span class="id">ofs0</span>). <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="romatch_storebytes" class="id"><a name="romatch_storebytes" class="">romatch_storebytes:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1696" class="id"><a name="m:1696" class="">m</a></span> <span id="b:1697" class="id"><a name="b:1697" class="">b</a></span> <span id="ofs:1698" class="id"><a name="ofs:1698" class="">ofs</a></span> <span id="bytes:1699" class="id"><a name="bytes:1699" class="">bytes</a></span> <span id="m':1700" class="id"><a name="m':1700" class="">m'</a></span> <span id="rm:1701" class="id"><a name="rm:1701" class="">rm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1696">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1697">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1698">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1699">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1700">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1696">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1701">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1700">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1701">rm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id">H0;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="id">split;</span> <span class="id">auto</span>. <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_inv">bmatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_storebytes_disjoint">Mem.loadbytes_storebytes_disjoint</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b0</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">subst</span> <span class="id">b0</span>. <span class="id">right;</span> <span class="id">red;</span> <span class="id">unfold</span> <span class="id"><a href="compcert.lib.Intv.html#In">Intv.In</a></span><span class="id">;</span> <span class="id">simpl;</span> <span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span> (<span class="id">C</span> <span class="id">x</span>). <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur_max">Mem.perm_cur_max</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storebytes_range_perm">Mem.storebytes_range_perm</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros;</span> <span class="id">elim</span> (<span class="id">C</span> <span class="id">ofs0</span>). <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="romatch_ext" class="id"><a name="romatch_ext" class="">romatch_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1702" class="id"><a name="m:1702" class="">m</a></span> <span id="rm:1703" class="id"><a name="rm:1703" class="">rm</a></span> <span id="m':1704" class="id"><a name="m':1704" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1702">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1703">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:1705" class="id"><a name="b:1705" class="">b</a></span> <span id="id:1706" class="id"><a name="id:1706" class="">id</a></span> <span id="ofs:1707" class="id"><a name="ofs:1707" class="">ofs</a></span> <span id="n:1708" class="id"><a name="n:1708" class="">n</a></span> <span id="bytes:1709" class="id"><a name="bytes:1709" class="">bytes,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1705">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1706">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1704">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1705">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1707">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1708">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1709">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1702">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1705">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1707">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1708">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1709">bytes</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:1710" class="id"><a name="b:1710" class="">b</a></span> <span id="id:1711" class="id"><a name="id:1711" class="">id</a></span> <span id="ofs:1712" class="id"><a name="ofs:1712" class="">ofs</a></span> <span id="p:1713" class="id"><a name="p:1713" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1710">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1711">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1704">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1710">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1712">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1713">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1702">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1710">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1712">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1713">p</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1704">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1703">rm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_ext">bmatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>. <span class="id">intros</span>. <span class="id">eapply</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">elim</span> (<span class="id">C</span> <span class="id">ofs</span>). <span class="id">eapply</span> <span class="id">H1;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="romatch_free" class="id"><a name="romatch_free" class="">romatch_free:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1714" class="id"><a name="m:1714" class="">m</a></span> <span id="b:1715" class="id"><a name="b:1715" class="">b</a></span> <span id="lo:1716" class="id"><a name="lo:1716" class="">lo</a></span> <span id="hi:1717" class="id"><a name="hi:1717" class="">hi</a></span> <span id="m':1718" class="id"><a name="m':1718" class="">m'</a></span> <span id="rm:1719" class="id"><a name="rm:1719" class="">rm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1714">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1715">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1716">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1717">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1718">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1714">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1719">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1718">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1719">rm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#romatch_ext">romatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_free_2">Mem.loadbytes_free_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="romatch_alloc" class="id"><a name="romatch_alloc" class="">romatch_alloc:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1720" class="id"><a name="m:1720" class="">m</a></span> <span id="b:1721" class="id"><a name="b:1721" class="">b</a></span> <span id="lo:1722" class="id"><a name="lo:1722" class="">lo</a></span> <span id="hi:1723" class="id"><a name="hi:1723" class="">hi</a></span> <span id="m':1724" class="id"><a name="m':1724" class="">m'</a></span> <span id="rm:1725" class="id"><a name="rm:1725" class="">rm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1720">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1722">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1723">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#m':1724">m',</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1721">b</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bc_below">bc_below</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1720">m</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1720">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1725">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1724">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1725">rm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#romatch_ext">romatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H3;</span> <span class="id">symmetry</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_alloc_unchanged">Mem.loadbytes_alloc_unchanged</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_not_valid_diff">Mem.valid_not_valid_diff</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0</span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<h1> Abstracting memory states </h1>
<br/>
<span class="vernacular">Record</span> <span id="amem" class="id"><a name="amem" class="">amem</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id">AMem</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="am_stack" class="id"><a name="am_stack" class="">am_stack:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock;</a></span><br/>
&nbsp;&nbsp;<span id="am_glob" class="id"><a name="am_glob" class="">am_glob:</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock;</a></span><br/>
&nbsp;&nbsp;<span id="am_nonstack" class="id"><a name="am_nonstack" class="">am_nonstack:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr;</a></span><br/>
&nbsp;&nbsp;<span id="am_top" class="id"><a name="am_top" class="">am_top:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Record</span> <span id="mmatch" class="id"><a name="mmatch" class="">mmatch</a></span> (<span id="m:1731" class="id"><a name="m:1731" class="">m:</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span id="am:1732" class="id"><a name="am:1732" class="">am:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span> <span class="id">mk_mem_match</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="mmatch_stack" class="id"><a name="mmatch_stack" class="">mmatch_stack:</a></span> <span class="gallina-kwd">forall</span> <span id="b:1734" class="id"><a name="b:1734" class="">b,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1734">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1731">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1734">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1732">am</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span id="mmatch_glob" class="id"><a name="mmatch_glob" class="">mmatch_glob:</a></span> <span class="gallina-kwd">forall</span> <span id="id:1736" class="id"><a name="id:1736" class="">id</a></span> <span id="ab:1737" class="id"><a name="ab:1737" class="">ab</a></span> <span id="b:1738" class="id"><a name="b:1738" class="">b,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1738">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1736">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am:1732">am</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1737">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1731">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1738">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1737">ab;</a></span><br/>
&nbsp;&nbsp;<span id="mmatch_nonstack" class="id"><a name="mmatch_nonstack" class="">mmatch_nonstack:</a></span> <span class="gallina-kwd">forall</span> <span id="b:1740" class="id"><a name="b:1740" class="">b,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1740">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1740">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1731">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1740">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1732">am</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span id="mmatch_top" class="id"><a name="mmatch_top" class="">mmatch_top:</a></span> <span class="gallina-kwd">forall</span> <span id="b:1742" class="id"><a name="b:1742" class="">b,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1742">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1731">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1742">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1732">am</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span id="mmatch_below" class="id"><a name="mmatch_below" class="">mmatch_below:</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bc_below">bc_below</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1731">m</a></span>)<br/>
<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="minit" class="id"><a name="minit" class="">minit</a></span> (<span id="p:1745" class="id"><a name="p:1745" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1745">p;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id">_;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1745">p;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1745">p</a></span> <span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mbot" class="id"><a name="mbot" class="">mbot</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#minit">minit</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="mtop" class="id"><a name="mtop" class="">mtop</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#minit">minit</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="load" class="id"><a name="load" class="">load</a></span> (<span id="chunk:1746" class="id"><a name="chunk:1746" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="rm:1747" class="id"><a name="rm:1747" class="">rm:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#romem">romem</a></span>) (<span id="m:1748" class="id"><a name="m:1748" class="">m:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) (<span id="p:1749" class="id"><a name="p:1749" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1749">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1747">rm!id</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> <span class="id">ab</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> <span class="id">ab</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1747">rm!id</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere">ablock_load_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> <span class="id">ab</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere">ablock_load_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> <span class="id">ab</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load">ablock_load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere">ablock_load_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>))<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize">vnormalize</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1746">chunk</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1748">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="loadv" class="id"><a name="loadv" class="">loadv</a></span> (<span id="chunk:1751" class="id"><a name="chunk:1751" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="rm:1752" class="id"><a name="rm:1752" class="">rm:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#romem">romem</a></span>) (<span id="m:1753" class="id"><a name="m:1753" class="">m:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) (<span id="addr:1754" class="id"><a name="addr:1754" class="">addr:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#load">load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1751">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1752">rm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1753">m</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#aptr_of_aval">aptr_of_aval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#addr:1754">addr</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="store" class="id"><a name="store" class="">store</a></span> (<span id="chunk:1755" class="id"><a name="chunk:1755" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="m:1756" class="id"><a name="m:1756" class="">m:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) (<span id="p:1757" class="id"><a name="p:1757" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="av:1758" class="id"><a name="av:1758" class="">av:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1757">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs</span>      <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store">ablock_store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1755">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#av:1758">av</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_anywhere">ablock_store_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1755">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#av:1758">av</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1757">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="ab:1761" class="id"><a name="ab:1761" class="">ab</a></span> <span class="id">:=</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">ab</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>) <span class="gallina-kwd">end</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store">ablock_store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1755">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1761">ab</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#av:1758">av</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="ab:1762" class="id"><a name="ab:1762" class="">ab</a></span> <span class="id">:=</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">ab</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>) <span class="gallina-kwd">end</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_anywhere">ablock_store_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1755">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1762">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1758">av</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1757">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1758">av</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1758">av</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1756">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="storev" class="id"><a name="storev" class="">storev</a></span> (<span id="chunk:1764" class="id"><a name="chunk:1764" class="">chunk:</a></span> <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span id="m:1765" class="id"><a name="m:1765" class="">m:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) (<span id="addr:1766" class="id"><a name="addr:1766" class="">addr:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>) (<span id="v:1767" class="id"><a name="v:1767" class="">v:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>)<span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#store">store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1764">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1765">m</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#aptr_of_aval">aptr_of_aval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#addr:1766">addr</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v:1767">v</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="loadbytes" class="id"><a name="loadbytes" class="">loadbytes</a></span> (<span id="m:1768" class="id"><a name="m:1768" class="">m:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) (<span id="rm:1769" class="id"><a name="rm:1769" class="">rm:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#romem">romem</a></span>) (<span id="p:1770" class="id"><a name="p:1770" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1770">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="compcert.driver.Compopts.html#va_strict">va_strict</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Pbot">Pbot</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1769">rm!id</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes">ablock_loadbytes</a></span> <span class="id">ab</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1768">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes">ablock_loadbytes</a></span> <span class="id">ab</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1768">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes">ablock_loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1768">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1768">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1768">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="storebytes" class="id"><a name="storebytes" class="">storebytes</a></span> (<span id="m:1772" class="id"><a name="m:1772" class="">m:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) (<span id="dst:1773" class="id"><a name="dst:1773" class="">dst:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) (<span id="sz:1774" class="id"><a name="sz:1774" class="">sz:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span id="p:1775" class="id"><a name="p:1775" class="">p:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aptr">aptr</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#dst:1773">dst</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stk">Stk</a></span> <span class="id">ofs</span>      <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes">ablock_storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#p:1775">p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1774">sz</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Stack">Stack</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_anywhere">ablock_storebytes_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#p:1775">p</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#dst:1773">dst</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">ofs</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="ab:1778" class="id"><a name="ab:1778" class="">ab</a></span> <span class="id">:=</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">ab</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>) <span class="gallina-kwd">end</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes">ablock_storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1778">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1775">p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>) <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1774">sz</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="ab:1779" class="id"><a name="ab:1779" class="">ab</a></span> <span class="id">:=</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">!id</span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">ab</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init">ablock_init</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>) <span class="gallina-kwd">end</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_anywhere">ablock_storebytes_anywhere</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1779">ab</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1775">p</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#dst:1773">dst</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Gl">Gl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glo">Glo</a></span> <span class="id">_</span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span> <span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1775">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">end;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1775">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1772">m</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>)<br/>
&nbsp;&nbsp;<span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Theorem</span> <span id="load_sound" class="id"><a name="load_sound" class="">load_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1781" class="id"><a name="chunk:1781" class="">chunk</a></span> <span id="m:1782" class="id"><a name="m:1782" class="">m</a></span> <span id="b:1783" class="id"><a name="b:1783" class="">b</a></span> <span id="ofs:1784" class="id"><a name="ofs:1784" class="">ofs</a></span> <span id="v:1785" class="id"><a name="v:1785" class="">v</a></span> <span id="rm:1786" class="id"><a name="rm:1786" class="">rm</a></span> <span id="am:1787" class="id"><a name="am:1787" class="">am</a></span> <span id="p:1788" class="id"><a name="p:1788" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1781">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1782">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1783">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1784">ofs</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1785">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1782">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1786">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1782">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1787">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1783">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1784">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1788">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1785">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#load">load</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1781">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1786">rm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1787">am</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1788">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#load">load</a></span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Gl&nbsp;id&nbsp;ofs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">rm!id</span>) <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:RM</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_sound">ablock_load_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:AM</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_sound">ablock_load_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Glo&nbsp;id&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">rm!id</span>) <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:RM</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere_sound">ablock_load_anywhere_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:AM</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere_sound">ablock_load_anywhere_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Glob&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span>. <span class="id">congruence</span>. <span class="id">congruence</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Stk&nbsp;ofs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_sound">ablock_load_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_load_anywhere_sound">ablock_load_anywhere_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Nonstack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vnormalize_cast">vnormalize_cast;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_top">mmatch_top;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="loadv_sound" class="id"><a name="loadv_sound" class="">loadv_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1789" class="id"><a name="chunk:1789" class="">chunk</a></span> <span id="m:1790" class="id"><a name="m:1790" class="">m</a></span> <span id="addr:1791" class="id"><a name="addr:1791" class="">addr</a></span> <span id="v:1792" class="id"><a name="v:1792" class="">v</a></span> <span id="rm:1793" class="id"><a name="rm:1793" class="">rm</a></span> <span id="am:1794" class="id"><a name="am:1794" class="">am</a></span> <span id="aaddr:1795" class="id"><a name="aaddr:1795" class="">aaddr,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1789">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1790">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#addr:1791">addr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1792">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1790">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1793">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1790">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1794">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#addr:1791">addr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aaddr:1795">aaddr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1792">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#loadv">loadv</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1789">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1793">rm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1794">am</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aaddr:1795">aaddr</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">addr;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#load_sound">load_sound;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#match_aptr_of_aval">match_aptr_of_aval;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="store_sound" class="id"><a name="store_sound" class="">store_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1796" class="id"><a name="chunk:1796" class="">chunk</a></span> <span id="m:1797" class="id"><a name="m:1797" class="">m</a></span> <span id="b:1798" class="id"><a name="b:1798" class="">b</a></span> <span id="ofs:1799" class="id"><a name="ofs:1799" class="">ofs</a></span> <span id="v:1800" class="id"><a name="v:1800" class="">v</a></span> <span id="m':1801" class="id"><a name="m':1801" class="">m'</a></span> <span id="am:1802" class="id"><a name="am:1802" class="">am</a></span> <span id="p:1803" class="id"><a name="p:1803" class="">p</a></span> <span id="av:1804" class="id"><a name="av:1804" class="">av,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1796">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1797">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1798">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1799">ofs</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v:1800">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1801">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1797">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1802">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1798">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1799">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1803">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1800">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1804">av</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1801">m'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#store">store</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1796">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1802">am</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1803">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1804">av</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">av;</span> <span class="id">intros</span> <span class="id">STORE</span> <span class="id">MM</span> <span class="id">PM</span> <span class="id">VM</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#store">store;</a></span> <span class="id">constructor;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id">m'</span> <span class="id">b0</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span> <span class="id">am</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_inv">bmatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_store_other">Mem.loadbytes_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left;</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PM;</span> <span class="id">try</span> (<span class="id">apply</span> <span class="id">DFL;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">assert</span> (<span class="id">b0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_stack">bc_stack;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_sound">ablock_store_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">assert</span> (<span class="id">b0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_stack">bc_stack;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_anywhere_sound">ablock_store_anywhere_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_anywhere_sound">ablock_store_anywhere_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Globals&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rename</span> <span class="id">b0</span> <span class="id">into</span> <span class="id">b'</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id">id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id">m'</span> <span class="id">b'</span> <span class="id">ab</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_inv">bmatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_store_other">Mem.loadbytes_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left;</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PM</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">b'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_glob">bc_glob;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_sound">ablock_store_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab0|]</span> <span class="id">eqn:GL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">b'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_glob">bc_glob;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_store_anywhere_sound">ablock_store_anywhere_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab0|]</span> <span class="id">eqn:GL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">congruence</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Nonstack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id">m'</span> <span class="id">b0</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vplub">vplub</a></span> <span class="id">av</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">am</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_store">smatch_store;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">STK:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id">m'</span> <span class="id">b0</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">am</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_inv">smatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_store_other">Mem.loadbytes_store_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PM;</span> (<span class="id">apply</span> <span class="id">DFL</span> <span class="id">||</span> <span class="id">apply</span> <span class="id">STK;</span> <span class="id">congruence</span>).<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_store">smatch_store;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_top">mmatch_top;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Below&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_below">mmatch_below;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="storev_sound" class="id"><a name="storev_sound" class="">storev_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="chunk:1805" class="id"><a name="chunk:1805" class="">chunk</a></span> <span id="m:1806" class="id"><a name="m:1806" class="">m</a></span> <span id="addr:1807" class="id"><a name="addr:1807" class="">addr</a></span> <span id="v:1808" class="id"><a name="v:1808" class="">v</a></span> <span id="m':1809" class="id"><a name="m':1809" class="">m'</a></span> <span id="am:1810" class="id"><a name="am:1810" class="">am</a></span> <span id="aaddr:1811" class="id"><a name="aaddr:1811" class="">aaddr</a></span> <span id="av:1812" class="id"><a name="av:1812" class="">av,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1805">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1806">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#addr:1807">addr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1808">v</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1809">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1806">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1810">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#addr:1807">addr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aaddr:1811">aaddr</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1808">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1812">av</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1809">m'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#storev">storev</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#chunk:1805">chunk</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1810">am</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aaddr:1811">aaddr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1812">av</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">addr;</span> <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H;</span> <span class="id">try</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#store_sound">store_sound;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#match_aptr_of_aval">match_aptr_of_aval;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="loadbytes_sound" class="id"><a name="loadbytes_sound" class="">loadbytes_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1813" class="id"><a name="m:1813" class="">m</a></span> <span id="b:1814" class="id"><a name="b:1814" class="">b</a></span> <span id="ofs:1815" class="id"><a name="ofs:1815" class="">ofs</a></span> <span id="sz:1816" class="id"><a name="sz:1816" class="">sz</a></span> <span id="bytes:1817" class="id"><a name="bytes:1817" class="">bytes</a></span> <span id="am:1818" class="id"><a name="am:1818" class="">am</a></span> <span id="rm:1819" class="id"><a name="rm:1819" class="">rm</a></span> <span id="p:1820" class="id"><a name="p:1820" class="">p,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1813">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1814">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1815">ofs</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1816">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1817">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1813">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1819">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1813">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1818">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1814">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1815">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1820">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span>  <span id="b':1821" class="id"><a name="b':1821" class="">b'</a></span> <span id="ofs':1822" class="id"><a name="ofs':1822" class="">ofs'</a></span> <span id="q:1823" class="id"><a name="q:1823" class="">q</a></span> <span id="i:1824" class="id"><a name="i:1824" class="">i,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1821">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1822">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#q:1823">q</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1824">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1817">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1821">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1822">ofs'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#loadbytes">loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1818">am</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1819">rm</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1820">p</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#loadbytes">loadbytes;</a></span> <span class="id">inv</span> <span class="id">H2</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Gl&nbsp;id&nbsp;ofs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">rm!id</span>) <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:RM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes_sound">ablock_loadbytes_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:GL</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes_sound">ablock_loadbytes_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_loadbytes">smatch_loadbytes;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Glo&nbsp;id&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">rm!id</span>) <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:RM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes_sound">ablock_loadbytes_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab|]</span> <span class="id">eqn:GL</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes_sound">ablock_loadbytes_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_loadbytes">smatch_loadbytes;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Glob&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_loadbytes">smatch_loadbytes;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Stk&nbsp;ofs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes_sound">ablock_loadbytes_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_loadbytes_sound">ablock_loadbytes_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Nonstack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_loadbytes">smatch_loadbytes;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_loadbytes">smatch_loadbytes;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_top">mmatch_top;</a></span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="storebytes_sound" class="id"><a name="storebytes_sound" class="">storebytes_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1825" class="id"><a name="m:1825" class="">m</a></span> <span id="b:1826" class="id"><a name="b:1826" class="">b</a></span> <span id="ofs:1827" class="id"><a name="ofs:1827" class="">ofs</a></span> <span id="bytes:1828" class="id"><a name="bytes:1828" class="">bytes</a></span> <span id="m':1829" class="id"><a name="m':1829" class="">m'</a></span> <span id="am:1830" class="id"><a name="am:1830" class="">am</a></span> <span id="p:1831" class="id"><a name="p:1831" class="">p</a></span> <span id="sz:1832" class="id"><a name="sz:1832" class="">sz</a></span> <span id="q:1833" class="id"><a name="q:1833" class="">q,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1825">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1826">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1827">ofs</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1828">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1829">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1825">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1830">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1826">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1827">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1831">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1828">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1832">sz</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b':1834" class="id"><a name="b':1834" class="">b'</a></span> <span id="ofs':1835" class="id"><a name="ofs':1835" class="">ofs'</a></span> <span id="qt:1836" class="id"><a name="qt:1836" class="">qt</a></span> <span id="i:1837" class="id"><a name="i:1837" class="">i,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1834">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1835">ofs'</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#qt:1836">qt</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#i:1837">i</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1828">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1834">b'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs':1835">ofs'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1833">q</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1829">m'</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#storebytes">storebytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1830">am</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1831">p</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#sz:1832">sz</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#q:1833">q</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
&nbsp;&nbsp;<span class="id">intros</span> <span class="id">until</span> <span class="id">q;</span> <span class="id">intros</span> <span class="id">STORE</span> <span class="id">MM</span> <span class="id">PM</span> <span class="id">LENGTH</span> <span class="id">BYTES</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#storebytes">storebytes;</a></span> <span class="id">constructor;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id">m'</span> <span class="id">b0</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span> <span class="id">am</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_inv">bmatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_storebytes_other">Mem.loadbytes_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left;</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PM;</span> <span class="id">try</span> (<span class="id">apply</span> <span class="id">DFL;</span> <span class="id">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">assert</span> (<span class="id">b0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_stack">bc_stack;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_sound">ablock_storebytes_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">assert</span> (<span class="id">b0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_stack">bc_stack;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_anywhere_sound">ablock_storebytes_anywhere_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_anywhere_sound">ablock_storebytes_anywhere_sound;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Globals&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rename</span> <span class="id">b0</span> <span class="id">into</span> <span class="id">b'</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id">id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ab</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id">m'</span> <span class="id">b'</span> <span class="id">ab</span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_inv">bmatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_storebytes_other">Mem.loadbytes_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left;</span> <span class="id">congruence</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PM</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">b'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_glob">bc_glob;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_sound">ablock_storebytes_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab0|]</span> <span class="id">eqn:GL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id</span> <span class="id">id0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">id0;</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">b'</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_glob">bc_glob;</a></span> <span class="id">eauto</span>). <span class="id">subst</span> <span class="id">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_storebytes_anywhere_sound">ablock_storebytes_anywhere_sound;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">am</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[ab0|]</span> <span class="id">eqn:GL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_glob">mmatch_glob;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">eapply</span> <span class="id">DFL;</span> <span class="id">eauto</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H0;</span> <span class="id">congruence</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Nonstack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">DFL:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id">m'</span> <span class="id">b0</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">am</span>))).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_storebytes">smatch_storebytes;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">STK:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCstack">BCstack</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id">m'</span> <span class="id">b0</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">am</span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_inv">smatch_inv</a></span> <span class="gallina-kwd">with</span> <span class="id">m</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto;</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_storebytes_other">Mem.loadbytes_storebytes_other</a></span><span class="id">;</span> <span class="id">eauto</span>. <span class="id">left</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PM;</span> (<span class="id">apply</span> <span class="id">DFL</span> <span class="id">||</span> <span class="id">apply</span> <span class="id">STK;</span> <span class="id">congruence</span>).<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_storebytes">smatch_storebytes;</a></span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_top">mmatch_top;</a></span> <span class="id">eauto</span>.<br/>
<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;Below&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_storebytes">Mem.nextblock_storebytes</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_below">mmatch_below;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mmatch_ext" class="id"><a name="mmatch_ext" class="">mmatch_ext:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1838" class="id"><a name="m:1838" class="">m</a></span> <span id="am:1839" class="id"><a name="am:1839" class="">am</a></span> <span id="m':1840" class="id"><a name="m':1840" class="">m',</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1838">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1839">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:1841" class="id"><a name="b:1841" class="">b</a></span> <span id="ofs:1842" class="id"><a name="ofs:1842" class="">ofs</a></span> <span id="n:1843" class="id"><a name="n:1843" class="">n</a></span> <span id="bytes:1844" class="id"><a name="bytes:1844" class="">bytes,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1841">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1843">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4">&gt;=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1840">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1841">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1842">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1843">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1844">bytes</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1838">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1841">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1842">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#n:1843">n</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bytes:1844">bytes</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1838">m</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1840">m'</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1840">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1839">am</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_ext">bmatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_ext">bmatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_ext">smatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_ext">smatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
<span class="id">-</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">exploit</span> <span class="id">mmatch_below0;</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mmatch_free" class="id"><a name="mmatch_free" class="">mmatch_free:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1845" class="id"><a name="m:1845" class="">m</a></span> <span id="b:1846" class="id"><a name="b:1846" class="">b</a></span> <span id="lo:1847" class="id"><a name="lo:1847" class="">lo</a></span> <span id="hi:1848" class="id"><a name="hi:1848" class="">hi</a></span> <span id="m':1849" class="id"><a name="m':1849" class="">m'</a></span> <span id="am:1850" class="id"><a name="am:1850" class="">am,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1845">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1846">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#lo:1847">lo</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#hi:1848">hi</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1849">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1845">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1850">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1849">m'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1850">am</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_ext">mmatch_ext</a></span> <span class="gallina-kwd">with</span> <span class="id">m;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_free_2">Mem.loadbytes_free_2</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">extlia</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mmatch_top'" class="id"><a name="mmatch_top'" class="">mmatch_top':</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1851" class="id"><a name="m:1851" class="">m</a></span> <span id="am:1852" class="id"><a name="am:1852" class="">am,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1851">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1852">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1851">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mtop">mtop</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">constructor;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_ge">smatch_ge</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span> <span class="id">am</span>)).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_stack">mmatch_stack;</a></span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_ge">smatch_ge</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_nonstack">mmatch_nonstack;</a></span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_ge">smatch_ge</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_top">mmatch_top;</a></span> <span class="id">eauto</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_below">mmatch_below;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Boolean equality </div>
<br/>
<span class="vernacular">Definition</span> <span id="mbeq" class="id"><a name="mbeq" class="">mbeq</a></span> (<span id="m1:1853" class="id"><a name="m1:1853" class="">m1</a></span> <span id="m2:1854" class="id"><a name="m2:1854" class="">m2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#eq_aptr">eq_aptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1853">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1854">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>)<br/>
&nbsp;&nbsp;&amp;&amp; <span class="id"><a href="compcert.backend.ValueDomain.html#eq_aptr">eq_aptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1853">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1854">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<br/>
&nbsp;&nbsp;&amp;&amp; <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq">bbeq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1853">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1854">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>)<br/>
&nbsp;&nbsp;&amp;&amp; <span class="id"><a href="compcert.lib.Maps.html#PTree.beq">PTree.beq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq">bbeq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1853">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1854">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mbeq_sound" class="id"><a name="mbeq_sound" class="">mbeq_sound:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m1:1855" class="id"><a name="m1:1855" class="">m1</a></span> <span id="m2:1856" class="id"><a name="m2:1856" class="">m2,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mbeq">mbeq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1855">m1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1856">m2</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="m:1857" class="id"><a name="m:1857" class="">m,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1857">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1855">m1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1857">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1856">m2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mbeq">mbeq;</a></span> <span class="id">intros</span>. <span class="id">InvBooleans</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.beq_correct">PTree.beq_correct</a></span> <span class="gallina-kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">intros</span> <span class="id">M;</span> <span class="id">inv</span> <span class="id">M;</span> <span class="id">constructor;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">erewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq_sound">bbeq_sound;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">specialize</span> (<span class="id">H1</span> <span class="id">id</span>). <span class="id">rewrite</span> <span class="id">H4</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">m1</span>)<span class="id">!id</span> <span class="id">eqn:G;</span> <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq_sound">bbeq_sound;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">erewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq_sound">bbeq_sound;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">specialize</span> (<span class="id">H1</span> <span class="id">id</span>). <span class="id">rewrite</span> <span class="id">H4</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">m2</span>)<span class="id">!id</span> <span class="id">eqn:G;</span> <span class="id">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bbeq_sound">bbeq_sound;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">H;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Least upper bound </div>
<br/>
<span class="vernacular">Definition</span> <span id="combine_ablock" class="id"><a name="combine_ablock" class="">combine_ablock</a></span> (<span id="ob1:1858" class="id"><a name="ob1:1858" class="">ob1</a></span> <span id="ob2:1859" class="id"><a name="ob2:1859" class="">ob2:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock">ablock</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob1:1858">ob1,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ob2:1859">ob2</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b1,</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#blub">blub</a></span> <span class="id">b1</span> <span class="id">b2</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mlub" class="id"><a name="mlub" class="">mlub</a></span> (<span id="m1:1862" class="id"><a name="m1:1862" class="">m1</a></span> <span id="m2:1863" class="id"><a name="m2:1863" class="">m2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span> <span class="id">:=</span><br/>
<span class="id">{|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#blub">blub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1862">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1863">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_stack">am_stack</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>  <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#combine_ablock">combine_ablock</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1862">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1863">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1862">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1863">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_nonstack">am_nonstack</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#plub">plub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m1:1862">m1</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m2:1863">m2</a></span>.(<span class="id"><a href="compcert.backend.ValueDomain.html#am_top">am_top</a></span>) <span class="id">|}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mmatch_lub_l" class="id"><a name="mmatch_lub_l" class="">mmatch_lub_l:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1864" class="id"><a name="m:1864" class="">m</a></span> <span id="x:1865" class="id"><a name="x:1865" class="">x</a></span> <span id="y:1866" class="id"><a name="y:1866" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1864">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1865">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1864">m</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#mlub">mlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1865">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1866">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_lub_l">bmatch_lub_l;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gcombine">PTree.gcombine</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#combine_ablock">combine_ablock</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">x</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[b1|]</span> <span class="id">eqn:G1;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">y</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[b2|]</span> <span class="id">eqn:G2;</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_lub_l">bmatch_lub_l;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_l">smatch_lub_l;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_l">smatch_lub_l;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mmatch_lub_r" class="id"><a name="mmatch_lub_r" class="">mmatch_lub_r:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="m:1867" class="id"><a name="m:1867" class="">m</a></span> <span id="x:1868" class="id"><a name="x:1868" class="">x</a></span> <span id="y:1869" class="id"><a name="y:1869" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1867">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1869">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1867">m</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#mlub">mlub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1868">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1869">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_lub_r">bmatch_lub_r;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gcombine">PTree.gcombine</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> <span class="id">auto</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#combine_ablock">combine_ablock</a></span> <span class="gallina-kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">x</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[b1|]</span> <span class="id">eqn:G1;</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#am_glob">am_glob</a></span> <span class="id">y</span>)<span class="id">!id</span> <span class="gallina-kwd">as</span> <span class="id">[b2|]</span> <span class="id">eqn:G2;</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch_lub_r">bmatch_lub_r;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_r">smatch_lub_r;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_lub_r">smatch_lub_r;</a></span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH">MATCH</a></span>.<br/>
<br/>
<h1> Monotonicity properties when the block classification changes. </h1>
<br/>
<span class="vernacular">Lemma</span> <span id="genv_match_exten" class="id"><a name="genv_match_exten" class="">genv_match_exten:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="ge:1870" class="id"><a name="ge:1870" class="">ge</a></span> (<span id="bc1:1871" class="id"><a name="bc1:1871" class="">bc1</a></span> <span id="bc2:1872" class="id"><a name="bc2:1872" class="">bc2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc1:1871">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:1870">ge</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:1873" class="id"><a name="b:1873" class="">b</a></span> <span id="id:1874" class="id"><a name="id:1874" class="">id,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc1:1871">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1873">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1874">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc2:1872">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1873">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1874">id</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:1875" class="id"><a name="b:1875" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc1:1871">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1875">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCother">BCother</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc2:1872">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1875">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCother">BCother</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc2:1872">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:1870">ge</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id">H0</span>. <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">exploit</span> <span class="id">B;</span> <span class="id">eauto</span>. <span class="id">destruct</span> (<span class="id">bc1</span> <span class="id">b</span>) <span class="id">eqn:BC1</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">BC1</span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">erewrite</span> <span class="id">H1</span> <span class="gallina-kwd">by</span> <span class="id">eauto</span>. <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="romatch_exten" class="id"><a name="romatch_exten" class="">romatch_exten:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="bc1:1876" class="id"><a name="bc1:1876" class="">bc1</a></span> <span id="bc2:1877" class="id"><a name="bc2:1877" class="">bc2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>) <span id="m:1878" class="id"><a name="m:1878" class="">m</a></span> <span id="rm:1879" class="id"><a name="rm:1879" class="">rm,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc1:1876">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1878">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1879">rm</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="b:1880" class="id"><a name="b:1880" class="">b</a></span> <span id="id:1881" class="id"><a name="id:1881" class="">id,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc2:1877">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1880">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1881">id</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc1:1876">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1880">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#id:1881">id</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#romatch">romatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc2:1877">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1878">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rm:1879">rm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">H0</span> <span class="gallina-kwd">in</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id">H;</span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">auto</span>. <span class="id">split;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">PM:</span> <span class="gallina-kwd">forall</span> <span id="b:1885" class="id"><span id="b:1882" class="id"><a name="b:1885" class="">b</a></span></span> <span id="ofs:1886" class="id"><span id="ofs:1883" class="id"><a name="ofs:1886" class="">ofs</a></span></span> <span id="p:1887" class="id"><span id="p:1884" class="id"><a name="p:1887" class="">p,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id">bc1</span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1882">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1883">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1884">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id">bc1</span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1882">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1883">ofs</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">ab</span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id">bc2</span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1882">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1883">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1884">p</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id">bc1</span> <span class="id">b0</span> <span class="id">ofs</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Glob">Glob</a></span>) <span class="gallina-kwd">by</span> (<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_ge">pmatch_ge;</a></span> <span class="id">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">bc2</span> <span class="id">b0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCglob">BCglob</a></span> <span class="id">id0</span>) <span class="gallina-kwd">by</span> (<span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3;</span> <span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">VM:</span> <span class="gallina-kwd">forall</span> <span id="v:1890" class="id"><span id="v:1888" class="id"><a name="v:1890" class="">v</a></span></span> <span id="x:1891" class="id"><span id="x:1889" class="id"><a name="x:1891" class="">x,</a></span></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">bc1</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1888">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1889">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">bc1</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1888">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ab_summary">ab_summary</a></span> <span class="id">ab</span>)) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id">bc2</span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1888">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1889">x</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H3;</span> <span class="id">constructor;</span> <span class="id">auto;</span> <span class="id">inv</span> <span class="id">H4;</span> <span class="id">eapply</span> <span class="id">PM;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">B</span> <span class="gallina-kwd">as</span> <span class="id">[[B1</span> <span class="id">B2]</span> <span class="id">B3]</span>. <span class="id">split</span>. <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">VM;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">PM;</span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id">VM;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="bc_incr" class="id"><a name="bc_incr" class="">bc_incr</a></span> (<span id="bc1:1892" class="id"><a name="bc1:1892" class="">bc1</a></span> <span id="bc2:1893" class="id"><a name="bc2:1893" class="">bc2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="b:1894" class="id"><a name="b:1894" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc1:1892">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1894">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc2:1893">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1894">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc1:1892">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1894">b</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="MATCH_INCR" class="id"><a name="MATCH_INCR" class="">MATCH_INCR</a></span>.<br/>
<br/>
<span class="vernacular">Variables</span> <span id="MATCH_INCR.bc1" class="id"><a name="MATCH_INCR.bc1" class="">bc1</a></span> <span id="MATCH_INCR.bc2" class="id"><a name="MATCH_INCR.bc2" class="">bc2:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="MATCH_INCR.INCR" class="id"><a name="MATCH_INCR.INCR" class="">INCR:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_incr">bc_incr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc1">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc2">bc2</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_incr" class="id"><a name="pmatch_incr" class="">pmatch_incr:</a></span> <span class="gallina-kwd">forall</span> <span id="b:1898" class="id"><a name="b:1898" class="">b</a></span> <span id="ofs:1899" class="id"><a name="ofs:1899" class="">ofs</a></span> <span id="p:1900" class="id"><a name="p:1900" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc1">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1898">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1899">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1900">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc2">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1898">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1899">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1900">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span><br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc2">bc2</a></span> <span class="id">b</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc1">bc1</a></span> <span class="id">b</span>) <span class="gallina-kwd">by</span> (<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.INCR">INCR;</a></span> <span class="id">congruence</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">econstructor;</span> <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">va</span>. <span class="id">rewrite</span> <span class="id">H0;</span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_incr" class="id"><a name="vmatch_incr" class="">vmatch_incr:</a></span> <span class="gallina-kwd">forall</span> <span id="v:1901" class="id"><a name="v:1901" class="">v</a></span> <span id="x:1902" class="id"><a name="x:1902" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc1">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1901">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1902">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc2">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1901">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1902">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">constructor;</span> <span class="id">auto;</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_incr">pmatch_incr;</a></span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="smatch_incr" class="id"><a name="smatch_incr" class="">smatch_incr:</a></span> <span class="gallina-kwd">forall</span> <span id="m:1903" class="id"><a name="m:1903" class="">m</a></span> <span id="b:1904" class="id"><a name="b:1904" class="">b</a></span> <span id="p:1905" class="id"><a name="p:1905" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc1">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1903">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1904">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1905">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc2">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1903">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1904">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1905">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>. <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_incr">vmatch_incr;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_incr">pmatch_incr;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bmatch_incr" class="id"><a name="bmatch_incr" class="">bmatch_incr:</a></span> <span class="gallina-kwd">forall</span> <span id="m:1906" class="id"><a name="m:1906" class="">m</a></span> <span id="b:1907" class="id"><a name="b:1907" class="">b</a></span> <span id="ab:1908" class="id"><a name="ab:1908" class="">ab,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc1">bc1</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1906">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1907">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1908">ab</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bmatch">bmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR.bc2">bc2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1906">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1907">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ab:1908">ab</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[B1</span> <span class="id">B2]</span>. <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch_incr">smatch_incr;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_incr">vmatch_incr;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCH_INCR">MATCH_INCR</a></span>.<br/>
<br/>
<h1> Matching and memory injections. </h1>
<br/>
<span class="vernacular">Definition</span> <span id="inj_of_bc" class="id"><a name="inj_of_bc" class="">inj_of_bc</a></span> (<span id="bc:1909" class="id"><a name="bc:1909" class="">bc:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="b:1910" class="id"><a name="b:1910" class="">b</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1909">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1910">b</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">|</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#b:1910">b,</a></span> <span class="id">0</span>) <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="inj_of_bc_valid" class="id"><a name="inj_of_bc_valid" class="">inj_of_bc_valid:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="bc:1911" class="id"><a name="bc:1911" class="">bc:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>) <span id="b:1912" class="id"><a name="b:1912" class="">b,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1911">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1912">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1911">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1912">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#b:1912">b,</a></span> <span class="id">0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span>. <span class="id">destruct</span> (<span class="id">bc</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="inj_of_bc_inv" class="id"><a name="inj_of_bc_inv" class="">inj_of_bc_inv:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="bc:1913" class="id"><a name="bc:1913" class="">bc:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>) <span id="b:1914" class="id"><a name="b:1914" class="">b</a></span> <span id="b':1915" class="id"><a name="b':1915" class="">b'</a></span> <span id="delta:1916" class="id"><a name="delta:1916" class="">delta,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1913">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1914">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#b':1915">b',</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#delta:1916">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1913">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1914">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b':1915">b'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1914">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#delta:1916">delta</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc;</a></span> <span class="id">intros</span>. <span class="id">destruct</span> (<span class="id">bc</span> <span class="id">b</span>)<span class="id">;</span> <span class="id">intuition</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_inj" class="id"><a name="pmatch_inj" class="">pmatch_inj:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1917" class="id"><a name="bc:1917" class="">bc</a></span> <span id="b:1918" class="id"><a name="b:1918" class="">b</a></span> <span id="ofs:1919" class="id"><a name="ofs:1919" class="">ofs</a></span> <span id="p:1920" class="id"><a name="p:1920" class="">p,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1917">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1918">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1919">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#p:1920">p</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1917">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1918">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#b:1918">b,</a></span> <span class="id">0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_valid">inj_of_bc_valid</a></span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_inj" class="id"><a name="vmatch_inj" class="">vmatch_inj:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1921" class="id"><a name="bc:1921" class="">bc</a></span> <span id="v:1922" class="id"><a name="v:1922" class="">v</a></span> <span id="x:1923" class="id"><a name="x:1923" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1921">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1922">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1923">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1921">bc</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v:1922">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1922">v</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_inj">pmatch_inj;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_inj">pmatch_inj;</a></span> <span class="id">eauto</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_list_inj" class="id"><a name="vmatch_list_inj" class="">vmatch_list_inj:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1924" class="id"><a name="bc:1924" class="">bc</a></span> <span id="vl:1925" class="id"><a name="vl:1925" class="">vl</a></span> <span id="xl:1926" class="id"><a name="xl:1926" class="">xl,</a></span> <span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1924">bc</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#vl:1925">vl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#xl:1926">xl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1924">bc</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#vl:1925">vl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vl:1925">vl</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">1;</span> <span class="id">constructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_inj">vmatch_inj;</a></span> <span class="id">eauto</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mmatch_inj" class="id"><a name="mmatch_inj" class="">mmatch_inj:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1927" class="id"><a name="bc:1927" class="">bc</a></span> <span id="m:1928" class="id"><a name="m:1928" class="">m</a></span> <span id="am:1929" class="id"><a name="am:1929" class="">am,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1927">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1928">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#am:1929">am</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_below">bc_below</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1927">bc</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1928">m</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1927">bc</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m:1928">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1928">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;perms&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;alignment&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;contents&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> (<span class="id">mv</span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="compcert.lib.Maps.html#PMap.get">PMap.get</a></span> <span class="id">b1</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">m</span>))).<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id">m</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">mv</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="vernacular">Local</span> <span class="vernacular">Transparent</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#pred_dec_true">pred_dec_true</a></span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">replace</span> <span class="id">ofs0</span> <span class="gallina-kwd">with</span> <span class="id">ofs</span> <span class="gallina-kwd">by</span> <span class="id">lia</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">mv;</span> <span class="id">econstructor</span>. <span class="id">destruct</span> <span class="id">v;</span> <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_valid">inj_of_bc_valid</a></span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">PM:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id">bc</span> <span class="id">b</span> <span class="id">i</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span> <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_top">mmatch_top;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> <span class="id">[P</span> <span class="id">Q]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_top'">pmatch_top'</a></span>. <span class="id">eapply</span> <span class="id">Q;</span> <span class="id">eauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PM;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;free&nbsp;blocks&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_below_invalid">bc_below_invalid;</a></span> <span class="id">eauto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;mapped&nbsp;blocks&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0;</span> <span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;overlap&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">intros</span> (<span class="id">A1</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv</a></span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="id">intros</span> (<span class="id">A2</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">auto</span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;overflow&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="id">split</span>. <span class="id">lia</span>. <span class="id">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_range_2">Ptrofs.unsigned_range_2</a></span>.<br/>
<span class="id">-</span> <span class="comment">(*&nbsp;perm&nbsp;inv&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>)<span class="id">;</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="gallina-kwd">in</span> <span class="id">H2</span>. <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="inj_of_bc_preserves_globals" class="id"><a name="inj_of_bc_preserves_globals" class="">inj_of_bc_preserves_globals:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1930" class="id"><a name="bc:1930" class="">bc</a></span> <span id="ge:1931" class="id"><a name="ge:1931" class="">ge,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#genv_match">genv_match</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1930">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:1931">ge</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.common.Events.html#meminj_preserves_globals">meminj_preserves_globals</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge:1931">ge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1930">bc</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> <span class="id">H</span> <span class="gallina-kwd">as</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_valid">inj_of_bc_valid</a></span>. <span class="id">rewrite</span> <span class="id">A</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>. <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_valid">inj_of_bc_valid</a></span>. <span class="id">apply</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info_iff">Genv.find_var_info_iff</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs_range">Genv.genv_defs_range</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">P</span> &amp; <span class="id">Q</span> &amp; <span class="id">R</span>). <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="pmatch_inj_top" class="id"><a name="pmatch_inj_top" class="">pmatch_inj_top:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1932" class="id"><a name="bc:1932" class="">bc</a></span> <span id="b:1933" class="id"><a name="b:1933" class="">b</a></span> <span id="b':1934" class="id"><a name="b':1934" class="">b'</a></span> <span id="delta:1935" class="id"><a name="delta:1935" class="">delta</a></span> <span id="ofs:1936" class="id"><a name="ofs:1936" class="">ofs,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1932">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1933">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#b':1934">b',</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#delta:1935">delta</a></span>) <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1932">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1933">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ofs:1936">ofs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_inv">inj_of_bc_inv;</a></span> <span class="id">eauto</span>. <span class="id">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="id">constructor;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="vmatch_inj_top" class="id"><a name="vmatch_inj_top" class="">vmatch_inj_top:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1937" class="id"><a name="bc:1937" class="">bc</a></span> <span id="v:1938" class="id"><a name="v:1938" class="">v</a></span> <span id="v':1939" class="id"><a name="v':1939" class="">v',</a></span> <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1937">bc</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#v:1938">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v':1939">v'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1937">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1938">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">inv</span> <span class="id">H;</span> <span class="id">constructor</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_inj_top">pmatch_inj_top;</a></span> <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="mmatch_inj_top" class="id"><a name="mmatch_inj_top" class="">mmatch_inj_top:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1940" class="id"><a name="bc:1940" class="">bc</a></span> <span id="m:1941" class="id"><a name="m:1941" class="">m</a></span> <span id="m':1942" class="id"><a name="m':1942" class="">m',</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc">inj_of_bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1940">bc</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#m:1941">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m':1942">m'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1940">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:1941">m</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mtop">mtop</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Proof.</span></div>
<div class="proofscript" id="proof243">
&nbsp;&nbsp;<span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">SM:</span> <span class="gallina-kwd">forall</span> <span id="b:1944" class="id"><span id="b:1943" class="id"><a name="b:1944" class="">b,</a></span></span> <span class="id">bc</span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1943">b</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x">&lt;&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#BCinvalid">BCinvalid</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#smatch">smatch</a></span> <span class="id">bc</span> <span class="id">m</span> <span class="id"><a href="compcert.backend.ValueDomain.html#b:1943">b</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Ptop">Ptop</a></span>).<br/>
&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">split;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.load_inject">Mem.load_inject</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_valid">inj_of_bc_valid;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">v'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_inj_top">vmatch_inj_top;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes_inject">Mem.loadbytes_inject</a></span>. <span class="id">eauto</span>. <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_valid">inj_of_bc_valid;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">bytes'</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <span class="id">inv</span> <span class="id">B</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch_inj_top">pmatch_inj_top;</a></span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;<span class="id">constructor;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ablock_init_sound">ablock_init_sound</a></span>. <span class="id">apply</span> <span class="id">SM</span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="gallina-kwd">in</span> <span class="id">H1;</span> <span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id">SM;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">apply</span> <span class="id">SM;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#inj_of_bc_valid">inj_of_bc_valid;</a></span> <span class="id">eauto</span>. <span class="id">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Abstracting RTL register environments </h1>
<br/>
<span class="vernacular">Module</span> <span id="AVal" class="id"><a name="AVal" class="">AVal</a></span> <span class="id">&lt;:</span> <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.t" class="id"><a name="AVal.t" class="">t</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aval">aval</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.eq" class="id"><a name="AVal.eq" class="">eq</a></span> (<span id="x:1945" class="id"><a name="x:1945" class="">x</a></span> <span id="y:1946" class="id"><a name="y:1946" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.t">t</a></span>) <span class="id">:=</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#x:1945">x</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1946">y</a></span>).<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.eq_refl" class="id"><a name="AVal.eq_refl" class="">eq_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1947" class="id"><a name="x:1947" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1947">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1947">x</a></span> <span class="id">:=</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.t">t</a></span>).<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.eq_sym" class="id"><a name="AVal.eq_sym" class="">eq_sym:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1948" class="id"><a name="x:1948" class="">x</a></span> <span id="y:1949" class="id"><a name="y:1949" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1948">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1949">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1949">y</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1948">x</a></span> <span class="id">:=</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_sym">eq_sym</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.t">t</a></span>).<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.eq_trans" class="id"><a name="AVal.eq_trans" class="">eq_trans:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1950" class="id"><a name="x:1950" class="">x</a></span> <span id="y:1951" class="id"><a name="y:1951" class="">y</a></span> <span id="z:1952" class="id"><a name="z:1952" class="">z,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1950">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1951">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1951">y</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:1952">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1950">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:1952">z</a></span> <span class="id">:=</span> (@<span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#eq_trans">eq_trans</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.t">t</a></span>).<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.beq" class="id"><a name="AVal.beq" class="">beq</a></span> (<span id="x:1953" class="id"><a name="x:1953" class="">x</a></span> <span id="y:1954" class="id"><a name="y:1954" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.t">t</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#eq_aval">eq_aval</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1953">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1954">y</a></span>).<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="AVal.beq_correct" class="id"><a name="AVal.beq_correct" class="">beq_correct:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1955" class="id"><a name="x:1955" class="">x</a></span> <span id="y:1956" class="id"><a name="y:1956" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.beq">beq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1955">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1956">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1955">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1956">y</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof244')">Proof.</span></div>
<div class="proofscript" id="proof244">
 <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.beq">beq;</a></span> <span class="id">intros</span>. <span class="id">InvBooleans</span>. <span class="id">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.ge" class="id"><a name="AVal.ge" class="">ge</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge">vge</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="AVal.ge_refl" class="id"><a name="AVal.ge_refl" class="">ge_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1957" class="id"><a name="x:1957" class="">x</a></span> <span id="y:1958" class="id"><a name="y:1958" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1957">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1958">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1957">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1958">y</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof245')">Proof.</span></div>
<div class="proofscript" id="proof245">
 <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.eq">eq,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge;</a></span> <span class="id">intros</span>. <span class="id">subst</span> <span class="id">y</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_refl">vge_refl</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="AVal.ge_trans" class="id"><a name="AVal.ge_trans" class="">ge_trans:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1959" class="id"><a name="x:1959" class="">x</a></span> <span id="y:1960" class="id"><a name="y:1960" class="">y</a></span> <span id="z:1961" class="id"><a name="z:1961" class="">z,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1959">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1960">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1960">y</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:1961">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1959">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:1961">z</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof246')">Proof.</span></div>
<div class="proofscript" id="proof246">
 <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge;</a></span> <span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_trans">vge_trans;</a></span> <span class="id">eauto</span>. Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.bot" class="id"><a name="AVal.bot" class="">bot</a></span> <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.t">t</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vbot">Vbot</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="AVal.ge_bot" class="id"><a name="AVal.ge_bot" class="">ge_bot:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1962" class="id"><a name="x:1962" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1962">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.bot">bot</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof247')">Proof.</span></div>
<div class="proofscript" id="proof247">
 <span class="id">intros</span>. <span class="id">constructor</span>. Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.top" class="id"><a name="AVal.top" class="">top</a></span> <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.t">t</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="AVal.ge_top" class="id"><a name="AVal.ge_top" class="">ge_top:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1963" class="id"><a name="x:1963" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.top">top</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1963">x</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof248')">Proof.</span></div>
<div class="proofscript" id="proof248">
 <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_top">vge_top</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="AVal.lub" class="id"><a name="AVal.lub" class="">lub</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vlub">vlub</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="AVal.ge_lub_left" class="id"><a name="AVal.ge_lub_left" class="">ge_lub_left:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1964" class="id"><a name="x:1964" class="">x</a></span> <span id="y:1965" class="id"><a name="y:1965" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#AVal.lub">lub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1964">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1965">y</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#x:1964">x</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Proof</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_lub_l">vge_lub_l</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="AVal.ge_lub_right" class="id"><a name="AVal.ge_lub_right" class="">ge_lub_right:</a></span> <span class="gallina-kwd">forall</span> <span id="x:1966" class="id"><a name="x:1966" class="">x</a></span> <span id="y:1967" class="id"><a name="y:1967" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal.ge">ge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#AVal.lub">lub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:1966">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:1967">y</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#y:1967">y</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Proof</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vge_lub_r">vge_lub_r</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AVal">AVal</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="AE" class="id"><a name="AE" class="">AE</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap">LPMap</a></span>(<span class="id"><a href="compcert.backend.ValueDomain.html#AVal">AVal</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aenv" class="id"><a name="aenv" class="">aenv</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#t">AE.t</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="MATCHENV" class="id"><a name="MATCHENV" class="">MATCHENV</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="MATCHENV.bc" class="id"><a name="MATCHENV.bc" class="">bc:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#block_classification">block_classification</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ematch" class="id"><a name="ematch" class="">ematch</a></span> (<span id="e:1969" class="id"><a name="e:1969" class="">e:</a></span> <span class="id"><a href="compcert.backend.RTL.html#regset">regset</a></span>) (<span id="ae:1970" class="id"><a name="ae:1970" class="">ae:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aenv">aenv</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="r:1971" class="id"><a name="r:1971" class="">r,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCHENV.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1969">e#r</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#get">AE.get</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#r:1971">r</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1970">ae</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ematch_ge" class="id"><a name="ematch_ge" class="">ematch_ge:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:1972" class="id"><a name="e:1972" class="">e</a></span> <span id="ae1:1973" class="id"><a name="ae1:1973" class="">ae1</a></span> <span id="ae2:1974" class="id"><a name="ae2:1974" class="">ae2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1972">e</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae1:1973">ae1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge">AE.ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae2:1974">ae2</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae1:1973">ae1</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1972">e</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae2:1974">ae2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Proof.</span></div>
<div class="proofscript" id="proof249">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_ge">vmatch_ge</a></span> <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#get">AE.get</a></span> <span class="id">r</span> <span class="id">ae1</span>)<span class="id">;</span> <span class="id">auto</span>. <span class="id">apply</span> <span class="id">H0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ematch_update" class="id"><a name="ematch_update" class="">ematch_update:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:1975" class="id"><a name="e:1975" class="">e</a></span> <span id="ae:1976" class="id"><a name="ae:1976" class="">ae</a></span> <span id="v:1977" class="id"><a name="v:1977" class="">v</a></span> <span id="av:1978" class="id"><a name="av:1978" class="">av</a></span> <span id="r:1979" class="id"><a name="r:1979" class="">r,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1975">e</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1976">ae</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCHENV.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1977">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1978">av</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#e:1975">e#r</a></span> <span class="id"><a href="compcert.backend.Registers.html#1020a0c241f830eaabc0b762d4a94472">&lt;-</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1977">v</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#set">AE.set</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#r:1979">r</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#av:1978">av</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1976">ae</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Proof.</span></div>
<div class="proofscript" id="proof250">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#gsspec">AE.gsspec</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gsspec">PMap.gsspec</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">r0</span> <span class="id">r</span>)<span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>). <span class="id">subst</span> <span class="id">ae</span>. <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq">AVal.eq</a></span><span class="id">;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">subst</span> <span class="id">av</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="einit_regs" class="id"><a name="einit_regs" class="">einit_regs</a></span> (<span id="rl:1980" class="id"><a name="rl:1980" class="">rl:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.Registers.html#reg">reg</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aenv">aenv</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rl:1980">rl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">r1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">rs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#set">AE.set</a></span> <span class="id">r1</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#einit_regs:1981">einit_regs</a></span> <span class="id">rs</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#top">AE.top</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ematch_init" class="id"><a name="ematch_init" class="">ematch_init:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rl:1983" class="id"><a name="rl:1983" class="">rl</a></span> <span id="vl:1984" class="id"><a name="vl:1984" class="">vl,</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="v:1985" class="id"><a name="v:1985" class="">v,</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1985">v</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vl:1984">vl</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCHENV.bc">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#v:1985">v</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#Ifptr">Ifptr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#Nonstack">Nonstack</a></span>)) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#vl:1984">vl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rl:1983">rl</a></span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#einit_regs">einit_regs</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rl:1983">rl</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Proof.</span></div>
<div class="proofscript" id="proof251">
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">rl;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
<span class="id">-</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gi">Regmap.gi</a></span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">vl</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">v1</span> <span class="id">vs</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">assert</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">rl</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#einit_regs">einit_regs</a></span> <span class="id">rl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id">IHrl</span>. <span class="id">simpl;</span> <span class="id">tauto</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">rl</span>) <span class="gallina-kwd">with</span> (<span class="id"><a href="compcert.backend.Registers.html#Regmap.init">Regmap.init</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>) <span class="gallina-kwd">in</span> <span class="id">H0</span> <span class="gallina-kwd">by</span> (<span class="id">destruct</span> <span class="id">rl;</span> <span class="id">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#gsspec">AE.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">r</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gi">Regmap.gi</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">EQ;</span> <span class="id">rewrite</span> <span class="id">EQ</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">specialize</span> (<span class="id">H0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>). <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq">AVal.eq</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bot">AVal.bot</a></span>. <span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">assert</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id">vs</span> <span class="id">rl</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#einit_regs">einit_regs</a></span> <span class="id">rl</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span> <span class="id">apply</span> <span class="id">IHrl</span>. <span class="id">eauto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#gsspec">AE.gsspec</a></span>. <span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">r</span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span> <span class="gallina-kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red;</span> <span class="id">intros</span> <span class="id">EQ;</span> <span class="id">rewrite</span> <span class="id">EQ</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">specialize</span> (<span class="id">H0</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>). <span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq">AVal.eq</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#bot">AVal.bot</a></span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="eforget" class="id"><a name="eforget" class="">eforget</a></span> (<span id="rl:1986" class="id"><a name="rl:1986" class="">rl:</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.Registers.html#reg">reg</a></span>) (<span id="ae:1987" class="id"><a name="ae:1987" class="">ae:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aenv">aenv</a></span>) <span class="id">{struct</span> <span class="id">rl}</span> <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#aenv">aenv</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#rl:1986">rl</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1987">ae</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">r1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#::list_scope:x_'::'_x">::</a></span> <span class="id">rs</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eforget:1988">eforget</a></span> <span class="id">rs</span> (<span class="id"><a href="compcert.backend.ValueDomain.html#set">AE.set</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1987">ae</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eforget_ge" class="id"><a name="eforget_ge" class="">eforget_ge:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="rl:1990" class="id"><a name="rl:1990" class="">rl</a></span> <span id="ae:1991" class="id"><a name="ae:1991" class="">ae,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge">AE.ge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#eforget">eforget</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rl:1990">rl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1991">ae</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1991">ae</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Proof.</span></div>
<div class="proofscript" id="proof252">
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge">AE.ge</a></span><span class="id">;</span> <span class="id">intros</span>. <span class="id">revert</span> <span class="id">rl</span> <span class="id">ae;</span> <span class="id">induction</span> <span class="id">rl;</span> <span class="id">intros;</span> <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge_refl">AVal.ge_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq_refl">AVal.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">ae</span>. <span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#get">AE.get</a></span> <span class="gallina-kwd">at</span> <span class="id">2</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge_bot">AVal.ge_bot</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge_trans">AVal.ge_trans</a></span>. <span class="id">apply</span> <span class="id">IHrl</span>. <span class="id">rewrite</span> <span class="id"><a href="compcert.backend.ValueDomain.html#gsspec">AE.gsspec</a></span>.<br/>
&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">p</span> <span class="id">a</span>). <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge_top">AVal.ge_top</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ge_refl">AVal.ge_refl</a></span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq_refl">AVal.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">unfold</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eq">AVal.eq</a></span><span class="id">,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#Vtop">Vtop,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bot">AVal.bot</a></span>. <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="ematch_forget" class="id"><a name="ematch_forget" class="">ematch_forget:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="e:1992" class="id"><a name="e:1992" class="">e</a></span> <span id="rl:1993" class="id"><a name="rl:1993" class="">rl</a></span> <span id="ae:1994" class="id"><a name="ae:1994" class="">ae,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1992">e</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1994">ae</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1992">e</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#eforget">eforget</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#rl:1993">rl</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1994">ae</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Proof.</span></div>
<div class="proofscript" id="proof253">
&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#ematch_ge">ematch_ge;</a></span> <span class="id">eauto</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#eforget_ge">eforget_ge</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.ValueDomain.html#MATCHENV">MATCHENV</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ematch_incr" class="id"><a name="ematch_incr" class="">ematch_incr:</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="bc:1995" class="id"><a name="bc:1995" class="">bc</a></span> <span id="bc':1996" class="id"><a name="bc':1996" class="">bc'</a></span> <span id="e:1997" class="id"><a name="e:1997" class="">e</a></span> <span id="ae:1998" class="id"><a name="ae:1998" class="">ae,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1995">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1997">e</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1998">ae</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc_incr">bc_incr</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:1995">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc':1996">bc'</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ematch">ematch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc':1996">bc'</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#e:1997">e</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#ae:1998">ae</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Proof.</span></div>
<div class="proofscript" id="proof254">
&nbsp;&nbsp;<span class="id">intros;</span> <span class="id">red;</span> <span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch_incr">vmatch_incr</a></span> <span class="gallina-kwd">with</span> <span class="id">bc;</span> <span class="id">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Lattice for dataflow analysis </h1>
<br/>
<span class="vernacular">Module</span> <span id="VA" class="id"><a name="VA" class="">VA</a></span> <span class="id">&lt;:</span> <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE">SEMILATTICE</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Inductive</span> <span id="VA.t'" class="id"><a name="VA.t'" class="">t'</a></span> <span class="id">:=</span> <span id="VA.Bot" class="id"><a name="VA.Bot" class="">Bot</a></span> <span class="id">|</span> <span id="VA.State" class="id"><a name="VA.State" class="">State</a></span> (<span id="ae:2001" class="id"><a name="ae:2001" class="">ae:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#aenv">aenv</a></span>) (<span id="am:2002" class="id"><a name="am:2002" class="">am:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#amem">amem</a></span>).<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="VA.t" class="id"><a name="VA.t" class="">t</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.t'">t'</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="VA.eq" class="id"><a name="VA.eq" class="">eq</a></span> (<span id="x:2003" class="id"><a name="x:2003" class="">x</a></span> <span id="y:2004" class="id"><a name="y:2004" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.t">t</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2003">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2004">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae1</span> <span class="id">am1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae2</span> <span class="id">am2</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.ValueDomain.html#AE.eq">AE.eq</a></span> <span class="id">ae1</span> <span class="id">ae2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="gallina-kwd">forall</span> <span id="bc:2007" class="id"><a name="bc:2007" class="">bc</a></span> <span id="m:2008" class="id"><a name="m:2008" class="">m,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:2007">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:2008">m</a></span> <span class="id">am1</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:2007">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:2008">m</a></span> <span class="id">am2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.eq_refl" class="id"><a name="VA.eq_refl" class="">eq_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2009" class="id"><a name="x:2009" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2009">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2009">x</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof255')">Proof.</span></div>
<div class="proofscript" id="proof255">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl</span>. <span class="id">auto</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.eq_refl">AE.eq_refl</a></span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.eq_sym" class="id"><a name="VA.eq_sym" class="">eq_sym:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2010" class="id"><a name="x:2010" class="">x</a></span> <span id="y:2011" class="id"><a name="y:2011" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2010">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2011">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2011">y</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2010">x</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof256')">Proof.</span></div>
<div class="proofscript" id="proof256">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">simpl;</span> <span class="id">auto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.eq_sym">AE.eq_sym</a></span><span class="id">;</span> <span class="id">auto</span>. <span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">B</span>. <span class="id">tauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.eq_trans" class="id"><a name="VA.eq_trans" class="">eq_trans:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2012" class="id"><a name="x:2012" class="">x</a></span> <span id="y:2013" class="id"><a name="y:2013" class="">y</a></span> <span id="z:2014" class="id"><a name="z:2014" class="">z,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2012">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2013">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2013">y</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:2014">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2012">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:2014">z</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof257')">Proof.</span></div>
<div class="proofscript" id="proof257">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y,</span> <span class="id">z;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">tauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span> <span class="id">[C</span> <span class="id">D];</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.eq_trans">AE.eq_trans</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="VA.beq" class="id"><a name="VA.beq" class="">beq</a></span> (<span id="x:2015" class="id"><a name="x:2015" class="">x</a></span> <span id="y:2016" class="id"><a name="y:2016" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.t">t</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2015">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2016">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae1</span> <span class="id">am1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae2</span> <span class="id">am2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.beq">AE.beq</a></span> <span class="id">ae1</span> <span class="id">ae2</span> &amp;&amp; <span class="id"><a href="compcert.backend.ValueDomain.html#mbeq">mbeq</a></span> <span class="id">am1</span> <span class="id">am2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.beq_correct" class="id"><a name="VA.beq_correct" class="">beq_correct:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2019" class="id"><a name="x:2019" class="">x</a></span> <span id="y:2020" class="id"><a name="y:2020" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.beq">beq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2019">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2020">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2019">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2020">y</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">simpl;</span> <span class="id">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">InvBooleans;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.beq_correct">AE.beq_correct</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mbeq_sound">mbeq_sound;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="VA.ge" class="id"><a name="VA.ge" class="">ge</a></span> (<span id="x:2021" class="id"><a name="x:2021" class="">x</a></span> <span id="y:2022" class="id"><a name="y:2022" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.t">t</a></span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2021">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2022">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae1</span> <span class="id">am1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae2</span> <span class="id">am2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.ge">AE.ge</a></span> <span class="id">ae1</span> <span class="id">ae2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="gallina-kwd">forall</span> <span id="bc:2025" class="id"><a name="bc:2025" class="">bc</a></span> <span id="m:2026" class="id"><a name="m:2026" class="">m,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:2025">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:2026">m</a></span> <span class="id">am2</span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch">mmatch</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#bc:2025">bc</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#m:2026">m</a></span> <span class="id">am1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.ge_refl" class="id"><a name="VA.ge_refl" class="">ge_refl:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2027" class="id"><a name="x:2027" class="">x</a></span> <span id="y:2028" class="id"><a name="y:2028" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq">eq</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2027">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2028">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2027">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2028">y</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">tauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B];</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.ge_refl">AE.ge_refl</a></span><span class="id">;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">rewrite</span> <span class="id">B;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.ge_trans" class="id"><a name="VA.ge_trans" class="">ge_trans:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2029" class="id"><a name="x:2029" class="">x</a></span> <span id="y:2030" class="id"><a name="y:2030" class="">y</a></span> <span id="z:2031" class="id"><a name="z:2031" class="">z,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2029">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2030">y</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2030">y</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:2031">z</a></span> <span class="id"><a href="https://coq.inria.fr/library/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2029">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#z:2031">z</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y,</span> <span class="id">z;</span> <span class="id">simpl;</span> <span class="id">try</span> <span class="id">tauto</span>. <span class="id">intros</span> <span class="id">[A</span> <span class="id">B]</span> <span class="id">[C</span> <span class="id">D];</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.ge_trans">AE.ge_trans</a></span><span class="id">;</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="VA.bot" class="id"><a name="VA.bot" class="">bot</a></span> <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.t">t</a></span> <span class="id">:=</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.ge_bot" class="id"><a name="VA.ge_bot" class="">ge_bot:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2032" class="id"><a name="x:2032" class="">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge">ge</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2032">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.bot">bot</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x;</span> <span class="id">simpl;</span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span> <span id="VA.lub" class="id"><a name="VA.lub" class="">lub</a></span> (<span id="x:2033" class="id"><a name="x:2033" class="">x</a></span> <span id="y:2034" class="id"><a name="y:2034" class="">y:</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.t">t</a></span>) <span class="id">:</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.t">t</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2033">x,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2034">y</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot,</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2034">y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">_,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.Bot">Bot</a></span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2033">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae1</span> <span class="id">am1,</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> <span class="id">ae2</span> <span class="id">am2</span> <span class="id">=&gt;</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.State">State</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#AE.lub">AE.lub</a></span> <span class="id">ae1</span> <span class="id">ae2</span>) (<span class="id"><a href="compcert.backend.ValueDomain.html#mlub">mlub</a></span> <span class="id">am1</span> <span class="id">am2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.ge_lub_left" class="id"><a name="VA.ge_lub_left" class="">ge_lub_left:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2037" class="id"><a name="x:2037" class="">x</a></span> <span id="y:2038" class="id"><a name="y:2038" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge">ge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#VA.lub">lub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2037">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2038">y</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#x:2037">x</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge_refl">ge_refl;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq_refl">eq_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge_refl">ge_refl;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq_refl">eq_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.ge_lub_left">AE.ge_lub_left</a></span>. <span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_lub_l">mmatch_lub_l;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="vernacular">Lemma</span> <span id="VA.ge_lub_right" class="id"><a name="VA.ge_lub_right" class="">ge_lub_right:</a></span> <span class="gallina-kwd">forall</span> <span id="x:2039" class="id"><a name="x:2039" class="">x</a></span> <span id="y:2040" class="id"><a name="y:2040" class="">y,</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge">ge</a></span> (<span class="id"><a href="compcert.backend.ValueDomain.html#VA.lub">lub</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#x:2039">x</a></span> <span class="id"><a href="compcert.backend.ValueDomain.html#y:2040">y</a></span>) <span class="id"><a href="compcert.backend.ValueDomain.html#y:2040">y</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">x,</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge_refl">ge_refl;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq_refl">eq_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.ge_refl">ge_refl;</a></span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA.eq_refl">eq_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span>. <span class="id">split</span>. <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#AE.ge_lub_right">AE.ge_lub_right</a></span>. <span class="id">intros;</span> <span class="id">apply</span> <span class="id"><a href="compcert.backend.ValueDomain.html#mmatch_lub_r">mmatch_lub_r;</a></span> <span class="id">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="compcert.backend.ValueDomain.html#VA">VA</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.backend.ValueDomain.html#cmatch">cmatch</a></span> <span class="id">:</span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.backend.ValueDomain.html#pmatch">pmatch:</a></span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.backend.ValueDomain.html#vmatch">vmatch:</a></span> <span class="id">va</span>.<br/>
<span class="id">Global</span> <span class="vernacular">Hint</span> <span class="id">Resolve</span> <span class="id">cnot_sound</span> <span class="id">symbol_address_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">shl_sound</span> <span class="id">shru_sound</span> <span class="id">shr_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">and_sound</span> <span class="id">or_sound</span> <span class="id">xor_sound</span> <span class="id">notint_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ror_sound</span> <span class="id">rolm_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">neg_sound</span> <span class="id">add_sound</span> <span class="id">sub_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mul_sound</span> <span class="id">mulhs_sound</span> <span class="id">mulhu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">divs_sound</span> <span class="id">divu_sound</span> <span class="id">mods_sound</span> <span class="id">modu_sound</span> <span class="id">shrx_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">shll_sound</span> <span class="id">shrl_sound</span> <span class="id">shrlu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">andl_sound</span> <span class="id">orl_sound</span> <span class="id">xorl_sound</span> <span class="id">notl_sound</span> <span class="id">roll_sound</span> <span class="id">rorl_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">negl_sound</span> <span class="id">addl_sound</span> <span class="id">subl_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mull_sound</span> <span class="id">mullhs_sound</span> <span class="id">mullhu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">divls_sound</span> <span class="id">divlu_sound</span> <span class="id">modls_sound</span> <span class="id">modlu_sound</span> <span class="id">shrxl_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">offset_ptr_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">negf_sound</span> <span class="id">absf_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">addf_sound</span> <span class="id">subf_sound</span> <span class="id">mulf_sound</span> <span class="id">divf_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">negfs_sound</span> <span class="id">absfs_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">addfs_sound</span> <span class="id">subfs_sound</span> <span class="id">mulfs_sound</span> <span class="id">divfs_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">zero_ext_sound</span> <span class="id">sign_ext_sound</span> <span class="id">longofint_sound</span> <span class="id">longofintu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">zero_ext_l_sound</span> <span class="id">sign_ext_l_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">singleoffloat_sound</span> <span class="id">floatofsingle_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intoffloat_sound</span> <span class="id">intuoffloat_sound</span> <span class="id">floatofint_sound</span> <span class="id">floatofintu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intofsingle_sound</span> <span class="id">intuofsingle_sound</span> <span class="id">singleofint_sound</span> <span class="id">singleofintu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">longoffloat_sound</span> <span class="id">longuoffloat_sound</span> <span class="id">floatoflong_sound</span> <span class="id">floatoflongu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">longofsingle_sound</span> <span class="id">longuofsingle_sound</span> <span class="id">singleoflong_sound</span> <span class="id">singleoflongu_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">longofwords_sound</span> <span class="id">loword_sound</span> <span class="id">hiword_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cmpu_bool_sound</span> <span class="id">cmp_bool_sound</span> <span class="id">cmplu_bool_sound</span> <span class="id">cmpl_bool_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cmpf_bool_sound</span> <span class="id">cmpfs_bool_sound</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">maskzero_sound</span> <span class="id">:</span> <span class="id">va</span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
